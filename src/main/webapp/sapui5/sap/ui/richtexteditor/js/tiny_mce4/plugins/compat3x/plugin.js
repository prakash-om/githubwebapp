(function(t){var r;function n(){}function l(a){if(!r&&window&&window.console){r=true;console.log("Deprecated TinyMCE API call: "+a);}}function D(a,b,c,d){a=a||this;if(!b){this.add=this.addToTop=this.remove=this.dispatch=n;return;}this.add=function(f,s,g){l('<target>.on'+b+".add(..)");function h(e){var j=[];if(typeof c=="string"){c=c.split(" ");}if(c&&typeof c!="function"){for(var i=0;i<c.length;i++){j.push(e[c[i]]);}}if(typeof c=="function"){j=c(b,e,a);if(!j){return;}}if(!c){j=[e];}j.unshift(d||a);if(f.apply(s||d||a,j)===false){e.stopImmediatePropagation();}}a.on(b,h,g);return h;};this.addToTop=function(e,s){this.add(e,s,true);};this.remove=function(e){return a.off(b,e);};this.dispatch=function(){a.fire(b);return true;};}t.util.Dispatcher=D;t.onBeforeUnload=new D(t,"BeforeUnload");t.onAddEditor=new D(t,"AddEditor","editor");t.onRemoveEditor=new D(t,"RemoveEditor","editor");t.util.Cookie={get:n,getHash:n,remove:n,set:n,setHash:n};function p(f){function g(a,b){t.each(a.split(" "),function(c){f["on"+c]=new D(f,c,b);});}function h(a,e,b){return[e.level,b];}function i(a){return function(b,e){if((!e.selection&&!a)||e.selection==a){return[e];}};}if(f.controlManager){return;}function j(){var a={},m='add addMenu addSeparator collapse createMenu destroy displayColor expand focus '+'getLength hasMenus hideMenu isActive isCollapsed isDisabled isRendered isSelected mark '+'postRender remove removeAll renderHTML renderMenu renderNode renderTo select selectByIndex '+'setActive setAriaProperty setColor setDisabled setSelected setState showMenu update';l('editor.controlManager.*');function _(){return j();}t.each(m.split(' '),function(b){a[b]=_;});return a;}f.controlManager={buttons:{},setDisabled:function(a,s){l("controlManager.setDisabled(..)");if(this.buttons[a]){this.buttons[a].disabled(s);}},setActive:function(a,s){l("controlManager.setActive(..)");if(this.buttons[a]){this.buttons[a].active(s);}},onAdd:new D(),onPostRender:new D(),add:function(a){return a;},createButton:j,createColorSplitButton:j,createControl:j,createDropMenu:j,createListBox:j,createMenuButton:j,createSeparator:j,createSplitButton:j,createToolbar:j,createToolbarGroup:j,destroy:n,get:n,setControlType:j};g("PreInit BeforeRenderUI PostRender Load Init Remove Activate Deactivate","editor");g("Click MouseUp MouseDown DblClick KeyDown KeyUp KeyPress ContextMenu Paste Submit Reset");g("BeforeExecCommand ExecCommand","command ui value args");g("PreProcess PostProcess LoadContent SaveContent Change");g("BeforeSetContent BeforeGetContent SetContent GetContent",i(false));g("SetProgressState","state time");g("VisualAid","element hasVisual");g("Undo Redo",h);g("NodeChange",function(a,e){return[f.controlManager,e.element,f.selection.isCollapsed(),e];});var o=f.addButton;f.addButton=function(a,s){var b;function c(){f.controlManager.buttons[a]=this;if(b){return b.call(this);}}for(var k in s){if(k.toLowerCase()==="onpostrender"){b=s[k];s.onPostRender=c;}}if(!b){s.onPostRender=c;}if(s.title){s.title=t.i18n.translate((f.settings.language||"en")+"."+s.title);}return o.call(this,a,s);};f.on('init',function(){var u=f.undoManager,s=f.selection;u.onUndo=new D(f,"Undo",h,null,u);u.onRedo=new D(f,"Redo",h,null,u);u.onBeforeAdd=new D(f,"BeforeAddUndo",null,u);u.onAdd=new D(f,"AddUndo",null,u);s.onBeforeGetContent=new D(f,"BeforeGetContent",i(true),s);s.onGetContent=new D(f,"GetContent",i(true),s);s.onBeforeSetContent=new D(f,"BeforeSetContent",i(true),s);s.onSetContent=new D(f,"SetContent",i(true),s);});f.on('BeforeRenderUI',function(){var w=f.windowManager;w.onOpen=new D();w.onClose=new D();w.createInstance=function(k,a,b,c,d,e){l("windowManager.createInstance(..)");var m=t.resolve(k);return new m(a,b,c,d,e);};});}t.on('SetupEditor',p);t.PluginManager.add("compat3x",p);t.addI18n=function(a,o){var I=t.util.I18n,e=t.each;if(typeof a=="string"&&a.indexOf('.')===-1){I.add(a,o);return;}if(!t.is(a,'string')){e(a,function(o,b){e(o,function(o,g){e(o,function(o,k){if(g==='common'){I.data[b+'.'+k]=o;}else{I.data[b+'.'+g+'.'+k]=o;}});});});}else{e(o,function(o,k){I.data[a+'.'+k]=o;});}};})(tinymce);
