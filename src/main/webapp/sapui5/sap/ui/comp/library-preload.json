{
"version":"2.0",
"name":"sap.ui.comp.library-preload",
"dependencies":["sap.ui.core.library-preload","sap.m.library-preload","sap.ui.table.library-preload","sap.ui.fl.library-preload"],
"modules":{
	"sap/ui/comp/config/condition/DateRangeType.js":"/*\n * ! SAP UI development toolkit for HTML5 (SAPUI5)\n\n(c) Copyright 2009-2016 SAP SE. All rights reserved\n */\nsap.ui.define(['jquery.sap.global','sap/ui/comp/config/condition/Type','sap/m/Input','sap/m/DateRangeSelection','sap/m/DatePicker','sap/m/Text','sap/m/Select','sap/ui/core/date/UniversalDate','sap/ui/core/Locale','sap/ui/core/LocaleData','sap/ui/model/odata/Filter'],function(q,T,I,D,a,b,S,U,L,c,F){'use strict';sap.ui.model.type.Integer.extend('sap.ui.model.type.NullableInteger',{parseValue:function(v,i){switch(this.getPrimitiveType(i)){case'string':if(v===''){return null;}}return sap.ui.model.type.Integer.prototype.parseValue.apply(this,arguments);}});var d=T.extend('sap.ui.comp.config.condition.DateRangeType',{constructor:function(f,o,e){T.apply(this,[f,o,e]);this.oDateFormat=o&&o._oDateFormatSettings?o._oDateFormatSettings:{UTC:true};this._bIgnoreTime=false;this.bMandatory=this.oFieldMetadata?this.oFieldMetadata.isMandatory:false;}});d.prototype.applySettings=function(s){T.prototype.applySettings.apply(this,arguments);if(s&&s.ignoreTime){this._bIgnoreTime=s.ignoreTime;}};d.setStartTime=function(o){if(o instanceof Date){o=new U(o);}if(!o){o=new U();}o.setHours(0);o.setMinutes(0);o.setSeconds(0);o.setMilliseconds(0);return o;};d.setEndTime=function(o){o=d.toUniversalDate(o);o.setHours(23);o.setMinutes(59);o.setSeconds(59);o.setMilliseconds(999);return o;};d.toUniversalDate=function(o){if(o instanceof Date){o=new U(o);}if(!o){o=new U();}return o;};d.getWeekStartDate=function(u){var l=new L(sap.ui.getCore().getConfiguration().getFormatSettings().getFormatLocale().toString()),o=c.getInstance(l),f=o.getFirstDayOfWeek();if(!u){u=new U();}u.setDate(u.getDate()-u.getDay()+f);return d.setStartTime(u);};d.getMonthStartDate=function(u){if(!u){u=new U();}u.setDate(1);return d.setStartTime(u);};d.getQuarterStartDate=function(u){if(!u){u=new U();}u.setMonth(3*Math.floor(u.getMonth()/3));u.setDate(1);return d.setStartTime(u);};d.getYearStartDate=function(u){if(!u){u=new U();}u.setMonth(0);u.setDate(1);return d.setStartTime(u);};d.getDateRange=function(v,t,u,C,i){if(u===true){C=true;u=null;}if(!u){u=new U();}else if(!(u instanceof U)){throw new Error('Date must be a UniversalDate object '+this);}var s=new U(),e;if(u){s.getJSDate().setTime(u.getTime());s=d.setStartTime(s);}if(v!==0&&!isNaN(v)){if(t==='DAY'){if(i&&v>0){s.setDate(s.getDate()+1);}e=new U(s);e.setDate(s.getDate()+v);}else if(t==='WEEK'){if(C){s=d.getWeekStartDate(s);}if(i&&v>0){s.setDate(s.getDate()+7);}e=new U(s);e.setDate(s.getDate()+(v*7));}else if(t==='MONTH'){if(C){s=d.getMonthStartDate(s);}if(i&&v>0){s.setMonth(s.getMonth()+1);}e=new U(s);e.setMonth(s.getMonth()+v);}else if(t==='QUARTER'){if(C){s=d.getQuarterStartDate(s);}if(i&&v>0){s.setMonth(s.getMonth()+3);}e=new U(s);e.setMonth(s.getMonth()+(v*3));}else if(t==='YEAR'){if(C){s=d.getYearStartDate(s);}if(i&&v>0){s.setFullYear(s.getFullYear()+1);}e=new U(s);e.setFullYear(s.getFullYear()+v);}}if(!e){return[];}if(e.getTime()<s.getTime()){e=[s,s=e][0];}e.setDate(e.getDate()-1);return[d.setStartTime(s),d.setEndTime(e)];};d.getTextField=function(i,e){if(e){return new b(T._createStableId(i,'text'),{text:\"{path: '$smartEntityFilter>value1', type:'sap.ui.model.type.Date', formatOptions:\"+JSON.stringify({style:i.oDateFormat.style,pattern:i.oDateFormat.pattern})+\"} - {path: '$smartEntityFilter>value2', type:'sap.ui.model.type.Date', formatOptions:\"+JSON.stringify({style:i.oDateFormat.style,pattern:i.oDateFormat.pattern})+'}'});}return new b(T._createStableId(i,'text'),{text:{path:'$smartEntityFilter>value1',type:'sap.ui.model.type.Date',formatOptions:{style:i.oDateFormat.style,pattern:i.oDateFormat.pattern}}});};d.getIntField=function(i){return new I(T._createStableId(i,'field'),{width:'7rem',ariaLabelledBy:i.oOperationSelect||null,value:{path:'$smartEntityFilter>value1',type:'sap.ui.model.type.NullableInteger'},textAlign:'End',type:'Number',valueState:{path:'$smartEntityFilter>/inputstate',formatter:function(){if(this.getBinding('valueState').getValue()==='ERROR'){return sap.ui.core.ValueState.Error;}else{return sap.ui.core.ValueState.None;}}}});};d.getDescriptionText=function(t,s,r,i){return new b(T._createStableId(i,'descripttext'),{wrapping:false,text:{path:'$smartEntityFilter>value1',type:'sap.ui.model.type.Integer',formatter:function(){if(this.getBinding('text').getValue()===1){return T.getTranslatedText(t,r);}else{return T.getTranslatedText(s||t,r);}}}});};d.ControlFactory=function(i,r,o){if(o.type==='range'){var C=d.getTextField(i,o.display!=='start');C.addStyleClass('sapUiCompFilterBarCTPaddingLeft');r.push(C);return;}if(o.type==='int'){var C=d.getIntField(i);C.addStyleClass('sapUiCompFilterBarCTPaddingLeft');r.push(C);C.setWidth(i.sWidth);if(o.descriptionTextKeys){C.setWidth('100%');var t=d.getDescriptionText(o.descriptionTextKeys[0],o.descriptionTextKeys[1],null,i);t.addStyleClass('sapUiCompFilterBarCTPaddingLeft');r.push(t);t.setWidth('auto');C.addAriaLabelledBy(t);}}};d.getFixedRangeOperation=function(k,t,C,e){return{key:k,textKey:t,category:C,defaultValues:e||null,type:'range',display:'range',getControls:d.ControlFactory};};d.Operations={DATERANGE:{key:'DATERANGE',textKey:'CONDITION_DATERANGETYPE_DATERANGE',category:'DYNAMIC.DATERANGE',defaultOperation:true,defaultValues:[null,null],value1:null,value2:null,getControls:function(i,r){var C=new D(T._createStableId(i,'field'),{ariaLabelledBy:i.oOperationSelect||null,dateValue:{path:'$smartEntityFilter>value1'},secondDateValue:{path:'$smartEntityFilter>value2'},displayFormat:i.oDateFormat.style||i.oDateFormat.pattern||'',valueState:{path:'$smartEntityFilter>/inputstate',formatter:function(){if(this.getBinding('valueState').getValue()==='ERROR'){return sap.ui.core.ValueState.Error;}else{return sap.ui.core.ValueState.None;}}},change:function(e){var v=e.getParameter('valid');if(v){this.fireValidationSuccess({element:this},false,true);}else{this.fireValidationError({element:this},false,true);}}});C.addStyleClass('sapUiCompFilterBarCTPaddingLeft');r.push(C);}},FROM:{key:'FROM',textKey:'CONDITION_DATERANGETYPE_FROM',category:'DYNAMIC.DATE',defaultValues:[null],value1:null,getControls:function(i,r){var C=new a(T._createStableId(i,'field'),{ariaLabelledBy:i.oOperationSelect||null,dateValue:{path:'$smartEntityFilter>value1'},displayFormat:i.oDateFormat.style||i.oDateFormat.pattern||'',valueState:{path:'$smartEntityFilter>/inputstate',formatter:function(){if(this.getBinding('valueState').getValue()==='ERROR'){return sap.ui.core.ValueState.Error;}else{return sap.ui.core.ValueState.None;}}}});C.addStyleClass('sapUiCompFilterBarCTPaddingLeft');r.push(C);}},TO:{key:'TO',textKey:'CONDITION_DATERANGETYPE_TO',category:'DYNAMIC.DATE',defaultValues:[null],value1:null,getControls:function(i,r,o){var C=new a(T._createStableId(i,'field'),{ariaLabelledBy:i.oOperationSelect||null,dateValue:{path:'$smartEntityFilter>value1'},displayFormat:i.oDateFormat.style||i.oDateFormat.pattern||'',valueState:{path:'$smartEntityFilter>/inputstate',formatter:function(){if(this.getBinding('valueState').getValue()==='ERROR'){return sap.ui.core.ValueState.Error;}else{return sap.ui.core.ValueState.None;}}}});C.addStyleClass('sapUiCompFilterBarCTPaddingLeft');r.push(C);}},LASTDAYS:{key:'LASTDAYS',textKey:'CONDITION_DATERANGETYPE_LASTDAYS',category:'DYNAMIC.DATE.INT',defaultValues:[1],value1:null,type:'int',descriptionTextKeys:['CONDITION_DATERANGETYPE_SINGLE_DAY','CONDITION_DATERANGETYPE_MULTIPLE_DAYS'],getControls:d.ControlFactory},LASTWEEKS:{key:'LASTWEEKS',textKey:'CONDITION_DATERANGETYPE_LASTWEEKS',category:'DYNAMIC.WEEK.INT',defaultValues:[1],value1:null,type:'int',descriptionTextKeys:['CONDITION_DATERANGETYPE_SINGLE_WEEK','CONDITION_DATERANGETYPE_MULTIPLE_WEEKS'],getControls:d.ControlFactory},LASTMONTHS:{key:'LASTMONTHS',textKey:'CONDITION_DATERANGETYPE_LASTMONTHS',category:'DYNAMIC.MONTH.INT',defaultValues:[1],value1:null,type:'int',descriptionTextKeys:['CONDITION_DATERANGETYPE_SINGLE_MONTH','CONDITION_DATERANGETYPE_MULTIPLE_MONTHS'],getControls:d.ControlFactory},LASTQUARTERS:{key:'LASTQUARTERS',textKey:'CONDITION_DATERANGETYPE_LASTQUARTERS',category:'DYNAMIC.QUARTER.INT',defaultValues:[1],value1:null,type:'int',descriptionTextKeys:['CONDITION_DATERANGETYPE_SINGLE_QUARTER','CONDITION_DATERANGETYPE_MULTIPLE_QUARTERS'],getControls:d.ControlFactory},LASTYEARS:{key:'LASTYEARS',textKey:'CONDITION_DATERANGETYPE_LASTYEARS',category:'DYNAMIC.YEAR.INT',defaultValues:[1],value1:null,type:'int',descriptionTextKeys:['CONDITION_DATERANGETYPE_SINGLE_YEAR','CONDITION_DATERANGETYPE_MULTIPLE_YEARS'],getControls:d.ControlFactory},NEXTDAYS:{key:'NEXTDAYS',textKey:'CONDITION_DATERANGETYPE_NEXTDAYS',category:'DYNAMIC.DATE.INT',defaultValues:[1],value1:null,type:'int',descriptionTextKeys:['CONDITION_DATERANGETYPE_SINGLE_DAY','CONDITION_DATERANGETYPE_MULTIPLE_DAYS'],getControls:d.ControlFactory},NEXTWEEKS:{key:'NEXTWEEKS',textKey:'CONDITION_DATERANGETYPE_NEXTWEEKS',category:'DYNAMIC.WEEK.INT',defaultValues:[1],value1:null,type:'int',descriptionTextKeys:['CONDITION_DATERANGETYPE_SINGLE_WEEK','CONDITION_DATERANGETYPE_MULTIPLE_WEEKS'],getControls:d.ControlFactory},NEXTMONTHS:{key:'NEXTMONTHS',textKey:'CONDITION_DATERANGETYPE_NEXTMONTHS',category:'DYNAMIC.MONTH.INT',defaultValues:[1],value1:null,type:'int',descriptionTextKeys:['CONDITION_DATERANGETYPE_SINGLE_MONTH','CONDITION_DATERANGETYPE_MULTIPLE_MONTHS'],getControls:d.ControlFactory},NEXTQUARTERS:{key:'NEXTQUARTERS',textKey:'CONDITION_DATERANGETYPE_NEXTQUARTERS',category:'DYNAMIC.QUARTER.INT',defaultValues:[1],value1:null,type:'int',descriptionTextKeys:['CONDITION_DATERANGETYPE_SINGLE_QUARTER','CONDITION_DATERANGETYPE_MULTIPLE_QUARTERS'],getControls:d.ControlFactory},NEXTYEARS:{key:'NEXTYEARS',textKey:'CONDITION_DATERANGETYPE_NEXTYEARS',category:'DYNAMIC.YEAR.INT',defaultValues:[1],value1:null,type:'int',descriptionTextKeys:['CONDITION_DATERANGETYPE_SINGLE_YEAR','CONDITION_DATERANGETYPE_MULTIPLE_YEARS'],getControls:d.ControlFactory},SPECIFICMONTH:{key:'SPECIFICMONTH',textKey:'CONDITION_DATERANGETYPE_SPECIFICMONTH',category:'DYNAMIC.MONTH',defaultValues:function(){var o=new U();return[o.getMonth()];},value1:null,getControls:function(i,r,o){var s=new S(T._createStableId(i,'field'),{ariaLabelledBy:i.oOperationSelect||null,width:'12rem',selectedKey:{path:'$smartEntityFilter>value1',type:'sap.ui.model.type.Integer'}});s.bindAggregation('items',{path:'$smartEntityFilter>/currentoperation/valueList',template:new sap.ui.core.ListItem({text:{path:'$smartEntityFilter>text'},key:{path:'$smartEntityFilter>key'}})});s.addStyleClass('sapUiCompFilterBarCTMarginLeft');r.push(s);},getValueList:function(){var o=new U(),m=[],f=sap.ui.core.format.DateFormat.getDateInstance({pattern:'MMMM'});o.setDate(15);o.setMonth(0);for(var i=0;i<12;i++){m.push({text:f.format(o),key:i});o.setMonth(o.getMonth()+1);}return m;}},TODAY:{key:'TODAY',textKey:'CONDITION_DATERANGETYPE_TODAY',category:'FIXED.DATE',defaultValues:function(){return d.getDateRange(1,'DAY',true);},type:'range',display:'start',getControls:d.ControlFactory},THISWEEK:d.getFixedRangeOperation('THISWEEK','CONDITION_DATERANGETYPE_THISWEEK','FIXED.WEEK',function(){return d.getDateRange(1,'WEEK',true);}),LASTWEEK:d.getFixedRangeOperation('LASTWEEK','CONDITION_DATERANGETYPE_LASTWEEK','FIXED.WEEK',function(){return d.getDateRange(-1,'WEEK',true);}),LAST2WEEKS:d.getFixedRangeOperation('LAST2WEEKS','CONDITION_DATERANGETYPE_LAST2WEEKS','FIXED.WEEK',function(){return d.getDateRange(-2,'WEEK',true);}),LAST3WEEKS:d.getFixedRangeOperation('LAST3WEEKS','CONDITION_DATERANGETYPE_LAST3WEEKS','FIXED.WEEK',function(){return d.getDateRange(-3,'WEEK',true);}),LAST4WEEKS:d.getFixedRangeOperation('LAST4WEEKS','CONDITION_DATERANGETYPE_LAST4WEEKS','FIXED.WEEK',function(){return d.getDateRange(-4,'WEEK',true);}),LAST5WEEKS:d.getFixedRangeOperation('LAST5WEEKS','CONDITION_DATERANGETYPE_LAST5WEEKS','FIXED.WEEK',function(){return d.getDateRange(-5,'WEEK',true);}),NEXTWEEK:d.getFixedRangeOperation('NEXTWEEK','CONDITION_DATERANGETYPE_NEXTWEEK','FIXED.WEEK',function(){return d.getDateRange(1,'WEEK',true,true,true);}),NEXT2WEEKS:d.getFixedRangeOperation('NEXT2WEEKS','CONDITION_DATERANGETYPE_NEXT2WEEKS','FIXED.WEEK',function(){return d.getDateRange(2,'WEEK',true,true,true);}),NEXT3WEEKS:d.getFixedRangeOperation('NEXT3WEEKS','CONDITION_DATERANGETYPE_NEXT3WEEKS','FIXED.WEEK',function(){return d.getDateRange(3,'WEEK',true,true,true);}),NEXT4WEEKS:d.getFixedRangeOperation('NEXT4WEEKS','CONDITION_DATERANGETYPE_NEXT4WEEKS','FIXED.WEEK',function(){return d.getDateRange(4,'WEEK',true,true,true);}),NEXT5WEEKS:d.getFixedRangeOperation('NEXT5WEEKS','CONDITION_DATERANGETYPE_NEXT5WEEKS','FIXED.WEEK',function(){return d.getDateRange(5,'WEEK',true,true,true);}),THISMONTH:d.getFixedRangeOperation('THISMONTH','CONDITION_DATERANGETYPE_THISMONTH','FIXED.MONTH',function(){return d.getDateRange(1,'MONTH',true);}),LASTMONTH:d.getFixedRangeOperation('LASTMONTH','CONDITION_DATERANGETYPE_LASTMONTH','FIXED.MONTH',function(){return d.getDateRange(-1,'MONTH',true);}),NEXTMONTH:d.getFixedRangeOperation('NEXTMONTH','CONDITION_DATERANGETYPE_NEXTMONTH','FIXED.MONTH',function(){return d.getDateRange(1,'MONTH',true,true,true);}),THISQUARTER:d.getFixedRangeOperation('THISQUARTER','CONDITION_DATERANGETYPE_THISQUARTER','FIXED.QUARTER',function(){return d.getDateRange(1,'QUARTER',true);}),LASTQUARTER:d.getFixedRangeOperation('LASTQUARTER','CONDITION_DATERANGETYPE_LASTQUARTER','FIXED.QUARTER',function(){return d.getDateRange(-1,'QUARTER',true);}),NEXTQUARTER:d.getFixedRangeOperation('NEXTQUARTER','CONDITION_DATERANGETYPE_NEXTQUARTER','FIXED.QUARTER',function(){return d.getDateRange(1,'QUARTER',true,true,true);}),YEARTODATE:d.getFixedRangeOperation('YEARTODATE','CONDITION_DATERANGETYPE_YEARTODATE','FIXED.YEAR',function(){return[d.getYearStartDate(new U()),d.setEndTime()];}),THISYEAR:d.getFixedRangeOperation('THISYEAR','CONDITION_DATERANGETYPE_THISYEAR','FIXED.YEAR',function(){return d.getDateRange(1,'YEAR',true);}),LASTYEAR:d.getFixedRangeOperation('LASTYEAR','CONDITION_DATERANGETYPE_LASTYEAR','FIXED.YEAR',function(){return d.getDateRange(-1,'YEAR',true);}),NEXTYEAR:d.getFixedRangeOperation('NEXTYEAR','CONDITION_DATERANGETYPE_NEXTYEAR','FIXED.YEAR',function(){return d.getDateRange(1,'YEAR',true,true,true);}),QUARTER1:d.getFixedRangeOperation('QUARTER1','CONDITION_DATERANGETYPE_QUARTER1','FIXED.QUARTER',function(){var s=d.getYearStartDate();return d.getDateRange(1,'QUARTER',s);}),QUARTER2:d.getFixedRangeOperation('QUARTER2','CONDITION_DATERANGETYPE_QUARTER2','FIXED.QUARTER',function(){var s=d.getDateRange(1,'QUARTER',d.getYearStartDate())[1];s.setMilliseconds(1000);return d.getDateRange(1,'QUARTER',s);}),QUARTER3:d.getFixedRangeOperation('QUARTER3','CONDITION_DATERANGETYPE_QUARTER3','FIXED.QUARTER',function(){var s=d.getDateRange(2,'QUARTER',d.getYearStartDate())[1];s.setMilliseconds(1000);return d.getDateRange(1,'QUARTER',s);}),QUARTER4:d.getFixedRangeOperation('QUARTER4','CONDITION_DATERANGETYPE_QUARTER4','FIXED.QUARTER',function(){var s=d.getDateRange(3,'QUARTER',d.getYearStartDate())[1];s.setMilliseconds(1000);return d.getDateRange(1,'QUARTER',s);})};d.prototype.getControls=function(o){var C=[];if(!o){return;}o.getControls(this,C,o);return C;};d.prototype.setIgnoreTime=function(i){this._bIgnoreTime=i;};T.prototype.getIgnoreTime=function(i){return this._bIgnoreTime;};d.prototype.getDefaultValues=function(o){if(!o){return[];}var e=o.defaultValues||[];if(typeof e==='function'){e=o.defaultValues();}var C=this.getCondition(),v=e[0]||null,V=e[1]||null;if(o.key==='DATERANGE'&&C&&C.value1&&C.value2){v=C.value1.oDate||C.value1;V=C.value2.oDate||C.value2;}else{if(v instanceof Date){v=new U(v);}if(V instanceof Date){V=new U(V);}}return[v,V];};d.prototype.getOperations=function(){var o=[];for(var n in d.Operations){var O=d.Operations[n];if(this._filterOperation(O)){o.push(O);}}return o;};d.prototype._updateOperation=function(o){T.prototype._updateOperation.apply(this,[o]);if(o.display){var e=this.getDefaultValues(o),f={style:this.oDateFormat.style,pattern:this.oDateFormat.pattern};if(o.display==='start'){o.textValue=sap.ui.core.format.DateFormat.getInstance(f).format(e[0].oDate);}else if(o.display==='range'){o.textValue=sap.ui.core.format.DateFormat.getInstance(f).format(e[0].oDate)+' - '+sap.ui.core.format.DateFormat.getInstance(f).format(e[1].oDate);}}};d.prototype.updateOperations=function(){var o=this.getOperations();for(var i=0;i<o.length;i++){this._updateOperation(o[i]);}return this.oModel.setProperty('operations',o,this.getContext(),true);};d.prototype.isValidCondition=function(){var C=this.getCondition(),o=this.getOperation(C.operation);if(o&&C&&C.key&&C.operation){if('value1'in o&&'value2'in o){return'value1'in C&&C.value1!==null&&'value2'in C&&C.value2!==null;}else if('value1'in o){return'value1'in C&&C.value1!==null;}else if('value2'in o){return'value2'in C&&C.value2!==null;}else if(!('value1'in o)&&!('value2'in o)){return true;}}return false;};d.prototype.providerDataUpdated=function(u,o){};d.prototype.initialize=function(j){T.prototype.initialize.apply(this,[j]);this.oModel.suspend();var o=q.extend({},j,true);var C=(new U()).getCalendarType();if(!j.conditionTypeInfo){if(j.ranges&&j.ranges.length==1){j.conditionTypeInfo={name:this.getName(),data:{key:this.sFieldName,operation:'DATERANGE',value1:j.ranges[0].value1,value2:j.ranges[0].value2,calendarType:C}};}else{var e=this.getDefaultOperation(),k=e?e.key:'';j.conditionTypeInfo={name:this.getName(),data:{key:this.sFieldName,operation:k,calendarType:C}};}}if(j.conditionTypeInfo){j=j.conditionTypeInfo;}if(j.name&&j.data){if(j.name!==this.getName()){q.sap.log.debug('ConditionType '+this.getName()+' tries to deserialize data from '+j.name);}j=j.data;}if(!j.operation){return;}var O=this.getOperation(j.operation);if(!O){if(this.getAsync()){this.setPending(true);var t=this,h=function(E){if(E.getParameter('pending')===false){t.oFilterProvider.detachPendingChange(h);t.initialize(o);}};this.oFilterProvider.attachPendingChange(h);this.oModel.resume();return;}}if(C!==j.calendarType&&(j.calendarType==='Islamic'||C==='Islamic')&&j.operation==='SPECIFICMONTH'){j.operation='DATERANGE';var v=parseInt(j.value1,10),f=U.getInstance(new Date(),j.calendarType);f.setMonth(v);f=d.getMonthStartDate(f);V=d.getDateRange(1,'MONTH',f,true);j.value1=V[0].oDate.toISOString();j.value2=V[1].oDate.toISOString();}var p=this.getConditionContext().getObject();p.operation=j.operation;p.key=j.key;p.value1=null;p.value2=null;if(j.operation==='DATERANGE'){if(typeof j.value1==='string'){j.value1=j.value1===''?null:(new U(j.value1)).oDate;}if(typeof j.value2==='string'){j.value2=j.value2===''?null:(new U(j.value2)).oDate;}p.value1=j.value1;p.value2=j.value2;}else if(j.operation==='FROM'){if(typeof j.value1==='string'){j.value1=j.value1===''?null:(new U(j.value1)).oDate;p.value1=j.value1;}}else if(j.operation==='TO'){if(typeof j.value1==='string'){j.value1=j.value1===''?null:(new U(j.value1)).oDate;p.value1=j.value1;}}else if(['LASTDAYS','LASTWEEKS','LASTMONTHS','LASTQUARTERS','LASTYEARS'].indexOf(j.operation)>-1){p.value1=j.value1;}else if(j.operation==='SPECIFICMONTH'){p.value1=j.value1+'';}else{var V=this.getDefaultValues(this.getOperation(j.operation));p.value1=V[0];p.value2=V[1];}this.serialize(true);this.bIgnoreBindingChange=true;this.oModel.resume();delete this.bIgnoreBindingChange;};d.prototype.serialize=function(u){var j={},C=this.getCondition();if(!C.operation){return;}var o=this.getOperation(C.operation);if(!o||!('value1'in o)){C.value1=null;}if(!o||!('value2'in o)){C.value2=null;}C.calendarType=(new U()).getCalendarType();j.conditionTypeInfo={name:this.getName(),data:C};if(this.iChangeTimer){q.sap.clearDelayedCall(this.iChangeTimer);delete this.iChangeTimer;}if(this.oFilterProvider&&this.oFilterProvider._oSmartFilter){this.oFilterProvider._oSmartFilter.fireFilterChange();}if(u){this._updateProvider(j,true);}else{this.iChangeTimer=q.sap.delayedCall(1,this,this._updateProvider,[j,false]);}return j;};d.prototype._updateProvider=function(j,s){this.validate(false);j.ranges=this.getFilterRanges();j.items=[];if(this.oFilterProvider){this.oFilterProvider.oModel.setProperty('/'+this.sFieldName,j);this.oFilterProvider.setFilterData({},false,this.sFieldName);if(!s&&this.oFilterProvider._oSmartFilter&&this.oFilterProvider._oSmartFilter.getLiveMode()){this.oFilterProvider._oSmartFilter.triggerSearch(sap.ui.comp.smartfilterbar.SmartFilterBar.LIVE_MODE_INTERVAL);}}};d.prototype.getFilterRanges=function(){var C=this.getCondition(),v=[];if(C.operation==='LASTDAYS'){v=d.getDateRange(-C.value1,'DAY',true);C.value1=v[0];C.value2=v[1];}else if(C.operation==='LASTWEEKS'){v=d.getDateRange(-C.value1,'WEEK',true);C.value1=v[0];C.value2=v[1];}else if(C.operation==='LASTMONTHS'){v=d.getDateRange(-C.value1,'MONTH',true);C.value1=v[0];C.value2=v[1];}else if(C.operation==='LASTQUARTERS'){v=d.getDateRange(-C.value1,'QUARTER',true);C.value1=v[0];C.value2=v[1];}else if(C.operation==='LASTYEARS'){v=d.getDateRange(-C.value1,'YEAR',true);C.value1=v[0];C.value2=v[1];}else if(C.operation==='NEXTDAYS'){v=d.getDateRange(C.value1,'DAY',true,true,true);C.value1=v[0];C.value2=v[1];}else if(C.operation==='NEXTWEEKS'){v=d.getDateRange(C.value1,'WEEK',true,true,true);C.value1=v[0];C.value2=v[1];}else if(C.operation==='NEXTMONTHS'){v=d.getDateRange(C.value1,'MONTH',true,true,true);C.value1=v[0];C.value2=v[1];}else if(C.operation==='NEXTQUARTERS'){v=d.getDateRange(C.value1,'QUARTER',true,true,true);C.value1=v[0];C.value2=v[1];}else if(C.operation==='NEXTYEARS'){v=d.getDateRange(C.value1,'YEAR',true,true,true);C.value1=v[0];C.value2=v[1];}else if(C.operation==='SPECIFICMONTH'){var V=parseInt(C.value1,10),o=new U();o.setMonth(V);o=d.getMonthStartDate(o);v=d.getDateRange(1,'MONTH',o,true);C.value1=v[0];C.value2=v[1];}if(C.value1 instanceof U){C.value1=C.value1.oDate;}if(C.value2 instanceof U){C.value2=C.value2.oDate;}if(C.operation==='FROM'){if(!(this.isValidCondition()&&C.value1)){return[];}C.operation='GE';delete C.value2;}else if(C.operation==='TO'){if(!(this.isValidCondition()&&C.value1)){return[];}C.operation='LE';delete C.value2;if(this._bIgnoreTime){C.value1=d.setStartTime(C.value1).oDate;}else{C.value1=d.setEndTime(C.value1).oDate;}}else{if(!(this.isValidCondition()&&C.value1&&C.value2)){return[];}C.operation='BT';if(this._bIgnoreTime){C.value2=d.setStartTime(C.value2).oDate;}else{C.value2=d.setEndTime(C.value2).oDate;}}C.exclude=false;C.keyField=C.key;delete C.key;return[C];};d.prototype.getTokenText=function(){return'';};d.prototype.getName=function(){return this.getMetadata().getName();};d.prototype.getType=function(){return'Edm.Date';};return d;},true);\n",
	"sap/ui/comp/config/condition/Type.js":"/*\n * ! SAP UI development toolkit for HTML5 (SAPUI5)\n\n(c) Copyright 2009-2016 SAP SE. All rights reserved\n */\nsap.ui.define(['jquery.sap.global','sap/ui/base/EventProvider','sap/ui/model/json/JSONModel','sap/m/Select'],function(q,E,J,S){'use strict';var T=E.extend('sap.ui.comp.config.condition.Type',{constructor:function(f,F,o){E.call(this);this.oFilterProvider=F;var d={condition:{operation:'',value1:null,value2:null,key:f},operations:[],controls:[],currentoperation:{},pending:false};this.oModel=new J(d);var c=this.oModel.checkUpdate;this.oModel.suspend=function(){this.bSuspended=true;this.checkUpdate=function(){};};this.oModel.resume=function(){this.bSuspended=false;this.checkUpdate=c;this.checkUpdate();};this.oContext=this.oModel.getContext('/');this.oConditionContext=this.oModel.getContext('/condition');this.sFieldName=f;var O=this.oModel.bindProperty('operation',this.oConditionContext),t=this;O.attachChange(function(){var s=t.oModel.getProperty('operation',t.getConditionContext()),a=t.getOperation(s);if(!t.bIgnoreBindingChange){var D=t.getDefaultValues(a);t.setDefaultValues(D[0],D[1]);}t.setControls([]);t.setControls(t.getControls(a));if(a){if(a.getValueList){a.valueList=a.getValueList();}t.oModel.setProperty('/currentoperation',a);}if(!t.bIgnoreBindingChange){t.serialize();}});var v=this.oModel.bindProperty('value1',this.oConditionContext);v.attachChange(function(){if(!t.bIgnoreBindingChange){t.serialize();}});var V=this.oModel.bindProperty('value2',this.oConditionContext);V.attachChange(function(){if(!t.bIgnoreBindingChange){t.serialize();}});var p=this.oModel.bindProperty('pending',this.oContext);p.attachChange(function(){if(t.bAsync){if(t._iPendingTimer){q.sap.clearDelayedCall(t._iPendingTimer);}t._iPendingTimer=q.sap.delayedCall(10,t,'fireEvent',['PendingChange',{oSource:t,pending:t.oModel.getProperty('/pending')}]);}});this.oOperationSelect=null;this.oFieldMetadata=o;this.oOperationFilter=null;this.bAsync=false;}});T._createStableId=function(i,s){if(i&&i.oFilterProvider&&i.oFieldMetadata){return i.oFilterProvider._createFilterControlId(i.oFieldMetadata)+(s?s:'');}else{return undefined;}};T.getTranslatedText=function(t,r){if(typeof t==='object'){r=t.bundle;t=t.key;}if(!r){r='sap.ui.comp';}return sap.ui.getCore().getLibraryResourceBundle(r).getText(t)||t;};T.prototype.getTranslatedText=T.getTranslatedText;T.prototype.applySettings=function(s){if(s&&s.operations&&s.operations.filter){this.oOperationFilter=s.operations.filter;}else{this.oOperationFilter=null;}};T.prototype.getParent=function(){return this.oFilterProvider._oSmartFilter;};T.prototype.getModel=function(){return this.oModel;};T.prototype.getConditionContext=function(){return this.oConditionContext;};T.prototype.setDefaultValues=function(v,V){this.oModel.setProperty('value1',v,this.getConditionContext(),true);this.oModel.setProperty('value2',V,this.getConditionContext(),true);};T.prototype.getContext=function(){return this.oContext;};T.prototype.getControls=function(o){return[];};T.prototype.getOperations=function(){return[];};T.prototype.isPending=function(){return this.getModel().getProperty('pending',this.getContext());};T.prototype.attachPendingChange=function(h){this.attachEvent('PendingChange',h);};T.prototype.detachPendingChange=function(h){this.detachEvent('PendingChange',h);};T.prototype.setPending=function(v){if(this.bAsync){this.getModel().setProperty('pending',v,this.getContext());}};T.prototype._filterOperation=function(o){if(!this.oOperationFilter){return true;}var f=this.oOperationFilter,v=o[f.path];if(f.path&&f.contains&&v){var e=f.exclude||false,F=(typeof f.contains==='string')?f.contains.split(','):f.contains,r=e;for(var j=0;j<F.length;j++){if(e&&v.indexOf(F[j])>-1){r=false;}else if(!e&&v.indexOf(F[j])>-1){r=true;}}}return r;};T.prototype._updateOperation=function(o){if(!o.textValue){o.textValue='';}if(!o.languageText&&o.textKey){o.languageText=this.getTranslatedText(o.textKey);}};T.prototype.updateOperations=function(){this.oModel.setProperty('operations',[],this.getContext());};T.prototype.getOperation=function(o){var O=this.oModel.getProperty('operations',this.getContext())||[];for(var i=0;i<O.length;i++){if(o===O[i].key){return O[i];}}return null;};T.prototype.getDefaultOperation=function(){var o=this.getOperations();if(!o||o.length===0){return null;}for(var i=0;i<o.length;i++){if(o[i].defaultOperation){return o[i];}}return o[0];};T.prototype.setLabel=function(l){this._oLabel=l;if(this.oLayout){this._assignLabelToControls(this.oLayout.getItems());}};T.prototype.setControls=function(c){var o=this.oModel.getProperty('controls',this.getContext());if(o){for(var i=0;i<o.length;i++){o[i].destroy();}}this.oModel.setProperty('controls',c,this.getContext());if(c){for(var i=0;i<c.length;i++){c[i].setBindingContext(this.getConditionContext(),'$smartEntityFilter');}}if(this.oLayout){this._assignLabelToControls(this.oLayout.getItems());}};T.prototype._assignLabelToControls=function(c){if(this._oLabel){for(var i=0;i<c.length;i++){if(i===0){this._oLabel.setLabelFor(c[i]);}if(c[i].addAriaLabelledBy){c[i].addAriaLabelledBy(this._oLabel);}}}};T.prototype.setOperation=function(o){var O=this.getOperation(o);if(O){this.setCondition({operation:O.key,key:this.sFieldName,value1:O.defaultValues[0]||null,value2:O.defaultValues[1]||null});this.getModel().checkUpdate(true);}else{}};T.prototype.isValidCondition=function(){return false;};T.prototype.setCondition=function(c){this.oModel.setProperty('key',c.key,this.oConditionContext);this.oModel.setProperty('operation',c.operation,this.oConditionContext);this.oModel.setProperty('value1',c.value1,this.oConditionContext);this.oModel.setProperty('value2',c.value2,this.oConditionContext);this.oModel.setProperty('tokenText',this.getTokenText(c),this.oConditionContext);return this;};T.prototype.setAsync=function(a){this.bAsync=a;};T.prototype.getAsync=function(a){return this.bAsync;};T.prototype.initialize=function(j){this.updateOperations();};T.prototype.serialize=function(){};T.prototype.validate=function(f){this._bForceError=f!==false;if(!this.isPending()&&this.oFieldMetadata&&this.oFieldMetadata.isMandatory&&!this.isValidCondition()&&this._bForceError){this.getModel().setProperty('inputstate','ERROR',this.getContext());return false;}this.getModel().setProperty('inputstate','NONE',this.getContext());return true;};T.prototype.getCondition=function(){var c=q.extend({},this.oModel.getProperty('',this.oConditionContext));return c;};T.prototype.providerDataUpdated=function(u,d){};T.prototype.getFilter=function(f){return null;};T.prototype.getFilterRanges=function(p){return null;};T.prototype.getTokenText=function(o){return'';};T.prototype.getName=function(){return this.getMetadata().getName();};T.prototype.getType=function(){return'Edm';};T.prototype.initializeFilterItem=function(w,l){var s=new sap.m.Select(T._createStableId(this),{width:w});this.oOperationSelect=s;this.sWidth=w;s.bindProperty('selectedKey',{path:'$smartEntityFilter>condition/operation'});s.bindAggregation('items',{path:'$smartEntityFilter>operations',template:new sap.ui.core.ListItem({text:{path:'$smartEntityFilter>languageText'},key:{path:'$smartEntityFilter>key'},additionalText:{path:'$smartEntityFilter>textValue'}})});if(s._oList&&s._oList.setShowSecondaryValues){s._oList.setShowSecondaryValues(true);}s.setBindingContext(this.getContext(),'$smartEntityFilter');var L=this.getModel().bindList('controls',this.getContext());L.attachChange(function(){var n=L.getModel().getProperty('controls',L.getContext());if(!n){return;}for(var i=0;i<n.length;i++){n[i].setLayoutData(new sap.m.FlexItemData({alignSelf:sap.m.FlexAlignSelf.Center}));l.addItem(n[i]);}});l.addItem(s);l.setModel(this.getModel(),'$smartEntityFilter');this.getModel().checkUpdate(true);this.oLayout=l;};T.prototype.destroy=function(){this.setControls([]);E.prototype.destroy.apply(this,arguments);};return T;},true);\n",
	"sap/ui/comp/filterbar/FilterBar.designtime.js":"/*\n * ! SAP UI development toolkit for HTML5 (SAPUI5)\n\n(c) Copyright 2009-2016 SAP SE. All rights reserved\n */\nsap.ui.define([],function(){'use strict';return{annotations:{},properties:{persistencyKey:{ignore:true},advancedMode:{ignore:true},deltaVariantMode:{ignore:true},useToolbar:{ignore:true},expandAdvancedArea:{ignore:true},searchEnabled:{ignore:false},filterBarExpanded:{ignore:false},considerGroupTitle:{ignore:false},showClearButton:{ignore:false},showRestoreButton:{ignore:false},showGoOnFB:{ignore:false},showRestoreOnFB:{ignore:false},showClearOnFB:{ignore:false},showGoButton:{ignore:true},filterContainerWidth:{ignore:false},header:{ignore:false},showFilterConfiguration:{ignore:false}},customData:{}};},false);\n",
	"sap/ui/comp/filterbar/FilterBar.js":"/*\n * ! SAP UI development toolkit for HTML5 (SAPUI5)\n\n(c) Copyright 2009-2016 SAP SE. All rights reserved\n */\nsap.ui.define(['jquery.sap.global','sap/m/MultiInput','sap/m/Bar','sap/m/Button','sap/m/ButtonType','sap/m/CheckBox','sap/m/Label','sap/m/LabelDesign','sap/m/Link','sap/m/List','sap/m/ListSeparators','sap/m/Panel','sap/m/PlacementType','sap/m/SearchField','sap/m/Text','sap/m/Toolbar','sap/m/ToolbarSpacer','sap/ui/Device','./VariantConverterFrom','./VariantConverterTo','sap/ui/comp/library','sap/ui/comp/smartvariants/PersonalizableInfo','sap/ui/comp/smartvariants/SmartVariantManagementUi2','sap/ui/comp/variants/VariantManagement','sap/ui/core/Icon','sap/ui/core/TextAlign','sap/ui/core/Title','sap/ui/core/ValueState','sap/ui/layout/Grid','sap/ui/layout/GridRenderer','sap/ui/layout/GridData','sap/ui/layout/HorizontalLayout','sap/ui/layout/ResponsiveFlowLayout','sap/ui/layout/ResponsiveFlowLayoutData','sap/ui/layout/VerticalLayout','sap/ui/layout/form/Form','sap/ui/layout/form/FormContainer','sap/ui/layout/form/FormElement','sap/ui/layout/form/ResponsiveGridLayout','sap/ui/layout/form/FormRenderer'],function(q,M,B,a,b,C,L,c,d,e,f,P,g,S,T,h,k,D,V,l,m,o,p,r,I,s,t,u,G,v,w,H,R,x,y,F,z,A,E,J){'use strict';var K=G.extend('sap.ui.comp.filterbar.FilterBar',{metadata:{library:'sap.ui.comp',designTime:true,properties:{persistencyKey:{type:'string',group:'Misc',defaultValue:null},advancedMode:{type:'boolean',group:'Misc',defaultValue:false},expandAdvancedArea:{type:'boolean',group:'Misc',defaultValue:false,deprecated:true},searchEnabled:{type:'boolean',group:'Misc',defaultValue:true},filterBarExpanded:{type:'boolean',group:'Misc',defaultValue:true},considerGroupTitle:{type:'boolean',group:'Misc',defaultValue:false},showClearButton:{type:'boolean',group:'Misc',defaultValue:false},showRestoreButton:{type:'boolean',group:'Misc',defaultValue:true},showGoOnFB:{type:'boolean',group:'Misc',defaultValue:true},showRestoreOnFB:{type:'boolean',group:'Misc',defaultValue:false},showClearOnFB:{type:'boolean',group:'Misc',defaultValue:false},showGoButton:{type:'boolean',group:'Misc',defaultValue:null,deprecated:true},deltaVariantMode:{type:'boolean',group:'Misc',defaultValue:true},filterContainerWidth:{type:'string',group:'Misc',defaultValue:'12rem'},useToolbar:{type:'boolean',group:'Misc',defaultValue:true},header:{type:'string',group:'Misc',defaultValue:null},showFilterConfiguration:{type:'boolean',group:'Misc',defaultValue:true}},aggregations:{filterItems:{type:'sap.ui.comp.filterbar.FilterItem',multiple:true,singularName:'filterItem'},filterGroupItems:{type:'sap.ui.comp.filterbar.FilterGroupItem',multiple:true,singularName:'filterGroupItem'},_parameters:{type:'sap.ui.comp.filterbar.FilterGroupItem',multiple:true,singularName:'_parameter',visibility:'hidden'}},associations:{basicSearch:{type:'sap.m.SearchField',multiple:false}},events:{cancel:{},reset:{parameters:{selectionSet:{type:'sap.ui.core.Control[]'}}},search:{parameters:{selectionSet:{type:'sap.ui.core.Control[]'}}},beforeVariantSave:{parameters:{context:{type:'string'}}},beforeVariantFetch:{},afterVariantLoad:{parameters:{context:{type:'string'},executeOnSelect:{type:'boolean'}}},filterChange:{},clear:{parameters:{selectionSet:{type:'sap.ui.core.Control[]'}}},initialise:{},initialized:{},afterVariantSave:{},filtersDialogClosed:{},assignedFiltersChanged:{}}},renderer:v.render});K.INTERNAL_GROUP='__$INTERNAL$';K.prototype.init=function(){this._oBasicAreaLayout=null;this._oVariantManagement=null;this._oCollectiveSearch=null;this._aBasicAreaSelection=null;this._mAdvancedAreaFilter=null;this._fRegisteredFetchData=null;this._fRegisteredApplyData=null;this._fRegisterGetFiltersWithValues=null;this._oHideShowButton=null;this._oSearchButton=null;this._oFiltersButton=null;this._oClearButtonOnFB=null;this._oRestoreButtonOnFB=null;this._oDialog=null;this._oFilterDialog=null;this._bIsInitialized=false;this._aFields=null;this._oBasicSearchField=null;this._oVariant={};this._filterChangeSemaphore=true;this._triggerFilterChangeState=true;this._fRegisteredFilterChangeHandlers=null;this._fInitialiseVariants=null;this._bHostedVariantManagement=false;this._bDoItOnce=false;this._oLabelTextWidth=0;this._oRb=sap.ui.getCore().getLibraryResourceBundle('sap.ui.comp');this.setHSpacing(0);this.addStyleClass('sapUiCompFilterBar');if(this._isPhone()){this.addStyleClass('sapUiCompFilterBarPhone');}else{this.addStyleClass('sapUiCompFilterBarNonPhone');}this.addStyleClass('sapUiCompFilterBarMarginBottom');this.addStyleClass('sapUiCompFilterBarPaddingPanel');this.addStyleClass('sapContrastPlus');this._oToolbar=this._createToolbar();this._oToolbar.setLayoutData(new w({span:'L12 M12 S12'}));this.addContent(this._oToolbar);this._oBasicAreaLayout=this._createBasicAreaLayout();this._oBasicAreaLayout.setLayoutData(new w({span:'L12 M12 S12'}));this.addContent(this._oBasicAreaLayout);this._oAdvancedPanel=new P();this._oAdvancedPanel.setLayoutData(new w({span:'L12 M12 S12'}));this._oAdvancedPanel.setVisible(false);this._oAdvancedAreaForm=this._createAdvancedAreaForm();this._oAdvancedPanel.addContent(this._oAdvancedAreaForm);this.addContent(this._oAdvancedPanel);this._hResizeListener=sap.ui.core.ResizeHandler.register(this._oBasicAreaLayout,q.proxy(this._fHandleResize,this));this.oModel=new sap.ui.model.json.JSONModel({});this.setModel(this.oModel,'FilterBar');this._oHintText=new T({text:this._oRb.getText('FILTER_BAR_NO_FILTERS_ON_FB'),textAlign:s.Center});this._oHintText.setVisible(false);this._oHintText.addStyleClass('sapUiCompFilterBarHint');this._oBasicAreaLayout.addContent(this._oHintText);if(this._isTablet()||this._isPhone()){this.setFilterBarExpanded(false);}};K.prototype._hasAnyVisibleFiltersOnFB=function(){var j=this._retrieveVisibleAdvancedItems();for(var i=0;i<j.length;i++){if(j[i].filterItem.getVisibleInFilterBar()){return true;}}return false;};K.prototype._showHintText=function(){var i=0;if(!this._oHintText){return;}if(!this.getAdvancedMode()&&!this._isPhone()){var j=!this._hasAnyVisibleFiltersOnFB();if(j&&this._mAdvancedAreaFilter){i=this._oBasicAreaLayout.indexOfContent(this._oHintText);if(i<0){this._oBasicAreaLayout.insertContent(this._oHintText,0);}}this._oHintText.setVisible(j);if(i<0){this._oBasicAreaLayout.rerender();}}};K.prototype._hasRelevantFilters=function(){var i,n=null,j;if(!this._mAdvancedAreaFilter||(Object.keys(this._mAdvancedAreaFilter)<1)){return false;}if(this.getAdvancedMode()){for(n in this._mAdvancedAreaFilter){var N=this._mAdvancedAreaFilter[n];if(N&&N.items){for(i=0;i<N.items.length;i++){j=N.items[i];if(j){if(this._determineVisibility(j.filterItem)){return true;}}}}}return false;}return true;};K.prototype._adaptButtonsEnablement=function(){var i=false||!!this._mAdvancedAreaFilter;if(this._oHideShowButton){this._oHideShowButton.setEnabled(i);if(this.getAdvancedMode()&&!this._isPhone()){this._oHideShowButton.setVisible(this._hasRelevantFilters());}}this._oClearButtonOnFB.setEnabled(i);this._oRestoreButtonOnFB.setEnabled(i);this._oFiltersButton.setEnabled(i);if(i&&this.getFilterBarExpanded()&&!this._isPhone()&&!this.getAdvancedMode()){this._oBasicAreaLayout.setVisible(true);}};K.prototype.getVariantManagement=function(){return this._oVariantManagement;};K.prototype.setShowClearOnFB=function(i){if(!this._isPhone()){this.setProperty('showClearOnFB',i);this._oClearButtonOnFB.setVisible(i);}};K.prototype.setShowRestoreOnFB=function(i){if(!this._isPhone()){this.setProperty('showRestoreOnFB',i);this._oRestoreButtonOnFB.setVisible(i);}};K.prototype.setShowGoOnFB=function(i){this.setProperty('showGoOnFB',i);this._calcVisibilityGoButton();};K.prototype._calcVisibilityGoButton=function(){var i=this.getShowGoOnFB();if(i&&!this._isPhone()&&this.getLiveMode&&this.getLiveMode()){i=false;}this._oSearchButton.setVisible(i);};K.prototype.setShowGoButton=function(i){this.setShowGoOnFB(i);};K.prototype.getShowGoButton=function(){return this.getShowGoOnFB();};K.prototype.hideGoButton=function(){this._oSearchButton.setVisible(false);};K.prototype.restoreGoButton=function(){this._oSearchButton.setVisible(this.getShowGoOnFB());};K.prototype.setShowFilterConfiguration=function(i){this.setProperty('showFilterConfiguration',i);if(this._oFiltersButton&&!this._isPhone()){this._oFiltersButton.setVisible(i);}};K.prototype.isCurrentVariantStandard=function(){var i;if(this._oVariantManagement){i=this._oVariantManagement.getCurrentVariantId();if(i===''){return true;}return(i===this._oVariantManagement.getStandardVariantKey());}return undefined;};K.prototype.setCurrentVariantId=function(i,j){if(this._oVariantManagement){this._oVariantManagement.setCurrentVariantId(i,j);}};K.prototype.getCurrentVariantId=function(){var i='';if(this._oVariantManagement){i=this._oVariantManagement.getCurrentVariantId();}return i;};K.prototype.getDataSuiteFormat=function(i){var j=null;var n,N,O;if(this._oVariantManagement){n=this.getCurrentVariantId();if(this.getFilterDataAsString){O=this._determineVariantFiltersInfo(i,true);N=this.getFilterDataAsString(i);if(N){var Q=new l();j=Q.convert(n,O,N,this);}}}return j;};K.prototype.setDataSuiteFormat=function(i,j){var n,N;if(i){n=new V();N=n.convert(i,this);if(N){if(N.variantId&&this._oVariantManagement){if(this._bIsInitialized){if(this._oVariantManagement.isPageVariant()){this._oVariantManagement._selectVariant(N.variantId,'DATA_SUITE');}else{this._setFilterVisibility(N.variantId);}}this._oVariantManagement.setInitialSelectionKey(N.variantId);}if(N.payload&&this.setFilterDataAsString){this.setFilterDataAsString(N.payload,j);}}}};K.prototype._setFilterVisibility=function(i){if(this._oVariantManagement.getSelectionKey()!==i){this._oVariantManagement.setInitialSelectionKey(i);var j=this._getStandardVariant();if(j){var n=this._oVariantManagement.getVariantContent(this,i);if(n&&n.filterbar){if(n.version==='V2'){n=this.mergeVariant(j,n);}this._reapplyVisibility(n.filterbar);}}}};K.prototype.applySettings=function(j){if(this._possibleToChangeVariantManagement()){if(j&&j.customData){for(var i=0;i<j.customData.length;i++){var n=j.customData[i];if(n&&n.mProperties&&n.mProperties.key==='pageVariantPersistencyKey'){this._oVariantManagement.setPersistencyKey(n.mProperties.value);this._oVariantManagement.setVisible(true);this._bHostedVariantManagement=true;}}}}if(j&&j.persistencyKey){this._bHostedVariantManagement=true;}G.prototype.applySettings.apply(this,arguments);};K.prototype.setPersistencyKey=function(i){this.setProperty('persistencyKey',i);if(this._possibleToChangeVariantManagement()){this._oVariantManagement.setVisible(true);}};K.prototype._possibleToChangeVariantManagement=function(){if(this._oVariantManagement&&!this._oVariantManagement.isPageVariant()){return true;}return false;};K.prototype.clearVariantSelection=function(){if(this._oVariantManagement){this._oVariantManagement.clearVariantSelection();}};K.prototype.setSearchEnabled=function(i){this.setProperty('searchEnabled',i);if(this._oSearchButton){this._oSearchButton.setEnabled(i);}};K.prototype.getSearchEnabled=function(){return this.getProperty('searchEnabled');};K.prototype.setSearchButtonEmphType=function(i){};K.prototype.setSimplifiedMode=function(i){};K.prototype.getSimplifiedMode=function(){if(this.getAdvancedMode()){return false;}return true;};K.prototype.setExpandAdvancedArea=function(i){this.setFilterBarExpanded(i);};K.prototype.getExpandAdvancedArea=function(){return this.getFilterBarExpanded();};K.prototype.setAdvancedMode=function(i){this.setProperty('advancedMode',i);this.toggleStyleClass('sapContrastPlus',!i);if(i){if(this._possibleToChangeVariantManagement()){this._oVariantManagement.setVisible(false);}if(this._oToolbar){this._oToolbar.addStyleClass('sapUiCompFilterBarToolbarBasicSearchNoVariant');if(this._oBasicSearchField){if(this._oToolbar.indexOfContent(this._oBasicSearchField)<0){this._oToolbar.insertContent(this._oBasicSearchField,1);}}}}else{if(this.getPersistencyKey()&&this._possibleToChangeVariantManagement()){if(this._oVariantManagement){this._oVariantManagement.setVisible(true);}if(this._oToolbar){this._oToolbar.removeStyleClass('sapUiCompFilterBarToolbarBasicSearchNoVariant');}}}this._oFiltersButton.setVisible(!i);if(this._oHideShowButton){this._oHideShowButton.setVisible((i&&this._isPhone())?false:true);}this._oBasicAreaLayout.setVisible(!i&&this.getFilterBarExpanded());this._oAdvancedPanel.setVisible(i&&this.getFilterBarExpanded());this._adaptButtonsEnablement();};K.prototype.setUseToolbar=function(i){this.setProperty('useToolbar',i);if(!i){this._adaptNewFilterBarDesign();}};K.prototype.setHeader=function(i){this.setProperty('header',i);if(this.getUseToolbar()){this._addHeaderToToolbar(i);}};K.prototype._addHeaderToToolbar=function(i){if(this._oToolbar){if(this._oVariantManagement&&(this._oVariantManagement.getVisible()||this._bHostedVariantManagement)&&(this._oToolbar.indexOfContent(this._oVariantManagement)>-1)){if(!this._oSeparator){q.sap.require('sap.m.ToolbarSeparator');this._oSeparator=new sap.m.ToolbarSeparator();this._oToolbar.setHeight('3rem');}this._oToolbar.removeContent(this._oSeparator);this._oToolbar.insertContent(this._oSeparator,0);}if(!this._oText){this._oText=new T();this._oText.addStyleClass('sapMH4Style');this._oText.addStyleClass('sapUiCompSmartChartHeader');}this._oText.setText(i);this._oToolbar.removeContent(this._oText);this._oToolbar.insertContent(this._oText,0);}};K.prototype._isNewFilterBarDesign=function(){if(this.getAdvancedMode()){return false;}if(!this.getUseToolbar()){return true;}return false;};K.prototype._adaptNewFilterBarDesign=function(){if(this._isNewFilterBarDesign()){this.setFilterBarExpanded(true);this._oBasicAreaLayout.setVisible(true);if(this.getUseToolbar()){var j=this._oToolbar.getContent();for(var i=j.length-1;i>0;i--){this._oToolbar.removeContent(j[i]);}}else{if(this._oToolbar){this.removeContent(this._oToolbar);this._oToolbar.removeAllContent();this._oToolbar.destroy();this._oToolbar=null;}}if(this._oHintText){this._oBasicAreaLayout.removeContent(this._oHintText);this._oHintText.destroy();this._oHintText=null;}if(this._oHideShowButton){this._oHideShowButton.destroy();this._oHideShowButton=null;}if(!this._bButtonaAdded){this._bButtonaAdded=true;this._addButtonsToBasicArea();}}};K.prototype._addButtonsToBasicArea=function(){var i=new y();if(sap.ui.getCore().getConfiguration().getRTL()){i.addStyleClass('sapUiCompFilterBarFloatLeft');}else{i.addStyleClass('sapUiCompFilterBarFloatRight');}var j=new H();j.setLayoutData(new x({margin:true}));i.addContent(new T());i.addContent(j);j.addContent(this._oClearButtonOnFB);this._oClearButtonOnFB.addStyleClass('sapUiCompFilterBarPaddingRightBtn');j.addContent(this._oRestoreButtonOnFB);this._oRestoreButtonOnFB.addStyleClass('sapUiCompFilterBarPaddingRightBtn');j.addContent(this._oFiltersButton);this._oFiltersButton.addStyleClass('sapUiCompFilterBarPaddingRightBtn');j.addContent(this._oSearchButton);this._updateToolbarText();i.addStyleClass('sapUiCompFilterBarPaddingRight');if(this._isPhone()){i.addStyleClass('sapUiCompFilterBarRemoveMinWidth');this._oBasicAreaLayout.insertContent(i,0);}else{i.addStyleClass('sapUiCompFilterBarPaddingTop');this._oBasicAreaLayout.addContent(i);}};K.prototype._addBasicSearchToBasicArea=function(j){var n=null;if(this._oBasicSearchFieldContainer){if(this._oBasicSearchFieldContainer.$()){n=this._oBasicSearchFieldContainer.$().width();}if(!n){n=this._oBasicSearchFieldContainer.getWidth();}var N=this._oBasicSearchFieldContainer.removeAllContent();if(N){for(var i=0;i<N.length;i++){if(N[i]!==this._oBasicSearchField){N[i].destroy();}}}this._oBasicSearchFieldContainer.destroy();this._oBasicSearchFieldContainer=null;}if(j){var O=new L({text:'\\u2008'});O.addStyleClass('sapBasicSearchFilter');var Q=this._addControlToBasicAreaContainer(null,j,O);if(Q){Q.setVisible(true);var U=0;if(this._isPhone()){U=1;}this._oBasicAreaLayout.insertContent(Q,U);this._oBasicSearchFieldContainer=Q;if(n){if(typeof n==='string'){this._oBasicSearchFieldContainer.setWidth(n);}else{this._oBasicSearchFieldContainer.setWidth(n+'px');}}}}};K.prototype._setCollectiveSearch=function(i){if(this.getAdvancedMode()&&i){if(this._oToolbar){if(this._oVariantManagement){this._oToolbar.removeContent(this._oVariantManagement);this._oVariantManagement=null;}if(this._oCollectiveSearch){this._oToolbar.removeContent(this._oCollectiveSearch);}this._oCollectiveSearch=i;this._oToolbar.insertContent(this._oCollectiveSearch,0);this._oToolbar.removeStyleClass('sapUiCompFilterBarToolbarBasicSearchNoVariant');}}};K.prototype.setBasicSearch=function(i){this.setAssociation('basicSearch',i,true);var j=this;if(this._oBasicSearchField&&this._oToolbar){this._oToolbar.removeContent(this._oBasicSearchField);}if(i&&this._isNewFilterBarDesign()){this._addBasicSearchToBasicArea(i);}else{if(i&&this._oToolbar&&(!this._isPhone()||this.getAdvancedMode())){var n=this._indexOfSpacerOnToolbar();this._oToolbar.insertContent(i,n);if(this._isUi2Mode()){i.attachLiveChange(function(N){j.fireFilterChange(N);});}}}this._oBasicSearchField=i;};K.prototype._indexOfSpacerOnToolbar=function(){var j=this._oToolbar.getContent(),i;if(j){for(i=0;i<j.length;i++){if(j[i]instanceof k){return i;}}}return 0;};K.prototype.addFilterItem=function(i){var n,j,N;if(!i){throw new Error('sap.ui.comp.filterbar.FilterBar.prototype.addFilterItem()'+\" Expected argument 'oFilterItem' may not be null nor empty\");}n=i.getName();if(!n){throw new Error('sap.ui.comp.filterbar.FilterBar.prototype.addFilterItem()'+\" Expected argument 'oFilterItem.name' may not be null nor empty\");}j=i.getControl();if(!j){throw new Error('sap.ui.comp.filterbar.FilterBar.prototype.addFilterItem()'+\" Expected argument 'oFilterItem.control' may not be null nor empty\");}this.addAggregation('filterItems',i,true);if(!this._aBasicAreaSelection){this._aBasicAreaSelection=[];}var O={control:i.getControl(),filterItem:i};this._aBasicAreaSelection.push(O);N=new sap.ui.comp.filterbar.FilterGroupItem({label:i.getLabel(),labelTooltip:i.getLabelTooltip(),name:i.getName(),mandatory:i.getMandatory(),visible:i.getVisible(),visibleInFilterBar:i.getVisibleInFilterBar(),partOfCurrentVariant:true,control:i.getControl(),groupName:K.INTERNAL_GROUP,groupTitle:'',hiddenFilter:i.getHiddenFilter()});N._iSpan=i._iSpan;if(i.data('isCustomField')){N.data('isCustomField',true);}i.attachChange(this._filterItemChange.bind(this,null));this.addFilterGroupItem(N);};K.prototype.addFilterGroupItem=function(i){var n,j,O,N;if(!i){throw new Error('sap.ui.comp.filterbar.FilterBar.prototype.addFilterGroupItem()'+\" Expected argument 'oFilterGroupItem' may not be null nor empty\");}this.addAggregation('filterGroupItems',i,true);j=i.getGroupName();if(!j){throw new Error('sap.ui.comp.filterbar.FilterBar.prototype.addFilterGroupItems()'+' GroupName may not be null nor empty');}n=i.getName();if(!n){throw new Error('sap.ui.comp.filterbar.FilterBar.prototype.addFilterGroupItems()'+' Name may not be null nor empty');}if(!this._mAdvancedAreaFilter){this._mAdvancedAreaFilter={};}if(!this._mAdvancedAreaFilter[j]){this._mAdvancedAreaFilter[j]={};this._mAdvancedAreaFilter[j].filterItem=null;this._mAdvancedAreaFilter[j].items=[];}if(!this._mAdvancedAreaFilter[j].items){this._mAdvancedAreaFilter[j].items=[];}if(!this._mAdvancedAreaFilter[j].filterItem){this._mAdvancedAreaFilter[j].filterItem=i;}O={control:i.getControl(),filterItem:i};if(this.getAdvancedMode()||i.getVisibleInFilterBar()){i.setVisibleInFilterBar(true);}else{i.setVisibleInFilterBar(false);}this._mAdvancedAreaFilter[j].items.push(O);if(!i.getHiddenFilter()){N=this._addControlToBasicAreaFormContainer(i);if(N){O.container=N;N.setVisible(i.getVisible()&&i.getVisibleInFilterBar());if(i.getVisibleInFilterBar()){i.setPartOfCurrentVariant(i.getVisibleInFilterBar());}i.attachChange(this._filterGroupItemChange.bind(this));}if(this.getAdvancedMode()){this._rerenderAA();}else{this._showHintText();}}this._adaptButtonsEnablement();};K.prototype._addParameter=function(j){var i,O,n,N=false,Q=K.INTERNAL_GROUP;j._setParameter(true);j.setVisibleInFilterBar(true);j.setPartOfCurrentVariant(true);this.addAggregation('_parameters',j,true);O={control:j.getControl(),filterItem:j};if(!this._mAdvancedAreaFilter){this._mAdvancedAreaFilter={};}if(!this._mAdvancedAreaFilter[Q]){this._mAdvancedAreaFilter[Q]={};this._mAdvancedAreaFilter[Q].filterItem=null;}if(!this._mAdvancedAreaFilter[Q].items){this._mAdvancedAreaFilter[Q].items=[];}for(i=0;i<this._mAdvancedAreaFilter[Q].items.length;i++){var U=this._mAdvancedAreaFilter[Q].items[i];if(U.filterItem._isParameter()){continue;}this._mAdvancedAreaFilter[Q].items.splice(i,0,O);N=true;break;}if(!N){this._mAdvancedAreaFilter[Q].items.push(O);}n=this._addControlToBasicAreaFormContainer(j);if(n){O.container=n;n.setVisible(j.getVisible());}if(N){this._oBasicAreaLayout.removeContent(n);this._addContainerInOrder(O.filterItem,O.container);}if(!this.getAdvancedMode()){this._showHintText();}this._adaptButtonsEnablement();};K.prototype._filterItemChange=function(i,j){var n;var N;var O;if(j&&j.oSource&&(j.oSource instanceof sap.ui.comp.filterbar.FilterItem)){O=j.getParameter('propertyName');if(O==='visibleInFilterBar'||O==='visible'||O==='label'||O==='labelTooltip'||O==='mandatory'){n=this._determineItemByName(j.oSource.getName(),K.INTERNAL_GROUP);if(n&&n.filterItem){if((O==='visible')){N=j.oSource.getVisible();n.filterItem.setVisible(N);}else if(O==='visibleInFilterBar'){N=j.oSource.getVisibleInFilterBar();var Q=this._checkChangePossibleVisibleInFilterBar(n.filterItem,N);if(Q){n.filterItem.setVisibleInFilterBar(N);}else{j.oSource.setVisibleInFilterBar(true);}}else if(O==='label'){n.filterItem.setLabel(j.oSource.getLabel());}else if(O==='labelTooltip'){n.filterItem.setLabelTooltip(j.oSource.getLabelTooltip());}else if(O==='mandatory'){N=j.oSource.getMandatory();n.filterItem.setMandatory(N);}}}}};K.prototype._filterGroupItemChange=function(i){var j;var n;if(i&&i.oSource){n=i.getParameter('propertyName');if(n==='visibleInFilterBar'||n==='visible'){j=this._determineItemByName(i.oSource.getName(),i.oSource.getGroupName());if(j){if(n==='visibleInFilterBar'){var N=i.oSource.getVisibleInFilterBar();var O=this._checkChangePossibleVisibleInFilterBar(i.oSource,N);if(!O){i.oSource.setVisibleInFilterBar(true);N=true;}if(N){i.oSource.setPartOfCurrentVariant(true);}if(!this.getAdvancedMode()&&!this._oDialog){this._rerenderItem(j);this._adaptLinkText(i.oSource.getGroupName());}}else if(n==='visible'){if(this.getAdvancedMode()&&j.container){j.container.setVisible(true);}else{this._updateToolbarText();this._rerenderGroup(j,i.oSource.getGroupName());}}this._showHintText();}}else if(n==='groupTitle'){if(this._mAdvancedAreaFilter&&this._mAdvancedAreaFilter[i.oSource.getGroupName()]){if(this._mAdvancedAreaFilter[i.oSource.getGroupName()].formcontainer){this._mAdvancedAreaFilter[i.oSource.getGroupName()].formcontainer.setTitle(i.oSource.getGroupTitle());}else{this._adaptGroupTitle(i.oSource.getGroupName());}}}else if(n==='label'){if(!this._mAdvancedAreaFilter[i.oSource.getGroupName()].formcontainer){this._adaptGroupTitleForFilter(i.oSource);}}else if(n==='mandatory'){if(this._oFilterDialog){this._adaptMandatoryForFilter(i.oSource);}}if(this.getAdvancedMode()){this._rerenderAA();}}};K.prototype._addContainer=function(i){if(i){if(this._oBasicAreaLayout&&!this._oFilterDialog){if(i.container&&(this._oBasicAreaLayout.indexOfContent(i.container)===-1)){this._addContainerInOrder(i.filterItem,i.container);}}}};K.prototype._addContainerInOrder=function(j,N){var n,i,O,Q=this._oBasicAreaLayout.getContent(),U=-1;if(this._isNewFilterBarDesign()&&this._oBasicSearchField){U++;}if(this._mAdvancedAreaFilter){for(n in this._mAdvancedAreaFilter){var W=this._mAdvancedAreaFilter[n];if(W&&W.items){for(i=0;i<W.items.length;i++){if(!W.items[i].container){continue;}if(W.items[i].container===N){this._oBasicAreaLayout.insertContent(N,U+1);return;}O=Q.indexOf(W.items[i].container);if(O>=0){U=O;}}}}}};K.prototype._checkChangePossibleVisibleInFilterBar=function(i,j){if(i&&i.getMandatory()&&!j){var n=this._hasFilterValue(i);if(!n){i.setVisibleInFilterBar(true);return false;}}return true;};K.prototype._adaptLinkText=function(i){if(this._mAdvancedAreaFilter&&this._mAdvancedAreaFilter[i]&&this._mAdvancedAreaFilter[i].link){this._setLinkText(i,this._mAdvancedAreaFilter[i].link);}};K.prototype._hasFilterValue=function(i){var j=this._getFiltersWithValues();return this._checkFilterForValue(j,i);};K.prototype._adaptMandatoryForFilter=function(i){var j;var n=i.getGroupName();if(i){j=this._determineItemByName(i.getName(),n);if(j&&j.checkbox&&j.checkbox.getVisible()){var N=true;if(i.getMandatory()){var O=this._hasFilterValue(i);if(!O){N=false;i.setVisibleInFilterBar(true);}}j.checkbox.setEnabled(N);}}};K.prototype._adaptGroupTitleForFilter=function(i){var j;var n;if(i&&!i.getHiddenFilter()){j=i.getLabel();n=i.getLabelControl(this.getId());if(this.getConsiderGroupTitle()){if(n&&i.getGroupTitle()){n.setText(j+' ('+i.getGroupTitle()+')');}}else{n.setText(j);}}};K.prototype._adaptGroupTitle=function(j){var i;var n;if(this._mAdvancedAreaFilter&&this._mAdvancedAreaFilter[j]&&this._mAdvancedAreaFilter[j].items){for(i=0;i<this._mAdvancedAreaFilter[j].items.length;i++){n=this._mAdvancedAreaFilter[j].items[i];if(n&&n){this._adaptGroupTitleForFilter(n.filterItem);}}}};K.prototype._adaptGroupsTitle=function(){var n=null;if(this._mAdvancedAreaFilter){for(n in this._mAdvancedAreaFilter){if(n&&n!==K.INTERNAL_GROUP){this._adaptGroupTitle(n);}}}};K.prototype.registerGetFiltersWithValues=function(i){this._fRegisterGetFiltersWithValues=i;};K.prototype.registerFetchData=function(i){this._fRegisteredFetchData=i;};K.prototype.registerApplyData=function(i){this._fRegisteredApplyData=i;};K.prototype._isTINAFScenario=function(){if(this._oVariantManagement){if(!this._isUi2Mode()){return true;}}else{if(this._oCollectiveSearch&&this.getAdvancedMode()){return true;}}return false;};K.prototype.fireInitialise=function(){if(this._isTINAFScenario()){this._createVisibleFilters();if(this.getAdvancedMode()){this._ensureFilterLoaded(null);}this._fireInitialiseEvent();}else{this._initializeVariantManagement();}};K.prototype.variantsInitialized=function(){this.fireInitialized();};K.prototype.fireInitialized=function(){this.fireEvent('initialized');};K.prototype._initializeVariantManagement=function(){this._createVisibleFilters();if(this._oVariantManagement&&this.getPersistencyKey()){if(this._isTINAFScenario()){this._oVariantManagement.initialise(this._initialiseVariants,this);}else{this._fInitialiseVariants=q.proxy(this._initialiseVariants,this);this._oVariantManagement.attachInitialise(this._fInitialiseVariants,this);this._oVariantManagement.initialise();}}else{this._fireInitialiseEvent();}};K.prototype._fireInitialiseEvent=function(){try{this.fireEvent('initialise');}catch(i){q.sap.log.error('error during initialise event handling - '+i.message);}this._bIsInitialized=true;this._updateToolbarText();};K.prototype._initialiseVariants=function(){this._fireInitialiseEvent();if(this._oVariantManagement){this._oVariantManagement.currentVariantSetModified(false);}};K.prototype.fireAfterVariantLoad=function(i,j){this._rerenderFilters();var n={context:i,executeOnSelect:j};this.fireEvent('afterVariantLoad',n);};K.prototype.fireBeforeVariantSave=function(i){var j={context:i};var n=this._getConsiderFilterChanges();if(i){this._setConsiderFilterChanges(false);}this.fireEvent('beforeVariantSave',j);if(i){this._setConsiderFilterChanges(n);}};K.prototype.removeAllFilterItems=function(){var i;var j;this._aBasicAreaSelection=null;var n=this._oBasicAreaLayout.getContent();if(n){for(i=0;i<n.length;i++){this._oBasicAreaLayout.removeContent(n[i]);}}j=this.getFilterItems();if(this._mAdvancedAreaFilter){if((this._mAdvancedAreaFilter[K.INTERNAL_GROUP])&&(this._mAdvancedAreaFilter[K.INTERNAL_GROUP].items)){for(i=0;i<this._mAdvancedAreaFilter[K.INTERNAL_GROUP].items.length;i++){if(this._mAdvancedAreaFilter[K.INTERNAL_GROUP].items[i].filterItem){j.push(this._mAdvancedAreaFilter[K.INTERNAL_GROUP].items[i].filterItem);}}delete this._mAdvancedAreaFilter[K.INTERNAL_GROUP];}if(Object.keys(this._mAdvancedAreaFilter).length===0){this._mAdvancedAreaFilter=null;}}this._destroyItems(j);this._adaptButtonsEnablement();};K.prototype.removeAllFilterGroupItems=function(){var n=null,i;var j=[];for(n in this._mAdvancedAreaFilter){if(n){if(this._mAdvancedAreaFilter[n]&&this._mAdvancedAreaFilter[n].items){for(i=0;i<this._mAdvancedAreaFilter[n].items.length;i++){if(this._mAdvancedAreaFilter[n].items[i].filterItem){j.push(this._mAdvancedAreaFilter[n].items[i].filterItem);}}delete this._mAdvancedAreaFilter[n];}}if(Object.keys(this._mAdvancedAreaFilter).length===0){this._mAdvancedAreaFilter=null;}}this.__bDeleteMode=true;this._destroyItems(j);this.__bDeleteMode=false;this._adaptButtonsEnablement();};K.prototype.removeAllFilters=function(){this.removeAllFilterItems();this.removeAllFilterGroupItems();this.removeBasicSearch();};K.prototype.removeBasicSearch=function(){this.setBasicSearch(null);};K.prototype.getAllFilterItems=function(j){var i,n=null;var N=[];var O,Q;if(!j){this._ensureFilterLoaded(null);}if(this._mAdvancedAreaFilter){for(n in this._mAdvancedAreaFilter){if(n){O=this._mAdvancedAreaFilter[n];if(O.items){for(i=0;i<O.items.length;i++){Q=O.items[i];if(Q&&Q.filterItem&&Q.filterItem.getVisible()&&!Q.filterItem.getHiddenFilter()){if(j){if(Q.filterItem.getVisibleInFilterBar()||Q.filterItem.getPartOfCurrentVariant()){N.push(Q.filterItem);}}else{N.push(Q.filterItem);}}}}}}}return N;};K.prototype._clearErrorState=function(){var i;var j;var n=this.determineMandatoryFilterItems();if(n){for(i=0;i<n.length;i++){j=this.determineControlByFilterItem(n[i]);if(j&&j.setValueState){j.setValueState(u.None);}}}};K.prototype.getAggregation=function(n){if(n=='filterGroupItems'&&!this.__bDeleteMode){this._ensureFilterLoaded(null);}return G.prototype.getAggregation.apply(this,arguments);};K.prototype._getFilterInformation=function(){return[];};K.prototype._getAnalyticParametersInformation=function(){return[];};K.prototype._createVisibleFilters=function(){this._getFilters();};K.prototype._getFilters=function(){this._aFields=this._getFilterInformation();var i,j;if(this._aFields&&this._aFields.length>0){if(!this._mAdvancedAreaFilter){this._mAdvancedAreaFilter={};if(!this.getAdvancedMode()){this._mAdvancedAreaFilter[K.INTERNAL_GROUP]={};this._mAdvancedAreaFilter[K.INTERNAL_GROUP].filterItem=null;this._mAdvancedAreaFilter[K.INTERNAL_GROUP].items=null;}}for(i=0;i<this._aFields.length;i++){j=this._aFields[i];if(j.groupName!==K.INTERNAL_GROUP){if(!this._mAdvancedAreaFilter[j.groupName]){this._mAdvancedAreaFilter[j.groupName]={};this._mAdvancedAreaFilter[j.groupName].groupTitle=j.groupTitle;this._mAdvancedAreaFilter[j.groupName].filterItem=null;this._mAdvancedAreaFilter[j.groupName].items=[];}}if(j.visibleInAdvancedArea||(j.groupName===K.INTERNAL_GROUP)){this._instanciateFilterItem(j);}}}this._adaptButtonsEnablement();};K.prototype._ensureFilterLoaded=function(n){var i,j,N;if(this._aFields&&this._aFields.length>0){for(j=0;j<this._aFields.length;j++){N=this._aFields[j];if(!N.factory){continue;}if(n){for(i=0;i<n.length;i++){if((N.fieldName===n[i].name)&&(N.groupName===n[i].group)){this._instanciateFilterItem(N);break;}}}else{this._instanciateFilterItem(N);}}if(!n){this._aFields=[];}}};K.prototype._instanciateFilterItem=function(i){if(i.factory){i.factory();delete i.factory;}};K.prototype._destroyItems=function(j){if(j&&j.length){for(var i=0;i<j.length;i++){j[i].destroy();}}};K.prototype._reapplyVisibility=function(j){var i,n=null;var N;if(this._mAdvancedAreaFilter){for(n in this._mAdvancedAreaFilter){if(n){var O=this._mAdvancedAreaFilter[n];if(O&&O.items){for(i=0;i<O.items.length;i++){N=O.items[i];if(N&&N.filterItem){this._setPersVisibility(j,N.filterItem);}}if(n!==K.INTERNAL_GROUP){this._adaptLinkText(n);}}}}}};K.prototype._setPersVisibility=function(i,j){var n,N;var O;if(j&&!j.getHiddenFilter()){N=j.getName();n=j.getGroupName();O=this._checkForFilterInfo(i,N,n);if(this._isTINAFScenario()){if(O){j.setVisibleInFilterBar(O.visibleInFilterBar);j.setPartOfCurrentVariant(O.partOfCurrentVariant);if(O.hasOwnProperty('visible')){j.setVisible(O.visible);}}else{j.setVisibleInFilterBar(false);j.setPartOfCurrentVariant(n===K.INTERNAL_GROUP);}}else{if(O&&(O.visibleInFilterBar!==undefined)){j.setVisibleInFilterBar((O.visibleInFilterBar));j.setPartOfCurrentVariant((O.partOfCurrentVariant));}else{if((n!==K.INTERNAL_GROUP)&&O&&(O.group===n)){j.setVisibleInFilterBar((O!==null));}}}if(n===K.INTERNAL_GROUP){j.setPartOfCurrentVariant(true);}}};K.prototype._checkForFilterInfo=function(j,n,N){var i;var O=null;if(j&&j.length){for(i=0;i<j.length;i++){if((j[i].name===n)&&(j[i].group===N)){O=j[i];break;}}}return O;};K.prototype._createVariantManagement=function(){var i=new p(this.getId()+'-variantUi2',{});var j=new o({type:'filterBar',keyName:'persistencyKey'});j.setControl(this);i.addPersonalizableControl(j);i.addStyleClass('sapUiCompFilterBarMarginLeft');return i;};K.prototype.fireAssignedFiltersChanged=function(){this.fireEvent('assignedFiltersChanged');};K.prototype.retrieveFiltersWithValuesAsText=function(){var j,n,N=this.retrieveFiltersWithValues(),O;if(!N||(N.length===0)){j=this._oRb.getText('FILTER_BAR_ASSIGNED_FILTERS_ZERO');}else{if(!this._isPhone()){O=Math.min(5,N.length);n='';for(var i=0;i<O;i++){n+=N[i];if(i<(O-1)){n+=', ';}}j=this._oRb.getText('FILTER_BAR_ASSIGNED_FILTERS',[N.length,n]);if(O<N.length){j+=', ...';}}else{j=this._oRb.getText('FILTER_BAR_ASSIGNED_FILTERS_MOBILE',[N.length]);}}return j;};K.prototype.retrieveFiltersWithValues=function(){var i,j=[];var n=this._getFiltersWithValues();if(n){for(i=0;i<n.length;i++){if(n[i].getVisible()&&n[i].getPartOfCurrentVariant()){j.push(n[i].getLabel());}}}return j;};K.prototype._getFiltersWithValues=function(){if(this._fRegisterGetFiltersWithValues){try{return this._fRegisterGetFiltersWithValues();}catch(i){q.sap.log.error('callback for obtaining the filter count throws an exception');}}return null;};K.prototype._getFiltersWithValuesCount=function(){var n=0;var i=this.retrieveFiltersWithValues();n=i.length;if(this._oBasicSearchField&&this._oBasicSearchField.getValue&&this._oBasicSearchField.getValue()){n++;}return n;};K.prototype._checkFilterForValue=function(j,n){var i;if(j){for(i=0;i<j.length;i++){if(j[i]===n){return true;}}}return false;};K.prototype._handleVisibilityOfToolbar=function(){if(this.getAdvancedMode()&&this._oToolbar){var j=false;var n=this._oToolbar.getContent();for(var i=0;i<n.length;i++){if(n[i]instanceof k){continue;}if(n[i].getVisible&&n[i].getVisible()){j=true;break;}}this._oToolbar.setVisible(j);}};K.prototype._toggleHideShow=function(){this.setFilterBarExpanded(!this.getFilterBarExpanded());};K.prototype._updateToolbarText=function(){var i=this._isNewFilterBarDesign()?'FILTER_BAR_ADAPT_FILTERS':'FILTER_BAR_ACTIVE_FILTERS';var Z=this._isNewFilterBarDesign()?'FILTER_BAR_ADAPT_FILTERS_ZERO':'FILTER_BAR_ACTIVE_FILTERS_ZERO';var n=this._getFiltersWithValuesCount();var j=n?(this._oRb.getText(i,[n])):(this._oRb.getText(Z));this._oFiltersButton.setText(j);this.fireAssignedFiltersChanged();};K.prototype.setFilterBarExpanded=function(i){if(this.getAdvancedMode()){this.setProperty('filterBarExpanded',i);if(this._oHideShowButton){if(i){this._oHideShowButton.setText(this._oRb.getText('FILTER_BAR_VH_HIDE'));}else{this._oHideShowButton.setText(this._oRb.getText('FILTER_BAR_VH_SHOW'));}}this._calcVisibilityGoButton();this._oAdvancedPanel.setVisible(i);}else{var j=this._isPhone()?false:i;this.setProperty('filterBarExpanded',j);if(this._isNewFilterBarDesign()){return;}if(this._isPhone()){if(this._oHideShowButton){this._oHideShowButton.setVisible(false);}this._calcVisibilityGoButton();this._oBasicAreaLayout.setVisible(false);}else{if(this._oHideShowButton){if(j){this._oHideShowButton.setText(this._oRb.getText('FILTER_BAR_HIDE'));}else{this._oHideShowButton.setText(this._oRb.getText('FILTER_BAR_SHOW'));}this._oHideShowButton.setVisible(true);}this._calcVisibilityGoButton();if(this._oHideShowButton){if(this._oHideShowButton.getEnabled()){this._oBasicAreaLayout.setVisible(j);}else{this._oBasicAreaLayout.setVisible(false);}}}}this._updateToolbarText();};K.prototype._selectionChangedInFilterDialog=function(i,j){j.setVisibleInFilterBar(i.getSelected());if(this._getConsiderFilterChanges()&&this._oVariantManagement&&this._oVariantManagement.getEnabled()){this._oVariantManagement.currentVariantSetModified(true);}this._bDirtyViaDialog=true;};K.prototype._mandatoryFilterChange=function(i){if(!i){return;}var j=i.getParameters();if(!j||!j.oSource){return;}var n=this._determineByControl(j.oSource);if(n&&n.checkbox){var N=n.filterItem;if(!N.getMandatory()){return;}var O=this._hasFilterValue(N);if(N.getVisibleInFilterBar()){if(O){n.checkbox.setEnabled(true);}else{n.checkbox.setEnabled(false);}}else{if(!O){N.setVisibleInFilterBar(true);n.checkbox.setSelected(true);n.checkbox.setEnabled(false);}}}};K.prototype._createFiltersAndAdaptBasicArea=function(){var i;this._setConsiderFilterChanges(false);this._recreateBasicAreaContainer(true);i=this._createFilters();var j=this._retrieveVisibleAdvancedItems();if(!j||(j.length<=0)){this._oAddToFilterBarLabel.setVisible(false);}this._setConsiderFilterChanges(true);return i;};K.prototype._determineNotAssignedFiltersCount=function(j){var n=0,i,N;if(this._mAdvancedAreaFilter[j]&&this._mAdvancedAreaFilter[j].items){for(i=0;i<this._mAdvancedAreaFilter[j].items.length;i++){N=this._mAdvancedAreaFilter[j].items[i].filterItem;if(!N.getVisible()||N.getHiddenFilter()){continue;}if(!N.getPartOfCurrentVariant()&&!N.getVisibleInFilterBar()){n++;}}}return n;};K.prototype._rerenderGroup=function(j,n){var i;var N;this._rerenderItem(j);this._adaptLinkText(n);if(j.formelement){if(this._mAdvancedAreaFilter[n]&&this._mAdvancedAreaFilter[n].items&&this._mAdvancedAreaFilter[n].formcontainer){for(i=0;i<this._mAdvancedAreaFilter[n].items.length;i++){N=this._mAdvancedAreaFilter[n].items[i].filterItem;if(N&&N.getVisible()){this._mAdvancedAreaFilter[n].formcontainer.setVisible(true);return;}}this._mAdvancedAreaFilter[n].formcontainer.setVisible(false);}}};K.prototype._setLinkTextAndCount=function(i,j,n){var N;if(n){N=this._oRb.getText('FILTER_BAR_SHOW_MORE_FILTERS',[n]);}else{N=this._oRb.getText('FILTER_BAR_SHOW_CHANGE_FILTERS');}j.setText(N);};K.prototype._setLinkText=function(i,j){var n=this._determineNotAssignedFiltersCount(i);this._setLinkTextAndCount(i,j,n);};K.prototype._createLink=function(i,j){var n=this;var N=new d();this._setLinkText(i,N);N.attachPress(function(){n._createAddRemoveFiltersDialog(i,N);});if(j){N.addAriaLabelledBy(j);}return N;};K.prototype._isPhone=function(){return(D.system.phone)?true:false;};K.prototype._isTablet=function(){return(D.system.tablet&&!D.system.desktop)?true:false;};K.prototype._createForm=function(i){var j=this;var n=null;n=F.extend('sap.ui.comp.filterbar.Form',{metadata:{},renderer:function(N,O){J.render.apply(this,arguments);}});(function(){n.prototype.contentOnAfterRendering=function(){F.prototype.contentOnAfterRendering.apply(this,arguments);j._adaptStyleSheet();if(j._oFilterDialog&&j._oFilterDialog.isOpen()&&(j._isNewFilterBarDesign()||!j._isPhone())){j._repositionAddToFilterBarLabel();}};}());return new n({editable:true,layout:i});};K.prototype._adaptStyleSheet=function(){var i,O;var j,N,n=null;for(n in this._mAdvancedAreaFilter){if(n&&this._mAdvancedAreaFilter[n].items){for(i=0;i<this._mAdvancedAreaFilter[n].items.length;i++){j=this._mAdvancedAreaFilter[n].items[i];if(j&&j.control&&j.control instanceof M){N=j.control.$();if(N){O=N.parent().css('overflow');if(O!=='visible'){N.parent().css({'overflow':'visible'});}}}}}}};K.prototype._addFieldToFiltersDialog=function(i,j,n){var N,O,Q,U;var W=this._determineVisibility(i.filterItem);if(!this.getShowFilterConfiguration()&&!W){return;}if(i.filterItem.getHiddenFilter()){return;}if(i.control.getWidth){i.width=i.control.getWidth();if(i.control.setWidth){i.control.setWidth('100%');}}N=i.filterItem.getLabelControl(this.getId());if(this.getConsiderGroupTitle()){N.setText(i.filterItem.getLabel());}O=new C({tooltip:this._oRb.getText('FILTER_BAR_SHOW_IN_FILTERBAR')});O.setSelected(i.filterItem.getVisibleInFilterBar());if(i.filterItem.getMandatory()){U=this._checkFilterForValue(n,i.filterItem);if(!U&&i.filterItem.getVisibleInFilterBar()){O.setEnabled(false);}}O.attachSelect(q.proxy(this._selectionChangedInFilterDialog,this,O,i.filterItem));if(this._isNewFilterBarDesign()||!this._isPhone()){N.setLayoutData(new w({span:'L3 M3 S12'}));i.control.setLayoutData(new w({span:'L8 M8 S11'}));O.setLayoutData(new w({span:'L1 M1 S1'}));}else{N.setLayoutData(new w({span:'L3 M3 S12'}));i.control.setLayoutData(new w({span:'L8 M8 S12'}));O.setVisible(false);}Q=new A({label:N,fields:[i.control,O]});Q.setVisible(W);i.formelement=Q;i.checkbox=O;j.addFormElement(Q);};K.prototype._createHeaderAddToFilterBar=function(i){var j,n;if(this._isNewFilterBarDesign()||!this._isPhone()){j=new L({});j.setLayoutData(new w({span:'L10 M10'}));j.addStyleClass('sapUiCompFilterBarAddFilterLabel');this._oAddToFilterBarLabel=j;n=new A({label:j,fields:[]});i.addFormElement(n);}};K.prototype._createFilters=function(){var j=this,n=null,i,N;var O=null,Q,U,W;var X,Y,Z=true,$;this._oClonedVM=null;var _=new E();_.setColumnsL(1);_.setColumnsM(1);var a1=this._createForm(_);a1.addStyleClass('sapUiCompFilterBarDialogForm');if(this._possibleToChangeVariantManagement()&&this._oToolbar){var b1=this._oToolbar.indexOfContent(this._oVariantManagement);if(b1>=0){this._oClonedVM=this._oVariantManagement.clone();this._oClonedVM._setSelectionByKey(this._oVariantManagement.getSelectionKey());this._replaceOnToolbar(this._oVariantManagement,this._oClonedVM);O=new z();this._oVariantManagement.setLayoutData(new w({span:'L10 M10 S12'}));Q=new A({fields:this._oVariantManagement});O.addFormElement(Q);a1.addFormContainer(O);}a1.addStyleClass('sapUiCompFilterBarGroupTitle');}if(this._oBasicSearchField){if(!O){O=new z();a1.addFormContainer(O);}if(!this._isPhone()){this._oBasicSearchFieldClone=this._oBasicSearchField.clone();if(this._oToolbar){this._replaceOnToolbar(this._oBasicSearchField,this._oBasicSearchFieldClone);}else{this._addBasicSearchToBasicArea(this._oBasicSearchFieldClone);}}else{if(this.getAdvancedMode()){this._oBasicSearchFieldClone=this._oBasicSearchField.clone();}}if(this._isNewFilterBarDesign()||!this._isPhone()){this._oBasicSearchField.setLayoutData(new w({span:'L8 M8 S11',indent:'L0 M3 S0'}));}else{this._oBasicSearchField.setLayoutData(new w({span:'L8 M8 S12'}));}if(this._isPhone()&&this.getAdvancedMode()){Q=new A({fields:[this._oBasicSearchFieldClone]});}else{Q=new A({fields:[this._oBasicSearchField]});}O.addFormElement(Q);}this._ensureFilterLoaded(null);var c1=this._getFiltersWithValues();this._fRegisteredFilterChangeHandlers=function(d1){j._mandatoryFilterChange(d1);};this.attachFilterChange(this._fRegisteredFilterChangeHandlers);this._oVariant.content=this.fetchVariant();if(this._oVariantManagement){this._oVariant.key=this._oVariantManagement.getSelectionKey();this._oVariant.modified=this._oVariantManagement.currentVariantGetModified();}this._oInitialVariant={};q.extend(true,this._oInitialVariant,this._oVariant);for(n in this._mAdvancedAreaFilter){if(n&&this._mAdvancedAreaFilter[n].items){if(n===K.INTERNAL_GROUP){N=this._oRb.getText('FILTER_BAR_BASIC_GROUP');}else{N=this._mAdvancedAreaFilter[n].filterItem.getGroupTitle();}Y=new t({text:N});O=new z({title:Y});if(Z){Z=false;this._createHeaderAddToFilterBar(O);}$=0;this._mAdvancedAreaFilter[n].formcontainer=O;for(i=0;i<this._mAdvancedAreaFilter[n].items.length;i++){W=this._mAdvancedAreaFilter[n].items[i];this._addFieldToFiltersDialog(W,O,c1);if(!W.filterItem.getVisible()){$++;}}U=O.getFormElements();if(U&&U.length>0){if(this.getShowFilterConfiguration()){if((n!==K.INTERNAL_GROUP)&&!this.getAdvancedMode()){X=this._createLink(n,Y);if(X){if(this._isPhone()){X.setLayoutData(new w({span:'L8 M8 S12'}));}else{X.setLayoutData(new w({span:'L8 M8 S12',indent:'L3 M3 S0'}));}Q=new A({fields:[X]});this._mAdvancedAreaFilter[n].link=X;O.addFormElement(Q);}if($===U.length){O.setVisible(false);}}}a1.addFormContainer(O);}}}return a1;};K.prototype._replaceOnToolbar=function(i,n){var j;if(this._oToolbar){j=this._oToolbar.indexOfContent(i);if(j>-1){this._oToolbar.insertContent(n,j);this._oToolbar.removeContent(i);}}};K.prototype._recreateBasicAreaContainer=function(U){var n=null,i;var j,N;var O,Q,W;if(this._possibleToChangeVariantManagement()&&this._oToolbar&&this._oClonedVM&&this._oVariantManagement){this._replaceOnToolbar(this._oClonedVM,this._oVariantManagement);this._oClonedVM.destroy();this._oClonedVM=null;}if(!this._isPhone()&&this._oToolbar&&this._oBasicSearchFieldClone&&this._oBasicSearchField){this._replaceOnToolbar(this._oBasicSearchFieldClone,this._oBasicSearchField);this._oBasicSearchFieldClone.destroy();this._oBasicSearchFieldClone=null;}var X=this._oBasicAreaLayout.removeAllContent();if(!U){if(X){var Y=X.length;var Z=0;if(this._isNewFilterBarDesign()){if(this._isPhone()){Z++;}else{Y--;}}for(i=Z;i<Y;i++){if(X[i]!==this._oHintText){X[i].destroy();}}}}if(this._isNewFilterBarDesign()){this._addBasicSearchToBasicArea(this._oBasicSearchField);this._addButtonsToBasicArea();}for(n in this._mAdvancedAreaFilter){if(n&&this._mAdvancedAreaFilter[n].items){for(i=0;i<this._mAdvancedAreaFilter[n].items.length;i++){O=this._mAdvancedAreaFilter[n].items[i].filterItem;if(O.getHiddenFilter()){continue;}W=null;if(U){if(!O.getVisible()||!O.getVisibleInFilterBar()){continue;}Q=this._mAdvancedAreaFilter[n].items[i].container;if(Q){if(Q.$()&&Q.$().width()){W=Q.$().width();}Q.removeAllContent();Q.destroy();}j=this._mAdvancedAreaFilter[n].items[i].control.clone();N=O.getLabelControl(this.getId()).clone();if(this.getConsiderGroupTitle()){O.getLabelControl(this.getId()).setText(O.getLabel());}}else{j=this._mAdvancedAreaFilter[n].items[i].control;N=O.getLabelControl(this.getId());if(this._mAdvancedAreaFilter[n].items[i].width){j.setWidth(this._mAdvancedAreaFilter[n].items[i].width);}}Q=this._addControlToBasicAreaContainer(O,j,N);if(Q){Q.setVisible(O.getVisible()&&O.getVisibleInFilterBar());this._mAdvancedAreaFilter[n].items[i].container=Q;if(U&&W){Q.setWidth(W+'px');}}}}}};K.prototype._searchRequested=function(i){var j=false;if(this.getLiveMode&&this.getLiveMode()){var n=this._retrieveCurrentSelectionSet();j=n.some(function(N){if(N.getValueState&&(N.getValueState()===u.Error)){return true;}return false;});}else{j=!this.search(true);}if(!j){this._oFilterDialog.close();}};K.prototype._closeDialogAndRestoreFilterBar=function(i){this._sSearchCriteriaInFiltersDialog=null;this._oVariant={};i.removeAllFormContainers();this._recreateBasicAreaContainer();this._deleteProperties();this._adaptGroupsTitle();if(this._fRegisteredFilterChangeHandlers){this.detachFilterChange(this._fRegisteredFilterChangeHandlers);this._fRegisteredFilterChangeHandlers=null;}if(this.getLiveMode&&this.getLiveMode()){this.search();}this._updateToolbarText();};K.prototype._variantSave=function(i){var j;this._oVariant={};this.fireBeforeVariantSave();if(this._oVariantManagement&&this._oFilterDialog){j=this._oVariantManagement.getSelectionKey();this._oVariant.key=j;this._oVariant.modified=false;this._oVariant.content=this._oVariantManagement.getVariantContent(this,j);}};K.prototype._afterVariantSave=function(i){this.fireAfterVariantSave();};K.prototype._variantSavePressed=function(i){this._bVariantSavePressed=true;if(this._oVariantManagement){var j=this._oVariantManagement.getSelectionKey();var n=this._oVariantManagement.getItemByKey(this._oVariantManagement.getSelectionKey());if(!this._oVariantManagement._isIndustrySolutionModeAndVendorLayer()&&((j===this._oVariantManagement.getStandardVariantKey())||(n&&n.getReadOnly&&n.getReadOnly()))){this._oVariantManagement._openSaveAsDialog();}else{this._oVariantManagement._variantSavePressed();}this._bDirtyViaDialog=false;if(this._oInitialVariant&&this._oVariantManagement._getVariantContent){this._oInitialVariant.content=this._oVariantManagement._getVariantContent(this,j);}}};K.prototype._findFirstVisibleGroup=function(){var n=null;for(n in this._mAdvancedAreaFilter){if(n&&this._mAdvancedAreaFilter[n].formcontainer&&this._mAdvancedAreaFilter[n].formcontainer.getVisible()){return this._mAdvancedAreaFilter[n].formcontainer.getTitle();}}return null;};K.prototype._checkForCollision=function(i,j){var n=this._oFilterDialog.getDomRef('scroll');this._oLabelTextWidth=Math.max(j.width(),this._oLabelTextWidth);if(!this._oLabelTextWidth){return false;}if((this._oLabelTextWidth>0)&&n&&(i.position().left+i.width())>=(n.clientWidth-this._oLabelTextWidth-32)){if(this._oAddToFilterBarLabel){this._oAddToFilterBarLabel.setText('');}return true;}return false;};K.prototype._repositionAddToFilterBarLabel=function(){if(this._isNewFilterBarDesign()||!this._isPhone()){var i=this._findFirstVisibleGroup();if(i&&this._oAddToFilterBarLabel){var j=i.$();if(j){var n=this._oAddToFilterBarLabel.$();if(n){j.css({display:'inline'});if(this._checkForCollision(j,n)){return;}var N=j.offset();var O=n.offset();if(O&&N){O.top=Math.ceil(N.top);n.offset(O);if(!sap.ui.getCore().getConfiguration().getRTL()){n.css({left:'auto'});}}}}}if(this._oAddToFilterBarLabel&&!this._oAddToFilterBarLabel.getText()){this._oAddToFilterBarLabel.setText(this._oRb.getText('FILTER_BAR_SHOW_IN_FILTERBAR'));}}};K.prototype._cancelFilterDialog=function(i){if(i&&this._oVariantManagement){this._bDirtyViaDialog=this._oVariantManagement._bSaveCanceled;}if(this._oInitialVariant&&this._oInitialVariant.content&&this._bDirtyViaDialog){this.applyVariant(this._oInitialVariant.content,'CANCEL');if(this._oVariantManagement){if(!this._oVariantManagement.isPageVariant()){this._oVariantManagement._setSelectionByKey(this._oInitialVariant.key);}this._oVariantManagement.currentVariantSetModified(this._oInitialVariant.modified);}this._resetFiltersInErrorValueState();this.fireCancel();}};K.prototype._resetFiltersInErrorValueState=function(){var n,i;n=this._retrieveCurrentSelectionSet(true);n.forEach(function(O){if(O.control&&O.control.setValueState&&O.control.getValueState){if(O.control.getValueState()===u.Error){i=O.control.getBinding('value');if(i){if(O.control.setValue){O.control.setValue('');}O.control.setValueState(u.None);}}}});};K.prototype._showFilterDialog=function(){q.sap.require('sap.m.Dialog');var i=this;this._oFilterDialog=new sap.m.Dialog({stretch:D.system.phone});this._oFilterDialog.setParent(this);this._oFilterDialog.addStyleClass('sapUiPopupWithPadding');if(this.$().closest('.sapUiSizeCompact').length>0){this._oFilterDialog.addStyleClass('sapUiSizeCompact');}this._oFilterDialog.addStyleClass('sapUiCompFilterBarDialog');if(!this._isPhone()){this._oFilterDialog.addStyleClass('sapUiCompFilterBarDialogNonPhone');}var j='FILTER_BAR_ADV_FILTERS_DIALOG';if(this._isNewFilterBarDesign()){j='FILTER_BAR_ADAPT_FILTERS_DIALOG';}this._oFilterDialog.setTitle(this._oRb.getText(j));this._oFilterDialog.addStyleClass('sapMH4FontSize');this._oFilterDialog.addStyleClass('sapMH4Style');this._oFilterDialog.setVerticalScrolling(true);var n=new B();this._oFiltersSearchField=new S({placeholder:this._oRb.getText('FILTER_BAR_SEARCH')});this._oFiltersSearchField.attachLiveChange(function(O){if(i._oFilterDialog){i._triggerSearchInFilterDialog(O);}});n.addContentRight(this._oFiltersSearchField);this._oFilterDialog.setSubHeader(n);var N=this._createFiltersAndAdaptBasicArea();if(!N){q.sap.log.error('Content for Advanced Filters Dialog could not be created');return;}this._oFilterDialog.addContent(N);this._bOKFiltersDialogTriggered=false;this._bVariantSaveFiltersDialogTriggered=false;this._oFilterDialog._do_not_add_to_basic_area=true;this._oFilterDialog.attachAfterOpen(function(){if(!i._isPhone()){var O=i._oFilterDialog.getDomRef('scroll');if(O){i._oFilterDialog.setContentWidth(O.clientWidth+'px');i._oFilterDialog.setContentHeight(O.clientHeight+'px');}}});this._oFilterDialog.attachBeforeClose(function(){if(!i._bOKFiltersDialogTriggered){i._cancelFilterDialog(i._bVariantSaveFiltersDialogTriggered);}delete i._oFilterDialog._do_not_add_to_basic_area;i._closeDialogAndRestoreFilterBar(N);});this._oFilterDialog.attachAfterClose(function(){i._oBasicAreaLayout.rerender();i._oInitialVariant=null;i._oFilterDialog.destroy();i._oFilterDialog=null;i._showHintText();i.fireFiltersDialogClosed();if(i._isNewFilterBarDesign()){i._fHandleResize();}});this._oFilterDialog.setInitialFocus(this._oFiltersSearchField);this._addFilterDialogButtons(N);this._bDirtyViaDialog=false;this._oFilterDialog.open();};K.prototype.isDialogOpen=function(){return this._oFilterDialog?true:false;};K.prototype._addFilterDialogButtons=function(i){q.sap.require('sap.m.OverflowToolbarPriority');q.sap.require('sap.m.OverflowToolbarLayoutData');var j=this;var n;var N=null,O,Q,U,W;U=new a(this.getId()+'-btnGoFilterDialog',{text:this._oRb.getText('FILTER_BAR_GO'),press:function(){j._bOKFiltersDialogTriggered=true;U.focus();j._searchRequested(i);},layoutData:new sap.m.OverflowToolbarLayoutData({priority:sap.m.OverflowToolbarPriority.NeverOverflow}),type:b.Emphasized});this._oFilterDialog.addButton(U);if(!this.getAdvancedMode()){if(this._oVariantManagement&&this._oVariantManagement.getVisible()){this._oVariantManagement._delayedControlCreation();if(this._oVariantManagement.oVariantSave){N=new a(this.getId()+'-btnSaveFilterDialog',{text:this._oRb.getText('VARIANT_MANAGEMENT_SAVE'),enabled:this._oVariantManagement.oVariantSave.getEnabled(),press:function(){j._bVariantSaveFiltersDialogTriggered=true;j._variantSavePressed();},layoutData:new sap.m.OverflowToolbarLayoutData({priority:sap.m.OverflowToolbarPriority.Low})});n=this._oVariantManagement.getModel('save_enablement');N.setModel(n);N.bindProperty('enabled','/enabled');this._oFilterDialog.addButton(N);}}O=new a(this.getId()+'-btnClearFilterDialog',{text:this._oRb.getText('FILTER_BAR_CLEAR'),visible:this.getShowClearButton(),press:function(){j.clear();},layoutData:new sap.m.OverflowToolbarLayoutData({priority:sap.m.OverflowToolbarPriority.Low})});this._oFilterDialog.addButton(O);Q=new a(this.getId()+'-btnRestoreFilterDialog',{text:this._oRb.getText('FILTER_BAR_RESTORE'),visible:this.getShowRestoreButton(),press:function(){j.reset();if(j._oVariantManagement){j._oVariantManagement.currentVariantSetModified(false);}},layoutData:new sap.m.OverflowToolbarLayoutData({priority:sap.m.OverflowToolbarPriority.Low})});if(n){Q.setEnabled(this._oVariantManagement.oVariantSave.getEnabled());Q.setModel(n);Q.bindProperty('enabled','/enabled');}this._oFilterDialog.addButton(Q);W=new a(this.getId()+'-btnCancelFilterDialog',{text:this._oRb.getText('FILTER_BAR_CANCEL'),press:function(){j._oFilterDialog.close();},layoutData:new sap.m.OverflowToolbarLayoutData({priority:sap.m.OverflowToolbarPriority.High})});this._oFilterDialog.addButton(W);}};K.prototype._createButtons=function(i){var j=this;this._oHideShowButton=new a(this.getId()+'-btnShowHide',{text:this._oRb.getText('FILTER_BAR_HIDE'),type:b.Transparent,enabled:false});this._oHideShowButton.attachPress(function(){j._toggleHideShow();});i.addContent(this._oHideShowButton);this._oClearButtonOnFB=new a(this.getId()+'-btnClear',{visible:this.getShowClearOnFB(),text:this._oRb.getText('FILTER_BAR_CLEAR'),type:b.Transparent,enabled:false});this._oClearButtonOnFB.attachPress(function(){j.clear();});i.addContent(this._oClearButtonOnFB);this._oRestoreButtonOnFB=new a(this.getId()+'-btnRestore',{visible:this.getShowRestoreOnFB(),text:this._oRb.getText('FILTER_BAR_RESTORE'),type:b.Transparent,enabled:false});this._oRestoreButtonOnFB.attachPress(function(){j.reset();if(j._oVariantManagement){j._oVariantManagement.currentVariantSetModified(false);}});i.addContent(this._oRestoreButtonOnFB);this._oFiltersButton=new a(this.getId()+'-btnFilters',{visible:this.getShowFilterConfiguration()||this._isPhone(),text:this._oRb.getText('FILTER_BAR_ACTIVE_FILTERS_ZERO'),type:b.Transparent,enabled:false});this._oFiltersButton.attachPress(function(){j._oFiltersButton.focus();j._showFilterDialog();});i.addContent(this._oFiltersButton);this._oSearchButton=new a(this.getId()+'-btnGo',{visible:this.getShowGoOnFB(),text:this._oRb.getText('FILTER_BAR_GO'),type:b.Emphasized});this._oSearchButton.attachPress(function(){j._oSearchButton.focus();j.search();});i.addContent(this._oSearchButton);};K.prototype._createVariantLayout=function(){this._oVariantManagement=this._createVariantManagement();if(this._possibleToChangeVariantManagement()){this._oVariantManagement.setVisible(false);}this._registerVariantManagement();return this._oVariantManagement;};K.prototype._createToolbar=function(){var i=new h(this.getId()+'-toolbar');var j=this._createVariantLayout();i.addContent(j);i.addContent(new k());this._createButtons(i);i.addStyleClass('sapUiCompFilterBarToolbar');i.addStyleClass('sapUiCompFilterBarToolbarMarker');return i;};K.prototype._replaceVariantManagement=function(i){if(this._oVariantManagement){this._unregisterVariantManagement();if(this._oToolbar&&this._oToolbar.getContent(this._oVariantManagement)){this._oToolbar.removeContent(this._oVariantManagement);}this._oVariantManagement.destroy();}this._oVariantManagement=i;this._registerVariantManagement();this._adaptNewFilterBarDesign();};K.prototype._createBasicAreaLayout=function(){var i=new H({visible:false});i.setAllowWrapping(true);i.addStyleClass('sapUiCompFilterBarWidth100');i.addStyleClass('sapUiCompFilterBarBasicArea');return i;};K.prototype._createAdvancedAreaForm=function(){var i=new E();i.addStyleClass('sapUiCompFilterBarPaddingForm');i.setColumnsL(3);i.setColumnsM(2);var j=new F({editable:true});j.setLayout(i);return j;};K.prototype._addControlToBasicAreaFormContainer=function(i){var j=i.getControl();if(!j){q.sap.log.error('no Control obtained');return null;}var n=i.getLabelControl(this.getId());if(!n){q.sap.log.error('no Label obtained');return null;}this._adaptGroupTitleForFilter(i);return this._addControlToBasicAreaContainer(i,j,n);};K.prototype._addControlToBasicAreaContainer=function(i,j,n){var N=new y();N.setLayoutData(new x({margin:true}));if(j.setWidth){j.setWidth('100%');}if(i&&i._iSpan&&i._iSpan>1){var W=this._calculateISpanWidth(i._iSpan);N.setWidth(W);}else{N.setWidth(this.getFilterContainerWidth());}if(n){if(!n.hasStyleClass('sapUiCompFilterLabel')){n.addStyleClass('sapUiCompFilterLabel');}N.addContent(n);var O=null;if(i&&this.getConditionTypeByKey){O=this.getConditionTypeByKey(i.getName());}if(O){O.setLabel(n);}else if(n.setLabelFor){if(i&&j){n.setLabelFor(j);}else if(j){q.sap.require('sap.ui.core.InvisibleText');var Q=new sap.ui.core.InvisibleText({text:this._oRb.getText('FILTER_BAR_BSEARCH_PLACE_HOLDER')});N.addContent(Q);j.addAriaLabelledBy(Q);}}}N.addContent(j);N.addStyleClass('sapUiCompFilterBarPaddingRight');N.addStyleClass('sapUiCompFilterBarPaddingTop');if(!this.getAdvancedMode()&&(!this._oFilterDialog||(!this._oFilterDialog.hasOwnProperty('_do_not_add_to_basic_area')))){if(i&&i.getVisible()&&i.getVisibleInFilterBar()){if(this._isNewFilterBarDesign()){var U=this._oBasicAreaLayout.getContent();if(this._isPhone()){this._oBasicAreaLayout.addContent(N);}else{this._oBasicAreaLayout.insertContent(N,U.length-1);}}else{this._oBasicAreaLayout.addContent(N);}}}return N;};K.prototype._rerenderAA=function(){this._oAdvancedAreaForm.removeAllFormContainers();var i=this._flattenMap();this._layOutAA(i);};K.prototype._layOutAA=function(i){if(this._mAdvancedAreaFilter&&Object.keys(this._mAdvancedAreaFilter).length>1){this._layOutAAMultipleGroup(i);}else{this._layOutAASingleGroup(i);}};K.prototype._layOutAAMultipleGroup=function(n){var i,j,N=0;var O=null;for(i=0;i<n.length;i++){if(n[i].control===null){N++;}}var Q=this._oAdvancedAreaForm.getLayout();if(Q){if(N>=3){Q.setLabelSpanL(5);Q.setLabelSpanM(5);Q.setColumnsL(3);Q.setColumnsM(2);}else if(N===2){Q.setLabelSpanL(4);Q.setLabelSpanM(5);Q.setColumnsL(2);Q.setColumnsM(2);}else if(N===1){Q.setLabelSpanL(4);Q.setLabelSpanM(5);Q.setColumnsL(2);Q.setColumnsM(2);}}for(i=0;i<n.length;i++){if(n[i].control===null){O=new z();if(Object.keys(this._mAdvancedAreaFilter).length>1){O.setTitle(n[i].filterItem.getGroupTitle());}this._oAdvancedAreaForm.addFormContainer(O);j=i+1;while(j<n.length&&(n[j].control)){this._addControlToAdvancedArea(n[j].filterItem,n[j].control,O);j++;}i=j-1;}}if(N===1){this._oAdvancedAreaForm.addFormContainer(new z());}};K.prototype._layOutAASingleGroup=function(j){var i,n,N,O;var Q=j.length-1;var U=Q>2?2:1;if(U>1){N=Math.floor(Q/U);O=((N*U)<Q);for(i=1;i<U;i++){n=i*N;if(O){++n;}if((n+i)<j.length){j.splice(n+i,0,j[0]);}}}this._layOutAAMultipleGroup(j);};K.prototype._flattenMap=function(){var n=null,i;var j=[];var N;if(this._mAdvancedAreaFilter){for(n in this._mAdvancedAreaFilter){if(n&&this._mAdvancedAreaFilter[n].items){N=false;for(i=0;i<this._mAdvancedAreaFilter[n].items.length;i++){var O=this._mAdvancedAreaFilter[n].items[i];if(O.filterItem&&O.filterItem.getVisibleInFilterBar()&&O.filterItem.getVisible()&&!O.filterItem.getHiddenFilter()){if(!N){N=true;j.push({control:null,filterItem:this._mAdvancedAreaFilter[n].filterItem});}j.push({control:O.control,filterItem:O.filterItem});}}}}}return j;};K.prototype._triggerSearchByValue=function(j){var i,n,N;var O;var Q;j=j.replace(/^\\s+|\\s+$/g,'').toLowerCase();if(this._aListItems){var U=0;for(i=this._aListItems.length-1;i>=0;i--){O=this._aListItems[i].getContent();if(O&&(O.length>0)){n=O[0].getText();N=this._aListItems[i].data('quickinfo');if((n.toLowerCase().indexOf(j)>=0||(N&&N.toLowerCase().indexOf(j)>=0))||(this._aListItems[i].hasStyleClass('sapUiCompFilterBarGroupListItem')&&U>0)){Q=true;if(this._aListItems[i].hasStyleClass('sapUiCompFilterBarGroupListItem')){if(!U){Q=false;}}else{U++;}this._aListItems[i].setVisible(Q);}else{this._aListItems[i].setVisible(false);}}}}};K.prototype._triggerSearch=function(i){if(!i){return;}var j=i.getParameters();if(!j){return;}var n=j.newValue?j.newValue:'';this._triggerSearchByValue(n);};K.prototype._triggerSearchByValueInFilterDialog=function(j){var n=null,i;var N,O;var Q,U;var W;var X;var Y=true;j=j.replace(/^\\s+|\\s+$/g,'').toLowerCase();if(this._mAdvancedAreaFilter){for(n in this._mAdvancedAreaFilter){if(n){Q=this._mAdvancedAreaFilter[n];if(Q&&Q.items){W=0;X=0;for(i=0;i<Q.items.length;i++){if(Q.items[i]&&Q.items[i].filterItem&&Q.items[i].formelement){U=Q.items[i].filterItem;if(U.getHiddenFilter()){continue;}if(U.getVisible()){if(j){N=U.getLabel();O=U.getLabelTooltip();if((N.toLowerCase().indexOf(j)>=0||(O&&O.toLowerCase().indexOf(j)>=0))){if(U.getPartOfCurrentVariant()){Q.items[i].formelement.setVisible(true);}else{++X;}}else{++W;Q.items[i].formelement.setVisible(false);}}else{Q.items[i].formelement.setVisible(U.getVisibleInFilterBar()||U.getPartOfCurrentVariant());if(Q.link&&!Q.link.getVisible()){Q.link.setVisible(true);}}}else{++W;}}}if(Q&&Q.formcontainer){if(W===Q.items.length){Q.formcontainer.setVisible(false);}else{Y=false;Q.formcontainer.setVisible(true);if(Q.link){Q.link.setVisible((j&&(X===0))?false:true);if(j&&(X>0)){this._setLinkTextAndCount(n,Q.link,X);}else{this._setLinkText(n,Q.link);}}}}}}}}if(this._oAddToFilterBarLabel){this._oAddToFilterBarLabel.setVisible(!Y);}};K.prototype._triggerSearchInFilterDialog=function(i){if(!i){return;}var j=i.getParameters();if(!j){return;}var n=j.newValue?j.newValue:'';this._sSearchCriteriaInFiltersDialog=n;this._triggerSearchByValueInFilterDialog(n);};K.prototype._generateListItems=function(j,n){q.sap.require('sap.m.CustomListItem');var i;var N,O;var Q;var U=false;if(this.$().closest('.sapUiSizeCompact').length>0){U=true;}if(j&&this._mAdvancedAreaFilter){O=this._mAdvancedAreaFilter[j];if(O&&O.items){for(i=0;i<O.items.length;i++){var W=O.items[i];if(W&&W.filterItem){if(!W.filterItem.getVisible()||W.filterItem.getHiddenFilter()){continue;}N=new sap.m.CustomListItem();N.setVisible(true);if(!U){N.addStyleClass('sapUiCompFilterBarListItem');}else{N.addStyleClass('sapUiCompFilterBarListItemCompact');}N.data('quickinfo',W.filterItem.getLabelTooltip());W.initialPartOfCurrentVariant=W.filterItem.getPartOfCurrentVariant();W.initialVisibleInFilterBar=W.filterItem.getVisibleInFilterBar();N.data('item',W);Q=new L({text:W.filterItem.getLabel(),tooltip:W.filterItem.getLabelTooltip()});N.addContent(Q);n.addItem(N);if(W.filterItem.getPartOfCurrentVariant()){n.setSelectedItem(N);}if(W.filterItem.getMandatory()&&W.checkbox&&!W.checkbox.getEnabled()){N.getModeControl().setEnabled(false);}}}}}var X=this;n.attachSelectionChange(function(Y){if(Y){var Z=Y.getParameters();if(Z){var N=Z.listItem;if(N){var $=N.getModeControl();var W=N.data('item');X._selectionChangedInAddFiltersDialog($,W);}}}});};K.prototype._rerenderItem=function(i){var j;if(i){j=i.filterItem.getVisible()&&i.filterItem.getVisibleInFilterBar();if(i.container){i.container.setVisible(j);if(j){this._addContainer(i);}}if(i.formelement){i.formelement.setVisible(i.filterItem.getVisible()&&(i.filterItem.getVisibleInFilterBar()||i.filterItem.getPartOfCurrentVariant()));if(i.checkbox){i.checkbox.setSelected(i.filterItem.getVisibleInFilterBar());}}}};K.prototype._rerenderFilters=function(){var i;var n=null;var j=null;if(this._mAdvancedAreaFilter){for(n in this._mAdvancedAreaFilter){if(n&&this._mAdvancedAreaFilter[n]&&this._mAdvancedAreaFilter[n].items){for(i=0;i<this._mAdvancedAreaFilter[n].items.length;i++){j=this._mAdvancedAreaFilter[n].items[i];this._rerenderItem(j);}}}}this._updateToolbarText();};K.prototype.rerenderFilters=function(){this._rerenderFilters();};K.prototype._closeAddRemoveFiltersDialog=function(i,j){if(i&&j){if(this._sSearchCriteriaInFiltersDialog&&this._oFilterDialog){this._triggerSearchByValueInFilterDialog(this._sSearchCriteriaInFiltersDialog);}else{this._setLinkText(i,j);}}};K.prototype._cancelAddRemoveFiltersDialog=function(j){var i;var n;if(j&&this._mAdvancedAreaFilter&&this._mAdvancedAreaFilter[j]&&this._mAdvancedAreaFilter[j].items){for(i=0;i<this._mAdvancedAreaFilter[j].items.length;i++){n=this._mAdvancedAreaFilter[j].items[i];if((n.initialPartOfCurrentVariant!==undefined||n.initialVisibleInFilterBar!==undefined)&&n.filterItem){if(n.filterItem.getHiddenFilter()){continue;}if((n.initialPartOfCurrentVariant!==undefined)&&(n.filterItem.getPartOfCurrentVariant()!==n.initialPartOfCurrentVariant)){n.filterItem.setPartOfCurrentVariant(n.initialPartOfCurrentVariant);this._notifyAboutChangedFilters(n.initialPartOfCurrentVariant,n.control);}if((n.initialVisibleInFilterBar!==undefined)&&(n.filterItem.getVisibleInFilterBar()!==n.initialVisibleInFilterBar)){n.filterItem.setVisibleInFilterBar(n.initialVisibleInFilterBar);}}}}if(this._oVariantManagement&&(this._oVariant.modified2!==undefined)){this._oVariantManagement.currentVariantSetModified(this._oVariant.modified2);}};K.prototype._createAddRemoveFiltersDialog=function(j,n){q.sap.require('sap.m.Dialog');q.sap.require('sap.m.ListMode');var i,N=this;if(!j){return;}this._oDialog=new sap.m.Dialog({stretch:D.system.phone});this._oDialog.addStyleClass('sapUiPopupWithPadding');this._oDialog.addStyleClass('sapUiCompAddRemoveFilterDialog');if(this.$().closest('.sapUiSizeCompact').length>0){this._oDialog.addStyleClass('sapUiSizeCompact');}this._oDialog.setTitle(this._oRb.getText('SELECT_FILTER_FIELDS'));this._oDialog.addStyleClass('sapMH4FontSize');this._oDialog.addStyleClass('sapMH4Style');this._oDialog.setVerticalScrolling(true);var O=new B();var Q=new S({placeholder:this._oRb.getText('FILTER_BAR_SEARCH')});this._oSearchField=Q;Q.attachLiveChange(function(Y){N._triggerSearch(Y);});O.addContentRight(Q);this._oDialog.setSubHeader(O);var U=new e({mode:sap.m.ListMode.MultiSelect});U.setShowSeparators(f.None);this._oDialog.addContent(U);this._generateListItems(j,U);this._aListItems=U.getItems();for(i=0;i<this._aListItems.length;i++){U.addItem(this._aListItems[i]);}if(this._oVariant&&this._oVariantManagement){this._oVariant.modified2=this._oVariantManagement.currentVariantGetModified();}this._bOKButtonAddRemoveFilterDialogTriggered=false;var W=new a(this.getId()+'-btnOKAddRemoveDialog',{text:this._oRb.getText('FILTER_BAR_OK')});W.attachPress(function(){N._bOKButtonAddRemoveFilterDialogTriggered=true;N._oDialog.close();});this._oDialog.addAggregation('buttons',W);this._oDialog.setInitialFocus(this._oSearchField);if(this._sSearchCriteriaInFiltersDialog){this._oSearchField.setValue(this._sSearchCriteriaInFiltersDialog);this._triggerSearchByValue(this._sSearchCriteriaInFiltersDialog);}var X=new a(this.getId()+'-btnCancelAddRemoveDialog',{text:this._oRb.getText('FILTER_BAR_CANCEL'),press:function(){N._oDialog.close();}});this._oDialog.addAggregation('buttons',X);this._oDialog.attachBeforeClose(function(){if(!N._bOKButtonAddRemoveFilterDialogTriggered){N._cancelAddRemoveFiltersDialog(j);}N.rerenderFilters();N._closeAddRemoveFiltersDialog(j,n);});this._oDialog.attachAfterClose(function(){this._aListItems=null;N._oDialog.destroy();N._oDialog=null;});this._oDialog.open();};K.prototype._selectionChangedInAddFiltersDialog=function(i,j){var n=i.getSelected();if(!n&&j.filterItem.getMandatory()&&!j.checkbox.getEnabled()){i.setSelected(true);return;}j.filterItem.setPartOfCurrentVariant(n);j.filterItem.setVisibleInFilterBar(n);this._notifyAboutChangedFilters(n,j.control);};K.prototype._setTriggerFilterChangeState=function(i){this._triggerFilterChangeState=i;};K.prototype._getTriggerFilterChangeState=function(){return this._triggerFilterChangeState;};K.prototype._setConsiderFilterChanges=function(i){this._filterChangeSemaphore=i;};K.prototype._getConsiderFilterChanges=function(){return this._filterChangeSemaphore;};K.prototype.fireFilterChange=function(i){this._updateToolbarText();if(!this._getTriggerFilterChangeState()){return;}if(this._getConsiderFilterChanges()&&this._oVariantManagement&&this._oVariantManagement.getEnabled()){this._oVariantManagement.currentVariantSetModified(true);}if(this._oFilterDialog&&!(this._oFilterDialog.isOpen())){return;}this._bDirtyViaDialog=true;this.fireEvent('filterChange',i);if(this._isNewFilterBarDesign()){}};K.prototype._notifyAboutChangedFilters=function(i,j){var O;if(i){O={'added':j};}else{O={'deleted':j};}this.fireFilterChange(O);};K.prototype._determineVariantFiltersInfo=function(j,N){var i;var n=null,O,Q;var U=[];if(this._mAdvancedAreaFilter){for(n in this._mAdvancedAreaFilter){if(n){if(this._mAdvancedAreaFilter[n].items){for(i=0;i<this._mAdvancedAreaFilter[n].items.length;i++){O=this._mAdvancedAreaFilter[n].items[i];if(j||O.filterItem.getVisible()){Q={group:O.filterItem.getGroupName(),name:O.filterItem.getName(),partOfCurrentVariant:O.filterItem.getPartOfCurrentVariant(),visibleInFilterBar:O.filterItem.getVisibleInFilterBar(),visible:O.filterItem.getVisible()};if(N||this._considerFilter(Q)){U.push(Q);}}}}}}}return U;};K.prototype.mergeVariant=function(i,j){var n={};q.extend(true,n,j);n.filterbar=[];n.filterBarVariant={};q.extend(true,n.filterbar,i.filterbar);q.extend(true,n.filterBarVariant,i.filterBarVariant);if(j&&j.version==='V2'){n.filterbar=this._mergeVariantFields(n.filterbar,j.filterbar);n.filterBarVariant=j.filterBarVariant;}return n;};K.prototype._mergeVariantFields=function(j,n){var i;n.forEach(function(N){for(i=0;i<j.length;i++){if((j[i].group===N.group)&&(j[i].name===N.name)){j.splice(i,1);break;}}});return j.concat(n);};K.prototype._isUi2Mode=function(){if(this._oVariantManagement instanceof p){return true;}return false;};K.prototype._isDeltaHandling=function(){if(this._isUi2Mode()){return false;}return this.getDeltaVariantMode();};K.prototype._getStandardVariant=function(){return this._oVariantManagement.getStandardVariant(this);};K.prototype._considerFilter=function(j){if(!this._isDeltaHandling()){return true;}var n=null;var N=this._getStandardVariant();if(N&&N.filterbar){for(var i=0;i<N.filterbar.length;i++){if((N.filterbar[i].group===j.group)&&(N.filterbar[i].name===j.name)){n=N.filterbar[i];break;}}}if(!n){if(!j.partOfCurrentVariant){return false;}return true;}if((n.partOfCurrentVariant!==j.partOfCurrentVariant)||(n.visibleInFilterBar!==j.visibleInFilterBar)||(n.visible!==j.visible)){return true;}return false;};K.prototype._addControlToAdvancedArea=function(i,j,n){var N=new A({label:i.getLabelControl(this.getId()),fields:[(j!==null)?j:new T()]});n.addFormElement(N);};K.prototype._determineVisibility=function(i){var j=false;if(i){j=i.getVisible()&&(i.getVisibleInFilterBar()||i.getPartOfCurrentVariant());j=j&&!i.getHiddenFilter();}return j;};K.prototype._retrieveVisibleAdvancedItems=function(){var i,n=null,j;var N=[];if(this._mAdvancedAreaFilter){for(n in this._mAdvancedAreaFilter){if(n){if(this._mAdvancedAreaFilter[n]&&this._mAdvancedAreaFilter[n].items){for(i=0;i<this._mAdvancedAreaFilter[n].items.length;i++){j=this._mAdvancedAreaFilter[n].items[i];if(j){if(this._determineVisibility(j.filterItem)){N.push(j);}}}}}}}return N;};K.prototype._retrieveCurrentSelectionSet=function(W){var i,j,O,n=[];var N=this._retrieveVisibleAdvancedItems();for(i=0;i<N.length;i++){j=N[i];if(j.control&&j.filterItem&&!j.filterItem._isParameter()){if(W){O={name:N[i].filterItem.getName(),control:N[i].control};}else{O=N[i].control;}n.push(O);}}return n;};K.prototype.search=function(){var i={};i.selectionSet=this._retrieveCurrentSelectionSet();this.fireSearch(i);return true;};K.prototype.clear=function(){var i={};i.selectionSet=this._retrieveCurrentSelectionSet();this._clearErrorState();this.fireClear(i);this._updateToolbarText();};K.prototype.reset=function(){var i={};i.selectionSet=this._retrieveCurrentSelectionSet();this.fireReset(i);this._resetVariant();};K.prototype._resetVariant=function(){var i=null;if(this._oVariantManagement){var j=this._oVariantManagement.getSelectionKey();if(j){i=this._oVariantManagement.getVariantContent(this,j);if(this._oVariant){this._oVariant.content=i;this._oVariant.modified=false;}if(i){this.applyVariant(i,'RESET');}}}this._resetFilterBarSearch();};K.prototype._resetFilterBarSearch=function(){this._sSearchCriteriaInFiltersDialog='';this._oFiltersSearchField.setValue(this._sSearchCriteriaInFiltersDialog);this._triggerSearchByValueInFilterDialog(this._sSearchCriteriaInFiltersDialog);};K.prototype._applyVariant=function(i,j,n){var N,O=null,Q,U=false;if(i){if(n){Q=this._getTriggerFilterChangeState();this._setTriggerFilterChangeState(false);}this._setConsiderFilterChanges(false);N=i.filterBarVariant;O=i.filterbar;this._ensureFilterLoaded(O);this._reapplyVisibility(O);this._applyVariantFields(N);if(this._oBasicSearchField&&this._oBasicSearchField.setValue){this._oBasicSearchField.setValue(''||i.basicSearch);}if(i.executeOnSelection){U=i.executeOnSelection;}this.fireAfterVariantLoad(j,U);this._setConsiderFilterChanges(true);this._updateToolbarText();if(U){this.search();}else{this._clearErrorState();}if(n){this._setTriggerFilterChangeState(Q);}}};K.prototype._fetchVariantFiltersData=function(){if(this._fRegisteredFetchData){try{return this._fRegisteredFetchData();}catch(i){q.sap.log.error('callback for fetching data throws an exception');}}else{q.sap.log.warning('no callback for fetch data supplied');}return null;};K.prototype._applyVariantFields=function(j){if(this._fRegisteredApplyData){try{return this._fRegisteredApplyData(j);}catch(i){q.sap.log.error('callback for applying data throws an exception');}}else{q.sap.log.warning('no callback for appy data supplied');}};K.prototype._isStandardVariant=function(){var i=this.getCurrentVariantId();if(!i){return true;}if(this._oVariantManagement){if((i===this._oVariantManagement.getStandardVariantKey())){return true;}if(this._oVariantManagement._oStandardVariant===null){return true;}}return false;};K.prototype.fetchVariant=function(){var i;var j={};if(this._isDeltaHandling()){if(!this._isStandardVariant()){j.version='V2';}}this.fireBeforeVariantFetch();i=this._determineVariantFiltersInfo(true,!j.version);j.filterbar=(!i)?[]:i;j.filterBarVariant=this._fetchVariantFiltersData();if(this._oBasicSearchField&&this._oBasicSearchField.getValue){j.basicSearch=this._oBasicSearchField.getValue();}if(this._oVariant&&this._oVariant.content){this._oVariant.content=j;}return j;};K.prototype.applyVariant=function(i,j,n){if(i.version==='V2'){i=this.mergeVariant(this._getStandardVariant(),i,j);}this._applyVariant(i,j,n);if(n&&this._isNewFilterBarDesign()){}};K.prototype.determineMandatoryFilterItems=function(){var i;var j=[];var n=this._retrieveVisibleAdvancedItems();for(i=0;i<n.length;i++){if(n[i].filterItem.getMandatory()===true){if(n[i].control){j.push(n[i].filterItem);}}}return j;};K.prototype.determineControlByFilterItem=function(j,N){var i,n=null;var O,Q;if(!j||(!N&&j._isParameter())){return null;}if(this._aBasicAreaSelection){for(i=0;i<this._aBasicAreaSelection.length;i++){O=this._aBasicAreaSelection[i];if(j===O.filterItem){return O.control;}}}if(this._mAdvancedAreaFilter){for(n in this._mAdvancedAreaFilter){if(n){Q=this._mAdvancedAreaFilter[n];if(Q&&Q.items){for(i=0;i<Q.items.length;i++){O=Q.items[i];if((N||!O.filterItem._isParameter())&&(j===O.filterItem)){return O.control;}}}}}}return null;};K.prototype.determineControlByName=function(n,i){var j=this._determineEnsuredItemByName(n,i);if(j&&j.filterItem&&!j.filterItem._isParameter()){return j.control;}return null;};K.prototype.determineLabelByName=function(n,i){var j=this._determineEnsuredItemByName(n,i);if(j&&j.filterItem){return j.filterItem._oLabel;}return null;};K.prototype._determineEnsuredItemByName=function(n,i){if(!i){i=this._determineGroupNameByName(n);}this._ensureFilterLoaded([{name:n,group:i}]);return this._determineItemByName(n,i);};K.prototype._determineGroupNameByName=function(n){if(this._aFields){for(var i=0;i<this._aFields.length;i++){if(this._aFields[i].fieldName===n){return this._aFields[i].groupName;}}}var j=this.determineFilterItemByName(n);if(j){var N=j.getGroupName();if(N!==K.INTERNAL_GROUP){return N;}}return null;};K.prototype._determineItemByName=function(n,j){var i;var N,O;var Q=j;if(!n){return null;}if(!Q){Q=K.INTERNAL_GROUP;}if(this._mAdvancedAreaFilter){O=this._mAdvancedAreaFilter[Q];if(O&&O.items){for(i=0;i<O.items.length;i++){N=O.items[i];if(N&&N.filterItem&&(N.filterItem.getName()===n)){return N;}}}}return null;};K.prototype.determineFilterItemByName=function(N){var n,i;if(this._mAdvancedAreaFilter){for(n in this._mAdvancedAreaFilter){i=this._determineItemByName(N,n);if(i){return i.filterItem;}}}return null;};K.prototype._determineByControl=function(j){var n=null,i;if(this._mAdvancedAreaFilter){for(n in this._mAdvancedAreaFilter){if(n){var N=this._mAdvancedAreaFilter[n];if(N&&N.items){for(i=0;i<N.items.length;i++){if(N.items[i]&&N.items[i].control===j){return N.items[i];}}}}}}return null;};K.prototype._deleteProperties=function(){var n=null,i;if(this._mAdvancedAreaFilter){for(n in this._mAdvancedAreaFilter){if(n){var j=this._mAdvancedAreaFilter[n];if(j&&j.items){if(j.formcontainer){delete j.formcontainer;}if(j.link){delete j.link;}for(i=0;i<j.items.length;i++){if(j.items[i]&&j.items[i].checkbox){delete j.items[i].checkbox;}if(j.items[i]&&j.items[i].formelement){delete j.items[i].formelement;}}}}}}};K.prototype._fHandleResize=function(i){if(!this._isPhone()&&this._oFilterDialog&&this._oFilterDialog.isOpen()&&this._mAdvancedAreaFilter){this._repositionAddToFilterBarLabel();}this._checkAndAdaptFilterWidth();};K.prototype._checkAndAdaptFilterWidth=function(){if(this._isNewFilterBarDesign()&&!this._oFilterDialog){this._adaptFilterWidth();}};K.prototype._adaptFilterWidth=function(){var i;if(!this._oBasicAreaLayout){return;}if(!this._bIsInitialized){return;}var j=this._oBasicAreaLayout.getContent();if(!j){return;}for(i=j.length-1;i>=0;i--){if(!j[i].getVisible()){j.splice(i,1);}}if(j.length<1){return;}var n=this._oBasicAreaLayout.$().width()-1;var N,O=this._calculateRequiredWidthAndResetToInitialWidth(j);if(O>n){N=0;}else{N=j[j.length-1].$().width()+16;}var Q=0,U=j.length-1;if(this._isPhone()){Q++;U++;}var W=0;for(i=Q;i<U;i++){if((N+j[i].$().width()+16)>n){break;}N+=j[i].$().width()+16;W++;}var X=Math.floor((n-N)/W);if((W===1)&&(O<n)){X=Math.floor(X/3);}if(X>0){this._increaseFilterWidth(j,X,n);}};K.prototype._calculateRequiredWidthAndResetToInitialWidth=function(j){var i,W,n,N=j[j.length-1].$().width()+16;var O=this._retrieveVisibleAdvancedItems();if(this._isPhone()){N=j[0].$().width()+16;}else{N=j[j.length-1].$().width()+16;}if(this._oBasicSearchFieldContainer&&this._oBasicSearchFieldContainer.$()){this._oBasicSearchFieldContainer.$().width(this.getFilterContainerWidth());this._oBasicSearchFieldContainer.$().css({'min-width':this.getFilterContainerWidth()});this._oBasicSearchFieldContainer.$().css({'max-width':this._oBasicSearchFieldContainer.$().width()*1.5});N+=this._oBasicSearchFieldContainer.$().width();N+=16;}for(i=0;i<O.length;i++){if(O[i].filterItem&&O[i].filterItem.getVisible()&&O[i].filterItem.getVisibleInFilterBar()){var Q=O[i].container;if(Q&&Q.$()){if(O[i].filterWidth){n=Q.$().width();if(n!==O[i].filterWidth){Q.$().width(O[i].filterWidth);n=O[i].filterWidth;}}else{if(O[i].filterItem&&O[i].filterItem._iSpan){W=this._calculateISpanWidth(O[i].filterItem._iSpan);Q.$().width(W);}else{Q.$().width(this.getFilterContainerWidth());}n=Q.$().width();O[i].filterWidth=n;}Q.$().css({'min-width':n});Q.$().css({'max-width':n*1.5});N+=n;N+=16;}}}return N;};K.prototype._calculateISpanWidth=function(n){var W=parseInt(this.getFilterContainerWidth(),10),U=this.getFilterContainerWidth().replace(''+W,'');W=W*n+1;return(W+U);};K.prototype._increaseFilterWidth=function(j,n,N){var O,Q=0,U=j.length-1;if(this._isPhone()){Q++;U++;}for(var i=Q;i<U;i++){O=j[i].$().width()+n;j[i].$().width(O);}};K.prototype.onAfterRendering=function(i){if(!this._bDoItOnce&&!(this._isPhone()||this._isTablet())){this._bDoItOnce=true;if(this._oHintText&&this._oHintText.getVisible()){this.setFilterBarExpanded(false);}}this._checkAndAdaptFilterWidth();};K.prototype._destroyLazyFilterControl=function(){var j,i;if(this._aFields&&(this._aFields.length>0)){if(this._aFields&&this._aFields.length>0){for(j=0;j<this._aFields.length;j++){i=this._aFields[j];if(i.factory){if(i.control){i.control.destroy();}}}}}};K.prototype._destroyNonVisibleFilterControl=function(){var i,n,j;if(this._mAdvancedAreaFilter){for(n in this._mAdvancedAreaFilter){if(n&&this._mAdvancedAreaFilter[n]&&this._mAdvancedAreaFilter[n].items){for(i=0;i<this._mAdvancedAreaFilter[n].items.length;i++){j=this._mAdvancedAreaFilter[n].items[i];if(j&&j.container){if(this._oBasicAreaLayout&&(this._oBasicAreaLayout.indexOfContent(j.container)<0)){if(j.control&&!j.bDestroyed){j.control.destroy();j.bDestroyed=true;}}}}}}}};K.prototype._destroyFilterControls=function(){if(!this.getAdvancedMode()){this._destroyLazyFilterControl();this._destroyNonVisibleFilterControl();}};K.prototype._registerVariantManagement=function(){if(this._oVariantManagement){this._oVariantManagement.attachSave(this._variantSave,this);this._oVariantManagement.attachAfterSave(this._afterVariantSave,this);}};K.prototype._unregisterVariantManagement=function(){if(this._oVariantManagement){if(this._fInitialiseVariants){this._oVariantManagement.detachInitialise(this._fInitialiseVariants);this._fInitialiseVariants=null;}this._oVariantManagement.detachSave(this._variantSave,this);this._oVariantManagement.detachAfterSave(this._afterVariantSave,this);if(!this.getUseToolbar()&&!this._oVariantManagement.getDomRef()){this._oVariantManagement.destroy();}}};K.prototype.destroy=function(){sap.ui.core.ResizeHandler.deregister(this._hResizeListener);this._hResizeListener=null;this._unregisterVariantManagement();this._destroyFilterControls();G.prototype.destroy.apply(this,arguments);if(this._oDialog){this._oDialog.destroy();this._oDialog=null;}if(this._oFilterDialog){this._oFilterDialog.destroy();this._oFilterDialog=null;}this._aFields=null;this._oHintText=null;this._aBasicAreaSelection=null;this._mAdvancedAreaFilter=null;this._oBasicAreaLayout=null;this._oVariantManagement=null;this._oCollectiveSearch=null;this._oVariant=null;this._fRegisteredFetchData=null;this._fRegisteredApplyData=null;this._fRegisterGetFiltersWithValues=null;this._fRegisteredFilterChangeHandlers=null;this._oSearchButton=null;this._oFiltersButton=null;this._oHideShowButton=null;this._oClearButtonOnFB=null;this._oRestoreButtonOnFB=null;this._oAddToFilterBarLabel=null;this._oBasicSearchField=null;this._oBasicSearchFieldContainer=null;};return K;},true);\n",
	"sap/ui/comp/filterbar/FilterGroupItem.js":"/*\n * ! SAP UI development toolkit for HTML5 (SAPUI5)\n\n(c) Copyright 2009-2016 SAP SE. All rights reserved\n */\nsap.ui.define(['jquery.sap.global','sap/m/Label','./FilterItem','sap/ui/comp/library','sap/ui/core/TooltipBase'],function(q,L,F,l,T){'use strict';var a=F.extend('sap.ui.comp.filterbar.FilterGroupItem',{metadata:{library:'sap.ui.comp',properties:{groupTitle:{type:'string',group:'Misc',defaultValue:null},groupName:{type:'string',group:'Misc',defaultValue:null},visibleInAdvancedArea:{type:'boolean',group:'Misc',defaultValue:false}}}});a.prototype.init=function(){this.setVisibleInAdvancedArea(false);this._setParameter(false);};a.prototype._setParameter=function(v){this._bIsParameter=v;};a.prototype.setGroupTitle=function(v){this.setProperty('groupTitle',v);this.fireChange({propertyName:'groupTitle'});};a.prototype.setVisibleInAdvancedArea=function(v){this.setVisibleInFilterBar(v);};a.prototype.getVisibleInAdvancedArea=function(){return this.getVisibleInFilterBar();};a.prototype.destroy=function(){F.prototype.destroy.apply(this,arguments);};return a;},true);\n",
	"sap/ui/comp/filterbar/FilterItem.js":"/*\n * ! SAP UI development toolkit for HTML5 (SAPUI5)\n\n(c) Copyright 2009-2016 SAP SE. All rights reserved\n */\nsap.ui.define(['jquery.sap.global','sap/m/Label','sap/ui/comp/library','sap/ui/core/Element','sap/ui/core/TooltipBase','sap/ui/comp/util/IdentifierUtil'],function(q,L,l,E,T,I){'use strict';var F=E.extend('sap.ui.comp.filterbar.FilterItem',{metadata:{library:'sap.ui.comp',properties:{label:{type:'string',group:'Misc',defaultValue:null},name:{type:'string',group:'Misc',defaultValue:null},mandatory:{type:'boolean',group:'Misc',defaultValue:false},visible:{type:'boolean',group:'Misc',defaultValue:true},labelTooltip:{type:'string',group:'Misc',defaultValue:null},partOfCurrentVariant:{type:'boolean',group:'Misc',defaultValue:false},visibleInFilterBar:{type:'boolean',group:'Misc',defaultValue:true},hiddenFilter:{type:'boolean',group:'Misc',defaultValue:false}},aggregations:{control:{type:'sap.ui.core.Control',multiple:false}},events:{change:{parameters:{propertyName:{type:'string'}}}}}});F.prototype.init=function(){this._oLabel=null;this._bIsParameter=false;};F.prototype._isParameter=function(){return this._bIsParameter;};F.prototype.setVisible=function(v){this.setProperty('visible',v);this.fireChange({propertyName:'visible'});};F.prototype.setVisibleInFilterBar=function(v){this.setProperty('visibleInFilterBar',v);this.fireChange({propertyName:'visibleInFilterBar'});};F.prototype._getGroupName=function(){var n='';if(this.getGroupName){n=I.replace(this.getGroupName());}return n;};F.prototype._getName=function(){var n=I.replace(this.getName());var g=this._getGroupName();if(g){n=g+'-'+n;}return n;};F.prototype._createLabelControl=function(f){var t=this.getLabel();var i='filterItem-'+this._getName();if(f){i=f+'-'+i;}var o=new L({id:i,text:t,required:this.getMandatory(),tooltip:this.getLabelTooltip(),textAlign:'Begin'});return o;};F.prototype.setMandatory=function(v){this.setProperty('mandatory',v);if(this._oLabel){this._oLabel.setRequired(v);}this.fireChange({propertyName:'mandatory'});};F.prototype.setLabel=function(v){this.setProperty('label',v);if(this._oLabel){this._oLabel.setText(v);}this.fireChange({propertyName:'label'});};F.prototype.setLabelTooltip=function(t){this.setProperty('labelTooltip',t);if(this._oLabel){this._oLabel.setTooltip(t);}this.fireChange({propertyName:'labelTooltip'});};F.prototype.getLabelControl=function(f){if(!this._oLabel){this._oLabel=this._createLabelControl(f);}return this._oLabel;};F.prototype.destroy=function(){if(this._oLabel&&!this._oLabel.bDestroyed){this._oLabel.destroy();}E.prototype.destroy.apply(this,arguments);this._oLabel=null;};return F;},true);\n",
	"sap/ui/comp/filterbar/VariantConverterFrom.js":"/*\n * ! SAP UI development toolkit for HTML5 (SAPUI5)\n\n(c) Copyright 2009-2016 SAP SE. All rights reserved\n */\nsap.ui.define(['jquery.sap.global','sap/ui/comp/library','sap/ui/comp/valuehelpdialog/ValueHelpDialog','sap/m/MultiComboBox','sap/m/MultiInput','sap/m/DatePicker','sap/m/DateRangeSelection'],function(q,l,V,M,a,D,b){'use strict';var c=function(){};c.prototype.convert=function(s,f){var C=null,r=null;var S;if(s){S=JSON.parse(s);if(f&&f.getFilterBarViewMetadata&&S&&(S.Parameters||S.SelectOptions)){C={};if(S.Parameters){this._addParameters(S.Parameters,f,C);}if(S.SelectOptions){this._addSelectOptions(S.SelectOptions,f,C);}r={payload:null,variantId:null};r.payload=JSON.stringify(C);if(S.SelectionVariantID){r.variantId=S.SelectionVariantID;}}}return r;};c.prototype.retrieveVariantId=function(s){var v=null;var S;if(s){S=JSON.parse(s);if(S&&S.SelectionVariantID){v=S.SelectionVariantID;}}return v;};c.prototype._getParameterMetaData=function(n,f){var i,j;var g;var F=f.getFilterBarViewMetadata();if(F){for(i=0;i<F.length;i++){g=F[i];for(j=0;j<g.fields.length;j++){if(n===g.fields[j].fieldName){return g.fields[j];}}}}if(f.getAnalyticalParameters){var A=f.getAnalyticalParameters();if(A){for(j=0;j<A.length;j++){if(n===A[j].fieldName){return A[j];}}}}return null;};c.prototype._addParameters=function(s,f,C){var i;var n,v;var F;for(i=0;i<s.length;i++){v=s[i].PropertyValue;n=s[i].PropertyName;F=this._getParameterMetaData(n,f);if(F){f.determineControlByName(n);this._addAccordingMetaData(C,F,v);}else{q.sap.log.error(\"neither metadata nor custom information for filter '\"+n+\"'\");}}};c.prototype._addSelectOptions=function(s,f,C){var i;var n,r;var F,o;for(i=0;i<s.length;i++){n=s[i].PropertyName;r=s[i].Ranges;f.determineControlByName(n);F=this._getParameterMetaData(n,f);if(F){o=F.control;this._addRangesAccordingMetaData(C,F,r,o);}else{q.sap.log.error(\"neither metadata nor custom information for filter '\"+name+\"'\");}}};c.prototype._addRangesAccordingMetaData=function(C,f,r,o,n){var i,O;var d=function(s,v){var I=s;if(s==='CP'){I=sap.ui.comp.valuehelpdialog.ValueHelpRangeOperation.Contains;if(v){var g=v.indexOf('*');var h=v.lastIndexOf('*');if((g===0)&&(h!==(v.length-1))){I=sap.ui.comp.valuehelpdialog.ValueHelpRangeOperation.EndsWith;v=v.substring(1,v.length);}else if((g!==0)&&(h===(v.length-1))){I=sap.ui.comp.valuehelpdialog.ValueHelpRangeOperation.StartsWith;v=v.substring(0,v.length-1);}else{v=v.substring(1,v.length-1);}}}return{op:I,v:v};};var e=function(F,r){var i,I,O;if(!C[F]){C[F]={ranges:[],items:[],value:null};}for(i=0;i<r.length;i++){O=d(r[i].Option,r[i].Low);I={'exclude':(r[i].Sign==='E'),'operation':O.op,'keyField':F,'value1':O.v,'value2':r[i].High};C[F].ranges.push(I);}};if(r&&r.length>0){if(f.isCustomFilterField){if(!C._CUSTOM){C._CUSTOM={};}C._CUSTOM[f.fieldName]=r[0].Low;return;}if(f.conditionType){e(f.fieldName,r);return;}if(f.filterRestriction===sap.ui.comp.smartfilterbar.FilterType.single){if(!r[0].Low&&o&&(o instanceof D)){C[f.fieldName]=null;}else{C[f.fieldName]=r[0].Low;}}else if(f.filterRestriction===sap.ui.comp.smartfilterbar.FilterType.interval){if(o&&(o instanceof b)){if(r[0].Low&&r[0].High){C[f.fieldName]={low:r[0].Low,high:r[0].High};}else if(r[0].Low&&!r[0].High){C[f.fieldName]={low:r[0].Low,high:r[0].Low};}else if(!r[0].Low&&r[0].High){C[f.fieldName]={low:r[0].High,high:r[0].High};}else{C[f.fieldName]={low:null,high:null};}}else{C[f.fieldName]={low:r[0].Low===undefined?null:r[0].Low,high:r[0].High===undefined?null:r[0].High};}}else if(f.filterRestriction===sap.ui.comp.smartfilterbar.FilterType.multiple){C[f.fieldName]={ranges:[],items:[],value:null};if(o&&((o instanceof M)||(o instanceof a))){for(i=0;i<r.length;i++){O=d(r[i].Option,r[i].Low);if(O.op===sap.ui.comp.valuehelpdialog.ValueHelpRangeOperation.EQ){if(f.type==='Edm.DateTime'){C[f.fieldName].ranges.push({value1:O.v});}else{C[f.fieldName].items.push({key:O.v});}}}}else{e(f.fieldName,r);}}else{e(f.fieldName,r);}q.sap.log.warning(\"potential reduced information for filter '\"+f.fieldName+\"'\");}else{q.sap.log.warning(\"no Ranges-section found for filter '\"+f.fieldName+\"'\");}};c.prototype._addAccordingMetaData=function(C,f,v){var h=f.type==='Edm.DateTime'?'':v;var r=[{Sign:'I',Low:v,High:h,Option:'EQ'}];this._addRangesAccordingMetaData(C,f,r);};return c;},true);\n",
	"sap/ui/comp/filterbar/VariantConverterTo.js":"/*\n * ! SAP UI development toolkit for HTML5 (SAPUI5)\n\n(c) Copyright 2009-2016 SAP SE. All rights reserved\n */\nsap.ui.define(['jquery.sap.global','sap/ui/comp/library','sap/ui/comp/valuehelpdialog/ValueHelpDialog'],function(q,l,V){'use strict';var a=function(){};a.prototype.convert=function(k,f,d,F){var b,i;var j,J,n=null;var s={SelectionVariantID:k};if(d&&f){j=JSON.parse(d);if(j){b=this._getFields(f);if(b&&b.length>0){for(i=0;i<b.length;i++){this._convertField(s,b[i],j,F);}}if(j._CUSTOM){if(typeof j._CUSTOM==='string'){J=JSON.parse(j._CUSTOM);}else{J=j._CUSTOM;}for(n in J){if(n){this._addSingleValue(s,n,this._getValue(J[n]));}}}}}return JSON.stringify(s);};a.prototype._getParameterMetaData=function(n,f){var i,j;var g;var F=f.getFilterBarViewMetadata();if(F){for(i=0;i<F.length;i++){g=F[i];for(j=0;j<g.fields.length;j++){if(n===g.fields[j].fieldName){return g.fields[j];}}}}if(f.getAnalyticalParameters){var A=f.getAnalyticalParameters();if(A){for(j=0;j<A.length;j++){if(n===A[j].fieldName){return A[j];}}}}return null;};a.prototype._convertField=function(s,f,c,F){var o,v,O=null;var r;var b;if(c&&f&&s){o=c[f];if(o){b=this._getParameterMetaData(f,F);if(b){if(b.isCustomFilterField){return;}if(b.filterRestriction===sap.ui.comp.smartfilterbar.FilterType.single){v=(o.value===undefined)?o:o.value;v=this._getValue(v);this._addSingleValue(s,f,v);}else if(b.filterRestriction===sap.ui.comp.smartfilterbar.FilterType.interval){if(o.conditionTypeInfo){this._convertFieldByValue(s,f,c);}else{r=this._addRangeEntry(s,f);if((b.type==='Edm.DateTime')&&!o.high){o.high=o.low;}else if((b.type==='Edm.String')&&!o.high){O='EQ';}this._addRangeLowHigh(r,o,O);}}else if(b.filterRestriction===sap.ui.comp.smartfilterbar.FilterType.multiple){r=this._addRangeEntry(s,f);if(o.items&&o.items.length>0){this._addRangeMultipleSingleValues(r,o.items);}else if(o.ranges&&o.ranges.length>0){this._addRangeMultipleRangeValues(r,o.ranges);}else{this._addRangeSingleValue(r,o.value);}}else{this._convertFieldByValue(s,f,c);}}else{this._convertFieldByValue(s,f,c);}}}};a.prototype._convertFieldByValue=function(s,f,c){var o;var r;if(c&&f&&s){o=c[f];if(o){if(o.conditionTypeInfo){if(o.ranges&&o.ranges.length>0){r=this._addRangeEntry(s,f);this._addRanges(r,o.ranges);}}else if((o.ranges!==undefined)&&(o.items!==undefined)&&(o.value!==undefined)){r=this._addRangeEntry(s,f);if(o.ranges&&o.ranges.length>0){this._addRanges(r,o.ranges);}if(o.items&&o.items.length>0){this._addRangeMultipleSingleValues(r,o.items);}if(o.value){this._addRangeSingleValue(r,o.value);}}else if((o.items!==undefined)&&o.items&&(o.items.length>0)){r=this._addRangeEntry(s,f);this._addRangeMultipleSingleValues(r,o.items);}else if((o.low!==undefined)&&o.low&&(o.high!==undefined)&&o.high){r=this._addRangeEntry(s,f);this._addRangeLowHigh(r,o);}else if((o.value!==undefined)&&o.value){this._addSingleValue(s,f,o.value);}else if(o){this._addSingleValue(s,f,o);}}}};a.prototype._addRangeEntry=function(s,f){var o={PropertyName:f,Ranges:[]};if(!s.SelectOptions){s.SelectOptions=[];}s.SelectOptions.push(o);return o.Ranges;};a.prototype._addRanges=function(r,R){var s,o,L,h;for(var i=0;i<R.length;i++){s=R[i].exclude?'E':'I';L=this._getValue(R[i].value1);h=this._getValue(R[i].value2);if(R[i].operation===sap.ui.comp.valuehelpdialog.ValueHelpRangeOperation.Contains){o='CP';if(L){L='*'+L+'*';}}else if(R[i].operation===sap.ui.comp.valuehelpdialog.ValueHelpRangeOperation.StartsWith){o='CP';if(L){L=L+'*';}}else if(R[i].operation===sap.ui.comp.valuehelpdialog.ValueHelpRangeOperation.EndsWith){o='CP';if(L){L='*'+L;}}else{o=R[i].operation;}r.push({Sign:s,Option:o,Low:L,High:h});}};a.prototype._addRangeMultipleSingleValues=function(r,I){for(var i=0;i<I.length;i++){r.push({Sign:'I',Option:'EQ',Low:this._getValue(I[i].key),High:null});}};a.prototype._addRangeMultipleRangeValues=function(r,I){for(var i=0;i<I.length;i++){r.push({Sign:'I',Option:'EQ',Low:this._getValue(I[i].value1),High:null});}};a.prototype._addRangeSingleValue=function(r,v){r.push({Sign:'I',Option:'EQ',Low:this._getValue(v),High:null});};a.prototype._addRangeLowHigh=function(r,L,o){var O=o||'BT';r.push({Sign:'I',Option:O,Low:this._getValue(L.low),High:this._getValue(L.high)});};a.prototype._addSingleValue=function(s,f,v){if(!s.Parameters){s.Parameters=[];}s.Parameters.push({PropertyName:f,PropertyValue:v});};a.prototype._getFields=function(f){var r=[];if(f){for(var i=0;i<f.length;i++){r.push(f[i].name);}}return r;};a.prototype._getValue=function(v){if((v===null)||(v===undefined)){return null;}return''+v;};a.prototype._getControl=function(f,n){var c=null;var F=this._getParameterMetaData(n,f);if(F){c=F.control;}return c;};return a;},true);\n",
	"sap/ui/comp/library.js":"/*\n * ! SAP UI development toolkit for HTML5 (SAPUI5)\n\n(c) Copyright 2009-2016 SAP SE. All rights reserved\n */\nsap.ui.define(['jquery.sap.global','sap/ui/core/Core','sap/ui/core/library','sap/m/library','sap/ui/table/library','sap/ui/fl/library'],function(q,C,l,a,b,c){'use strict';sap.ui.getCore().initLibrary({name:'sap.ui.comp',version:'1.44.4',dependencies:['sap.ui.core','sap.m','sap.ui.table','sap.ui.fl','sap.ui.rta'],types:['sap.ui.comp.smartfield.ControlProposalType','sap.ui.comp.smartfield.ControlContextType','sap.ui.comp.smartfield.ControlType','sap.ui.comp.smartfield.DisplayBehaviour','sap.ui.comp.smartfield.JSONType','sap.ui.comp.smartfield.CriticalityRepresentationType','sap.ui.comp.smarttable.TableType','sap.ui.comp.personalization.AggregationRole','sap.ui.comp.personalization.ResetType','sap.ui.comp.personalization.ChangeType'],interfaces:[],controls:['sap.ui.comp.filterbar.FilterBar','sap.ui.comp.navpopover.NavigationPopover','sap.ui.comp.navpopover.SmartLink','sap.ui.comp.odata.FieldSelector','sap.ui.comp.smartchart.SmartChart','sap.ui.comp.smartfield.SmartField','sap.ui.comp.smartfield.SmartLabel','sap.ui.comp.smartfilterbar.SmartFilterBar','sap.ui.comp.smartform.Group','sap.ui.comp.smartform.GroupElement','sap.ui.comp.smartform.SmartForm','sap.ui.comp.smartmicrochart.SmartAreaMicroChart','sap.ui.comp.smartmicrochart.SmartBulletMicroChart','sap.ui.comp.smartmicrochart.SmartRadialMicroChart','sap.ui.comp.smartmicrochart.SmartMicroChart','sap.ui.comp.smarttable.SmartTable','sap.ui.comp.smartvariants.SmartVariantManagement','sap.ui.comp.smartvariants.SmartVariantManagementUi2','sap.ui.comp.transport.TransportDialog','sap.ui.comp.valuehelpdialog.ValueHelpDialog','sap.ui.comp.variants.EditableVariantItem','sap.ui.comp.variants.VariantManagement'],elements:['sap.ui.comp.filterbar.FilterGroupItem','sap.ui.comp.filterbar.FilterItem','sap.ui.comp.navpopover.LinkData','sap.ui.comp.navpopover.SemanticObjectController','sap.ui.comp.smartfield.Configuration','sap.ui.comp.smartfield.ControlProposal','sap.ui.comp.smartfield.ObjectStatus','sap.ui.comp.smartfilterbar.ControlConfiguration','sap.ui.comp.smartfilterbar.GroupConfiguration','sap.ui.comp.smartfilterbar.SelectOption','sap.ui.comp.smartform.Layout','sap.ui.comp.smartvariants.PersonalizableInfo','sap.ui.comp.variants.VariantItem'],extensions:{flChangeHandlers:{'sap.ui.comp.smartform.SmartForm':{'removeGroup':'sap/ui/comp/smartform/flexibility/changes/RemoveGroup','addGroup':'sap/ui/comp/smartform/flexibility/changes/AddGroup','moveGroups':'sap/ui/comp/smartform/flexibility/changes/MoveGroups','renameField':'sap/ui/comp/smartform/flexibility/changes/RenameField','propertyChange':'default','propertyBindingChange':'default'},'sap.ui.comp.smartform.Group':{'hideControl':'default','unhideControl':'default','renameGroup':'sap/ui/comp/smartform/flexibility/changes/RenameGroup','addField':'sap/ui/comp/smartform/flexibility/changes/AddField','addFields':'sap/ui/comp/smartform/flexibility/changes/AddFields','moveFields':'sap/ui/comp/smartform/flexibility/changes/MoveFields','propertyBindingChange':'default'},'sap.ui.comp.smartform.GroupElement':{'hideControl':'default','unhideControl':'default','renameField':'sap/ui/comp/smartform/flexibility/changes/RenameField','propertyBindingChange':'default'},'sap.ui.comp.smarttable.SmartTable':{'propertyChange':'default','propertyBindingChange':'default'},'sap.ui.comp.smartfilterbar.SmartFilterBar':{'propertyChange':'default','propertyBindingChange':'default'},'sap.ui.comp.navpopover.NavigationPopover':{'addLink':'sap/ui/comp/navpopover/flexibility/changes/AddLink','removeLink':'sap/ui/comp/navpopover/flexibility/changes/RemoveLink'}}}});sap.ui.comp.smartfield.ControlType={auto:'auto',dropDownList:'dropDownList',input:'input',datePicker:'datePicker',checkBox:'checkBox',selection:'selection'};sap.ui.comp.smartfield.DisplayBehaviour={auto:'auto',descriptionOnly:'descriptionOnly',descriptionAndId:'descriptionAndId',idAndDescription:'idAndDescription',idOnly:'idOnly',TrueFalse:'TrueFalse',OnOff:'OnOff',YesNo:'YesNo'};sap.ui.comp.smartfield.JSONType={String:'String',Date:'Date',Float:'Float',Integer:'Integer',Boolean:'Boolean',DateTime:'DateTime'};sap.ui.comp.smartfield.ControlContextType={None:'',ResponsiveTable:'responsiveTable',Form:'form',Table:'table',SmartFormGrid:'smartFormGrid'};sap.ui.comp.smartfield.ControlProposalType={None:'',ObjectNumber:'ObjectNumber',ObjectIdentifier:'ObjectIdentifier'};sap.ui.comp.smartfield.CriticalityRepresentationType={WithoutIcon:'WithoutIcon',WithIcon:'WithIcon'};sap.ui.comp.smarttable.TableType={Table:'Table',ResponsiveTable:'ResponsiveTable',AnalyticalTable:'AnalyticalTable',TreeTable:'TreeTable'};sap.ui.comp.personalization.ResetType={ResetFull:'ResetFull',ResetPartial:'ResetPartial'};sap.ui.comp.personalization.AggregationRole={Dimension:'Dimension',Measure:'Measure',NotDimeasure:'NotDimeasure'};sap.ui.comp.personalization.ChangeType={Unchanged:'Unchanged',ModelChanged:'ModelChanged',TableChanged:'TableChanged'};sap.ui.comp.smartfilterbar.FilterType={auto:'auto',single:'single',multiple:'multiple',interval:'interval'};sap.ui.comp.smartfilterbar.ControlType={auto:'auto',input:'input',dropDownList:'dropDownList',date:'date'};sap.ui.comp.smartfilterbar.MandatoryType={auto:'auto',mandatory:'mandatory',notMandatory:'notMandatory'};sap.ui.comp.smartfilterbar.DisplayBehaviour={auto:'auto',descriptionOnly:'descriptionOnly',descriptionAndId:'descriptionAndId',idAndDescription:'idAndDescription',idOnly:'idOnly'};sap.ui.comp.smartfilterbar.SelectOptionSign={I:'I',include:'I',E:'E',exclude:'E'};sap.ui.comp.navpopover.ChangeHandlerType={addLink:'addLink',removeLink:'removeLink'};return sap.ui.comp;},true);\n",
	"sap/ui/comp/manifest.json":"{\n  \"_version\": \"1.2.0\",\n  \"sap.app\": {\n    \"_version\": \"1.2.0\",\n    \"id\": \"sap.ui.comp\",\n    \"type\": \"library\",\n    \"embeds\": [],\n    \"applicationVersion\": {\n      \"version\": \"1.44.4\"\n    },\n    \"title\": \"SAPUI5 library with smart controls.\",\n    \"description\": \"SAPUI5 library with smart controls.\",\n    \"ach\": \"CA-UI5-CMP\",\n    \"resources\": \"resources.json\",\n    \"offline\": true\n  },\n  \"sap.ui\": {\n    \"_version\": \"1.1.0\",\n    \"technology\": \"UI5\",\n    \"supportedThemes\": [\n      \"base\",\n      \"sap_belize\",\n      \"sap_belize_plus\",\n      \"sap_bluecrystal\",\n      \"sap_hcb\"\n    ]\n  },\n  \"sap.ui5\": {\n    \"_version\": \"1.1.0\",\n    \"dependencies\": {\n      \"minUI5Version\": \"1.44\",\n      \"libs\": {\n        \"sap.ui.core\": {\n          \"minVersion\": \"1.44.4\"\n        },\n        \"sap.m\": {\n          \"minVersion\": \"1.44.4\"\n        },\n        \"sap.ui.table\": {\n          \"minVersion\": \"1.44.4\"\n        },\n        \"sap.ui.fl\": {\n          \"minVersion\": \"1.44.4\"\n        },\n        \"sap.ui.rta\": {\n          \"minVersion\": \"1.44.4\",\n          \"lazy\": true\n        },\n        \"sap.suite.ui.microchart\": {\n          \"minVersion\": \"1.44.4\",\n          \"lazy\": true\n        }\n      }\n    }\n  }\n}",
	"sap/ui/comp/navpopover/Factory.js":"/*\n * ! SAP UI development toolkit for HTML5 (SAPUI5)\n\n(c) Copyright 2009-2016 SAP SE. All rights reserved\n */\nsap.ui.define(['sap/ui/comp/library','sap/ui/comp/navpopover/FlexConnector'],function(C,F){'use strict';var a={getService:function(s){switch(s){case'CrossApplicationNavigation':return sap.ushell&&sap.ushell.Container&&sap.ushell.Container.getService('CrossApplicationNavigation');case'URLParsing':return sap.ushell&&sap.ushell.Container&&sap.ushell.Container.getService('URLParsing');case'FlexConnector':return F;default:return null;}}};return a;},true);\n",
	"sap/ui/comp/navpopover/FlexConnector.js":"/*\n * ! SAP UI development toolkit for HTML5 (SAPUI5)\n\n(c) Copyright 2009-2016 SAP SE. All rights reserved\n */\nsap.ui.define(['sap/ui/comp/library','sap/ui/comp/navpopover/flexibility/changes/AddLink','sap/ui/comp/navpopover/flexibility/changes/RemoveLink','sap/ui/fl/Utils','sap/ui/fl/FlexControllerFactory','sap/ui/fl/ChangePersistenceFactory'],function(C,A,R,F,a,b){'use strict';var c={getAppComponentForControl:function(o){return F.getAppComponentForControl(o);},isVendorLayer:function(){return F.isVendorLayer();},createAndSaveChangesForControl:function(m,o){var t=this;return new Promise(function(r,d){if(!m){return r();}t.createChangesForControl(m.removedLinks,o,sap.ui.comp.navpopover.ChangeHandlerType.removeLink);t.createChangesForControl(m.addedLinks,o,sap.ui.comp.navpopover.ChangeHandlerType.addLink);t.saveChangesForControl(o).then(function(e){return r();})['catch'](function(e){return d(e);});});},createChangesForControl:function(m,o,s){if(!m.length){return;}if(!s){throw new Error('sChangeType should be filled');}var f=a.createForControl(o);m.forEach(function(M){f.createAndApplyChange({changeType:s,content:M,isUserDependent:true},o);});},saveChangesForControl:function(o){return new Promise(function(r,d){a.createForControl(o).saveAll().then(function(e){return r();})['catch'](function(e){return d(e);});});},readChangesForControl:function(s,o){var d=this.getAppComponentForControl(o);var e=F.getFlexReference(d.getManifestObject());var m=b.getChangePersistenceForComponent(e).getChangesMapForComponent();return m[s]?m[s]:[];},discardChangesForControl:function(d,o){return new Promise(function(r,e){if(!d.length){return r();}a.createForControl(o).discardChanges(d).then(function(){return r();})['catch'](function(E){return e(E);});});},activateApplyChangeStatistics:function(){var t=this;this.aStatistics=[];var w=function(o,n){if(t.aStatistics.findIndex(function(s){return s.stableId===n.getId()&&s.changeId===o.getId();})<0){var g=n.getAvailableActions().find(function(h){return h.getKey()===o.getContent().key;});t.aStatistics.push({stableId:n.getId(),changeId:o.getId(),layer:o.getLayer(),key:o.getContent().key,text:g?g.getText():'',changeType:o.getChangeType()});}};var f=jQuery.proxy(A.applyChange,A);var d=function(o,n,p){w(o,n);f(o,n,p);};A.applyChange=d;var r=jQuery.proxy(R.applyChange,R);var e=function(o,n,p){w(o,n);r(o,n,p);};R.applyChange=e;},_formatStatistic:function(s){var l=s.layer;switch(s.layer){case'VENDOR':l=''+l;break;case'CUSTOMER':l='        '+l;break;case'USER':l='                '+l;break;default:l=''+l;}var v;switch(s.changeType){case sap.ui.comp.navpopover.ChangeHandlerType.addLink:v='On';break;case sap.ui.comp.navpopover.ChangeHandlerType.removeLink:v='Off';break;default:v='';}return{formattedLayer:l,formattedValue:v};},printStatisticOfText:function(l){var t=this;jQuery.sap.log.info('VENDOR ------------ CUSTOMER ----------- USER --------------------------------------');this.aStatistics.filter(function(s){return s.text===l;}).forEach(function(s){var f=t._formatStatistic(s);jQuery.sap.log.info(s.stableId+' '+f.formattedLayer+\" '\"+s.text+\"' \"+f.formattedValue);});},printStatisticAll:function(){var t=this;jQuery.sap.log.info('idx - VENDOR ------------ CUSTOMER ----------- USER --------------------------------------');this.aStatistics.forEach(function(s,i){var f=t._formatStatistic(s);jQuery.sap.log.info(i+' '+s.stableId+' '+f.formattedLayer+\" '\"+s.text+\"' \"+f.formattedValue);});},getNavigationPopoverStableID:function(s){return s.getNavigationPopoverHandler().getNavigationPopoverStableId();}};return c;},true);\n",
	"sap/ui/comp/navpopover/LinkData.js":"/*\n * ! SAP UI development toolkit for HTML5 (SAPUI5)\n\n(c) Copyright 2009-2016 SAP SE. All rights reserved\n */\nsap.ui.define(['jquery.sap.global','sap/ui/comp/library','sap/ui/core/Element'],function(q,l,E){'use strict';var L=E.extend('sap.ui.comp.navpopover.LinkData',{metadata:{library:'sap.ui.comp',properties:{text:{type:'string',defaultValue:null},href:{type:'string',defaultValue:null},target:{type:'string',defaultValue:null},description:{type:'string',defaultValue:undefined},visible:{type:'boolean',defaultValue:true},key:{type:'string',defaultValue:undefined}}}});L.prototype.getJson=function(){return{key:this.getKey(),href:this.getHref(),text:this.getText(),target:this.getTarget(),description:this.getDescription(),visible:this.getVisible()};};L.convert2Json=function(a){return a.map(function(o){return o.getJson();});};return L;},true);\n",
	"sap/ui/comp/navpopover/NavigationPopover.js":"/*\n * ! SAP UI development toolkit for HTML5 (SAPUI5)\n\n(c) Copyright 2009-2016 SAP SE. All rights reserved\n */\nsap.ui.define(['jquery.sap.global','sap/m/Link','sap/m/ResponsivePopover','sap/m/Title','sap/m/Image','sap/m/Text','sap/ui/layout/form/SimpleForm','sap/m/VBox','sap/m/ResponsivePopoverRenderer','./Factory','./LinkData','sap/ui/model/json/JSONModel','./Util','sap/ui/core/TitleLevel','sap/ui/layout/HorizontalLayout','sap/ui/layout/VerticalLayout','sap/ui/layout/form/SimpleFormLayout'],function(q,L,R,T,I,a,S,V,b,F,c,J,U,C,H,d,e){'use strict';var N=R.extend('sap.ui.comp.navpopover.NavigationPopover',{metadata:{library:'sap.ui.comp',properties:{semanticObjectName:{type:'string',group:'Misc',defaultValue:null},semanticAttributes:{type:'object',group:'Misc',defaultValue:null},appStateKey:{type:'string',group:'Misc',defaultValue:null},mainNavigationId:{type:'string',group:'Misc',defaultValue:null},availableActionsPersonalizationText:{type:'string',group:'Misc',defaultValue:undefined}},aggregations:{availableActions:{type:'sap.ui.comp.navpopover.LinkData',multiple:true,singularName:'availableAction'},mainNavigation:{type:'sap.ui.comp.navpopover.LinkData',multiple:false},ownNavigation:{type:'sap.ui.comp.navpopover.LinkData',multiple:false}},associations:{source:{type:'sap.ui.core.Control',multiple:false},extraContent:{type:'sap.ui.core.Control',multiple:false},component:{type:'sap.ui.core.Element',multiple:false}},events:{targetsObtained:{},navigate:{},availableActionsPersonalizationPress:{}}},renderer:b.render});N.prototype.init=function(){R.prototype.init.call(this);var m=new J({mainNavigationLink:{title:undefined,subtitle:undefined,href:undefined,target:undefined},ownNavigation:undefined,availableActions:[],availableActionsPersonalizationText:undefined,extraContent:undefined});m.setDefaultBindingMode(sap.ui.model.BindingMode.TwoWay);m.setSizeLimit(1000);this.setModel(m,'$sapuicompNavigationPopover');this._createContent();};N.prototype.retrieveNavTargets=function(){var x=F.getService('CrossApplicationNavigation');var u=F.getService('URLParsing');if(!x||!u){q.sap.log.error(\"Service 'CrossApplicationNavigation' could not be obtained\");this.fireTargetsObtained();return;}var t=this;this.setMainNavigation(null);this.setOwnNavigation(null);this.removeAllAvailableActions();var p=x.getLinks({semanticObject:this.getSemanticObjectName(),params:this.getSemanticAttributes(),appStateKey:this.getAppStateKey(),ui5Component:this._getComponent(),sortResultOnTexts:true});p.done(function(l){if(!l||!l.length){this.fireTargetsObtained();return;}var s=x.hrefForExternal();if(s&&s.indexOf('?')!==-1){s=s.split('?')[0];}l.forEach(function(o){if(o.intent.indexOf(s)===0){t.setOwnNavigation(new c({href:o.intent,text:o.text}));return;}var f=u.parseShellHash(o.intent);if(f.action&&(f.action==='displayFactSheet')){t.setMainNavigation(new c({href:o.intent,text:sap.ui.getCore().getLibraryResourceBundle('sap.ui.comp').getText('POPOVER_FACTSHEET')}));return;}t.addAvailableAction(new c({href:o.intent,text:o.text}));});t.fireTargetsObtained();});p.fail(function(E){q.sap.log.error(\"'retrieveNavTargets' failed\");return;});};N.prototype.show=function(){if(!this._hasNavigationTargets()){q.sap.log.error('no navigation targets assigned');return;}var o=this._getControl();if(!o){q.sap.log.error('no source assigned');return;}this.openBy(o);};N.prototype.getDirectLink=function(){var m=this.getModel('$sapuicompNavigationPopover');if(m.getProperty('/extraContent')){return null;}if(m.getProperty('/mainNavigationLink/href')&&!m.getProperty('/availableActions').length){return this._oHeaderForm.getContent()[0];}if(m.getProperty('/availableActions').length===1&&!m.getProperty('/mainNavigationLink/href')){return this._oActionBox.getItems()[0].getItems()[0];}return null;};N.prototype.hasContent=function(){var m=this.getModel('$sapuicompNavigationPopover');return!!m.getProperty('/mainNavigationLink/href')||!!m.getProperty('/availableActions').length||!!m.getProperty('/extraContent');};N.prototype.setExtraContent=function(o){var m=this.getModel('$sapuicompNavigationPopover');if(m.getProperty('/extraContent')){this.removeContent(1);}if(typeof o==='string'){o=sap.ui.getCore().byId(o);}this.insertContent(o,1);this.setAssociation('extraContent',o);m.setProperty('/extraContent',o);return this;};N.prototype.setMainNavigationId=function(m){this.setProperty('mainNavigationId',m,true);var M=this.getModel('$sapuicompNavigationPopover');if(typeof m==='string'){M.setProperty('/mainNavigationLink/title',m);}return this;};N.prototype.setMainNavigation=function(l){this.setAggregation('mainNavigation',l,true);if(!l){return this;}var m=this.getModel('$sapuicompNavigationPopover');if(l.getHref()){m.setProperty('/mainNavigationLink/href',this._convertToExternal(l.getHref()));m.setProperty('/mainNavigationLink/target',l.getTarget());this._oHeaderForm.removeStyleClass('navpopoversmallheader');}else{this._oHeaderForm.addStyleClass('navpopoversmallheader');}if(!m.getProperty('/mainNavigationLink/title')){m.setProperty('/mainNavigationLink/title',l.getText());}m.setProperty('/mainNavigationLink/subtitle',l.getDescription());return this;};N.prototype.setAvailableActionsPersonalizationText=function(A){this.setProperty('availableActionsPersonalizationText',A,true);var m=this.getModel('$sapuicompNavigationPopover');m.setProperty('/availableActionsPersonalizationText',A);return this;};N.prototype.addAvailableAction=function(l){this.addAggregation('availableActions',l);if(!l){return this;}var m=this.getModel('$sapuicompNavigationPopover');var i=m.getProperty('/availableActions').length;var M=l.getJson();M.href=this._convertToExternal(M.href);m.getData().availableActions.splice(i,0,M);m.refresh(true);return this;};N.prototype.insertAvailableAction=function(l,i){this.insertAggregation('availableActions',l,i);if(!l){return this;}var m=this.getModel('$sapuicompNavigationPopover');var M=l.getJson();M.href=this._convertToExternal(M.href);m.getData().availableActions.splice(i,0,M);m.refresh(true);return this;};N.prototype.removeAvailableAction=function(l){var i=this.indexOfAvailableAction(l);if(i>-1){var m=this.getModel('$sapuicompNavigationPopover');m.getData().availableActions.splice(i,1);m.refresh(true);}l=this.removeAggregation('availableActions',l);return l;};N.prototype.removeAllAvailableActions=function(){var A=this.removeAllAggregation('availableActions');var m=this.getModel('$sapuicompNavigationPopover');m.setProperty('/availableActions',[]);m.refresh(true);return A;};N.prototype.exit=function(o){if(this.getModel('$sapuicompNavigationPopover')){this.getModel('$sapuicompNavigationPopover').destroy();}R.prototype.exit.apply(this,arguments);};N.prototype.onAfterRenderingActionForm=function(){if(!sap.ui.Device.system.phone){return;}var m=this.getModel('$sapuicompNavigationPopover');var t=this.$().outerHeight();var h=this._oHeaderForm.$().outerHeight();var E=m.getProperty('/extraContent')?m.getProperty('/extraContent').$().outerHeight():0;var A=this._oActionBox.$().outerHeight();var D=t+'px';if(t>h+E+A){D=h+E+'px';}this._oActionBox.$().css('min-height','calc(100% - '+D+')');};N.prototype._createContent=function(){var t=this;this.addStyleClass('navigationPopover');this.setContentWidth('380px');this.setHorizontalScrolling(false);this.setShowHeader(!!sap.ui.Device.system.phone);this.setPlacement(sap.m.PlacementType.Auto);var o=new L({href:{path:'/mainNavigationLink/href'},text:{path:'/mainNavigationLink/title'},target:{path:'/mainNavigationLink/target'},visible:{path:'/mainNavigationLink/title',formatter:function(f){return!!f;}},enabled:{path:'/mainNavigationLink/href',formatter:function(v){return!!v;}},press:q.proxy(this._onLinkPress,this)});o.addStyleClass('navigationPopoverTitle');this._oHeaderForm=new S({maxContainerCols:1,layout:e.ResponsiveGridLayout,visible:{parts:[{path:'/mainNavigationLink/title'},{path:'/mainNavigationLink/subtitle'}],formatter:function(f,s){return!!f||!!s;}},content:[o,new a({text:{path:'/mainNavigationLink/subtitle'},visible:{path:'/mainNavigationLink/subtitle',formatter:function(v){return!!v;}}})]});this._oHeaderForm.addStyleClass('navigationPopoverTitleH1');this._oHeaderForm.setModel(this.getModel('$sapuicompNavigationPopover'));this._oActionBox=new V({visible:{parts:[{path:'/availableActions'},{path:'/availableActionsPersonalizationText'}],formatter:function(m,A){var M=m.filter(function(f){return f.visible===true;});return M.length>0||!!A;}},items:[new V({items:{path:'/availableActions',template:new L({text:'{text}',href:'{href}',target:'{target}',press:q.proxy(this._onLinkPress,this),visible:'{visible}'})}}),new L({width:'100%',textAlign:sap.ui.core.TextAlign.End,text:{path:'/availableActionsPersonalizationText'},visible:{parts:[{path:'/availableActions'},{path:'/availableActionsPersonalizationText'}],formatter:function(m,A){return m.length>0&&!!A;}},press:function(){t.fireAvailableActionsPersonalizationPress();}})]});this._oActionBox.addEventDelegate({onAfterRendering:q.proxy(this.onAfterRenderingActionForm,this)});this._oActionBox.addStyleClass('navigationPopoverAvailableLinks');this._oActionBox.setModel(this.getModel('$sapuicompNavigationPopover'));this.addContent(this._oHeaderForm);this.addContent(this._oActionBox);};N.prototype._onLinkPress=function(E){this.fireNavigate({text:E.getSource().getText(),href:E.getSource().getHref()});};N.prototype._hasNavigationTargets=function(){var m=this.getModel('$sapuicompNavigationPopover');if(!m.getProperty('/mainNavigationLink/href')&&!m.getProperty('/availableActions').length&&!m.getProperty('/extraContent')){q.sap.require('sap.m.MessageBox');var M=sap.ui.require('sap/m/MessageBox');M.show(sap.ui.getCore().getLibraryResourceBundle('sap.ui.comp').getText('POPOVER_DETAILS_NAV_NOT_POSSIBLE'),{icon:M.Icon.ERROR,title:sap.ui.getCore().getLibraryResourceBundle('sap.ui.comp').getText('POPOVER_MSG_NAV_NOT_POSSIBLE'),actions:[sap.m.MessageBox.Action.CLOSE],styleClass:(this.$()&&this.$().closest('.sapUiSizeCompact').length)?'sapUiSizeCompact':''});return false;}return true;};N.prototype._convertToExternal=function(h){var x=F.getService('CrossApplicationNavigation');if(!x){return h;}return x.hrefForExternal({target:{shellHash:h}},this._getComponent());};N.prototype._getControl=function(){var o=this.getAssociation('source');if(typeof o==='string'){o=sap.ui.getCore().byId(o);}return o;};N.prototype._getComponent=function(){var o=this.getComponent();if(typeof o==='string'){o=sap.ui.getCore().getComponent(o);}return o;};N.prototype._syncAvailableAction=function(l){var m=this.getModel('$sapuicompNavigationPopover');m.getProperty('/availableActions').some(function(o,i){if(o.key===l.getKey()){m.setProperty('/availableActions/'+i+'/visible',l.getVisible());return true;}});if(m.getProperty('/availableActionsPersonalizationText')!==undefined){var M=m.getProperty('/availableActions').filter(function(o){return o.visible===true;});m.setProperty('/availableActionsPersonalizationText',M.length>0?sap.ui.getCore().getLibraryResourceBundle('sap.ui.comp').getText('POPOVER_DEFINE_MORE_LINKS'):sap.ui.getCore().getLibraryResourceBundle('sap.ui.comp').getText('POPOVER_DEFINE_LINKS'));}};return N;},true);\n",
	"sap/ui/comp/navpopover/NavigationPopoverHandler.js":"/*\n * ! SAP UI development toolkit for HTML5 (SAPUI5)\n\n(c) Copyright 2009-2016 SAP SE. All rights reserved\n */\nsap.ui.define(['jquery.sap.global','sap/ui/comp/library','sap/ui/base/ManagedObject','./SemanticObjectController','sap/ui/model/json/JSONModel','sap/ui/core/Control','./Factory','./NavigationPopover','./Util','sap/m/VBox','./LinkData','sap/m/MessageBox','sap/ui/comp/navpopover/SelectionController'],function(q,C,M,S,J,a,F,N,U,V,L,b,c){'use strict';var d=M.extend('sap.ui.comp.navpopover.NavigationPopoverHandler',{metadata:{library:'sap.ui.comp',properties:{semanticObject:{type:'string',defaultValue:null},additionalSemanticObjects:{type:'string[]',defaultValue:[]},semanticObjectController:{type:'any',defaultValue:null},fieldName:{type:'string',defaultValue:null},semanticObjectLabel:{type:'string',defaultValue:null},mapFieldToSemanticObject:{type:'boolean',defaultValue:true},semanticAttributes:{type:'object',visibility:'hidden',defaultValue:null},contactAnnotationPath:{type:'string',defaultValue:undefined},enableAvailableActionsPersonalization:{type:'boolean',defaultValue:true}},associations:{control:{type:'sap.ui.core.Control',multiple:false}},events:{beforePopoverOpens:{parameters:{semanticObject:{type:'string'},semanticAttributes:{type:'object'},semanticAttributesOfSemanticObjects:{type:'object'},setSemanticAttributes:{type:'function'},setAppStateKey:{type:'function'},originalId:{type:'string'},open:{type:'function'}}},navigationTargetsObtained:{parameters:{mainNavigation:{type:'sap.ui.comp.navpopover.LinkData'},actions:{type:'sap.ui.comp.navpopover.LinkData[]'},ownNavigation:{type:'sap.ui.comp.navpopover.LinkData'},popoverForms:{type:'sap.ui.layout.form.SimpleForm[]'},semanticObject:{type:'string'},semanticAttributes:{type:'object'},originalId:{type:'string'},show:{type:'function'}}},innerNavigate:{parameters:{text:{type:'string'},href:{type:'string'},semanticObject:{type:'string'},semanticAttributes:{type:'object'},originalId:{type:'string'}}}}}});d.prototype.init=function(){this._oPopover=null;var m=new J({semanticObject:undefined,semanticObjectLabel:undefined,semanticAttributes:undefined,appStateKey:undefined,mainNavigationId:undefined,contact:{exists:false,bindingPath:undefined,expand:undefined,select:undefined},navigationTarget:{mainNavigation:undefined,availableActionsPersonalizationText:undefined,extraContent:undefined},availableActions:[]});m.setDefaultBindingMode(sap.ui.model.BindingMode.TwoWay);m.setSizeLimit(1000);this.setModel(m,'$sapuicompNavigationPopoverHandler');};d.prototype.applySettings=function(s){M.prototype.applySettings.apply(this,arguments);this.setSemanticAttributes(this._calculateSemanticAttributes());};d.prototype.openPopover=function(){var t=this;return new Promise(function(r){t._getPopover().then(function(p){if(!p.hasContent()){t._showErrorDialog(sap.ui.getCore().getLibraryResourceBundle('sap.ui.comp').getText('POPOVER_DETAILS_NAV_NOT_POSSIBLE'),sap.ui.getCore().getLibraryResourceBundle('sap.ui.comp').getText('POPOVER_MSG_NAV_NOT_POSSIBLE'),p);t._destroyPopover();return r();}var l=p.getDirectLink();if(l){t._fireInnerNavigate({text:l.getText(),href:l.getHref()});window.location.href=l.getHref();return r();}q.sap.delayedCall(0,this,function(){p.show();return r();});});});};d.prototype.getSemanticObjectValue=function(){var s=this.getSemanticAttributes();if(s){return s[this.getSemanticObject()][this.getSemanticObject()];}return undefined;};d.prototype.getNavigationPopoverStableId=function(){var A=this._getAppComponent();var s=this.getModel('$sapuicompNavigationPopoverHandler').getProperty('/semanticObject');if(!A||!s){return undefined;}var e=[s].concat(this.getAdditionalSemanticObjects());U.sortArrayAlphabetical(e);var f=e.join('--');return'sapuicompnavpopoverNavigationPopover---'+A.getId()+'---'+f;};d.prototype.updateBindingContext=function(){a.prototype.updateBindingContext.apply(this,arguments);this.setSemanticAttributes(this._calculateSemanticAttributes());this._destroyPopover();};d.prototype.setSemanticObjectLabel=function(l){this.setProperty('semanticObjectLabel',l);var m=this.getModel('$sapuicompNavigationPopoverHandler');m.setProperty('/semanticObjectLabel',l);return this;};d.prototype.setSemanticObject=function(s){this._destroyPopover();this.setProperty('semanticObject',s);var m=this.getModel('$sapuicompNavigationPopoverHandler');m.setProperty('/semanticObject',s);this.setSemanticAttributes(this._calculateSemanticAttributes());return this;};d.prototype.setSemanticAttributes=function(s){this.setProperty('semanticAttributes',s);var m=this.getModel('$sapuicompNavigationPopoverHandler');m.setProperty('/semanticAttributes',s);return this;};d.prototype.setFieldName=function(f){this.setProperty('fieldName',f);this.setSemanticAttributes(this._calculateSemanticAttributes());return this;};d.prototype.setControl=function(o){this.setAssociation('control',o);this.setModel(o.getModel());this._destroyPopover();this._updateSemanticObjectController();this.setSemanticAttributes(this._calculateSemanticAttributes());return this;};d.prototype.setMapFieldToSemanticObject=function(m){this.setProperty('mapFieldToSemanticObject',m);this.setSemanticAttributes(this._calculateSemanticAttributes());return this;};d.prototype.setSemanticObjectController=function(s){this._updateSemanticObjectController(s);this.setSemanticAttributes(this._calculateSemanticAttributes());return this;};d.prototype.exit=function(){this._destroyPopover();if(this.getSemanticObjectController()){this.getSemanticObjectController().unregisterControl(this);}if(this.getModel('$sapuicompNavigationPopoverHandler')){this.getModel('$sapuicompNavigationPopoverHandler').destroy();}};d.prototype._initModel=function(){var t=this;this.setSemanticAttributes(this._calculateSemanticAttributes());var s=this.getSemanticAttributes();var e=this.getSemanticObject();var A=this.getAdditionalSemanticObjects();var f=this.getContactAnnotationPath();if(f===undefined&&this.getSemanticObjectController()&&this.getSemanticObjectController().getContactAnnotationPaths()&&this.getSemanticObjectController().getContactAnnotationPaths()[this.getFieldName()]!==undefined){f=this.getSemanticObjectController().getContactAnnotationPaths()[this.getFieldName()];}var o=sap.ui.getCore().byId(this.getControl());var B=o&&o.getBindingContext()?o.getBindingContext().getPath():null;var O=this.getModel();var g=this._getComponent();var i=o&&o.getId();var m,h;var E=this.getEnableAvailableActionsPersonalization();if(this.getSemanticObjectController()&&this.getSemanticObjectController().getEnableAvailableActionsPersonalization()&&this.getSemanticObjectController().getEnableAvailableActionsPersonalization()[this.getFieldName()]!==undefined){E=this.getSemanticObjectController().getEnableAvailableActionsPersonalization()[this.getFieldName()];}return new Promise(function(r){t._fireBeforePopoverOpens(s,e,i).then(function(R){t.setSemanticAttributes(R.semanticAttributes);m=h=t.getSemanticObjectValue();t.getModel('$sapuicompNavigationPopoverHandler').setProperty('/appStateKey',R.appStateKey);t._prepareFormsAndTargets(e,A,R.appStateKey,g,R.semanticAttributes,m,O,B,f,h).then(function(j){t._fireNavigationTargetsObtained(m,e,R.semanticAttributes,i,j[0].forms,j[1]).then(function(k){var l=t.getModel('$sapuicompNavigationPopoverHandler');l.setProperty('/mainNavigationId',k.mainNavigationId);l.setProperty('/navigationTarget/mainNavigation',k.mainNavigation);l.setProperty('/navigationTarget/extraContent',k.extraContent);l.setProperty('/contact/exists',!!j[0].forms.length);l.setProperty('/contact/bindingPath',j[0].bindingPath);l.setProperty('/contact/expand',j[0].expand);l.setProperty('/contact/select',j[0].select);var n=t._updateVisibilityOfAvailableActions(L.convert2Json(k.availableActions));l.setProperty('/availableActions',n);l.setProperty('/navigationTarget/availableActionsPersonalizationText',E?sap.ui.getCore().getLibraryResourceBundle('sap.ui.comp').getText('POPOVER_DEFINE_LINKS'):undefined);return r();});});});});};d.prototype._initPopover=function(){var t=this;return new Promise(function(r){t._initModel().then(function(){var m=t.getModel('$sapuicompNavigationPopoverHandler');var p=t._createPopover();if(m.getProperty('/contact/exists')){var o=sap.ui.getCore().byId(t.getControl());var B=o&&o.getBindingContext()?o.getBindingContext().getPath():null;if(m.getProperty('/contact/bindingPath')){p.bindContext({path:m.getProperty('/contact/bindingPath'),events:{change:function(){p.invalidate();}}});}else if(B){p.bindContext({path:B,parameters:{expand:m.getProperty('/contact/expand'),select:m.getProperty('/contact/select')},events:{change:function(){p.invalidate();}}});}}return r(p);});});};d.prototype._getPopover=function(){var t=this;return new Promise(function(r){if(!t._oPopover){t._initPopover().then(function(p){return r(p);});}else{return r(t._oPopover);}});};d.prototype._destroyPopover=function(){if(this._oPopover){this._oPopover.destroy();this._oPopover=null;}};d.prototype._createPopover=function(){if(this._oPopover){return this._oPopover;}var m=this.getModel('$sapuicompNavigationPopoverHandler');this._oPopover=new N(this.getNavigationPopoverStableId(),{title:'{$sapuicompNavigationPopoverHandler>/semanticObjectLabel}',mainNavigationId:'{$sapuicompNavigationPopoverHandler>/mainNavigationId}',semanticObjectName:'{$sapuicompNavigationPopoverHandler>/semanticObject}',semanticAttributes:'{$sapuicompNavigationPopoverHandler>/semanticAttributes}',appStateKey:'{$sapuicompNavigationPopoverHandler>/appStateKey}',mainNavigation:m.getProperty('/navigationTarget/mainNavigation'),availableActions:{path:'$sapuicompNavigationPopoverHandler>/availableActions',templateShareable:false,template:new L({key:'{$sapuicompNavigationPopoverHandler>key}',href:'{$sapuicompNavigationPopoverHandler>href}',text:'{$sapuicompNavigationPopoverHandler>text}',target:'{$sapuicompNavigationPopoverHandler>target}',description:'{$sapuicompNavigationPopoverHandler>description}',visible:'{$sapuicompNavigationPopoverHandler>visible}'})},extraContent:m.getProperty('/navigationTarget/extraContent')?m.getProperty('/navigationTarget/extraContent').getId():undefined,availableActionsPersonalizationText:m.getProperty('/navigationTarget/availableActionsPersonalizationText'),source:this.getControl(),component:this._getComponent(),navigate:q.proxy(this._onNavigate,this),availableActionsPersonalizationPress:q.proxy(this._onAvailableActionsPersonalizationPress,this),afterClose:q.proxy(this._destroyPopover,this)});this._oPopover.setModel(m,'$sapuicompNavigationPopoverHandler');var o=sap.ui.getCore().byId(this.getControl());if(o){o.addDependent(this._oPopover);}return this._oPopover;};d.prototype._prepareFormsAndTargets=function(s,A,e,o,f,m,O,B,g,h){var p=new Promise(function(r){U.retrieveContactAnnotationData(O,B,g).then(function(i){var j=U.parseContactAnnotation(i);return r({bindingPath:i.entitySet?'/'+i.entitySet+\"('\"+h+\"')\":undefined,expand:j.expand,select:j.select,forms:U.createContactDetailForms(j.groups)});});});var P=new Promise(function(r){U.retrieveNavigationTargets(s,A,e,o,f,m).then(function(n){return r(n);});});return Promise.all([p,P]);};d.prototype._fireBeforePopoverOpens=function(s,e,i){var t=this;return new Promise(function(r){var R={semanticAttributes:s,appStateKey:undefined};if(!t.hasListeners('beforePopoverOpens')){return r(R);}t.fireBeforePopoverOpens({originalId:i,semanticObject:e,semanticAttributes:s?s[e]:s,semanticAttributesOfSemanticObjects:s,setSemanticAttributes:function(f,g){g=g||e;R.semanticAttributes=R.semanticAttributes||{};R.semanticAttributes[g]=f;},setAppStateKey:function(A){R.appStateKey=A;},open:function(){return r(R);}});});};d.prototype._fireNavigationTargetsObtained=function(m,s,o,i,f,n){var t=this;return new Promise(function(r){var R={mainNavigationId:m,mainNavigation:n.mainNavigation,availableActions:n.availableActions,ownNavigation:n.ownNavigation,extraContent:f.length?new V({items:f}):undefined};if(!t.hasListeners('navigationTargetsObtained')){return r(R);}t.fireNavigationTargetsObtained({mainNavigation:n.mainNavigation,actions:n.availableActions,ownNavigation:n.ownNavigation,popoverForms:f,semanticObject:s,semanticAttributes:o?o[s]:o,originalId:i,show:function(m,e,A,g){if(!(typeof m==='string'||e instanceof sap.ui.comp.navpopover.LinkData||q.isArray(A))&&g===undefined){g=A;A=e;e=m;m=undefined;}if(m!==undefined&&m!==null){R.mainNavigationId=m;}if(e!==undefined){R.mainNavigation=e;}if(A){R.availableActions=A;}if(g){R.extraContent=g;}return r(R);}});});};d.prototype._onNavigate=function(e){var p=e.getParameters();this._fireInnerNavigate({text:p.text,href:p.href});};d.prototype._onAvailableActionsPersonalizationPress=function(e){var t=this;var n=e.getSource();var v=n.getAvailableActions().map(function(A){return{availableAction:A,visible:A.getVisible()};});var m=U.availableAction2MItems(n);var f=U.availableAction2MColumnsItems(n);this._oPopover.setModal(true);new c().openSelectionDialog(m,f,n).then(function(o){t._oPopover.setModal(false);F.getService('FlexConnector').createAndSaveChangesForControl(o,n).then(function(){})['catch'](function(E){v.forEach(function(O){O.availableAction.setVisible(O.visible);n._syncAvailableAction(O.availableAction);});q.sap.log.error('Changes could not be saved in LRep: '+E);});})['catch'](function(){t._oPopover.setModal(false);});};d.prototype._fireInnerNavigate=function(p){var o=sap.ui.getCore().byId(this.getControl());var s=this.getSemanticObject();var e=this.getSemanticAttributes();this.fireInnerNavigate({text:p.text,href:p.href,originalId:o?o.getId():undefined,semanticObject:s,semanticAttributes:e?e[s]:e});};d.prototype._getComponent=function(){var o=sap.ui.getCore().byId(this.getControl());if(!o){return null;}var p=o.getParent();while(p){if(p instanceof sap.ui.core.Component){if(p&&p.getAppComponent){p=p.getAppComponent();}return p;}p=p.getParent();}return null;};d.prototype._getAppComponent=function(){return F.getService('FlexConnector').getAppComponentForControl(sap.ui.getCore().byId(this.getControl()));};d.prototype._calculateSemanticAttributes=function(){var o=sap.ui.getCore().byId(this.getControl());var B=this.getBindingContext()||(o&&o.getBindingContext());if(!B){return null;}var r={};var s=this.getFieldName();var e=B.getObject(B.getPath());for(var A in e){if(A==='__metadata'){continue;}if(!e[A]){continue;}var f=A;if(this.getMapFieldToSemanticObject()){f=this._mapFieldToSemanticObject(A);}var g=e[A];if(r[f]){if(e[s]){g=e[s];}}r[f]=g;}var R={};['',this.getSemanticObject()].concat(this.getAdditionalSemanticObjects()).forEach(function(h){R[h]=r;});return R;};d.prototype._mapFieldToSemanticObject=function(f){if(this.getFieldName()===f&&this.getSemanticObject()){return this.getSemanticObject();}var s=this.getSemanticObjectController();if(!s){return f;}var m=s.getFieldSemanticObjectMap();if(!m){return f;}return m[f]||f;};d.prototype._updateSemanticObjectController=function(o){var e=this.getProperty('semanticObjectController');var f=sap.ui.getCore().byId(this.getControl());o=o||this.getSemanticObjectController()||this._getSemanticObjectControllerOfControl(f);if(o&&f&&o.isControlRegistered(f)){o.unregisterControl(this);}if(o!==e&&e){e.unregisterControl(this);}this.setProperty('semanticObjectController',o);if(o&&!o.isControlRegistered(f)){o.registerControl(this);}};d.prototype._getSemanticObjectControllerOfControl=function(o){if(!o){return undefined;}var s;var p=o.getParent();while(p){if(p.getSemanticObjectController){s=p.getSemanticObjectController();if(s){this.setSemanticObjectController(s);break;}}p=p.getParent();}return s;};d.prototype._updateVisibilityOfAvailableActions=function(A){if(A.length>10){A.forEach(function(o){o.visible=false;});}return A;};d.prototype._showErrorDialog=function(t,T,o){b.show(t,{icon:b.Icon.ERROR,title:T,actions:[sap.m.MessageBox.Action.CLOSE],styleClass:(o.$()&&o.$().closest('.sapUiSizeCompact').length)?'sapUiSizeCompact navigationPopoverErrorDialog':'navigationPopoverErrorDialog'});};return d;},true);\n",
	"sap/ui/comp/navpopover/RTAHandler.js":"/*\n * ! SAP UI development toolkit for HTML5 (SAPUI5)\n\n(c) Copyright 2009-2016 SAP SE. All rights reserved\n */\nsap.ui.define(['jquery.sap.global','sap/ui/comp/library','./SelectionController','./Util','sap/ui/comp/navpopover/flexibility/changes/AddLink','sap/ui/comp/navpopover/flexibility/changes/RemoveLink','sap/ui/fl/changeHandler/JsControlTreeModifier','./Factory'],function(q,C,S,U,A,R,J,F){'use strict';var a={};a.isSettingsAvailable=function(){return F.getService('CrossApplicationNavigation')&&F.getService('FlexConnector').isVendorLayer();};a.getStableElements=function(n){if(!n||!(n instanceof sap.ui.comp.navpopover.NavigationPopoverHandler)){return null;}var s=n.getNavigationPopoverStableId();if(!s){return null;}var o=n._getAppComponent();if(!o){return null;}return[{id:s,appComponent:o}];};a.execute=function(n,g){return new Promise(function(r,b){if(!n||!(n instanceof sap.ui.comp.navpopover.NavigationPopoverHandler)){return b(new Error('oNavigationPopoverHandler is not of supported type sap.ui.comp.navpopover.NavigationPopoverHandler'));}var s=n.getNavigationPopoverStableId();if(!s){return b(new Error('StableId is not defined. SemanticObject='+n.getSemanticObject()));}var o=n._getAppComponent();if(!o){return b(new Error('AppComponent is not defined. oControl='+n.getControl()));}var c=sap.ui.getCore().byId(n.getControl());n._getPopover().then(function(N){a._applyUnsavedChanges(s,g,N,o);var m=U.availableAction2MItems(N);var M=U.availableAction2MColumnsItems(N);n._destroyPopover();new S().openSelectionDialog(m,M,c).then(function(d){if(!d){r([]);}var e=a._prepareResult(d.addedLinks,sap.ui.comp.navpopover.ChangeHandlerType.addLink,s,o);var f=a._prepareResult(d.removedLinks,sap.ui.comp.navpopover.ChangeHandlerType.removeLink,s,o);r(e.concat(f));})['catch'](function(d){return b(d);});});});};a._prepareResult=function(m,c,s,o){return m.map(function(M){return{selectorControl:{id:s,controlType:'sap.ui.comp.navpopover.NavigationPopover',appComponent:o},changeSpecificData:{changeType:c,content:M}};});};a._applyUnsavedChanges=function(s,g,n,o){var c=g(s,[sap.ui.comp.navpopover.ChangeHandlerType.addLink,sap.ui.comp.navpopover.ChangeHandlerType.removeLink]);c.forEach(function(b){switch(b.getChangeType()){case sap.ui.comp.navpopover.ChangeHandlerType.addLink:A.applyChange(b,n,{modifier:J,appComponent:o});break;case sap.ui.comp.navpopover.ChangeHandlerType.removeLink:R.applyChange(b,n,{modifier:J,appComponent:o});break;}});};return a;},true);\n",
	"sap/ui/comp/navpopover/SelectionController.js":"/*\n * ! SAP UI development toolkit for HTML5 (SAPUI5)\n\n(c) Copyright 2009-2016 SAP SE. All rights reserved\n */\nsap.ui.define(['jquery.sap.global','sap/ui/base/ManagedObject','sap/m/P13nDialog','sap/m/P13nSelectionPanel','sap/m/P13nItem','sap/m/P13nColumnsItem','sap/ui/comp/personalization/Util'],function(q,M,P,a,b,c,d){'use strict';var S=M.extend('sap.ui.comp.navpopover.SelectionController',{metadata:{library:'sap.ui.comp'}});S.prototype.openSelectionDialog=function(m,e,C){var f=S._applyNewItems(m,e);return new Promise(function(r){var D=new P({stretch:sap.ui.Device.system.phone,showReset:false,contentWidth:'25rem',contentHeight:'35rem',panels:[new a({titleLarge:sap.ui.getCore().getLibraryResourceBundle('sap.ui.comp').getText('POPOVER_SELECTION_TITLE'),items:m.filter(function(o){return o.key!==undefined;}).map(function(o){return new b({columnKey:o.key,text:o.text});}),columnsItems:e.filter(function(o){return o.key!==undefined;}).map(function(o){return new c({columnKey:o.key,visible:o.visible,index:o.index});})})],ok:function(E){if(!E.getParameter('payload')||!E.getParameter('payload').selection||!E.getParameter('payload').selection.columnsItems){this.close();this.destroy();return r(null);}var o=S.getDiff(f,S._columnsItems2MColumnsItems(E.getParameter('payload').selection.columnsItems));if(!o){this.close();this.destroy();return r(null);}this.close();this.destroy();return r(o);},cancel:function(){this.close();this.destroy();return r(null);}});D.toggleStyleClass('sapUiSizeCompact',!!q(C.getDomRef()).closest('.sapUiSizeCompact').length);D.open();});};S._applyNewItems=function(i,n){return i.map(function(I){var N=d.getArrayElementByKey('key',I.key,n);return{key:I.key,visible:N?N.visible:I.visible};});};S._columnsItems2MColumnsItems=function(C){return C.map(function(o){return{key:o.getColumnKey(),visible:o.getVisible()};});};S.getDiff=function(o,n){if(o.length<n.length){return null;}var D={addedLinks:[],removedLinks:[]};o.forEach(function(O){var N=d.getArrayElementByKey('key',O.key,n);if(!N){return;}if(N.visible!==O.visible&&N.visible===true){D.addedLinks.push(N);}if(N.visible!==O.visible&&N.visible===false){D.removedLinks.push(N);}});return(D.addedLinks.length||D.removedLinks.length)?D:null;};S.getUnion=function(o,n){var u=[];o.forEach(function(O){var U=q.extend(true,{},O);var N=d.getArrayElementByKey('key',O.key,n);if(N){U.visible=N.visible;U.index=N.index;}u.push(U);});n.forEach(function(N){var U=d.getArrayElementByKey('key',N.key,u);if(!U){u.push(N);}});return u;};return S;},true);\n",
	"sap/ui/comp/navpopover/SemanticObjectController.js":"/*\n * ! SAP UI development toolkit for HTML5 (SAPUI5)\n\n(c) Copyright 2009-2016 SAP SE. All rights reserved\n */\nsap.ui.define(['jquery.sap.global','sap/ui/comp/library','sap/ui/core/Element','./Factory','sap/ui/model/json/JSONModel'],function(q,l,E,F,J){'use strict';var S=E.extend('sap.ui.comp.navpopover.SemanticObjectController',{metadata:{library:'sap.ui.comp',properties:{ignoredFields:{type:'string',group:'Misc',defaultValue:null},prefetchNavigationTargets:{type:'boolean',group:'Misc',defaultValue:false},fieldSemanticObjectMap:{type:'object',group:'Misc',defaultValue:null},entitySet:{type:'string',group:'Misc',defaultValue:null},contactAnnotationPaths:{type:'object',defaultValue:null},enableAvailableActionsPersonalization:{type:'object',defaultValue:null}},events:{navigationTargetsObtained:{parameters:{mainNavigation:{type:'sap.ui.comp.navpopover.LinkData'},actions:{type:'sap.ui.comp.navpopover.LinkData[]'},ownNavigation:{type:'sap.ui.comp.navpopover.LinkData'},popoverForms:{type:'sap.ui.layout.form.SimpleForm[]'},semanticObject:{type:'string'},semanticAttributes:{type:'object'},originalId:{type:'string'},show:{type:'function'}}},beforePopoverOpens:{parameters:{semanticObject:{type:'string'},semanticAttributes:{type:'object'},semanticAttributesOfSemanticObjects:{type:'object'},setSemanticAttributes:{type:'function'},setAppStateKey:{type:'function'},originalId:{type:'string'},open:{type:'function'}}},navigate:{parameters:{text:{type:'string'},href:{type:'string'},semanticObject:{type:'string'},semanticAttributes:{type:'object'},originalId:{type:'string'}}},prefetchDone:{parameters:{semanticObjects:{type:'object'}}}}}});S.oSemanticObjects={};S.oNavigationTargetActions={};S.bHasPrefetchedDistinctSemanticObjects=false;S.bHasPrefetchedNavigationTargetActions=false;S.oPromise;S.oPromiseActions;S.prototype.init=function(){S.prefetchDistinctSemanticObjects();this._proxyOnBeforePopoverOpens=q.proxy(this._onBeforePopoverOpens,this);this._proxyOnTargetsObtained=q.proxy(this._onTargetsObtained,this);this._proxyOnNavigate=q.proxy(this._onNavigate,this);this._aRegisteredControls=[];};S.prototype.isControlRegistered=function(c){return this._aRegisteredControls.indexOf(c)>-1;};S.prototype.registerControl=function(c){if(!(c instanceof sap.ui.comp.navpopover.SmartLink||c instanceof sap.ui.comp.navpopover.NavigationPopoverHandler)){q.sap.log.warning('sap.ui.comp.navpopover.SemanticObjectController: '+(c.getMetadata?c.getMetadata():'parameter')+' is neither of SmartLink nor of NavigationPopoverHandler instance');return;}if(this.isControlRegistered(c)){return;}if(c.attachBeforePopoverOpens){c.attachBeforePopoverOpens(this._proxyOnBeforePopoverOpens);}if(c.attachNavigationTargetsObtained){c.attachNavigationTargetsObtained(this._proxyOnTargetsObtained);}if(c.attachInnerNavigate){c.attachInnerNavigate(this._proxyOnNavigate);}this._aRegisteredControls.push(c);};S.prototype.unregisterControl=function(c){if(!c){return;}if(!this.isControlRegistered(c)){return;}if(c.detachBeforePopoverOpens){c.detachBeforePopoverOpens(this._proxyOnBeforePopoverOpens);}if(c.detachNavigationTargetsObtained){c.detachNavigationTargetsObtained(this._proxyOnTargetsObtained);}if(c.detachInnerNavigate){c.detachInnerNavigate(this._proxyOnNavigate);}this._aRegisteredControls.splice(this._aRegisteredControls.indexOf(c),1);};S.prototype._onBeforePopoverOpens=function(e){var p=e.getParameters();if(this.hasListeners('beforePopoverOpens')){this.fireBeforePopoverOpens({semanticObject:p.semanticObject,semanticAttributes:p.semanticAttributes,semanticAttributesOfSemanticObjects:p.semanticAttributesOfSemanticObjects,setSemanticAttributes:p.setSemanticAttributes,setAppStateKey:p.setAppStateKey,originalId:p.originalId,open:p.open});}else{p.open();}};S.prototype._onTargetsObtained=function(e){var p=e.getParameters();if(!this.hasListeners('navigationTargetsObtained')){p.show();return;}this.fireNavigationTargetsObtained({mainNavigation:p.mainNavigation,actions:p.actions,ownNavigation:p.ownNavigation,popoverForms:p.popoverForms,semanticObject:p.semanticObject,semanticAttributes:p.semanticAttributes,originalId:p.originalId,show:p.show});};S.prototype._onNavigate=function(e){var p=e.getParameters();this.fireNavigate({text:p.text,href:p.href,originalId:p.originalId,semanticObject:p.semanticObject,semanticAttributes:p.semanticAttributes});};S.prototype.setIgnoredState=function(s){if(s instanceof sap.ui.comp.navpopover.SmartLink){s._updateEnabled();}};S.prototype.setIgnoredFields=function(i){this.setProperty('ignoredFields',i);this._aRegisteredControls.forEach(function(r){if(r._updateEnabled){r._updateEnabled();}});return this;};S.prototype.setPrefetchNavigationTargets=function(p){this.setProperty('prefetchNavigationTargets',p);if(p!==true){return this;}q.sap.log.error('sap.ui.comp.navpopover.SemanticObjectController: Please be aware that in case of a large amount of semantic objects the performance may suffer significantly and the received links will be created out of context');var t=this;S.getDistinctSemanticObjects().then(function(s){S.getNavigationTargetActions(s).then(function(n){t.firePrefetchDone({semanticObjects:n});});});return this;};S.prototype.getFieldSemanticObjectMap=function(){var m=this.getProperty('fieldSemanticObjectMap');if(m){return m;}if(!this.getEntitySet()){q.sap.log.warning('sap.ui.comp.navpopover.SemanticObjectController: FieldSemanticObjectMap is not set on SemanticObjectController, retrieval without EntitySet not possible');return null;}q.sap.require('sap.ui.comp.odata.MetadataAnalyser');var M=new sap.ui.comp.odata.MetadataAnalyser(this.getModel());m=M.getFieldSemanticObjectMap(this.getEntitySet());if(m){this.setProperty('fieldSemanticObjectMap',m,true);}return m;};S.prototype.getEntitySet=function(){var e=this.getProperty('entitySet');if(e){return e;}var p=this.getParent();while(p){if(p.getEntitySet){e=p.getEntitySet();if(e){this.setProperty('entitySet',e,true);break;}}p=p.getParent();}return e;};S.prototype.hasSemanticObjectLinks=function(s){return S.hasDistinctSemanticObject(s,S.oSemanticObjects);};S.prefetchDistinctSemanticObjects=function(){S.getJSONModel();if(!S.bHasPrefetchedDistinctSemanticObjects){S.getDistinctSemanticObjects();}};S.getDistinctSemanticObjects=function(){if(S.bHasPrefetchedDistinctSemanticObjects){return new Promise(function(r){return r(S.oSemanticObjects);});}if(!S.oPromise){S.oPromise=new Promise(function(r){var c=F.getService('CrossApplicationNavigation');if(!c){q.sap.log.error(\"sap.ui.comp.navpopover.SemanticObjectController: Service 'CrossApplicationNavigation' could not be obtained\");S.bHasPrefetchedDistinctSemanticObjects=true;return r({});}c.getDistinctSemanticObjects().then(function(s){s.forEach(function(a){S.oSemanticObjects[a]={};});var m=S.getJSONModel();m.setProperty('/distinctSemanticObjects',S.oSemanticObjects);S.bHasPrefetchedDistinctSemanticObjects=true;return r(S.oSemanticObjects);},function(e){q.sap.log.error(\"sap.ui.comp.navpopover.SemanticObjectController: getDistinctSemanticObjects() of service 'CrossApplicationNavigation' failed\");S.bHasPrefetchedDistinctSemanticObjects=true;return r({});});});}return S.oPromise;};S.getNavigationTargetActions=function(s){if(S.bHasPrefetchedNavigationTargetActions){return new Promise(function(r){return r(S.oNavigationTargetActions);});}if(!S.oPromiseLinks){S.oPromiseLinks=new Promise(function(r){var c=F.getService('CrossApplicationNavigation');var u=F.getService('URLParsing');if(!c||!u){q.sap.log.error(\"sap.ui.comp.navpopover.SemanticObjectController: Service 'CrossApplicationNavigation' or 'URLParsing' could not be obtained\");S.bHasPrefetchedNavigationTargetActions=true;return r({});}var a=Object.keys(s);var p=a.map(function(b){return[{semanticObject:b}];});c.getLinks(p).then(function(L){a.forEach(function(b,i){S.oNavigationTargetActions[b]=[];L[i][0].forEach(function(o){var d=u.parseShellHash(o.intent);if(d&&d.semanticObject===b){S.oNavigationTargetActions[b].push(d.action);}});});var m=S.getJSONModel();m.setProperty('/navigationTargetActions',S.oNavigationTargetActions);S.bHasPrefetchedNavigationTargetActions=true;return r(S.oNavigationTargetActions);},function(e){q.sap.log.error(\"sap.ui.comp.navpopover.SemanticObjectController: getLinks() of service 'CrossApplicationNavigation' failed\");S.bHasPrefetchedNavigationTargetActions=true;return r({});});});}return S.oPromiseLinks;};S.hasDistinctSemanticObject=function(s,o){return!!o[s];};S.getJSONModel=function(){var m=sap.ui.getCore().getModel('$sapuicompSemanticObjectController_DistinctSemanticObjects');if(m&&!q.isEmptyObject(m.getData())){return m;}m=new J({distinctSemanticObjects:{}});m.setDefaultBindingMode(sap.ui.model.BindingMode.OneTime);m.setSizeLimit(1000);sap.ui.getCore().setModel(m,'$sapuicompSemanticObjectController_DistinctSemanticObjects');return m;};S.destroyDistinctSemanticObjects=function(){S.oSemanticObjects={};S.oNavigationTargetActions={};S.oPromise=null;S.oPromiseActions=null;S.bHasPrefetchedDistinctSemanticObjects=false;S.bHasPrefetchedNavigationTargetActions=false;var m=sap.ui.getCore().getModel('$sapuicompSemanticObjectController_DistinctSemanticObjects');if(m){m.destroy();}};return S;},true);\n",
	"sap/ui/comp/navpopover/SmartLink.designtime.js":"/*\n * ! SAP UI development toolkit for HTML5 (SAPUI5)\n\n(c) Copyright 2009-2016 SAP SE. All rights reserved\n */\nsap.ui.define(['./RTAHandler','sap/m/ObjectIdentifier'],function(R,O){'use strict';(function(){O.getMetadata().loadDesignTime().then(function(d){if(d.registerSettingsHandler){d.registerSettingsHandler({getStableElements:function(o){var n;o.fireEvent('ObjectIdentifier.designtime',{caller:'ObjectIdentifier.designtime',registerNavigationPopoverHandler:function(N){n=N;}});return R.getStableElements(n);},isSettingsAvailable:function(){return R.isSettingsAvailable();},execute:function(o,g){var n;o.fireEvent('ObjectIdentifier.designtime',{caller:'ObjectIdentifier.designtime',registerNavigationPopoverHandler:function(N){n=N;}});return R.execute(n,g);}});}});})();return{getStableElements:function(s){return R.getStableElements(s.getNavigationPopoverHandler());},actions:{settings:function(){if(!R.isSettingsAvailable()){jQuery.sap.log.error(\"sap.ui.comp.navpopover.SmartLink.designtime: 'settings' action is not available\");return;}return{handler:function(s,g){return R.execute(s.getNavigationPopoverHandler(),g);}};}},annotations:{semanticObject:{namespace:'com.sap.vocabularies.Common.v1',annotation:'SemanticObject',target:['Property'],defaultValue:null,appliesTo:['text','label','value'],group:['Behavior'],since:'1.28.1'},semanticKey:{namespace:'com.sap.vocabularies.Common.v1',annotation:'SemanticKey',target:['EntityType'],defaultValue:null,appliesTo:['text','label','value'],group:['Behavior'],since:'1.28.1'},textArrangement:{namespace:'com.sap.vocabularies.UI.v1',annotation:'TextArrangement',target:['EntityType'],defaultValue:null,appliesTo:['text'],group:['Appearance','Behavior'],since:'1.32.1'},contact:{namespace:'com.sap.vocabularies.Communication.v1',annotation:'Contact',target:['EntityType'],defaultValue:null,appliesTo:['text','label','value'],group:['Behavior'],since:'1.40.1'}},customData:{}};},false);\n",
	"sap/ui/comp/navpopover/SmartLink.js":"/*\n * ! SAP UI development toolkit for HTML5 (SAPUI5)\n\n(c) Copyright 2009-2016 SAP SE. All rights reserved\n */\nsap.ui.define(['jquery.sap.global','sap/ui/base/ManagedObject','sap/m/Link','sap/m/LinkRenderer','./LinkData','sap/ui/core/Control','./SemanticObjectController','./NavigationPopoverHandler','sap/ui/model/json/JSONModel','sap/ui/comp/personalization/Util'],function(q,M,L,a,b,C,S,N,J,P){'use strict';var c=L.extend('sap.ui.comp.navpopover.SmartLink',{metadata:{library:'sap.ui.comp',designTime:true,properties:{semanticObject:{type:'string',defaultValue:null},additionalSemanticObjects:{type:'string[]',defaultValue:[]},semanticObjectController:{type:'any',defaultValue:null},fieldName:{type:'string',defaultValue:null},semanticObjectLabel:{type:'string',defaultValue:null},createControlCallback:{type:'object',defaultValue:null},mapFieldToSemanticObject:{type:'boolean',defaultValue:true},contactAnnotationPath:{type:'string',defaultValue:undefined},ignoreLinkRendering:{type:'boolean',defaultValue:false},enableAvailableActionsPersonalization:{type:'boolean',defaultValue:true}},aggregations:{innerControl:{type:'sap.ui.core.Control',multiple:false}},events:{beforePopoverOpens:{parameters:{semanticObject:{type:'string'},semanticAttributes:{type:'object'},semanticAttributesOfSemanticObjects:{type:'object'},setSemanticAttributes:{type:'function'},setAppStateKey:{type:'function'},originalId:{type:'string'},open:{type:'function'}}},navigationTargetsObtained:{parameters:{mainNavigation:{type:'sap.ui.comp.navpopover.LinkData'},actions:{type:'sap.ui.comp.navpopover.LinkData[]'},ownNavigation:{type:'sap.ui.comp.navpopover.LinkData'},popoverForms:{type:'sap.ui.layout.form.SimpleForm[]'},semanticObject:{type:'string'},semanticAttributes:{type:'object'},originalId:{type:'string'},show:{type:'function'}}},innerNavigate:{parameters:{text:{type:'string'},href:{type:'string'},semanticObject:{type:'string'},semanticAttributes:{type:'object'},originalId:{type:'string'}}}}},renderer:function(r,o){var R=true;if(o.getIgnoreLinkRendering()){var d=o._getInnerControl();if(d){r.write('<div ');r.writeControlData(o);r.writeClasses();r.write('>');r.renderControl(d);r.write('</div>');R=false;}}if(R){a.render.call(a,r,o);}}});c.prototype.getInnerControlValue=function(){if(this._isRenderingInnerControl()){var i=this._getInnerControl();if(i){if(i.getText){return i.getText();}if(i.getValue){return i.getValue();}}}return this.getText();};c.prototype.getNavigationPopoverHandler=function(){return this._createNavigationPopoverHandler();};c.prototype.init=function(){S.prefetchDistinctSemanticObjects();this._oNavigationPopoverHandler=null;this.attachPress(this._onLinkPressed);this.addStyleClass('sapUiCompSmartLink');};c.prototype.applySettings=function(s){M.prototype.applySettings.apply(this,arguments);this._updateEnabled();};c.prototype.updateBindingContext=function(){C.prototype.updateBindingContext.apply(this,arguments);this.setHref(null);this.setTarget(null);if(this._oNavigationPopoverHandler){this._oNavigationPopoverHandler.setBindingContext(this.getBindingContext());}};c.prototype.setSemanticObjectLabel=function(l){this.setProperty('semanticObjectLabel',l);if(this._oNavigationPopoverHandler){this._oNavigationPopoverHandler.setSemanticObjectLabel(l);}return this;};c.prototype.setText=function(t){if(this._isRenderingInnerControl()){this.setProperty('text',t,true);}else{L.prototype.setText.call(this,t);}return this;};c.prototype.setMapFieldToSemanticObject=function(m){this.setProperty('mapFieldToSemanticObject',m);if(this._oNavigationPopoverHandler){this._oNavigationPopoverHandler.setMapFieldToSemanticObject(m);}return this;};c.prototype.setSemanticObject=function(s){this.setProperty('semanticObject',s);if(this._oNavigationPopoverHandler){this._oNavigationPopoverHandler.setSemanticObject(s);}this._updateEnabled();return this;};c.prototype.setAdditionalSemanticObjects=function(s){this.setProperty('additionalSemanticObjects',s);if(this._oNavigationPopoverHandler){this._oNavigationPopoverHandler.setAdditionalSemanticObjects(s);}return this;};c.prototype.setContactAnnotationPath=function(s){this.setProperty('contactAnnotationPath',s);if(this._oNavigationPopoverHandler){this._oNavigationPopoverHandler.setContactAnnotationPath(s);}this._updateEnabled();return this;};c.prototype.setEnableAvailableActionsPersonalization=function(e){this.setProperty('enableAvailableActionsPersonalization',e);if(this._oNavigationPopoverHandler){this._oNavigationPopoverHandler.setEnableAvailableActionsPersonalization(e);}return this;};c.prototype.setIgnoreLinkRendering=function(i){this.setProperty('ignoreLinkRendering',i);this._updateEnabled();return this;};c.prototype.setFieldName=function(f){this.setProperty('fieldName',f);if(this._oNavigationPopoverHandler){this._oNavigationPopoverHandler.setFieldName(f);}this._updateEnabled();return this;};c.prototype.setSemanticObjectController=function(o){if(o&&!(o instanceof sap.ui.comp.navpopover.SemanticObjectController)){q.sap.log.warning('Warning: setSemanticObjectController() has to be an object of sap.ui.comp.navpopover.SemanticObjectController instances',this);return this;}var d=this.getProperty('semanticObjectController');if(d===o){return;}if(d){d.unregisterControl(this);}this.setProperty('semanticObjectController',o,true);if(o){o.registerControl(this);}if(this._oNavigationPopoverHandler){this._oNavigationPopoverHandler.setSemanticObjectController(o);}this._updateEnabled();return this;};c.prototype.onBeforeRendering=function(){L.prototype.onBeforeRendering.apply(this,arguments);if(!this.getSemanticObjectController()){var s=this._getSemanticObjectControllerOfParent();if(s){this.setSemanticObjectController(s);}}};c.prototype.exit=function(){if(this.getSemanticObjectController()){this.getSemanticObjectController().unregisterControl(this);}if(this._oNavigationPopoverHandler){this._oNavigationPopoverHandler.destroy();this._oNavigationPopoverHandler=null;}};c.prototype._onLinkPressed=function(e){this._createNavigationPopoverHandler().openPopover();};c.prototype._createNavigationPopoverHandler=function(){if(!this._oNavigationPopoverHandler){if(!this.getFieldName()){var B=this.getBinding('text');var f=B&&B.getPath();if(!f&&B&&B.getBindings){f=B.getBindings()[0].getPath();}this.setFieldName(f);}this._oNavigationPopoverHandler=new N({semanticObject:this.getSemanticObject(),additionalSemanticObjects:this.getAdditionalSemanticObjects(),semanticObjectController:this.getSemanticObjectController(),fieldName:this.getFieldName(),semanticObjectLabel:this.getSemanticObjectLabel(),mapFieldToSemanticObject:this.getMapFieldToSemanticObject(),contactAnnotationPath:this.getContactAnnotationPath(),enableAvailableActionsPersonalization:this.getEnableAvailableActionsPersonalization(),control:this,beforePopoverOpens:q.proxy(this._onBeforePopoverOpens,this),navigationTargetsObtained:q.proxy(this._onNavigationTargetsObtained,this),innerNavigate:q.proxy(this._onInnerNavigate,this)});this._oNavigationPopoverHandler.setModel(this.getModel());}return this._oNavigationPopoverHandler;};c.prototype._onNavigationTargetsObtained=function(e){var p=e.getParameters();if(!this.hasListeners('navigationTargetsObtained')){p.show();return;}this.fireNavigationTargetsObtained({mainNavigation:p.mainNavigation,actions:p.actions,ownNavigation:p.ownNavigation,popoverForms:p.popoverForms,semanticObject:p.semanticObject,semanticAttributes:p.semanticAttributes,originalId:p.originalId,show:p.show});};c.prototype._onBeforePopoverOpens=function(e){var p=e.getParameters();if(!this.hasListeners('beforePopoverOpens')){p.open();return;}this.fireBeforePopoverOpens({originalId:p.originalId,semanticObject:p.semanticObject,semanticAttributes:p.semanticAttributes,semanticAttributesOfSemanticObjects:p.semanticAttributesOfSemanticObjects,setSemanticAttributes:p.setSemanticAttributes,setAppStateKey:p.setAppStateKey,open:p.open});};c.prototype._onInnerNavigate=function(e){var p=e.getParameters();if(!this.hasListeners('innerNavigate')){return;}this.fireInnerNavigate({text:p.text,href:p.href,originalId:p.originalId,semanticObject:p.semanticObject,semanticAttributes:p.semanticAttributes});};c.prototype._isRenderingInnerControl=function(){return this.getIgnoreLinkRendering()&&this._getInnerControl()!=null;};c.prototype._getInnerControl=function(){var i=this.getAggregation('innerControl');if(i){return i;}var f=this.getCreateControlCallback();if(f){i=f();this.setAggregation('innerControl',i,true);return i;}return null;};c.prototype._getSemanticObjectControllerOfParent=function(){var s;var p=this.getParent();while(p){if(p.getSemanticObjectController){s=p.getSemanticObjectController();if(s){this.setSemanticObjectController(s);break;}}p=p.getParent();}return s;};c.prototype._updateEnabled=function(){var t=this;S.getDistinctSemanticObjects().then(function(s){var i=false;if(t.getSemanticObjectController()){var I=P.createArrayFromString(t.getSemanticObjectController().getIgnoredFields());i=I.indexOf(t.getFieldName())>-1;}var d=(t.getIgnoreLinkRendering()===false||t.getIgnoreLinkRendering()===true)?t.getIgnoreLinkRendering():false;var h=!(t.getContactAnnotationPath()===undefined);t.setEnabled(!i&&!d&&(S.hasDistinctSemanticObject(t.getSemanticObject(),s)||h));});};return c;},true);\n",
	"sap/ui/comp/navpopover/Util.js":"/*\n * ! SAP UI development toolkit for HTML5 (SAPUI5)\n\n(c) Copyright 2009-2016 SAP SE. All rights reserved\n */\nsap.ui.define(['sap/ui/comp/library','./Factory','./LinkData','sap/m/Link','sap/m/Text','sap/ui/layout/form/SimpleFormLayout','sap/m/Label','sap/ui/core/TitleLevel','sap/ui/core/Title','sap/ui/layout/form/SimpleForm','sap/m/Image'],function(C,F,L,c,T,S,d,e,f,g,I){'use strict';var U={availableAction2MColumnsItems:function(n){return n.getAvailableActions().filter(function(o){return o.getVisible()===true;}).map(function(v){return{key:v.getKey(),visible:true};});},availableAction2MItems:function(n){return n.getAvailableActions().filter(function(o){if(o.getKey()===undefined){jQuery.sap.log.error(\"'key' attribute of 'availableAction' \"+o.getText()+\" is undefined. Links without 'key' can not be persisted.\");}return o.getKey()!==undefined;}).map(function(o){return{key:o.getKey(),text:o.getText(),visible:undefined};});},sortArrayAlphabetical:function(n){var l;try{var l=sap.ui.getCore().getConfiguration().getLocale().toString();if(typeof window.Intl!=='undefined'){var o=window.Intl.Collator(l,{numeric:true});n.sort(function(a,b){return o.compare(a,b);});}else{n.sort(function(a,b){return a.localeCompare(b,l,{numeric:true});});}}catch(E){}},retrieveNavigationTargets:function(s,a,A,o,b,m){var n={mainNavigation:undefined,ownNavigation:undefined,availableActions:[]};return new Promise(function(r){var x=F.getService('CrossApplicationNavigation');var u=F.getService('URLParsing');if(!x||!u){jQuery.sap.log.error(\"Service 'CrossApplicationNavigation' or 'URLParsing' could not be obtained\");return r(n);}var h=[s].concat(a);var p=h.map(function(i){return[{semanticObject:i,params:b?b[i]:undefined,appStateKey:A,ui5Component:o,sortResultOnTexts:true}];});x.getLinks(p).then(function(l){if(!l||!l.length){return r(n);}var j=x.hrefForExternal();if(j&&j.indexOf('?')!==-1){j=j.split('?')[0];}l[0][0].forEach(function(q){var t=u.parseShellHash(q.intent);var K=(t.semanticObject&&t.action)?t.semanticObject+'-'+t.action:undefined;if(q.intent.indexOf(j)===0){n.ownNavigation=new L({key:K,href:q.intent,text:q.text});return;}if(t.action&&(t.action==='displayFactSheet')){n.mainNavigation=new L({key:K,href:q.intent,text:sap.ui.getCore().getLibraryResourceBundle('sap.ui.comp').getText('POPOVER_FACTSHEET')});return;}n.availableActions.push(new L({key:K,href:q.intent,text:q.text}));});if(!n.mainNavigation&&typeof m==='string'){n.mainNavigation=new L({text:m});}var k=[];for(var i=1;i<h.length;i++){k=k.concat(l[i][0]);}k.forEach(function(q){var t=u.parseShellHash(q.intent);var K=(t.semanticObject&&t.action)?t.semanticObject+'-'+t.action:undefined;n.availableActions.push(new L({key:K,href:q.intent,text:q.text}));});return r(n);},function(E){jQuery.sap.log.error(\"'retrieveNavigationTargets' failed\");return r(n);});});},_getEntityTypeNameOfBindingContext:function(b,m){if(!b||!m){return null;}var M=m.getMetaContext(b);if(!M){return null;}var o=m.getObject(M.getPath());return o.namespace?o.namespace+'.'+o.name:o.name;},retrieveContactAnnotationData:function(o,b,s){var t=this;return new Promise(function(r){if(!o||!o.getMetaModel()||s===undefined){return r({entitySet:undefined,path:undefined,contactAnnotation:undefined});}var m=o.getMetaModel();m.loaded().then(function(){var O=t._getEntityTypeNameOfBindingContext(b,m);var E=m.getODataEntityType(O);if(!E){return r({entitySet:undefined,path:undefined,contactAnnotation:undefined});}var a=m.getODataEntitySet(s);if(a){E=m.getODataEntityType(a.entityType);return r({entitySet:s,path:'',contactAnnotation:E['com.sap.vocabularies.Communication.v1.Contact']});}var A=[];s.split('/').some(function(n){var h=m.getODataAssociationEnd(E,n);if(!h){return false;}A.push(n);E=m.getODataEntityType(h.type);});return r({entitySet:undefined,path:E['com.sap.vocabularies.Communication.v1.Contact']?A.join('/'):undefined,contactAnnotation:E['com.sap.vocabularies.Communication.v1.Contact']});});});},parseContactAnnotation:function(o){var a=o.contactAnnotation;if(!a||jQuery.isEmptyObject(a)){return{header:{},groups:[],expand:'',select:''};}var p=o.path?o.path+'/':'';var r=sap.ui.getCore().getLibraryResourceBundle('sap.ui.comp');var E=[o.path];var s=[];var G=[];var b={heading:r.getText('POPOVER_CONTACT_SECTION_TITLE'),elements:[]};if(a.photo){s.push(p+a.photo.Path);b.elements.push({valuePath:p+a.photo.Path,label:'',type:'image'});}if(a.fn){s.push(p+a.fn.Path);b.elements.push({valuePath:p+a.fn.Path,label:r.getText('POPOVER_CONTACT_SECTION_NAME'),type:sap.m.QuickViewGroupElementType.text});}if(a.role){s.push(p+a.role.Path);b.elements.push({valuePath:p+a.role.Path,label:r.getText('POPOVER_CONTACT_SECTION_ROLE'),type:sap.m.QuickViewGroupElementType.text});}if(a.title){s.push(p+a.title.Path);b.elements.push({valuePath:p+a.title.Path,label:r.getText('POPOVER_CONTACT_SECTION_JOBTITLE'),type:sap.m.QuickViewGroupElementType.text});}if(a.org){s.push(p+a.org.Path);b.elements.push({valuePath:p+a.org.Path,label:r.getText('POPOVER_CONTACT_SECTION_DEPARTMENT'),type:sap.m.QuickViewGroupElementType.text});}if(a.email){a.email.forEach(function(i){if(i.type&&i.type.EnumMember.indexOf('com.sap.vocabularies.Communication.v1.ContactInformationType/work')>-1){s.push(p+i.address.Path);b.elements.push({valuePath:p+i.address.Path,label:r.getText('POPOVER_CONTACT_SECTION_EMAIL'),type:sap.m.QuickViewGroupElementType.email});}});}if(a.tel){var h,m,P;a.tel.forEach(function(t){if(t.type&&t.type.EnumMember.indexOf('com.sap.vocabularies.Communication.v1.PhoneType/fax')>-1){s.push(p+t.uri.Path);h={valuePath:p+t.uri.Path,label:r.getText('POPOVER_CONTACT_SECTION_FAX'),type:sap.m.QuickViewGroupElementType.phone};}else if(t.type&&t.type.EnumMember.indexOf('com.sap.vocabularies.Communication.v1.PhoneType/cell')>-1){s.push(p+t.uri.Path);m={valuePath:p+t.uri.Path,label:r.getText('POPOVER_CONTACT_SECTION_MOBILE'),type:sap.m.QuickViewGroupElementType.phone};}else if(t.type&&t.type.EnumMember.indexOf('com.sap.vocabularies.Communication.v1.PhoneType/work')>-1){s.push(p+t.uri.Path);P={valuePath:p+t.uri.Path,label:r.getText('POPOVER_CONTACT_SECTION_PHONE'),type:sap.m.QuickViewGroupElementType.phone};}});if(P){b.elements.push(P);}if(m){b.elements.push(m);}if(h){b.elements.push(h);}}if(b.elements.length){G.push(b);}return{groups:G,expand:E.join(','),select:s.join(',')};},createContactDetailForms:function(G){if(!G.length){return[];}var a=[];G.forEach(function(o){if(!o.elements.length){return;}var b=new g({maxContainerCols:1,editable:false,layout:S.ResponsiveGridLayout});o.elements.forEach(function(E){var h=U._createControl(E);if(!h){return;}if(E.label){var l=new d({text:E.label,labelFor:h.getId()});b.addContent(l);}b.addContent(h);});if(b.getContent().length&&o.heading){b.insertContent(new f({text:o.heading,level:e.H2}),0);}a.push(b);});return a;},_createControl:function(G){switch(G.type){case'email':return new c({href:{path:G.valuePath,formatter:function(v){if(!v){return v;}return'mailto:'+v+(G.emailSubject?'?subject='+G.emailSubject:'');}},text:{path:G.valuePath},visible:{path:G.valuePath,formatter:function(v){return!!v;}}});case'phone':case'mobile':return new c({href:{path:G.valuePath,formatter:function(v){if(!v){return v;}return'tel:'+v;}},text:{path:G.valuePath},visible:{path:G.valuePath,formatter:function(v){return!!v;}}});case'image':var i=new I({src:{path:G.valuePath},visible:{path:G.valuePath,formatter:function(v){return!!v;}},decorative:false});i.addStyleClass('sapUiIcon');i.addStyleClass('navigationPopoverThumbnail');return i;default:return new T({text:{path:G.valuePath},visible:{path:G.valuePath,formatter:function(v){return!!v;}}});}}};return U;},true);\n",
	"sap/ui/comp/navpopover/flexibility/changes/AddLink.js":"/*\n * ! SAP UI development toolkit for HTML5 (SAPUI5)\n\n(c) Copyright 2009-2016 SAP SE. All rights reserved\n */\nsap.ui.define(['jquery.sap.global','sap/ui/fl/Utils'],function(q,U){'use strict';var A={};A.applyChange=function(c,n,p){var C=c.getContent();if(q.isEmptyObject(C)){U.log.error('Change does not contain sufficient information to be applied');return false;}n.getAvailableActions().some(function(a){if(a.getKey()===C.key){p.modifier.setProperty(a,'visible',true);n._syncAvailableAction(a);return true;}});return true;};A.completeChangeContent=function(c,s,p){if(q.isEmptyObject(s.content)){throw new Error('oSpecificChangeInfo.content should be filled');}if(!s.content.key){throw new Error('In oSpecificChangeInfo.content.key attribute is required');}if(s.content.visible!==true){throw new Error(\"In oSpecificChangeInfo.content.select attribute should be 'true'\");}c.setContent(s.content);};return A;},true);\n",
	"sap/ui/comp/navpopover/flexibility/changes/RemoveLink.js":"/*\n * ! SAP UI development toolkit for HTML5 (SAPUI5)\n\n(c) Copyright 2009-2016 SAP SE. All rights reserved\n */\nsap.ui.define(['jquery.sap.global','sap/ui/fl/Utils'],function(q,U){'use strict';var R={};R.applyChange=function(c,n,p){var C=c.getContent();if(q.isEmptyObject(C)){U.log.error('Change does not contain sufficient information to be applied');return false;}n.getAvailableActions().some(function(a){if(a.getKey()===C.key){p.modifier.setProperty(a,'visible',false);n._syncAvailableAction(a);return true;}});return true;};R.completeChangeContent=function(c,s,p){if(q.isEmptyObject(s.content)){throw new Error('oSpecificChangeInfo.content should be filled');}if(!s.content.key){throw new Error('In oSpecificChangeInfo.content.key attribute is required');}if(s.content.visible!==false){throw new Error(\"In oSpecificChangeInfo.content.select attribute should be 'false'\");}c.setContent(s.content);};return R;},true);\n",
	"sap/ui/comp/odata/ChartMetadata.js":"/*\n * ! SAP UI development toolkit for HTML5 (SAPUI5)\n\n(c) Copyright 2009-2016 SAP SE. All rights reserved\n */\nsap.ui.define([],function(){'use strict';var u={'com.sap.vocabularies.UI.v1.ChartType/Waterfall':'column','com.sap.vocabularies.UI.v1.ChartType/Column':'column','com.sap.vocabularies.UI.v1.ChartType/AreaStacked':'stacked_column','com.sap.vocabularies.UI.v1.ChartType/ColumnStacked':'stacked_column','com.sap.vocabularies.UI.v1.ChartType/ColumnDual':'dual_column','com.sap.vocabularies.UI.v1.ChartType/ColumnStackedDual':'dual_stacked_column','com.sap.vocabularies.UI.v1.ChartType/AreaStacked100':'100_stacked_column','com.sap.vocabularies.UI.v1.ChartType/ColumnStacked100':'100_stacked_column','com.sap.vocabularies.UI.v1.ChartType/ColumnStackedDual100':'100_dual_stacked_column','com.sap.vocabularies.UI.v1.ChartType/HorizontalArea':'bar','com.sap.vocabularies.UI.v1.ChartType/Bar':'bar','com.sap.vocabularies.UI.v1.ChartType/HorizontalAreaStacked':'stacked_bar','com.sap.vocabularies.UI.v1.ChartType/BarStacked':'stacked_bar','com.sap.vocabularies.UI.v1.ChartType/BarDual':'dual_bar','com.sap.vocabularies.UI.v1.ChartType/BarStackedDual':'dual_stacked_bar','com.sap.vocabularies.UI.v1.ChartType/HorizontalAreaStacked100':'100_stacked_bar','com.sap.vocabularies.UI.v1.ChartType/BarStacked100':'100_stacked_bar','com.sap.vocabularies.UI.v1.ChartType/BarStackedDual100':'100_dual_stacked_bar','com.sap.vocabularies.UI.v1.ChartType/Radar':'line','com.sap.vocabularies.UI.v1.ChartType/Area':'line','com.sap.vocabularies.UI.v1.ChartType/Line':'line','com.sap.vocabularies.UI.v1.ChartType/LineDual':'dual_line','com.sap.vocabularies.UI.v1.ChartType/Combination':'combination','com.sap.vocabularies.UI.v1.ChartType/CombinationStacked':'stacked_combination','com.sap.vocabularies.UI.v1.ChartType/CombinationDual':'dual_combination','com.sap.vocabularies.UI.v1.ChartType/CombinationStackedDual':'dual_stacked_combination','com.sap.vocabularies.UI.v1.ChartType/HorizontalCombinationStacked':'horizontal_stacked_combination','com.sap.vocabularies.UI.v1.ChartType/Pie':'pie','com.sap.vocabularies.UI.v1.ChartType/Donut':'donut','com.sap.vocabularies.UI.v1.ChartType/Scatter':'scatter','com.sap.vocabularies.UI.v1.ChartType/Bubble':'bubble','com.sap.vocabularies.UI.v1.ChartType/HeatMap':'heatmap','com.sap.vocabularies.UI.v1.ChartType/TreeMap':'treemap','com.sap.vocabularies.UI.v1.ChartType/Bullet':'bullet','com.sap.vocabularies.UI.v1.ChartType/VerticalBullet':'vertical_bullet'};var m={'com.sap.vocabularies.UI.v1.ChartMeasureRoleType/Axis1':'axis1','com.sap.vocabularies.UI.v1.ChartMeasureRoleType/Axis2':'axis2','com.sap.vocabularies.UI.v1.ChartMeasureRoleType/Axis3':'axis3'};var d={'com.sap.vocabularies.UI.v1.ChartDimensionRoleType/Category':'category','com.sap.vocabularies.UI.v1.ChartDimensionRoleType/Series':'series'};var C={getChartType:function(t){return u[t];},getMeasureRole:function(r){return m[r];},getDimensionRole:function(r){return d[r];}};return C;},true);\n",
	"sap/ui/comp/odata/CriticalityMetadata.js":"/*\n * ! SAP UI development toolkit for HTML5 (SAPUI5)\n\n(c) Copyright 2009-2016 SAP SE. All rights reserved\n */\nsap.ui.define([],function(){'use strict';var c={'com.sap.vocabularies.UI.v1.CriticalityType/Neutral':0,'com.sap.vocabularies.UI.v1.CriticalityType/Negative':1,'com.sap.vocabularies.UI.v1.CriticalityType/Critical':2,'com.sap.vocabularies.UI.v1.CriticalityType/Positive':3};var C={0:'None',1:'Error',2:'Warning',3:'Success'};var m={0:'sap-icon://status-inactive',1:'sap-icon://status-negative',2:'sap-icon://status-critical',3:'sap-icon://status-positive'};var a={getCriticalityState:function(t){if(typeof t==='string'){t=c[t];}return C[t];},getCriticalityIcon:function(t){if(typeof t==='string'){t=c[t];}return m[t];},getShowCriticalityIcon:function(t){return t==='com.sap.vocabularies.UI.v1.CriticalityRepresentationType/WithoutIcon'?false:true;}};return a;},true);\n",
	"sap/ui/comp/odata/FieldSelector.js":"/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n\n(c) Copyright 2009-2016 SAP SE. All rights reserved\n */\nsap.ui.define(['jquery.sap.global','sap/ui/comp/library','sap/ui/core/Control','./FieldSelectorController'],function(q,l,C,F){'use strict';var a=C.extend('sap.ui.comp.odata.FieldSelector',{metadata:{library:'sap.ui.comp',properties:{showSearchBar:{type:'boolean',group:'Misc',defaultValue:true}},aggregations:{content:{type:'sap.ui.core.Control',multiple:false}},events:{fieldSelectionChanged:{}}}});a._tooltipBinding={parts:[{path:'com.sap.vocabularies.Common.v1.QuickInfo'},{path:'com.sap.vocabularies.Common.v1.Label'}],formatter:function tooltipFormatter(Q,L){if(Q&&Q.String){return Q.String;}if(L&&L.String){return L.String;}return'';}};a.prototype.init=function(){q.sap.require('sap.m.HBox');q.sap.require('sap.m.VBox');q.sap.require('sap.m.FlexItemData');q.sap.require('sap.m.FlexDirection');q.sap.require('sap.m.FlexAlignSelf');q.sap.require('sap.m.FlexAlignItems');q.sap.require('sap.ui.core.ResizeHandler');q.sap.require('sap.ui.comp.odata.FieldSelectorModelConverter');q.sap.require('sap.m.Label');q.sap.require('sap.ui.fl.fieldExt.Access');this._fieldNameText=sap.ui.getCore().getLibraryResourceBundle('sap.ui.comp').getText('ODATA_FIELD_SEL_NAME');this._fieldTypeText=sap.ui.getCore().getLibraryResourceBundle('sap.ui.comp').getText('ODATA_FIELD_SEL_TYPE');this._fieldLabelText=sap.ui.getCore().getLibraryResourceBundle('sap.ui.comp').getText('ODATA_FIELD_SEL_LABEL');this._entityTypeText=sap.ui.getCore().getLibraryResourceBundle('sap.ui.comp').getText('ODATA_FIELD_SEL_HEADER');this._createNewFieldText=sap.ui.getCore().getLibraryResourceBundle('sap.ui.comp').getText('ODATA_CREATE_NEW_FIELD');this._oFieldController=new F();this._sSelectedKey=undefined;this._oTable=undefined;this._oSearchField=undefined;this._oConverter=undefined;this._oCreateButton=undefined;this._bDisplayFieldExtButton=undefined;this._oCurrentFieldExtInfo=undefined;this._oScrollView=new sap.m.ScrollContainer();this._oTable=new sap.m.Table();this._oHeaderLayout=undefined;var s=sap.ui.getCore().byId('smartFormPersDialog');if(s){this._oResizeDialogHandlerId=sap.ui.core.ResizeHandler.register(s,q.proxy(this._handleResizeDialog,this));}if(this._oScrollView){this._oResizeScrollViewHandlerId=sap.ui.core.ResizeHandler.register(this._oScrollView,q.proxy(this._handleResizeTable,this));}};a.prototype._handleResizeDialog=function(){if(this._oScrollView){var h=q('#smartFormPersDialog-cont').height();var b=q('#smartFormPersDialogFieldSelectorHeader').height();var c=q('#sapUiCompFieldSelectorHeaderSearch').height();var t=q('#sapUiCompFieldSelectorTable-tblHeader').height();this._oScrollView.setHeight(h-b-c-t+'px');}};a.prototype._handleResizeTable=function(){if(this._oScrollView){var w=this._oScrollView.$('scroll').innerWidth();this._oTable.setWidth(w+'px');}};a.prototype.setModel=function(m,e,s,i,b,I){this._bDisplayFieldExtButton=s;if(!m){q.sap.log.error('oModel has to be set otherwise nothing will be displayed');}if(!e){q.sap.log.error('sEntityTypes has to be set otherwise nothing will be displayed');}this._oFieldController.init(m,e,i,b,I);this._constructLayout();this._updateCreateButtonState();};a.prototype.getSelectedField=function(){var r={entityType:this._sSelectedKey};var s=this._oTable.getSelectedItem();if(s){var S=s.getBindingContext();if(S){var R=S.getProperty();if(R){r.field=R.fieldLabel;r.name=R.name;r.entityName=R.entityName;r.entitySet=this._oFieldController.getMetaDataAnalyzer().getEntitySetNameFromEntityTypeName(r.entityType);r.path=R.name;r.isBoundToODataService=R.id===undefined;if(!r.isBoundToODataService){r.id=R.id;}else{if(r.entityType!==R.entityName){var p=this._oFieldController.getMetaDataAnalyzer()._getNameOfPropertyUsingComplexType(r.entityType,R.entityName);if(p){r.path=p+'/'+R.name;}else{q.sap.log.error('FieldSelector: Property of complex type '+R.name+' not found on entityType '+r.entityType);}}}}}}return r;};a.prototype.updateFieldLabel=function(f){var t=this;var o=this._oFieldController.getFields();var i=f.isBoundToODataService;var n=f.label;if(i===true){var b=f.bindingPaths;q.each(b,function(c,B){var s=B.path;var d=s.indexOf('/');var r=s.slice(0,d);var R=s.slice(d+1);var e=o[r];q.each(e,function(E,g){if(g.name&&g.name===R){g.fieldLabel=n;t._oFieldController.sortFieldsForEntity(r);t._updateTableData();return;}});});}else if(i===false){q.each(o,function(s,e){q.each(e,function(E,c){if(c.id&&c.id===f.id){c.fieldLabel=n;t._oFieldController.sortFieldsForEntity(s);}});});this._updateTableData();}};a.prototype._constructLayout=function(){var t=this;var L=new sap.m.VBox({direction:sap.m.FlexDirection.Column});this._oHeaderLayout=new sap.m.HBox('smartFormPersDialogFieldSelectorHeader',{direction:sap.m.FlexDirection.Row});this._oHeaderLayout.addStyleClass('sapUiCompFieldSelectorHeader');this._oHeaderLayoutSearch=new sap.m.HBox({direction:sap.m.FlexDirection.Row});this._oHeaderLayoutSearch.addStyleClass('sapUiCompFieldSelectorHeaderSearch');this._oResizeHeaderHandlerId=sap.ui.core.ResizeHandler.register(this._oHeaderLayout,q.proxy(this._handleResizeDialog,this));var e=new sap.m.HBox({direction:sap.m.FlexDirection.Row,alignItems:sap.m.FlexAlignItems.Start,layoutData:new sap.m.FlexItemData({growFactor:2})});e.addStyleClass('sapUiCompFieldSelectorHeaderEntitySelection');var h=new sap.m.Label({text:this._entityTypeText,layoutData:new sap.m.FlexItemData({order:1,growFactor:1})});var d=this._getEntityTypesRow();d.setLayoutData(new sap.m.FlexItemData({order:2,growFactor:1}));d.addStyleClass('sapUiCompFieldSelectorComboBox');h.setLabelFor(d);h.setVisible(d.getVisible());e.addItem(h);e.addItem(d);this._oHeaderLayout.addItem(e);var s=this._getSearchRow();s.setLayoutData(new sap.m.FlexItemData({growFactor:1}));s.addStyleClass('sapUiCompFieldSelectorHeader');this._oHeaderLayoutSearch.addItem(s);this._oCreateButton=new sap.m.Button({text:this._createNewFieldText,press:function(E){if(t._oCurrentFieldExtInfo){var c=sap.ushell&&sap.ushell.Container&&sap.ushell.Container.getService('CrossApplicationNavigation');var H=(c&&c.hrefForExternal({target:{semanticObject:'CustomField',action:'develop'},params:{businessContexts:t._oCurrentFieldExtInfo.BusinessContexts,serviceName:t._oCurrentFieldExtInfo.ServiceName,serviceVersion:t._oCurrentFieldExtInfo.ServiceVersion}}));window.open(H,'_blank');}}});this._oCreateButton.addStyleClass('sapUiCompFieldSelectorCreateButton');this._oHeaderLayout.addItem(this._oCreateButton);L.addItem(this._oHeaderLayout);L.addItem(this._oHeaderLayoutSearch);L.addItem(this._getFieldsRow());this.setContent(L);};a.prototype._getEntityTypesRow=function(){var t=this;var d=new sap.m.ComboBox({selectionChange:function(E){t._oSearchField.setValue('');t._sSelectedKey=E.mParameters.selectedItem.getKey();t._updateTableData();t._updateCreateButtonState();},layoutData:new sap.m.FlexItemData({growFactor:1})});var e=this._oFieldController.getEntityTypes();for(var i=0;i<e.length;i++){d.addItem(new sap.ui.core.Item({text:e[i].label,key:e[i].key}));}if(e.length>0){this._sSelectedKey=e[0].key;d.setSelectedKey(this._sSelectedKey);}if(e.length===1){d.setVisible(false);}return d;};a.prototype._getSearchRow=function(){var L=0;var t=this;var v;this._oSearchField=new sap.m.SearchField({visible:this.getShowSearchBar(),liveChange:function(e){v=e.getSource().getValue();var d=(v?300:0);clearTimeout(L);if(d){L=setTimeout(function(){t._executeSearch(v);},d);}else{t._executeSearch(v);}},search:function(e){v=e.getSource().getValue();t._executeSearch(v);},layoutData:new sap.m.FlexItemData({growFactor:2})});return this._oSearchField;};a.prototype._executeSearch=function(v){var f=[];var o=new sap.ui.model.Filter('fieldLabel',sap.ui.model.FilterOperator.Contains,v);var Q=new sap.ui.model.Filter('quickInfo',sap.ui.model.FilterOperator.Contains,v);var b=new sap.ui.model.Filter([o,Q],false);f.push(b);var i=this._oTable.getBinding('items');i.filter(f,'Application');};a.prototype._getFieldsRow=function(){this._oScrollView.setVertical(true);this._oScrollView.addStyleClass('sapUiCompFieldSelectorScrollContainer');var c=[new sap.m.Column({header:new sap.m.Label({text:this._fieldLabelText})})];this._oTable=new sap.m.Table('sapUiCompFieldSelectorTable',{mode:'SingleSelectMaster',columns:c,selectionChange:q.proxy(function(e){var s=this.getSelectedField();this.fireFieldSelectionChanged(s);},this)});this._oTable.setFixedLayout(false);this._updateTableData();this._oScrollView.addContent(this._oTable);this._handleResizeDialog();return this._oScrollView;};a.prototype._updateTableData=function(){var m=new sap.ui.model.json.JSONModel();m.setData({modelData:this._oFieldController.getFields()});var t=new sap.m.ColumnListItem({cells:[new sap.m.Text({text:'{fieldLabel}',tooltip:a._tooltipBinding,wrapping:false})],visible:{path:'fieldLabel',formatter:function(f){return!!f;}}});this._oTable.setModel(m);this._oTable.getModel().setSizeLimit(this._oFieldController.getMaxEntitySetSize()+5);this._oTable.bindItems('/modelData/'+this._sSelectedKey,t);};a.prototype._updateCreateButtonState=function(){if(!this._bDisplayFieldExtButton){this._oCreateButton.setVisible(false);}else{var t=this;var m=this._oFieldController.getMetaDataAnalyzer();t._oCreateButton.setEnabled(false);try{var p=sap.ui.fl.fieldExt.Access.getBusinessContexts(m.oModel.sServiceUrl,this._sSelectedKey);p.done(function(r){if(r){if(r.BusinessContexts){if(r.BusinessContexts.length>0){t._oCurrentFieldExtInfo=r;t._oCreateButton.setEnabled(true);}}}});p.fail(function(e){t._oCreateButton.setEnabled(false);if(e){if(q.isArray(e.errorMessages)){for(var i=0;i<e.errorMessages.length;i++){q.sap.log.error(e.errorMessages[i].text);}}}});}catch(e){t._oCreateButton.setEnabled(false);q.sap.log.error('exception occured in sap.ui.fl.fieldExt.Access.getBusinessContexts');}}};a.prototype.exit=function(){if(this._oResizeDialogHandlerId){sap.ui.core.ResizeHandler.deregister(this._oResizeDialogHandlerId);}if(this._oResizeHeaderHandlerId){sap.ui.core.ResizeHandler.deregister(this._oResizeHeaderHandlerId);}if(this._oResizeScrollViewHandlerId){sap.ui.core.ResizeHandler.deregister(this._oResizeScrollViewHandlerId);}this.destroyAggregation('content');this._oFieldController.destroy();this._sSelectedKey=null;this._oTable=null;this._oScrollView=null;this._oSearchField=null;this._oHeaderLayout=null;if(this._oConverter&&this._oConverter.destroy){this._oConverter.destroy();}this._oConverter=null;if(this._oCreateButton){if(this._oCreateButton.destroy){this._oCreateButton.destroy();}}this._oCreateButton=null;this._oCurrentFieldExtInfo=null;};return a;},true);\n",
	"sap/ui/comp/odata/FieldSelectorController.js":"/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n\n(c) Copyright 2009-2016 SAP SE. All rights reserved\n */\nsap.ui.define(['jquery.sap.global','./FieldSelectorModelConverter'],function(q,M){'use strict';var F=function(){this._oModelConverter=null;this._oFields={};this._aIgnoredFields=[];};F.prototype.init=function(o,e,i,b,I){if(!o){q.sap.log.error('oModel has to be set otherwise nothing will be displayed');}this._oModelConverter=new M(o);if(!e){e=this._oModelConverter.getAllEntityTypeNames();}if(!i){i=[];}var c=this._oModelConverter.getConvertedModel(e,i);if(b&&I){var f=this._updateFieldLabelsAndDetermineFieldsNotBoundToODataService(c,b,I);this._addFieldsNotBoundToODataService(c,f);}this._sortFields(c);};F.prototype._updateFieldLabelsAndDetermineFieldsNotBoundToODataService=function(c,b,i){var t=this;q.each(c,function(k,d){q.each(d,function(a,D){if(D.entityName&&D.name){if(k!==D.entityName){var m=t.getMetaDataAnalyzer();var p=m._getNameOfPropertyUsingComplexType(k,D.entityName);if(p){var o=b[k+'/'+p+'/'+D.name];if(o){o.isBoundToODataService=true;var s=o.label;if(s&&(s!==D.fieldLabel)){D.fieldLabel=s;}if(i){delete i[o.id];}}}else{q.sap.log.error('FieldSelector: Property of complex type '+D.name+' not found on entityType '+k);}}else{var o=b[D.entityName+'/'+D.name];if(o){o.isBoundToODataService=true;var s=o.label;if(s&&(s!==D.fieldLabel)){D.fieldLabel=s;}if(i){delete i[o.id];}}}}});});this._removeFieldsFromList(i,b,this._oModelConverter.invisibleFields);var f=[];q.each(i,function(k,o){f.push(o);});return f;};F.prototype._removeFieldsFromList=function(f,b,m){var t=this;if(!f||!m){return;}q.each(m,function(k,o){q.each(o,function(i,a){if(a.entityName&&a.name){if(k!==a.entityName){var c=t.getMetaDataAnalyzer();var p=c._getNameOfPropertyUsingComplexType(k,a.entityName);if(p){var d=b[k+'/'+p+'/'+a.name];if(d){delete f[a.id];}}else{q.sap.log.error('FieldSelector: Property of complex type '+a.name+' not found on entityType '+k);}}else{var d=b[a.entityName+'/'+a.name];if(d){delete f[a.id];}}}});});};F.prototype._addFieldsNotBoundToODataService=function(c,f){var e=function(C,E){if(!c[E.key]){c[E.key]=[];}c[E.key].push(C);};var a=function(o){o.isBoundToODataService=false;var C={id:o.id,fieldLabel:o.label};var E=this._oModelConverter.getEntityTypes();E.forEach(e.bind(null,C));};f.forEach(a.bind(this));};F.prototype._sortFields=function(c){var t=this;q.each(c,function(k,v){t._oFields[k]=v;t.sortFieldsForEntity.call(t,k);});};F.prototype.sortFieldsForEntity=function(e){this._oFields[e]=this._oFields[e].sort(function(a,b){if(a.fieldLabel>b.fieldLabel){return 1;}if(a.fieldLabel<b.fieldLabel){return-1;}return 0;});};F.prototype.getFields=function(){return this._oFields;};F.prototype.getEntityTypes=function(){return this._oModelConverter.getEntityTypes();};F.prototype.getMetaDataAnalyzer=function(){return this._oModelConverter.getMetaDataAnalyzer();};F.prototype.getMaxEntitySetSize=function(){var m=0;if(this._oFields){q.each(this._oFields,function(k,v){if(v&&v.length){if(v.length>m){m=v.length;}}});}return m;};F.prototype.destroy=function(){if(this._oModelConverter){this._oModelConverter.destroy();}this._oModelConverter=null;this._oFields=null;};return F;},true);\n",
	"sap/ui/comp/odata/FieldSelectorModelConverter.js":"/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n\n(c) Copyright 2009-2016 SAP SE. All rights reserved\n */\nsap.ui.define(['jquery.sap.global','./MetadataAnalyser'],function(q,M){'use strict';var F=function(d){this._oMetadataAnalyzer=new M(d);this._aEntityTypes=[];this.invisibleFields={};};F.prototype.getMetaDataAnalyzer=function(){return this._oMetadataAnalyzer;};F.prototype.getConvertedModel=function(E,i){var c={};this._aEntityTypes=this._getEntityTypes(E);for(var e=0;e<this._aEntityTypes.length;e++){var f=this._oMetadataAnalyzer.getFieldsByEntityTypeName(this._aEntityTypes[e].key);if(f){c[this._aEntityTypes[e].key]=this._updateAndFilterFields(f,i,false,this._aEntityTypes[e].key);}}return c;};F.prototype.getEntityTypes=function(){return this._aEntityTypes;};F.prototype.getAllEntityTypeNames=function(){if(this._oMetadataAnalyzer){return this._oMetadataAnalyzer.getAllEntityTypeNames();}return null;};F.prototype._updateAndFilterFields=function(a,i,I,k){var v=[];for(var f=0;f<a.length;f++){var c=a[f];if(c.visible===false){this.invisibleFields[k]=this.invisibleFields[k]||[];if(this.invisibleFields[k].indexOf(c)===-1){c.isComplexType=I;this.invisibleFields[k].push(c);}continue;}var b=this._isFieldOnIgnoreList(c,i,I);var d=this._isFieldBlacklisted(c);if(!b&&!d){if(this._isComplexType(c)===true){var V=this._resolveComplexTypeToFlatFieldList(c,i);if(V){v=v.concat(V);}}else{v.push(c);}}}return v;};F.prototype._isComplexType=function(f){if(f&&f.type){if(f.type.toLowerCase().indexOf('edm')!==0){return true;}}return false;};F.prototype._resolveComplexTypeToFlatFieldList=function(c,I){var r=[];var s=this._oMetadataAnalyzer.getSchemaDefinition();if(c&&c.type&&s){var t=this._getComplexTypeName(c);if(t){var C=s.complexType;var i=0;for(i=0;i<C.length;i++){var o=C[i];if(o.name===t){r=this._getFieldsFromComplexType(o,I);break;}}}}return r;};F.prototype._getFieldsFromComplexType=function(c,i){var f=this._oMetadataAnalyzer.getFieldsByComplexTypeName(c.name);if(f){return this._updateAndFilterFields(f,i,true,c.name);}return[];};F.prototype._getComplexTypeName=function(c){var t=c.type.split('.');if(t.length===2){return t[1];}return null;};F.prototype._isFieldOnIgnoreList=function(c,i,I){if(i){var n=this._aEntityTypes.length;var Q=c.entityName+'.'+c.name;if(n===1&&!I){if(i.indexOf(c.name)!==-1||i.indexOf(Q)!==-1){return true;}}else if(i.indexOf(Q)!==-1){return true;}}return false;};F.prototype._isFieldBlacklisted=function(c){if(c){if(c.name.toLowerCase().indexOf('uxfc')===0){return true;}else if(c.type.toLowerCase()==='edm.time'){return true;}}return false;};F.prototype._getEntityTypes=function(E,a){var b=[];var l;var c;if(!this._oMetadataAnalyzer||!this._oMetadataAnalyzer._oSchemaDefinition){return[];}var A=this._oMetadataAnalyzer._oSchemaDefinition.entityType;if(!E){c=[];for(var t=0;t<A.length;t++){c.push(A[t].name);}}if(!c){c=this._convertEntityTypesToArray(E);}for(var e=0;e<c.length;e++){l=this._oMetadataAnalyzer.getEntityLabelByEntityTypeName(c[e]);b.push({key:c[e],label:l||c[e]});}return b;};F.prototype._convertEntityTypesToArray=function(e){if(typeof(e)==='string'){var r=e.replace(/ /g,'');return r.split(',');}if(q.isArray(e)){return e;}return undefined;};F.prototype.destroy=function(){if(this._oMetadataAnalyzer&&this._oMetadataAnalyzer.destroy){this._oMetadataAnalyzer.destroy();}this._oMetadataAnalyzer=null;this._aEntityTypes=null;};return F;},true);\n",
	"sap/ui/comp/odata/FieldSelectorRenderer.js":"/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n\n(c) Copyright 2009-2016 SAP SE. All rights reserved\n */\nsap.ui.define(['jquery.sap.global'],function(q){'use strict';var F={};F.render=function(r,c){r.write('<span');r.writeControlData(c);r.writeClasses();r.write('>');var C=c.getContent();r.renderControl(C);r.write('</span>');};return F;},true);\n",
	"sap/ui/comp/odata/MetadataAnalyser.js":"/*\n * ! SAP UI development toolkit for HTML5 (SAPUI5)\n\n(c) Copyright 2009-2016 SAP SE. All rights reserved\n */\nsap.ui.define(['jquery.sap.global','sap/ui/model/odata/ODataModel','sap/ui/model/odata/ODataAnnotations'],function(q,O,a){'use strict';var f={'com.sap.vocabularies.Common.v1.FilterExpressionType/SingleInterval':'interval','com.sap.vocabularies.Common.v1.FilterExpressionType/MultiValue':'multi-value','com.sap.vocabularies.Common.v1.FilterExpressionType/SingleValue':'single-value'};var M=function(r){if(typeof r==='object'){this.oModel=r;}else{this._sResourceRootUri=r;}this._oMetadata=null;if(!this.oModel&&this._sResourceRootUri){this.oModel=new O(this._sResourceRootUri);}if(this.oModel){this._oMetaModel=this.oModel.getMetaModel();}if(this._oMetaModel){this._oMetadata=this._oMetaModel.getProperty('/');}if(this._oMetadata&&this._oMetadata.dataServices){this._oSchemaDefinition=this._oMetadata.dataServices.schema[0];}};M.prototype.getNamespace=function(){if(this._oSchemaDefinition){return this._oSchemaDefinition.namespace;}};M.prototype.getSchemaDefinition=function(){return this._oSchemaDefinition;};M.prototype.getEntityContainerAttribute=function(A){var s=null,e;if(this._oMetaModel&&A){if(A.indexOf('sap:')<0){A='sap:'+A;}e=this._oMetaModel.getODataEntityContainer();s=e[A]||null;}return s;};M.prototype.getEntityLabelByEntityTypeName=function(e){var E=this._getEntityDefinition(e),r,R='';if(E){r=E['com.sap.vocabularies.Common.v1.Label'];if(r&&r.String){R=r.String;}}return R;};M.prototype._getEntityDefinition=function(e){var E=null;if(e){E=this._oMetaModel.getODataEntityType(this._getFullyQualifiedNameForEntity(e));}return E;};M.prototype._getComplexTypeDefinition=function(c){var C=null;if(c){C=this._oMetaModel.getODataComplexType(this._getFullyQualifiedNameForEntity(c));}return C;};M.prototype._getNameOfPropertyUsingComplexType=function(e,c){var C=this.getNamespace();if(e&&c&&C){var t=C+'.'+c;var m=this._getEntityDefinition(e);if(m){var p=m.property;if(p&&p.length){var i=0;for(i=0;i<p.length;i++){var P=p[i];if(P&&P.type===t){return P.name;}}}}}return null;};M.prototype.removeNamespace=function(s){var i,r=s;if(s){i=s.lastIndexOf('.')+1;}if(i>0){r=s.substring(i);}return r;};M.prototype.getEntityTypeNameFromEntitySetName=function(e){var E=null,s=null;if(this._oMetaModel){E=this._oMetaModel.getODataEntitySet(e);if(E){s=E.entityType;}}return s;};M.prototype.getEntitySetNameFromEntityTypeName=function(e){var Q,E,b,i,l,o;if(this._oMetaModel&&e){Q=this._getFullyQualifiedNameForEntity(e);E=this._oMetaModel.getODataEntityContainer();if(E&&Q){b=E.entitySet;l=b.length;for(i=0;i<l;i++){o=b[i];if(o.entityType===Q){break;}o=null;}if(o){return o.name;}}}return null;};M.prototype.getKeysByEntitySetName=function(e){var k=null,E=null;if(!this._oMetaModel){return undefined;}E=this.getEntityTypeNameFromEntitySetName(e);if(E){k=this.getKeysByEntityTypeName(E);}return k;};M.prototype.getKeysByEntityTypeName=function(e){var k=null,p=null,i,l=0,E=null;if(!this._oMetaModel){return undefined;}E=this._getEntityDefinition(e);if(E){if(E.key){p=E.key.propertyRef;if(p){l=p.length;k=[];for(i=0;i<l;i++){k.push(p[i].name);}}}}return k;};M.prototype.getFieldsByEntitySetName=function(e){var F=null,E,s=null;if(!this._oMetaModel){return undefined;}E=this._oMetaModel.getODataEntitySet(e);if(E){s=E.entityType;}if(s){F=this.getFieldsByEntityTypeName(s);this._enrichEntitySetMetadata(F,E);}return F;};M.prototype._enrichEntitySetMetadata=function(F,e){var l,o,n,N,r,m;n=this._getNonSortableFields(e);N=this._getNonFilterableFields(e);r=this._getRequiredFilterFields(e);m=this._getFilterExpressionRestriction(e);l=F.length;while(l--){o=F[l];o.sortable=!(n.indexOf(o.name)>-1);o.filterable=!(N.indexOf(o.name)>-1);o.requiredFilterField=(r.indexOf(o.name)>-1);o.filterRestriction=m[o.name];}};M.prototype._extractPropertyPathsFromAnnotation=function(A,s){var p=[],b,l,P;if(A&&s){b=A[s];}if(b){l=b.length;while(l--){P=b[l].PropertyPath;if(P){p.push(P);}}}return p;};M.prototype._getNonSortableFields=function(e){var s;if(e){s=e['Org.OData.Capabilities.V1.SortRestrictions'];}return this._extractPropertyPathsFromAnnotation(s,'NonSortableProperties');};M.prototype._getNonFilterableFields=function(e){var F;if(e){F=e['Org.OData.Capabilities.V1.FilterRestrictions'];}return this._extractPropertyPathsFromAnnotation(F,'NonFilterableProperties');};M.prototype._getRequiredFilterFields=function(e){var F;if(e){F=e['Org.OData.Capabilities.V1.FilterRestrictions'];}return this._extractPropertyPathsFromAnnotation(F,'RequiredProperties');};M.prototype._getFilterExpressionRestriction=function(e){var F={},b,l,o,p,A;if(e){b=e['com.sap.vocabularies.Common.v1.FilterExpressionRestrictions'];if(b){l=b.length;while(l--){o=b[l];if(o){p=o.Property;A=o.AllowedExpressions;if(p&&A&&p.PropertyPath&&A.EnumMember){F[p.PropertyPath]=f[A.EnumMember];}}}}}return F;};M.prototype._isFilterable=function(p,e){var n,F=!(p['sap:filterable']==='false');if(F&&e){n=this._getNonFilterableFields(e);F=!(n.indexOf(p.name)>-1);}return F;};M.prototype._isHiddenFilter=function(p){var h=false,r=p['com.sap.vocabularies.UI.v1.HiddenFilter'];if(r){h=true;}return h;};M.prototype.getFieldsByEntityTypeName=function(e){var E;if(!this._oMetaModel){return undefined;}E=this._getEntityDefinition(e);return this._getFieldsByEntityDefinition(E);};M.prototype.getFieldsByComplexTypeName=function(c,p){var C;if(!this._oMetaModel){return undefined;}C=this._getComplexTypeDefinition(c);return this._getFieldsByEntityDefinition(C,p);};M.prototype.getAllEntityTypeNames=function(){if(!this._oMetaModel){return undefined;}var s=this._oSchemaDefinition;if(s.entityType&&s.entityType.length>0){var i=0;var r=[];for(i=0;i<s.entityType.length;i++){r.push(s.entityType[i].name);}return r;}return null;};M.prototype.getFieldSemanticObjectMap=function(e){var o=this.getFieldsByEntitySetName(e);if(!o){return null;}var m={},i,l=o.length;for(i=0;i<l;i++){var F=o[i];var A=this.getSemanticObjectAnnotation(F.fullName);if(A&&A.semanticObject){m[F.name]=A.semanticObject;}}return m;};M.prototype._getFieldsByEntityDefinition=function(e,p){var F=null,P=null,i=0,l=0,o,b;if(e){P=e.property;}if(P){F=[];l=P.length;for(i=0;i<l;i++){o=P[i];if(o){b=this._parseProperty(o,e,p);F.push(b);}}}return F;};M.prototype._getDisplayFormat=function(p){var r;if(p['sap:display-format']){return p['sap:display-format'];}r=p['com.sap.vocabularies.Common.v1.IsUpperCase'];if(r){if(r.Bool==='true'){return'UpperCase';}}return undefined;};M.prototype._parseProperty=function(p,e,P){var F=q.extend({},p),r;r=p['com.sap.vocabularies.Common.v1.Label'];if(r){F.fieldLabel=r.String;}r=p['com.sap.vocabularies.Common.v1.QuickInfo'];if(r){F.quickInfo=r.String;}F.displayFormat=this._getDisplayFormat(p);F.aggregationRole=p['sap:aggregation-role'];r=p['Org.OData.Measures.V1.ISOCurrency'];if(r){F.isCurrencyField=true;F.isMeasureField=true;F.unit=r.Path;}r=p['Org.OData.Measures.V1.Unit'];if(r){F.isMeasureField=true;F.unit=r.Path;}r=p['com.sap.vocabularies.Common.v1.Text'];if(r){F.description=r.Path;F.displayBehaviour=this.getTextArrangementValue(r);}r=p['sap:filterable'];F.filterable=r!=='false';F.filterRestriction=p['sap:filter-restriction'];r=p['sap:required-in-filter'];F.requiredFilterField=r==='true';r=p['sap:sortable'];F.sortable=r!=='false';r=p['com.sap.vocabularies.UI.v1.IsImageUrl'];if(r){F.isImageURL=r.Bool?r.Bool!=='false':true;}r=p['com.sap.vocabularies.Common.v1.FieldControl'];F.visible=!(r&&r.EnumMember==='com.sap.vocabularies.Common.v1.FieldControlType/Hidden');F.entityName=e.name;F.parentPropertyName=P;F.fullName=this._getFullyQualifiedNameForField(p.name,e);F.hiddenFilter=this._isHiddenFilter(p);return F;};M.prototype.extractNavigationPropertyField=function(p,e){var E,m,o,P,s,n,b,F=null;if(e&&p){E='/'+e+'/';P=p.split('/');s=P.pop();n=P.join('/');if(n&&s){m=this._oMetaModel.getMetaContext(E+n);if(m){b=this._oMetaModel.getProperty(m.getPath());}}if(b){o=this._oMetaModel.getODataProperty(b,s);}if(o){F=this._parseProperty(o,b,n);}}return F;};M.prototype.getAllFilterableFieldNamesByEntityTypeName=function(e){var g,i,b,j,c,r,G;r=[];g=this.getAllFilterableFieldsByEntityTypeName(e);if(g&&g.length){b=g.length;for(i=0;i<b;i++){G=g[i];if(G.fields&&G.fields.length){c=G.fields.length;for(j=0;j<c;j++){r.push(G.fields[j].name);}}}}return r;};M.prototype._getAllFilterableFieldsByEntity=function(e,i){var F=[],E,o,A,n,r,s,S,b;if(!this._oMetaModel||!e){return undefined;}if(i){o=this._oMetaModel.getODataEntitySet(e);if(o){E=this._getEntityDefinition(o.entityType);}}else{E=this._getEntityDefinition(e);}if(E){F.push(this._getFilterableFieldsFromEntityDefinition(E,undefined,o));A=this._getFilterableAssociations(E,o);for(n in A){b=A[n];if(i){r=this._oMetaModel.getODataAssociationSetEnd(E,n);if(r.entitySet){S=this._oMetaModel.getODataEntitySet(r.entitySet);}}s=this._getEntityDefinition(b);if(s){F.push(this._getFilterableFieldsFromEntityDefinition(s,n,S));}}}return F;};M.prototype.getAllFilterableFieldsByEntitySetName=function(e){if(!this._oMetaModel){return undefined;}return this._getAllFilterableFieldsByEntity(e,true);};M.prototype.getAllFilterableFieldsByEntityTypeName=function(e){if(!this._oMetaModel){return undefined;}return this._getAllFilterableFieldsByEntity(e);};M.prototype._getFilterableFieldsFromEntityDefinition=function(e,p,E){var F={},b=[],P=null,o,i,l,c=null;if(!this._oMetaModel||!e){return undefined;}o=e['com.sap.vocabularies.Common.v1.Label'];if(o){F.groupLabel=o.String;}F.groupEntityName=e.name;F.groupName=p;P=this._getFieldsByEntityDefinition(e,p);if(E){this._enrichEntitySetMetadata(P,E);}l=P.length;for(i=0;i<l;i++){c=P[i];if(c.visible&&c.filterable){b.push(c);}}F.fields=b;return F;};M.prototype._getFullyQualifiedNameForField=function(F,e){var n,E,r=F;if(e){n=e.namespace;E=e.name;}if(n&&E){r=n+'.'+E+'/'+F;}return r;};M.prototype.getFieldNameByFullyQualifiedFieldName=function(F){var r,n;r=this.removeNamespace(F);n=r.indexOf('/');r=r.substring(n+1);return r;};M.prototype._getFilterableAssociations=function(e,E){var F={},n=null,N=null,i,l=0,o=null;if(!this._oMetaModel||!e){return undefined;}n=e.navigationProperty;if(n&&n.length){l=n.length;for(i=0;i<l;i++){N=n[i];if(!this._isFilterable(N,E)||this._isHiddenFilter(N)){continue;}o=this._oMetaModel.getODataAssociationEnd(e,N.name);if(!o||o.type===(e.namespace+'.'+e.name)){continue;}if(o.multiplicity==='1'||o.multiplicity==='0..1'){if(F[N.name]===undefined){F[N.name]=o.type;}}}}return F;};M.prototype.getValueListAnnotationLazy=function(p){var P,A={additionalAnnotations:[]},r,s,b,t,c,o,Q;P=new Promise(function(R,d){if(p&&this._oMetaModel){b=p.split('/');t=this._oMetaModel.getODataEntityType(b[0])||this._oMetaModel.getODataComplexType(b[0]);s=b[1];c=this._oMetaModel.getODataProperty(t,s,true);if(c){o=this._oMetaModel.createBindingContext(c);this._oMetaModel.getODataValueLists(o).then(function(v){for(Q in v){r={annotation:v[Q]};if(r.annotation&&!r.annotation['PresentationVariantQualifier']){this._enrichValueHelpAnnotation(r,s);if(!Q){A.primaryValueListAnnotation=r;}else{r.qualifier=Q;A.additionalAnnotations.push(r);}}}R(A);}.bind(this),d);return;}}d();}.bind(this));return P;};M.prototype.getValueListAnnotationForFunctionImport=function(v,p){var A={additionalAnnotations:[]},r,Q;for(Q in v){r={annotation:v[Q]};if(r.annotation){this._enrichValueHelpAnnotation(r,p);if(!Q){A.primaryValueListAnnotation=r;}else{r.qualifier=Q;A.additionalAnnotations.push(r);}}}return A;};M.prototype.getValueListAnnotation=function(p){var A={additionalAnnotations:[]},r,P,b,t,o,Q;if(p&&this._oMetaModel){b=p.split('/');t=this._oMetaModel.getODataEntityType(b[0])||this._oMetaModel.getODataComplexType(b[0]);o=this._oMetaModel.getODataProperty(t,b[1]);if(o){P=o.name;for(var s in o){if(s.indexOf('com.sap.vocabularies.Common.v1.ValueList')>-1){Q=null;r={annotation:o[s]};b=s.split('#');if(b.length===2){Q=b[1];}if(r.annotation){this._enrichValueHelpAnnotation(r,P);if(!Q){A.primaryValueListAnnotation=r;}else{r.qualifier=Q;A.additionalAnnotations.push(r);}}}}}}return A;};M.prototype._enrichValueHelpAnnotation=function(A,p){var r,R,e,k=[],K,I={},o={},b,c,F=[],v=[],d,P,V,l,g,L=0,i=0,h=0;if(A&&A.annotation){r=A.annotation;if(r){R=r['SearchSupported'];A.isSearchSupported=R?R.Bool==='true':false;R=r['CollectionPath'];if(R){A.valueListEntitySetName=R.String;if(this._oMetaModel){e=this._oMetaModel.getODataEntitySet(A.valueListEntitySetName);}if(e){A.valueListEntityName=e.entityType;A.semantics=e['sap:semantics'];k=this.getKeysByEntityTypeName(A.valueListEntityName);F=this.getFieldsByEntityTypeName(A.valueListEntityName);}}R=r['Label'];if(R){A.valueListTitle=R.String;}d=r['Parameters'];if(F&&d){L=d.length;}for(i=0;i<L;i++){g=d[i];V=undefined;l=undefined;P=g['ValueListProperty'];if(P){V=P.String;}P=g['LocalDataProperty'];if(P){l=P.PropertyPath;}b=false;if(g.RecordType==='com.sap.vocabularies.Common.v1.ValueListParameterInOut'||g.RecordType==='com.sap.vocabularies.Common.v1.ValueListParameterIn'){b=true;}c=false;if(g.RecordType==='com.sap.vocabularies.Common.v1.ValueListParameterInOut'||g.RecordType==='com.sap.vocabularies.Common.v1.ValueListParameterOut'){c=true;}if(b){I[l]=V;}if(c){o[l]=V;}if(c||g.RecordType==='com.sap.vocabularies.Common.v1.ValueListParameterDisplayOnly'){h=F.length;while(h--){if(F[h].name===V){v.push(F[h]);break;}}}if(!K&&c&&l===p){K=V;}}}A.inParams=I;A.outParams=o;A.fields=F;A.valueListFields=v;A.keys=k;A.keyField=K;A.descriptionField=this.getDescriptionFieldName(A.keyField,A.valueListEntitySetName);}};M.prototype.getDescriptionFieldName=function(k,e){var F,i=0,l,o,d;if(typeof k==='object'){o=k;}else{F=this.getFieldsByEntitySetName(e);if(F){l=F.length;for(i=0;i<l;i++){o=F[i];if(o.name===k){break;}o=null;}}}if(o&&o['com.sap.vocabularies.Common.v1.Text']){d=o['com.sap.vocabularies.Common.v1.Text'].Path;}return d;};M.prototype.getIsSearchSupported=function(A){var i=false,p;if(A){p=A.SearchSupported;if(p&&p.Bool==='true'){i=true;}}return i;};M.prototype.getValueListSemantics=function(A){var e,E,s;if(A){e=A['CollectionPath']?A['CollectionPath'].String:undefined;}if(e){E=this._oMetaModel.getODataEntitySet(e);if(E){s=E['sap:semantics'];}}return s;};M.prototype.getLineItemAnnotation=function(p,Q){var e,t,A,r;if(p&&this._oMetaModel){e=this._oMetaModel.getODataEntityType(p);if(e){t='com.sap.vocabularies.UI.v1.LineItem';if(Q){t+='#'+Q;}A=e[t];if(A){r={annotation:A};this._enrichAnnotationWithUIDataField(r,A);}}}return r;};M.prototype.isSemanticAggregation=function(p){var e;if(p&&this._oMetaModel){e=this._oMetaModel.getODataEntityType(p);if(e){return e['sap:semantics']==='aggregate';}}return false;};M.prototype.getPresentationVariantAnnotation=function(p,Q){var e,t,A,l,i,r,L,c,I;if(p&&this._oMetaModel){e=this._oMetaModel.getODataEntityType(p);if(e){t='com.sap.vocabularies.UI.v1.PresentationVariant';if(Q){t+='#'+Q;}A=e[t];if(A){r={annotation:A,requestAtLeastFields:[],sortOrderFields:[],groupByFields:[]};if(A.Visualizations){l=A.Visualizations.length;for(i=0;i<l;i++){I=A.Visualizations[i].AnnotationPath;if(!L&&I.indexOf('com.sap.vocabularies.UI.v1.LineItem')>-1){L=e[I.substring(1)];r.lineItemAnnotation={annotation:L};this._enrichAnnotationWithUIDataField(r.lineItemAnnotation,L);}else if(!c&&I.indexOf('com.sap.vocabularies.UI.v1.Chart')>-1){c=e[I.substring(1)];r.chartAnnotation={annotation:c,semantics:e['sap:semantics']};this._enrichChartAnnotation(r.chartAnnotation,c);}if(L&&c){break;}}}if(A.RequestAtLeast){l=A.RequestAtLeast.length;for(i=0;i<l;i++){r.requestAtLeastFields.push(A.RequestAtLeast[i].PropertyPath);}}if(A.SortOrder){l=A.SortOrder.length;for(i=0;i<l;i++){r.sortOrderFields.push({name:A.SortOrder[i].Property.PropertyPath,descending:A.SortOrder[i].Descending?A.SortOrder[i].Descending.Bool==='true':false});}}if(A.GroupBy){l=A.GroupBy.length;for(i=0;i<l;i++){r.groupByFields.push(A.GroupBy[i].PropertyPath);}}}}}return r;};M.prototype._enrichChartAnnotation=function(A,o){var i,l,b;if(A&&o){A.measureFields=[];A.dimensionFields=[];A.measureAttributes={};A.dimensionAttributes={};if(o.ChartType&&o.ChartType.EnumMember){A.chartType=o.ChartType.EnumMember;}if(o.Measures){l=o.Measures.length;for(i=0;i<l;i++){A.measureFields.push(o.Measures[i].PropertyPath);}}if(o.MeasureAttributes){l=o.MeasureAttributes.length;for(i=0;i<l;i++){b=o.MeasureAttributes[i];A.measureAttributes[b.Measure.PropertyPath]=b.Role.EnumMember;}}if(o.Dimensions){l=o.Dimensions.length;for(i=0;i<l;i++){A.dimensionFields.push(o.Dimensions[i].PropertyPath);}}if(o.DimensionAttributes){l=o.DimensionAttributes.length;for(i=0;i<l;i++){b=o.DimensionAttributes[i];A.dimensionAttributes[b.Dimension.PropertyPath]=b.Role.EnumMember;}}}};M.prototype.getChartAnnotation=function(p,Q){var e,A,r,t;if(p&&this._oMetaModel){e=this._oMetaModel.getODataEntityType(p);if(e){t='com.sap.vocabularies.UI.v1.Chart';if(Q){t+='#'+Q;}A=e[t];if(A){r={annotation:A,semantics:e['sap:semantics']};this._enrichChartAnnotation(r,A);}}}return r;};M.prototype.getDataPointAnnotation=function(p){var e,P,Q,b,d,r={};if(p&&this._oMetaModel){e=this._oMetaModel.getODataEntityType(p);if(e){for(P in e){if(P.indexOf('com.sap.vocabularies.UI.v1.DataPoint')>-1){Q=null;d=e[P];b=P.split('#');if(b.length===2){Q=b[1];}if(d){if(Q){if(!r.additionalAnnotations){r.additionalAnnotations={};}r.additionalAnnotations[Q]=d;}else{r.primaryAnnotation=d;}}}}}}return r;};M.prototype.getFieldGroupAnnotation=function(p){var e,Q,P,r,A,R,b=[];if(p&&this._oMetaModel){e=this._oMetaModel.getODataEntityType(this._getFullyQualifiedNameForEntity(p));if(e){for(var s in e){if(s.indexOf('com.sap.vocabularies.UI.v1.FieldGroup')>-1){Q=null;A=e[s];P=s.split('#');if(P.length===2){Q=P[1];}if(A){R={annotation:A};if(Q){R.groupName=Q;}r=A['Label'];if(r){R.groupLabel=r.String;}r=A['Data'];if(r){this._enrichAnnotationWithUIDataField(R,r);}b.push(R);}}}}}return b;};M.prototype._enrichAnnotationWithUIDataField=function(A,r){var F=[],u={},l={},I={},c={},p,s,P,L=0,i=0;if(A&&r){L=r.length;F=[];l={};for(i=0;i<L;i++){P=r[i];if(P&&(P.RecordType==='com.sap.vocabularies.UI.v1.DataField'||P.RecordType==='com.sap.vocabularies.UI.v1.DataFieldWithUrl')){s=null;p=P['Value'];if(p){s=p.Path;}if(s){F.push(s);p=P['Url'];if(p){u[s]=this._extractURLInfo(p);}p=P['Label'];if(p&&p.String){l[s]=p.String;}I[s]=this._getImportanceAnnotation(P);p=P['Criticality'];if(p){c[s]=this._extractCriticalityInfo(p,P);}}}}A.fields=F;A.urlInfo=u;A.labels=l;A.importance=I;A.criticality=c;}};M.prototype._extractCriticalityInfo=function(c,r){var R,C;if(c.Path||c.EnumMember){R={};R['path']=c.Path;R['criticalityType']=c.EnumMember;C=r['CriticalityRepresentation'];if(C&&C.EnumMember){R['criticalityRepresentationType']=C.EnumMember;}}return R;};M.prototype._extractURLInfo=function(p){var r,P,l,o;if(p){if(p.Apply&&p.Apply.Name==='odata.fillUriTemplate'){r={urlTarget:undefined,parameters:[]};if(!this._oDummyAnnotationHelperContext){this._oDummyAnnotationHelperContext=this._oMetaModel.createBindingContext('/');q.sap.require('sap.ui.model.odata.AnnotationHelper');}if(this._oDummyAnnotationHelperContext){r.urlTarget=sap.ui.model.odata.AnnotationHelper.format(this._oDummyAnnotationHelperContext,p);}P=p.Apply.Parameters;l=P&&P.length?P.length:0;while(l--){o=P[l];if(o&&o.Type==='LabeledElement'&&o.Value&&o.Value.Path){r.parameters.push(o.Value.Path);}}}else if(p.Path){r={urlPath:p.Path};}}return r;};M.prototype.getSelectionFieldsAnnotation=function(p){var e,A,l,i,r;if(p&&this._oMetaModel){e=this._oMetaModel.getODataEntityType(this._getFullyQualifiedNameForEntity(p));if(e){A=e['com.sap.vocabularies.UI.v1.SelectionFields'];if(A){r={annotation:A,selectionFields:[]};l=A.length;for(i=0;i<l;i++){r.selectionFields.push(A[i].PropertyPath);}}}}return r;};M.prototype.getSemanticKeyAnnotation=function(p){var e,A,l,i,r;if(p&&this._oMetaModel){e=this._oMetaModel.getODataEntityType(p);if(e){A=e['com.sap.vocabularies.Common.v1.SemanticKey'];if(A){r={annotation:A,semanticKeyFields:[]};l=A.length;for(i=0;i<l;i++){r.semanticKeyFields.push(A[i].PropertyPath);}}}}return r;};M.prototype._getImportanceAnnotation=function(p){var i=null,r;r=p['com.sap.vocabularies.UI.v1.Importance'];if(r){i=r.EnumMember;}switch(i){case'com.sap.vocabularies.UI.v1.ImportanceType/Medium':return'Medium';case'com.sap.vocabularies.UI.v1.ImportanceType/Low':return'Low';default:return'High';}};M.prototype.getTextArrangementValue=function(p){var P,t,o,A,d;if(p&&this._oMetaModel){if(typeof(p)==='string'){p=this._getFullyQualifiedNameForEntity(p);P=p.split('/');if(P.length>1){t=this._oMetaModel.getODataEntityType(P[0])||this._oMetaModel.getODataComplexType(P[0]);o=this._oMetaModel.getODataProperty(t,P[1]);}else{o=this._oMetaModel.getODataEntityType(p)||this._oMetaModel.getODataComplexType(p);}}else{o=p;}if(o){A=o['com.sap.vocabularies.UI.v1.TextArrangement'];}if(A){switch(A.EnumMember){case'com.sap.vocabularies.UI.v1.TextArrangementType/TextFirst':d='descriptionAndId';break;case'com.sap.vocabularies.UI.v1.TextArrangementType/TextLast':d='idAndDescription';break;case'com.sap.vocabularies.UI.v1.TextArrangementType/TextSeparate':d='idOnly';break;case'com.sap.vocabularies.UI.v1.TextArrangementType/TextOnly':d='descriptionOnly';break;default:d=undefined;break;}}}return d;};M.prototype.getSemanticObjectAnnotation=function(p){var P,t,o,A;if(p&&this._oMetaModel){P=p.split('/');t=this._oMetaModel.getODataEntityType(P[0])||this._oMetaModel.getODataComplexType(P[0]);o=this._oMetaModel.getODataProperty(t,P[1]);if(o){A=o['com.sap.vocabularies.Common.v1.SemanticObject'];}return this._prepareSemanticObjectAnnotationFromProperty(A);}return null;};M.prototype.getSemanticObjectsFromAnnotation=function(p){if(!p||!this._oMetaModel){return null;}var P=p.split('/');var t=this._oMetaModel.getODataEntityType(P[0])||this._oMetaModel.getODataComplexType(P[0]);return M.getSemanticObjectsFromProperty(this._oMetaModel.getODataProperty(t,P[1]));};M.getSemanticObjectsFromProperty=function(p){var s={defaultSemanticObject:undefined,additionalSemanticObjects:[]};for(var A in p){if(q.sap.startsWith(A,'com.sap.vocabularies.Common.v1.SemanticObject')){if(q.sap.endsWith(A,'com.sap.vocabularies.Common.v1.SemanticObject')){s.defaultSemanticObject=p[A]['String'];}else{s.additionalSemanticObjects.push(p[A]['String']);}}}return(s.defaultSemanticObject||s.additionalSemanticObjects.length>0)?s:undefined;};M.prototype.getSemanticObjectAnnotationFromProperty=function(p){var A;if(p){A=p['com.sap.vocabularies.Common.v1.SemanticObject'];return this._prepareSemanticObjectAnnotationFromProperty(A);}return null;};M.prototype._prepareSemanticObjectAnnotationFromProperty=function(A){var r,R;if(A){r=A['String'];if(r){R={annotation:A};R.semanticObject=r;}}return R;};M.prototype._getFullyQualifiedNameForEntity=function(e){var n,r;if(!e){return undefined;}if(e.indexOf('.')>-1){return e;}n=this.getNamespace();if(n&&!(e.indexOf(n)>-1)){r=n+'.'+e;}else{r=e;}return r;};M.prototype.destroy=function(){this.oModel=null;this._oMetaModel=null;this._oMetadata=null;this._oSchemaDefinition=null;this._sResourceRootUri=null;this.bIsDestroyed=true;this._oDummyAnnotationHelperContext=null;};return M;},true);\n",
	"sap/ui/comp/odata/ODataModelUtil.js":"/*\n * ! SAP UI development toolkit for HTML5 (SAPUI5)\n\n(c) Copyright 2009-2016 SAP SE. All rights reserved\n */\nsap.ui.define([],function(){'use strict';var O={handleModelInit:function(s,m){var l=false,M;if(s&&!s._bMetaModelLoadAttached&&m){M=s.getModel();if(M){if(M.getMetadata()&&M.getMetadata().getName()==='sap.ui.model.odata.v2.ODataModel'){l=true;}else if(M.bLoadMetadataAsync||(M.getServiceMetadata&&!M.getServiceMetadata())){l=true;}s._bMetaModelLoadAttached=true;if(l&&M.getMetaModel()&&M.getMetaModel().loaded){M.getMetaModel().loaded().then(m.bind(s));}else{m.apply(s);}}}}};return O;},true);\n",
	"sap/ui/comp/odata/ODataType.js":"/*\n * ! SAP UI development toolkit for HTML5 (SAPUI5)\n\n(c) Copyright 2009-2016 SAP SE. All rights reserved\n */\nsap.ui.define(['sap/ui/model/odata/type/Boolean','sap/ui/model/odata/type/Byte','sap/ui/model/odata/type/DateTime','sap/ui/model/odata/type/DateTimeOffset','sap/ui/model/odata/type/Decimal','sap/ui/model/odata/type/Double','sap/ui/model/odata/type/Single','sap/ui/model/odata/type/Guid','sap/ui/model/odata/type/Int16','sap/ui/model/odata/type/Int32','sap/ui/model/odata/type/Int64','sap/ui/model/odata/type/SByte','sap/ui/model/odata/type/String','sap/ui/model/odata/type/Time'],function(B,a,D,b,c,d,S,G,I,e,f,g,h,T){'use strict';var u={'Edm.Boolean':B,'Edm.Byte':a,'Edm.DateTime':D,'Edm.DateTimeOffset':b,'Edm.Decimal':c,'Edm.Double':d,'Edm.Float':S,'Edm.Guid':G,'Edm.Int16':I,'Edm.Int32':e,'Edm.Int64':f,'Edm.SByte':g,'Edm.Single':S,'Edm.String':h,'Edm.Time':T};var n={'Edm.Decimal':true,'Edm.Double':true,'Edm.Float':true,'Edm.Int16':true,'Edm.Int32':true,'Edm.Int64':true,'Edm.Single':true};var m={'Edm.DateTime':true,'Edm.DateTimeOffset':true,'Edm.Time':true};var O={getType:function(t,F,C){var o=null,_;_=u[t];if(_){o=new _(F,C);}return o;},isNumeric:function(t){return n[t]?true:false;},isDateOrTime:function(t){return m[t]?true:false;}};return O;},true);\n",
	"sap/ui/comp/odata/SideEffects.js":"/*\n * SAP UI development toolkit for HTML5 (SAPUI5)\n\n(c) Copyright 2009-2016 SAP SE. All rights reserved\n */\nsap.ui.define(['jquery.sap.global'],function(q){'use strict';var S=function(){};S.prototype.getSideEffects=function(p,t,m){var r={};if(m){if(p){if(m.entitySet){r.entitySet=this._getForPath(m.entitySet,p);}if(m.entityType){r.entityType=this._getForPath(m.entityType,p);}}if(t&&m.complexType){r.complexType=this._getForPath(m.complexType,t);}}return r;};S.prototype._getForPath=function(e,p){var n,s,r={};for(n in e){if(n.indexOf&&n.indexOf('com.sap.vocabularies.Common.v1.SideEffects')===0){s=e[n];if(this._checkSourceProperties(s,p)){r[n]=s;}if(this._checkSourceEntities(s,p)){r[n]=s;}}}return r;};S.prototype._checkSourceProperties=function(s,p){var i,l;if(s.SourceProperties){l=s.SourceProperties.length;for(i=0;i<l;i++){if(s.SourceProperties[i].PropertyPath===p){return true;}}}return false;};S.prototype._checkSourceEntities=function(s,p){var i,l;if(s.SourceEntities&&s.SourceEntities.Collection){l=s.SourceEntities.Collection.length;for(i=0;i<l;i++){if(s.SourceEntities.Collection[i].NavigationPropertyPath===p){return true;}}}return false;};S.prototype.destroy=function(){};return S;},true);\n",
	"sap/ui/comp/personalization/BaseController.js":"/*\n * ! SAP UI development toolkit for HTML5 (SAPUI5)\n\n(c) Copyright 2009-2016 SAP SE. All rights reserved\n */\nsap.ui.define(['jquery.sap.global','sap/m/P13nItem','sap/ui/base/ManagedObject','./Util','sap/ui/table/Table'],function(q,P,M,U,T){'use strict';var B=M.extend('sap.ui.comp.personalization.BaseController',{metadata:{'abstract':true,library:'sap.ui.comp',properties:{type:{type:'string',group:'Misc',defaultValue:null},model:{type:'sap.ui.model.json.JSONModel',group:'Misc',defaultValue:null},persistentDataRestore:{type:'object',group:'Misc',defaultValue:null,visibility:'hidden'},ignoreColumnKeys:{type:'object',group:'Misc',defaultValue:[],visibility:'hidden'},columnHelper:{type:'sap.ui.comp.personalization.ColumnHelper',defaultValue:null,visibility:'hidden'}},associations:{table:{type:'sap.ui.core.Control',multiple:false}},events:{beforePotentialTableChange:{},afterPotentialTableChange:{}}}});B.prototype.init=function(){this._aColumnKeys=[];};B.prototype.setModelFunction=function(){var t=this;return function(){if(!this.getModel('$sapmP13nPanel')){this.setModel(t.getModel('$sapuicomppersonalizationBaseController'),'$sapmP13nPanel');}};};B.prototype.getTable=function(){var t=this.getAssociation('table');if(typeof t==='string'){t=sap.ui.getCore().byId(t);}return t;};B.prototype.createPersistentStructure=function(i){i=i||[];var p={};p[this.getType()]={};p[this.getType()][this.getItemType()]=i;return p;};B.prototype.getItemType=function(){return this.getType()+'Items';};B.prototype.getPersistentData=function(){var d=this.getModel('$sapuicomppersonalizationBaseController').getData();var p={};if(!d.persistentData[this.getType()]){p=this.createPersistentStructure();}else{p[this.getType()]=d.persistentData[this.getType()];}return p;};B.prototype.setPersistentData=function(d){var D=this.getModel('$sapuicomppersonalizationBaseController').getData();D.persistentData[this.getType()]=d[this.getType()];};B.prototype.getPersistentDataItems=function(){return this.getPersistentData()[this.getType()][this.getItemType()];};B.prototype.getTransientData=function(){var d=this.getModel('$sapuicomppersonalizationBaseController').getData();var t={};if(!d.transientData[this.getType()]){t[this.getType()]={};t[this.getType()].items=[];}else{t[this.getType()]=d.transientData[this.getType()];}return t;};B.prototype.setTransientData=function(d){var D=this.getModel('$sapuicomppersonalizationBaseController').getData();D.transientData[this.getType()]=d[this.getType()];};B.prototype.initializeModel=function(m){this.setModel(m,'$sapuicomppersonalizationBaseController');this.setTransientData(this.getTransientData());this.setPersistentData(this.getPersistentData());};B.prototype.getColumnMap=function(o){return o?this.getColumnHelper().getColumnMapOfValidColumnKeys(this.getType(),this.getIgnoreColumnKeys()):this.getColumnHelper().getColumnMap();};B.prototype.createTableRestoreJson=function(c){this._aColumnKeys=c;this.setPersistentDataRestore(this._getTable2JsonRestore(c));};B.prototype.getTableRestoreJson=function(){return U.copy(this.getPersistentDataRestore());};B.prototype.reducePersistentModel=function(){var t=this.getTable();if(!t){return;}var i=[];var p=this.getPersistentData();p[this.getType()][this.getItemType()].forEach(function(I){if(this._aColumnKeys.indexOf(I.columnKey)>-1){i.push(I);}},this);p[this.getType()][this.getItemType()]=i;this.setPersistentData(p);};B.prototype._getTable2Json=function(){};B.prototype._getTable2JsonRestore=function(c){};B.prototype.syncTable2PersistentModel=function(){this.setPersistentData(this._getTable2Json());};B.prototype.syncTable2TransientModel=function(){};B.prototype.getPanel=function(){};B.prototype.onAfterSubmit=function(p){this.syncJsonModel2Table(this.getModel('$sapuicomppersonalizationBaseController').getData().persistentData);};B.prototype.onAfterReset=function(p){};B.prototype.syncJsonModel2Table=function(j){};B.prototype.getChangeType=function(p,o){};B.prototype.getChangeData=function(p,o){};B.prototype.getUnionData=function(p,o){};B.prototype.determineNeededColumnKeys=function(p){var r={};r[this.getType()]=[];var i=this.getIgnoreColumnKeys();var n=[];if(p instanceof Array){p.forEach(function(c){if(i.indexOf(c)>-1){return;}n.push(c);});r[this.getType()]=n;return r;}if(!p||!p[this.getType()]||!p[this.getType()][this.getItemType()]){return r;}p[this.getType()][this.getItemType()].forEach(function(m){if(i.indexOf(m.columnKey)>-1){return;}n.push(m.columnKey);});r[this.getType()]=n;return r;};B.prototype.exit=function(){this._aColumnKeys=null;};return B;},true);\n",
	"sap/ui/comp/personalization/ChartWrapper.js":"/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n\n(c) Copyright 2009-2016 SAP SE. All rights reserved\n */\nsap.ui.define(['jquery.sap.global','sap/ui/core/Element'],function(q,E){'use strict';var C=E.extend('sap.ui.comp.personalization.ChartWrapper',{constructor:function(i,s){E.apply(this,arguments);},metadata:{library:'sap.ui.comp',aggregations:{columns:{type:'sap.ui.comp.personalization.ColumnWrapper',multiple:true,singularName:'column'}},associations:{chart:{type:'sap.chart.Chart',multiple:false}}}});C.prototype.getChartObject=function(){var c=this.getAssociation('chart');if(typeof c==='string'){c=sap.ui.getCore().byId(c);}return c;};C.prototype.getDomRef=function(){var c=this.getChartObject();return c.getDomRef();};return C;},true);\n",
	"sap/ui/comp/personalization/ColumnHelper.js":"/*\n * ! SAP UI development toolkit for HTML5 (SAPUI5)\n\n(c) Copyright 2009-2016 SAP SE. All rights reserved\n */\nsap.ui.define(['jquery.sap.global','sap/ui/base/ManagedObject','./Util','./ColumnWrapper'],function(q,M,U,C){'use strict';var a=M.extend('sap.ui.comp.personalization.ColumnHelper',{constructor:function(i,s){M.apply(this,arguments);},metadata:{properties:{callbackOnSetVisible:{type:'object',defaultValue:null},callbackOnSetSummed:{type:'object',defaultValue:null}}}});a.prototype.init=function(){this._oColumnKey2ColumnMap={};this._oColumnKeyIsMonkeyPatched={};this._oStoredColumnMapForColumnKeys={};};a.prototype.addColumnMap=function(c){if(!c){return;}for(var s in c){this._addColumnToMap(s,c[s]);}};a.prototype.addColumnsToMap=function(c){if(!c){return;}c.forEach(function(o){var s=U.getColumnKey(o);this._addColumnToMap(s,o);},this);};a.prototype._addColumnToMap=function(c,o){if(!this._oColumnKey2ColumnMap[c]){this._oColumnKey2ColumnMap[c]=o;this._monkeyPatchColumn(o,c);}};a.prototype.getColumnMap=function(){return this._oColumnKey2ColumnMap;};a.prototype.getColumnMapOfValidColumnKeys=function(t,i){this._invalidateStoredColumnMapForColumnKeys(t);if(this._oStoredColumnMapForColumnKeys[t]){return this._oStoredColumnMapForColumnKeys[t].map;}if(!i||!i.length){this._oStoredColumnMapForColumnKeys[t]={columnKeys:this.getColumnKeysOfMap(),map:this._oColumnKey2ColumnMap};return this._oStoredColumnMapForColumnKeys[t].map;}this._oStoredColumnMapForColumnKeys[t]={columnKeys:this.getColumnKeysOfMap(),map:q.extend(true,{},this._oColumnKey2ColumnMap)};i.forEach(function(c){delete this._oStoredColumnMapForColumnKeys[t].map[c];},this);return this._oStoredColumnMapForColumnKeys[t].map;};a.prototype._invalidateStoredColumnMapForColumnKeys=function(t){var v=this._oStoredColumnMapForColumnKeys[t];if(!v){return;}var c=this.getColumnKeysOfMap();var d=c.filter(function(s){return v.columnKeys.indexOf(s)<0;});if(d.length){delete this._oStoredColumnMapForColumnKeys[t];}};a.prototype.getColumnKeysOfMap=function(){var c=[];for(var s in this._oColumnKey2ColumnMap){c.push(s);}return c;};a.prototype.getVisibleColumnKeys=function(){var c=[];for(var s in this._oColumnKey2ColumnMap){var o=this._oColumnKey2ColumnMap[s];if(o.getVisible&&o.getVisible()){c.push(s);}}return c;};a.prototype.getColumnKeysOfType=function(t){var c=[];for(var s in this._oColumnKey2ColumnMap){var o=this._oColumnKey2ColumnMap[s];if(U.getColumnType(o)===t){c.push(s);}}return c;};a.prototype.hasFilterableColumns=function(){for(var c in this._oColumnKey2ColumnMap){if(U.isFilterable(this._oColumnKey2ColumnMap[c])){return true;}}return false;};a.prototype.hasSortableColumns=function(){for(var c in this._oColumnKey2ColumnMap){if(U.isSortable(this._oColumnKey2ColumnMap[c])){return true;}}return false;};a.prototype._monkeyPatchColumn=function(c,s){if(c instanceof C){return;}if(this._oColumnKeyIsMonkeyPatched[s]){return;}this._oColumnKeyIsMonkeyPatched[s]=true;var f=this.getCallbackOnSetVisible();var S=q.proxy(c.setVisible,c);var b=function(v){if(f){f(v,s);}S(v);};c.setVisible=b;if(c.setSummed){var d=this.getCallbackOnSetSummed();var e=q.proxy(c.setSummed,c);var g=function(i){if(d){d(i,c);}e(i);};c.setSummed=g;}};a.prototype.exit=function(){this._oColumnKey2ColumnMap=null;this._oColumnKeyIsMonkeyPatched=null;this._oStoredColumnMapForColumnKeys=null;};return a;},true);\n",
	"sap/ui/comp/personalization/ColumnWrapper.js":"/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n\n(c) Copyright 2009-2016 SAP SE. All rights reserved\n */\nsap.ui.define(['jquery.sap.global','sap/ui/core/Element'],function(q,E){'use strict';var C=E.extend('sap.ui.comp.personalization.ColumnWrapper',{constructor:function(i,s){E.apply(this,arguments);},metadata:{library:'sap.ui.comp',properties:{label:{type:'string'},tooltip:{type:'string'},selected:{type:'boolean',defaultValue:false},aggregationRole:{type:'sap.ui.comp.personalization.AggregationRole'},role:{type:'string'}}}});return C;},true);\n",
	"sap/ui/comp/personalization/ColumnsController.js":"/*\n * ! SAP UI development toolkit for HTML5 (SAPUI5)\n\n(c) Copyright 2009-2016 SAP SE. All rights reserved\n */\nsap.ui.define(['jquery.sap.global','./BaseController','sap/m/library','./Util'],function(q,B,l,U){'use strict';var C=B.extend('sap.ui.comp.personalization.ColumnsController',{constructor:function(i,s){B.apply(this,arguments);this.setType(sap.m.P13nPanelType.columns);},metadata:{properties:{triggerModelChangeOnColumnInvisible:{type:'boolean',group:'Misc',defaultValue:false}},events:{afterColumnsModelDataChange:{}}}});C.prototype.setTable=function(t){B.prototype.setTable.apply(this,arguments);if(t instanceof sap.ui.table.Table){t.detachColumnMove(this._onColumnMove,this);t.detachColumnVisibility(this._onColumnVisibility,this);t.detachColumnResize(this._onColumnResize,this);t.attachColumnMove(this._onColumnMove,this);t.attachColumnVisibility(this._onColumnVisibility,this);t.attachColumnResize(this._onColumnResize,this);}};C.prototype.reducePersistentModel=function(){this.syncTable2PersistentModel();};C.prototype._virtualTable2Json=function(){var d=this.getModel('$sapuicomppersonalizationBaseController').getData();var p={columns:U.copy(d.persistentData.columns)};var r={columns:U.copy(this.getPersistentDataRestore().columns)};var j=this.getUnionData(r,p);return j;};C.prototype._getTable2Json=function(){var j=this._virtualTable2Json();return j;};C.prototype._getTable2JsonRestore=function(c){var j=this.createPersistentStructure();var i=this.getIgnoreColumnKeys();var o=this.getColumnMap();if(c){var I=0;c.forEach(function(s){if(i.indexOf(s)>-1){return;}var a=o[s];j.columns.columnsItems.push({columnKey:s,index:I,visible:a?a.getVisible():false,width:a?a.getWidth():undefined,total:(a&&a.getSummed)?a.getSummed():undefined});I++;});return j;}return this._getTable2Json();};C.prototype.syncTable2PersistentModel=function(){B.prototype.syncTable2PersistentModel.apply(this,arguments);var d=this.getModel('$sapuicomppersonalizationBaseController').getData();var D=this.getChangeData(d.persistentData,this.getTableRestoreJson());if(D){d.persistentData.columns=D.columns;}else{d.persistentData.columns.columnsItems=[];}};C.prototype.syncTable2TransientModel=function(){this._syncTable2TransientModel();};C.prototype._determineTooltipText=function(o){var t=null;if(o&&o.getTooltip){if(o.getTooltip()instanceof sap.ui.core.TooltipBase){t=o.getTooltip().getTooltip_Text();}else{t=o.getTooltip_Text();}if(!t&&o instanceof sap.ui.table.AnalyticalColumn){t=o.getTooltip_AsString();}if(!t&&o.getLabel&&o.getLabel().getTooltip_Text){t=o.getLabel().getTooltip_Text();}}return t;};C.prototype._syncTable2TransientModel=function(){var t=this.getTable();var i=[];var c;var o;if(t){var a=this.getColumnMap(true);if(t instanceof sap.ui.table.Table){for(c in a){o=a[c];var T=this._determineTooltipText(o);i.push({columnKey:c,text:o.getLabel().getText(),tooltip:T,visible:o.getVisible(),width:o.getWidth(),total:(o&&o.getSummed)?o.getWidth():undefined});}}else{if(t instanceof sap.m.Table){for(c in a){o=a[c];i.push({columnKey:c,text:o.getHeader().getText(),tooltip:(o.getHeader().getTooltip()instanceof sap.ui.core.TooltipBase)?o.getHeader().getTooltip().getTooltip_Text():o.getHeader().getTooltip_Text(),visible:o.getVisible(),width:o.getWidth()});}}}}var I=this.getModel('$sapuicomppersonalizationBaseController').getData().transientData.columns.items;if(q(i).not(I).length!==0||q(I).not(i).length!==0){this.getModel('$sapuicomppersonalizationBaseController').getData().transientData.columns.items=i;}};C.prototype._setNewColumnItemIndex=function(d,c,n){var i=-1;if(c&&n!==null&&n!==undefined&&n>-1){i=U.getIndexByKey(d.persistentData.columns.columnsItems,U.getColumnKey(c));if(i>-1){d.persistentData.columns.columnsItems[i].index=n;}else{d.persistentData.columns.columnsItems.push({columnKey:U.getColumnKey(c),index:n});}}};C.prototype._onColumnMove=function(e){var i=0,n=null,t=null;var T=null,d=null,c=null;var N=null,o=null;c=e.getParameter('column');N=e.getParameter('newPos');this.fireBeforePotentialTableChange();if(c){T=this.getTable();o=T.indexOfColumn(c);}if(o!==null&&N!==null){d=this.getModel('$sapuicomppersonalizationBaseController').getData();if(o>N){for(i=N;i<=o;i++){if(i<o){t=T.getColumns()[i];n=i+1;}else{t=c;n=e.getParameter('newPos');}this._setNewColumnItemIndex(d,t,n);}}else{for(i=o;i<=N;i++){if(i===o){t=c;n=e.getParameter('newPos');}else{t=T.getColumns()[i];n=i-1;}this._setNewColumnItemIndex(d,t,n);}}this.getModel('$sapuicomppersonalizationBaseController').setData(d,true);this.fireAfterPotentialTableChange();this.fireAfterColumnsModelDataChange();}};C.prototype._onColumnVisibility=function(e){var d=this.getModel('$sapuicomppersonalizationBaseController').getData();var c=e.getParameter('column');var v=e.getParameter('newVisible');this.fireBeforePotentialTableChange();var i=U.getIndexByKey(d.persistentData.columns.columnsItems,U.getColumnKey(c));if(i>-1){d.persistentData.columns.columnsItems[i].visible=v;}else{d.persistentData.columns.columnsItems.push({columnKey:U.getColumnKey(c),visible:v});}this.getModel('$sapuicomppersonalizationBaseController').setData(d,true);this.fireAfterPotentialTableChange();this.fireAfterColumnsModelDataChange();};C.prototype._onColumnTotal=function(p){var d=this.getModel('$sapuicomppersonalizationBaseController').getData();var c=p.column;var i=p.isSummed;this.fireBeforePotentialTableChange();var I=U.getIndexByKey(d.persistentData.columns.columnsItems,U.getColumnKey(c));if(I>-1){d.persistentData.columns.columnsItems[I].total=i;}else{d.persistentData.columns.columnsItems.push({columnKey:U.getColumnKey(c),total:i});}this.getModel('$sapuicomppersonalizationBaseController').setData(d,true);this.fireAfterPotentialTableChange();this.fireAfterColumnsModelDataChange();};C.prototype._onColumnResize=function(e){var c=e.getParameter('column');var d=this.getModel('$sapuicomppersonalizationBaseController').getData();this.fireBeforePotentialTableChange();var i=U.getIndexByKey(d.persistentData.columns.columnsItems,U.getColumnKey(c));if(i>-1){d.persistentData.columns.columnsItems[i].width=e.getParameter('width');}else{d.persistentData.columns.columnsItems.push({columnKey:U.getColumnKey(c),width:e.getParameter('width')});}this.getModel('$sapuicomppersonalizationBaseController').setData(d,true);this.fireAfterPotentialTableChange();this.fireAfterColumnsModelDataChange();};C.prototype.getPanel=function(p){sap.ui.getCore().loadLibrary('sap.m');q.sap.require('sap/m/P13nColumnsPanel');q.sap.require('sap/m/P13nItem');q.sap.require('sap/m/P13nColumnsItem');var t=this;var v=-1;if(p&&p.visibleItemsThreshold){v=p.visibleItemsThreshold;}var P=new sap.m.P13nColumnsPanel({visibleItemsThreshold:v,items:{path:'$sapmP13nPanel>/transientData/columns/items',template:new sap.m.P13nItem({columnKey:'{$sapmP13nPanel>columnKey}',text:'{$sapmP13nPanel>text}',visible:'{$sapmP13nPanel>visible}',tooltip:'{$sapmP13nPanel>tooltip}',width:'{$sapmP13nPanel>width}'})},columnsItems:{path:'$sapmP13nPanel>/persistentData/columns/columnsItems',template:new sap.m.P13nColumnsItem({columnKey:'{$sapmP13nPanel>columnKey}',index:'{$sapmP13nPanel>index}',visible:'{$sapmP13nPanel>visible}',width:'{$sapmP13nPanel>width}',total:'{$sapmP13nPanel>total}'})},beforeNavigationTo:t.setModelFunction()});P.attachChangeColumnsItems(function(e){var d=this.getModel('$sapuicomppersonalizationBaseController').getData();var n=e.getParameter('newItems');var E=e.getParameter('existingItems');var c=null,s=null;if(n){n.forEach(function(N){c={columnKey:N.getColumnKey()};if(N.getIndex()!==undefined){c.index=N.getIndex();}if(N.getVisible()!==undefined){c.visible=N.getVisible();}if(N.getWidth()!==undefined){c.width=N.getWidth();}if(N.getTotal()!==undefined){c.total=N.getTotal();}d.persistentData.columns.columnsItems.push(c);});}if(E){E.forEach(function(o){c=null;s=o.getColumnKey();c=U.getArrayElementByKey('columnKey',s,d.persistentData.columns.columnsItems);if(c){if(o.getIndex()!==undefined){c.index=o.getIndex();}if(o.getVisible()!==undefined){c.visible=o.getVisible();}if(o.getWidth()!==undefined){c.width=o.getWidth();}if(o.getTotal()!==undefined){c.total=o.getTotal();}}});}},this);P.attachSetData(function(){var d=this.getModel('$sapuicomppersonalizationBaseController').getData();this.getModel('$sapuicomppersonalizationBaseController').setData(d);},this);this._correctColumnsItemsInPersistentData();return P;};C.prototype.onAfterReset=function(p){var P=null;if(p&&p.columns&&p.columns.oPanel){P=p.columns.oPanel;P.reInitialize();}};C.prototype.onAfterSubmit=function(p){this._correctColumnsItemsInPersistentData(p);if(p&&p.columns&&p.columns.tableItemsChanged){B.prototype.onAfterSubmit.apply(this,arguments);}};C.prototype._correctColumnsItemsInPersistentData=function(p){this._removeIndexFromInvisibleColumnsItems();this._removeEmptyColumnsItems();if(p){this._correctColumnsItemIndexesBasedOnPayload(p);}};C.prototype._correctColumnsItemIndexesBasedOnPayload=function(p){var c=this.getModel('$sapuicomppersonalizationBaseController').getData().persistentData.columns.columnsItems;var o=null,i=null,s=null,r=-1;if(c&&c.length>0){if(p&&p.columns&&p.columns.tableItemsChanged){p.columns.selectedItems.forEach(function(S,a){i=o=null;s=S.columnKey;o=U.getArrayElementByKey('columnKey',s,c);if(o&&o.index!==undefined&&o.index!==null){i=o.index;}if(i===null||i===undefined){i=a;}if(i<=r){i=r+1;}if(Math.abs(i-r)>1){i=r+1;}if(o){o.index=i;}else{o={'columnKey':s,'index':i};c.push(o);}r=i;});}}};C.prototype._removeEmptyColumnsItems=function(){var c=this.getModel('$sapuicomppersonalizationBaseController').getData().persistentData.columns.columnsItems;var i=0,L=0,o=null;if(c&&c.length){L=c.length;for(i=0;i<L;i++){o=c[i];if(o){if(o.index!==null&&o.index!==undefined){continue;}if(o.visible!==null&&o.visible!==undefined){continue;}if(o.width!==null&&o.width!==undefined){continue;}if(o.total!==null&&o.total!==undefined){continue;}c.splice(i,1);i-=1;}}}};C.prototype._removeIndexFromInvisibleColumnsItems=function(){var c=null,i=null,I=null,a=0;var p=this.getModel('$sapuicomppersonalizationBaseController').getData().persistentData;var t=this.getModel('$sapuicomppersonalizationBaseController').getData().transientData;var v=null;if(p&&p.columns&&p.columns.columnsItems){c=p.columns.columnsItems;this._sortArrayByPropertyName(c,'index');}if(t&&t.columns&&t.columns.items){i=t.columns.items;}if(c&&c.length){c.forEach(function(o){I=v=null;if(o.index!==undefined){v=o.visible;if(v===undefined||v===null){I=U.getArrayElementByKey('columnKey',o.columnKey,i);if(I&&I.visible!==undefined){v=I.visible;}}if(v===false){delete o.index;a+=1;}else{if(o.index>0&&o.index>=a){o.index-=a;}}}});}};C.prototype.syncJsonModel2Table=function(j){var t=this.getTable();var i=j.columns.columnsItems;this.fireBeforePotentialTableChange();if(t instanceof sap.ui.table.Table){this._applyChangesToUiTableType(t,i);}else if(t instanceof sap.m.Table){this._applyChangesToMTableType(t,i);}this.fireAfterPotentialTableChange();};C.prototype._sortByIndex=function(a,b){if(a.index!==undefined&&b.index===undefined){return-1;}if(b.index!==undefined&&a.index===undefined){return 1;}if(a.index<b.index){return-1;}if(a.index>b.index){return 1;}return 0;};C.prototype._applyChangesToUiTableType=function(t,c){var o=null;var a={};var f=t.getFixedColumnCount();var F=f===0?f:f-1;var b=this;var s=function(j,k){var r=[];j.sort(b._sortByIndex);j.forEach(function(m){r.push(m.columnKey);a[m.columnKey]=m;});k.forEach(function(m,I){if(r.indexOf(m)<0){r.splice(I,0,m);}});return r;};var S=function(j,o){var k=a[j];if(k&&k.visible!==undefined&&o.getVisible()!==k.visible){o.setVisible(k.visible,true);}};var d=function(I,j,o){var T=t.indexOfColumn(o);var m=I;if(m!==undefined&&T!==m){if(T>-1){t.removeColumn(o,true);}t.insertColumn(o,m,true);if(!(T>F&&m>F)){t.setFixedColumnCount(0,true);}}};var e=function(j,o){var k=a[j];if(k&&k.width!==undefined&&o.getWidth()!==k.width){o.setWidth(k.width,true);}};var g=function(j,o){var k=a[j];if(k&&k.total!==undefined&&o.getSummed&&o.getSummed()!==k.total){o.setSummed(k.total,true);}};if(c.length){var h=s(c,this._aColumnKeys);var i=this.getColumnMap();h.forEach(function(j,I){o=i[j];if(o){S(j,o);d(I,j,o);e(j,o);g(j,o);}});}};C.prototype._applyChangesToMTableType=function(t,c){var T=false;var o=this.getColumnMap();var s=function(a,b){var m=a.index;if(m!==undefined){b.setOrder(m,true);T=true;}};var S=function(a,b){if(a.visible!==undefined&&b.getVisible()!==a.visible){b.setVisible(a.visible,true);T=true;}};if(c.length){c.sort(function(a,b){if(a.index<b.index){return-1;}if(a.index>b.index){return 1;}return 0;});c.forEach(function(a){var b=o[a.columnKey];if(b){s(a,b);S(a,b);}},this);}if(T){t.invalidate();}};C.prototype.getChangeType=function(p,P){var c=this.getChangeData(p,P);var n;var t=this;if(c){var o=sap.ui.comp.personalization.ChangeType.TableChanged;c.columns.columnsItems.some(function(i){n=t.getTable()instanceof sap.ui.table.AnalyticalTable||t.getTriggerModelChangeOnColumnInvisible();if(i.visible||(i.visible===false&&n)){o=sap.ui.comp.personalization.ChangeType.ModelChanged;return true;}});return o;}return sap.ui.comp.personalization.ChangeType.Unchanged;};C.prototype.getChangeData=function(p,P){if(!P||!P.columns||!P.columns.columnsItems){return null;}var c={columns:U.copy(p.columns)};var i=true;p.columns.columnsItems.some(function(I){var o=U.getArrayElementByKey('columnKey',I.columnKey,P.columns.columnsItems);if(!U.semanticEqual(I,o)){i=false;return true;}});if(i){return null;}var t=[];c.columns.columnsItems.forEach(function(I,a){var o=U.getArrayElementByKey('columnKey',I.columnKey,P.columns.columnsItems);if(U.semanticEqual(I,o)){t.push(I);return;}for(var b in I){if(b==='columnKey'||!o){if(o&&o[b]===undefined){delete I[b];}else{continue;}}if(I[b]===o[b]){delete I[b];}}if(Object.keys(I).length<2){t.push(I);}});t.forEach(function(I){var a=U.getIndexByKey(c.columns.columnsItems,I.columnKey);c.columns.columnsItems.splice(a,1);});return c;};C.prototype._sortArrayByPropertyName=function(A,p,t){var s=[];if(t===null||t===undefined){t=false;}if(A&&A.length>0&&p!==undefined&&p!==null&&p!==''){if(t){s=q.extend(true,[],A);}else{s=A;}s.sort(function(a,b){var c=a[p];var d=b[p];if(c<d||(c!==undefined&&d===undefined)){return-1;}if(c>d||(c===undefined&&d!==undefined)){return 1;}return 0;});}return s;};C.prototype._recalculateIndexes=function(o,s,e){var m=null,M=null,i=null;if(!o||!o.length){return;}i=o.length-1;if(s===null||s===undefined||s<0||e===null||e===undefined||e<0||e>i||s===e){return;}m=Math.min(s,e);M=Math.max(s,e);o.forEach(function(O,I){if(I<m||I>M||I>i){return;}if(s>e){O.index+=1;}else{O.index-=1;}});};C.prototype.getUnionData=function(p,P){if(!P||!P.columns||!P.columns.columnsItems||P.columns.columnsItems.length===0){return p.columns?{columns:q.extend(true,{},p.columns)}:null;}if(!p||!p.columns||!p.columns.columnsItems){return{columns:q.extend(true,{},P.columns)};}var d=[];var u=this.createPersistentStructure();p.columns.columnsItems.forEach(function(c,i){var o=U.getArrayElementByKey('columnKey',c.columnKey,P.columns.columnsItems);if(o){if(o.visible!==undefined){c.visible=o.visible;}if(o.width!==undefined){c.width=o.width;}if(o.total!==undefined){c.total=o.total;}if(o.index!==undefined){c.index=o.index;d.push(c);return;}}u.columns.columnsItems.push(c);});if(d&&d.length>0){this._sortArrayByPropertyName(d,'index');d.forEach(function(D){u.columns.columnsItems.splice(D.index,0,D);});}u.columns.columnsItems.forEach(function(c,i){c.index=i;});return u;};C.prototype.isColumnSelected=function(p,P,c){if(!p){P.columnsItems.some(function(o,I){if(o.columnKey===c&&o.visible){i=I;return true;}});return i>-1;}if(!p.selectedItems){return false;}var i=U.getIndexByKey(p.selectedItems,c);return i>-1;};C.prototype.determineNeededColumnKeys=function(p){var n=[];if(!p||!p.columns||!p.columns.columnsItems){return{columns:[]};}p.columns.columnsItems.forEach(function(m){n.push(m.columnKey);});return{columns:n};};C.prototype.exit=function(){B.prototype.exit.apply(this,arguments);var t=this.getTable();if(t&&t instanceof sap.ui.table.Table){t.detachColumnMove(this._onColumnMove,this);t.detachColumnVisibility(this._onColumnVisibility,this);t.detachColumnResize(this._onColumnResize,this);}};return C;},true);\n",
	"sap/ui/comp/personalization/Controller.js":"/*\n * ! SAP UI development toolkit for HTML5 (SAPUI5)\n\n(c) Copyright 2009-2016 SAP SE. All rights reserved\n */\nsap.ui.define(['jquery.sap.global','sap/ui/base/ManagedObject','./ColumnsController','./FilterController','./GroupController','./SortController','./DimeasureController','./Util','sap/ui/comp/library','./ChartWrapper','./ColumnHelper','sap/ui/core/MessageType'],function(q,M,C,F,G,S,D,U,a,b,c,d){'use strict';var e=M.extend('sap.ui.comp.personalization.Controller',{constructor:function(i,s){M.apply(this,arguments);},metadata:{publicMethods:['setPersonalizationData'],properties:{setting:{type:'object',defaultValue:{}},resetToInitialTableState:{type:'boolean',defaultValue:true},columnKeys:{type:'string[]',defaultValue:[]}},associations:{table:{type:'object',multiple:false}},events:{beforePotentialTableChange:{},afterPotentialTableChange:{},afterP13nModelDataChange:{parameters:{changeReason:{type:'sap.ui.comp.personalization.ResetType'},persistentData:{type:'object'},changeData:{type:'object'},changeType:{type:'sap.ui.comp.personalization.ChangeType'},changeTypeVariant:{type:'sap.ui.comp.personalization.ChangeType'},changeTypeRestore:{type:'sap.ui.comp.personalization.ChangeType'}}},requestColumns:{parameters:{columnKeys:{type:'string'}}}},library:'sap.ui.comp'}});e.prototype.setTable=function(t){if(this._bInitCalled){throw'The table instance should be passed only into constructor.';}this.setAssociation('table',t);return this;};e.prototype.setSetting=function(s){if(this._bInitCalled){throw'The setting instance should be passed only into constructor.';}s=this.validateProperty('setting',s);this.setProperty('setting',s,true);return this;};e.prototype.setColumnKeys=function(f){if(this._bInitCalled){throw'The columnKeys array should be passed only into constructor.';}f=this.validateProperty('columnKeys',f);this.setProperty('columnKeys',f,true);return this;};e.prototype.setResetToInitialTableState=function(r){if(this._bInitCalled){throw'The resetToInitialTableState property should be passed only into constructor.';}r=this.validateProperty('resetToInitialTableState',r);this.setProperty('resetToInitialTableState',r,true);return this;};e.prototype._mergeSettingCurrentBy=function(s){this._oSettingCurrent=this.getTable()instanceof b?U.copy(this._oSettingOriginalChart):U.copy(this._oSettingOriginalTable);for(var t in s){if(s[t].visible===false){delete this._oSettingCurrent[t];continue;}if(this._oSettingCurrent[t]&&this._oSettingCurrent[t].visible===true){this._oSettingCurrent[t].controller=s[t].controller?s[t].controller:this._oSettingCurrent[t].controller;this._oSettingCurrent[t].payload=s[t].payload?s[t].payload:undefined;this._oSettingCurrent[t].ignoreColumnKeys=s[t].ignoreColumnKeys?s[t].ignoreColumnKeys:[];this._oSettingCurrent[t].triggerModelChangeOnColumnInvisible=s[t].triggerModelChangeOnColumnInvisible?s[t].triggerModelChangeOnColumnInvisible:undefined;}else{this._oSettingCurrent[t]={visible:s[t].visible,controller:s[t].controller?s[t].controller:undefined,payload:s[t].payload?s[t].payload:undefined,ignoreColumnKeys:s[t].ignoreColumnKeys?s[t].ignoreColumnKeys:[],triggerModelChangeOnColumnInvisible:s[t].triggerModelChangeOnColumnInvisible?s[t].triggerModelChangeOnColumnInvisible:undefined};}}this._removeUnsupportedNamespaces();};e.prototype._mixSetting=function(s,o){if(!o){return s;}for(var t in o){if(o[t].visible&&s[t]&&s[t].visible){o[t].controller=s[t].controller;o[t].payload=o[t].payload?o[t].payload:s[t].payload;}}return o;};e.prototype.getTable=function(){var t=this.getAssociation('table');if(typeof t==='string'){t=sap.ui.getCore().byId(t);}return t;};e.prototype.getModel=function(){return this._oModel;};e.prototype.addColumns=function(o){this._oColumnHelper.addColumnMap(o);};e.prototype.applySettings=function(s){M.prototype.applySettings.apply(this,arguments);this._initialize();};e.prototype._initialize=function(){var t=this.getTable();if(!t){throw'The table instance should be passed into constructor.';}var f=t.getColumns();if(!U.isConsistent(f)){throw'The table instance provided contain some columns for which a columnKey is provided, some for which a columnKey is not provided. This is not allowed ! ';}this._mergeSettingCurrentBy(this.getSetting());this._oColumnHelper.addColumnsToMap(f);var g=this.getProperty('columnKeys');if(!g.length){g=this._oColumnHelper.getColumnKeysOfMap();}this.setColumnKeys(g);this._checkIgnoredColumnKeys(t,this._oColumnHelper.getVisibleColumnKeys());this._masterSync(e.SyncReason.Initialize,null);this._bInitCalled=true;};e.prototype.init=function(){var t=this;this._oDialog=null;this._oPayload=null;this._oPersistentDataRestore=null;this._oPersistentDataCurrentVariant=null;this._oPersistentDataAlreadyKnown=null;this._oPersistentDataBeforeOpen=null;this._oModel=null;this._aColumnKeysOfDateType=[];this._aColumnKeysOfBooleanType=[];this._aColumnKeysOfTimeType=[];this._bIsDirty=false;this._bInitCalled=false;this._bSuspend=false;this._oColumnHelper=new c({callbackOnSetVisible:q.proxy(this._onSetVisible,this),callbackOnSetSummed:q.proxy(this._onSetSummed,this)});this._oSettingOriginalTable={columns:{controller:new C({columnHelper:this._oColumnHelper,afterColumnsModelDataChange:function(E){t._fireChangeEvent();},beforePotentialTableChange:function(E){t.fireBeforePotentialTableChange();},afterPotentialTableChange:function(E){t.fireAfterPotentialTableChange();}}),visible:true},sort:{controller:new S({columnHelper:this._oColumnHelper,afterSortModelDataChange:function(E){t._fireChangeEvent();},beforePotentialTableChange:function(E){t.fireBeforePotentialTableChange();},afterPotentialTableChange:function(E){t.fireAfterPotentialTableChange();}}),visible:true},filter:{controller:new F({columnHelper:this._oColumnHelper,afterFilterModelDataChange:function(E){t._fireChangeEvent();},beforePotentialTableChange:function(E){t.fireBeforePotentialTableChange();},afterPotentialTableChange:function(E){t.fireAfterPotentialTableChange();}}),visible:true},group:{controller:new G({columnHelper:this._oColumnHelper,afterGroupModelDataChange:function(E){t._fireChangeEvent();},beforePotentialTableChange:function(E){t.fireBeforePotentialTableChange();},afterPotentialTableChange:function(E){t.fireAfterPotentialTableChange();}}),visible:true}};this._oSettingOriginalChart={dimeasure:{controller:new D({columnHelper:this._oColumnHelper,afterDimeasureModelDataChange:function(E){t._fireChangeEvent();},beforePotentialTableChange:function(E){t.fireBeforePotentialTableChange();},afterPotentialTableChange:function(E){t.fireAfterPotentialTableChange();}}),visible:true},sort:{controller:new S({columnHelper:this._oColumnHelper,afterSortModelDataChange:function(E){t._fireChangeEvent();},beforePotentialTableChange:function(E){t.fireBeforePotentialTableChange();},afterPotentialTableChange:function(E){t.fireAfterPotentialTableChange();}}),visible:true},filter:{controller:new F({columnHelper:this._oColumnHelper,afterFilterModelDataChange:function(E){t._fireChangeEvent();},beforePotentialTableChange:function(E){t.fireBeforePotentialTableChange();},afterPotentialTableChange:function(E){t.fireAfterPotentialTableChange();}}),visible:true}};};e.prototype.openDialog=function(s){this._suspendTable();var m=this._determineMissingColumns(this.getColumnKeys());if(m.length){this.fireRequestColumns({columnKeys:m});this._masterSync(e.SyncReason.NewModelData,this._getPersistentDataCopy());}this._masterSync(e.SyncReason.NewTableBinding,null);this._oDialog=new sap.m.P13nDialog({stretch:sap.ui.Device.system.phone,showReset:true,showResetEnabled:this._bIsDirty,initialVisiblePanelType:this._oInitialVisiblePanelType,validationExecutor:q.proxy(this._handleDialogValidate,this)});this._oDialog.toggleStyleClass('sapUiSizeCompact',!!q(this.getTable().getDomRef()).closest('.sapUiSizeCompact').length);var o=this._mixSetting(this._oSettingCurrent,s);var p=this._callControllers(o,'getPanel');for(var t in o){if(p[t]){this._oDialog.addPanel(p[t]);}}this._oPersistentDataBeforeOpen=this._getPersistentDataCopy();this._oDialog.attachOk(this._handleDialogOk,this);this._oDialog.attachCancel(this._handleDialogCancel,this);this._oDialog.attachReset(this._handleDialogReset,this);this._oDialog.attachAfterClose(this._handleDialogAfterClose,this);this._oDialog.open();};e.prototype._determineNeededColumnKeys=function(p){var n=this._callControllers(this._oSettingCurrent,'determineNeededColumnKeys',p);return U.getUnionOfColumnKeys(n);};sap.ui.comp.personalization.Controller.prototype._determineMissingColumns=function(n){if(!n.length){return[];}var m=[];var t=this._oColumnHelper.getColumnKeysOfMap();n.forEach(function(s){if(t.indexOf(s)<0){m.push(s);}});return m;};sap.ui.comp.personalization.Controller.prototype._getSettingOfPanels=function(){if(!this._oDialog||!this._oDialog.getPanels()){return{};}var s={};this._oDialog.getPanels().forEach(function(p){var t=p.getType();s[t]={controller:this._oSettingCurrent[t].controller,visible:this._oSettingCurrent[t].visible};},this);return s;};e.prototype._getPersistentDataCopy=function(){var p={};if(this.getModel()&&this.getModel().getData().persistentData){p=U.copy(this.getModel().getData().persistentData);}return p;};e.prototype.setPersonalizationData=function(n){this._suspendTable();if(!this._sanityCheck(n)){return;}var m=this._determineMissingColumns(this._determineNeededColumnKeys(n));if(m.length){this.fireRequestColumns({columnKeys:m});}this._masterSync(e.SyncReason.NewModelDataVariant,n);if(this.getTable()&&this.getTable().setFixedColumnCount){this.getTable().setFixedColumnCount(0);}this._resumeTable(true);this._fireChangeEvent();};e.prototype.resetPersonalization=function(r){this._suspendTable();var R=this.getResetToInitialTableState();if(r===sap.ui.comp.personalization.ResetType.ResetFull||r===sap.ui.comp.personalization.ResetType.ResetPartial){R=(r===sap.ui.comp.personalization.ResetType.ResetFull);}if(R){this._masterSync(e.SyncReason.ResetModelData,null);this._fireChangeEvent(sap.ui.comp.personalization.ResetType.ResetFull);}else{this._masterSync(e.SyncReason.ResetModelDataVariant,null);this._fireChangeEvent(sap.ui.comp.personalization.ResetType.ResetPartial);}this._resumeTable(true);};e.prototype._handleDialogReset=function(E){this._suspendTable();if(this.getResetToInitialTableState()){this._masterSync(e.SyncReason.ResetModelData,null);}else{this._masterSync(e.SyncReason.ResetModelDataVariant,null);}var r=this._getSettingOfPanels();this._callControllers(r,'onAfterReset',E.getParameter('payload'));this._resumeTable(true);};e.prototype._handleDialogCancel=function(E){this._oDialog.detachCancel(this._handleDialogCancel,this);this._oDialog.close();};e.prototype._handleDialogOk=function(E){this._oDialog.detachOk(this._handleDialogOk,this);this._oPayload={trigger:'ok',payload:E.getParameter('payload')};this._oDialog.close();};e.prototype._handleDialogValidate=function(p){var r=[];var s=this._getSettingOfPanels();var P=this._callControllers(s,'getUnionData',U.copy(this._oPersistentDataRestore),this._getPersistentDataCopy());var R=sap.ui.getCore().getLibraryResourceBundle('sap.ui.comp');if(this.getTable()instanceof sap.ui.table.AnalyticalTable&&s.group&&s.columns){var o=this._oColumnHelper.getColumnMap();for(var f in o){var g=o[f];if(g.getInResult()){continue;}var h=s.columns.controller.isColumnSelected(p.columns,P.columns,f);var i=s.group.controller.isGroupSelected(p.group,P.group,f);if(i&&!h){r.push({columnKey:f,panelTypes:[sap.m.P13nPanelType.group,sap.m.P13nPanelType.columns],messageType:d.Warning,messageText:R.getText('PERSODIALOG_MSG_GROUPING_NOT_POSSIBLE_DESCRIPTION')});}}}return r;};e.prototype._getInitialVisiblePanelType=function(){for(var t in this._oSettingCurrent){return t;}};e.prototype._handleDialogAfterClose=function(){var t=this;var _=this._oPayload;this._oInitialVisiblePanelType=this._oDialog.getVisiblePanel()?this._oDialog.getVisiblePanel().getType():this._getInitialVisiblePanelType();if(_&&_.trigger==='ok'){setTimeout(function(){var s=t._getSettingOfPanels();if(t._oDialog){t._oDialog.destroy();t._oDialog=null;}t._callControllers(s,'onAfterSubmit',t._oPayload.payload);t._oPayload=null;t._fireChangeEvent();t._oPersistentDataBeforeOpen=null;t._resumeTable(true);},0);}else{setTimeout(function(){if(t._oDialog){t._oDialog.destroy();t._oDialog=null;}t._masterSync(e.SyncReason.NewModelData,t._oPersistentDataBeforeOpen);t._oPersistentDataBeforeOpen=null;t._resumeTable(false);},0);}};e.prototype._suspendTable=function(){var t=this.getTable();if(t&&t instanceof sap.ui.table.Table){this._bSuspend=true;}};e.prototype._resumeTable=function(i){i=(i===undefined)?true:i;var t=this.getTable();if(this._bSuspend){if(t){if(i){t.invalidate();}}this._bSuspend=false;}};e.prototype._masterSync=function(u,n){var t=null,j=null;switch(u){case e.SyncReason.NewTableBinding:this._callControllers(this._oSettingCurrent,'syncTable2TransientModel');break;case e.SyncReason.Initialize:this.initializeModel();this._callControllers(this._oSettingCurrent,'setTable',this.getTable());this._setSizeLimit(this.getTable());this._callControllers(this._oSettingCurrent,'setIgnoreColumnKeys');this._callControllers(this._oSettingCurrent,'setTriggerModelChangeOnColumnInvisible');this._callControllers(this._oSettingCurrent,'syncTable2TransientModel');this._callControllers(this._oSettingCurrent,'createTableRestoreJson',this.getColumnKeys());this._callControllers(this._oSettingCurrent,'syncTable2PersistentModel');j=this._callControllers(this._oSettingCurrent,'getTableRestoreJson');this._oPersistentDataRestore=U.copy(j);this._oPersistentDataCurrentVariant={};this._aColumnKeysOfDateType=[];this._aColumnKeysOfTimeType=[];this._aColumnKeysOfBooleanType=[];this._oPersistentDataAlreadyKnown=U.copy(this._oPersistentDataRestore);for(t in this._oPersistentDataRestore){if(!this._oSettingCurrent[t]){delete this._oPersistentDataRestore[t];}}for(t in this._oPersistentDataAlreadyKnown){if(!this._oSettingCurrent[t]){delete this._oPersistentDataAlreadyKnown[t];}}for(t in this._oPersistentDataCurrentVariant){if(!this._oSettingCurrent[t]){delete this._oPersistentDataCurrentVariant[t];}}break;case e.SyncReason.NewModelDataVariant:if(n===null){n={};}var p=this._callControllers(this._oSettingCurrent,'getUnionData',U.copy(this._oPersistentDataRestore),U.copy(n));this.initializeModel(p);this._callControllers(this._oSettingCurrent,'syncTable2TransientModel');this._callControllers(this._oSettingCurrent,'syncJsonModel2Table',p);this._callControllers(this._oSettingCurrent,'reducePersistentModel');this._oPersistentDataCurrentVariant=U.copy(n);break;case e.SyncReason.NewModelData:if(n===null){n={};}var p=this._callControllers(this._oSettingCurrent,'getUnionData',U.copy(this._oPersistentDataRestore),U.copy(n));this.initializeModel(p);this._callControllers(this._oSettingCurrent,'syncTable2TransientModel');this._callControllers(this._oSettingCurrent,'syncJsonModel2Table',p);this._callControllers(this._oSettingCurrent,'reducePersistentModel');break;case e.SyncReason.ResetModelData:var P=this._projectRestoreData2PersistentModel4Panels(this._oPersistentDataRestore);this.initializeModel(P);this._callControllers(this._oSettingCurrent,'syncTable2TransientModel');this._callControllers(this._oSettingCurrent,'syncJsonModel2Table',U.copy(P));this._callControllers(this._oSettingCurrent,'reducePersistentModel');break;case e.SyncReason.ResetModelDataVariant:var P=this._projectRestoreData2PersistentModel4Panels(this._oPersistentDataCurrentVariant);var o=this._callControllers(this._oSettingCurrent,'getUnionData',U.copy(this._oPersistentDataRestore),U.copy(P));this.initializeModel(o);this._callControllers(this._oSettingCurrent,'syncTable2TransientModel');this._callControllers(this._oSettingCurrent,'syncJsonModel2Table',o);this._callControllers(this._oSettingCurrent,'reducePersistentModel');break;default:}this.getModel().refresh();};e.prototype.initializeModel=function(n){if(!this.getModel()){this._oModel=new sap.ui.model.json.JSONModel();this._oModel.setDefaultBindingMode(sap.ui.model.BindingMode.TwoWay);}var N=null;if(n){N=U.copy(n);}var o=N||((this.getModel().getData()&&this.getModel().getData().persistentData)?this.getModel().getData().persistentData:{});for(var t in o){if(!this._oSettingCurrent[t]){delete o[t];}}this.getModel().setData({transientData:{},persistentData:o});this._callControllers(this._oSettingCurrent,'initializeModel',this.getModel());};e.prototype._fireChangeEvent=function(r){var o={};var p=this._callControllers(this._oSettingCurrent,'getUnionData',U.copy(this._oPersistentDataRestore),this._getPersistentDataCopy());var P=U.copy(this._oPersistentDataAlreadyKnown);o.changeType=this._callControllers(this._oSettingCurrent,'getChangeType',p,P);if(this.getResetToInitialTableState()){var f=U.copy(this._oPersistentDataRestore);o.changeTypeRestore=this._callControllers(this._oSettingCurrent,'getChangeType',p,f);this._bIsDirty=U.hasChangedType(o.changeTypeRestore);}else{var g=this._callControllers(this._oSettingCurrent,'getUnionData',U.copy(this._oPersistentDataRestore),U.copy(this._oPersistentDataCurrentVariant));o.changeTypeVariant=this._callControllers(this._oSettingCurrent,'getChangeType',p,g);o.changeTypeRestore=o.changeTypeVariant;this._bIsDirty=U.hasChangedType(o.changeTypeRestore);}if(!U.hasChangedType(o.changeType)){return;}this._aColumnKeysOfDateType=this._oColumnHelper.getColumnKeysOfType('date');this._aColumnKeysOfTimeType=this._oColumnHelper.getColumnKeysOfType('time');this._aColumnKeysOfBooleanType=this._oColumnHelper.getColumnKeysOfType('boolean');if(r===sap.ui.comp.personalization.ResetType.ResetFull||r===sap.ui.comp.personalization.ResetType.ResetPartial){o.changeReason=r;}var h=this._callControllers(this._oSettingCurrent,'getChangeData',p,P);o.changeData=U.removeEmptyProperty(U.copy(h));U.recoverPersonalisationDateData(o.changeData,this._aColumnKeysOfDateType);U.recoverPersonalisationTimeData(o.changeData,this._aColumnKeysOfTimeType);U.recoverPersonalisationBooleanData(o.changeData,this._aColumnKeysOfBooleanType);var i=U.copy(this._oPersistentDataRestore);var j=this._callControllers(this._oSettingCurrent,'getChangeData',p,i);o.persistentData=U.removeEmptyProperty(j);U.recoverPersonalisationDateData(o.persistentData,this._aColumnKeysOfDateType);U.recoverPersonalisationTimeData(o.persistentData,this._aColumnKeysOfTimeType);U.recoverPersonalisationBooleanData(o.persistentData,this._aColumnKeysOfBooleanType);this.fireAfterP13nModelDataChange(o);this._oPersistentDataAlreadyKnown=this._callControllers(this._oSettingCurrent,'getUnionData',U.copy(this._oPersistentDataAlreadyKnown),h);};e.prototype._projectRestoreData2PersistentModel4Panels=function(p){if(!this._oDialog||q.isEmptyObject(p)){return p;}var P=this._getPersistentDataCopy();var f=this._oDialog.getPanels();f.forEach(function(o){if(p[o.getType()]){P[o.getType()]=U.copy(p[o.getType()]);}else{delete P[o.getType()];}});return P;};e.prototype._checkIgnoredColumnKeys=function(t,v){if(t instanceof b){return;}var i=U.getUnionOfAttribute(this._oSettingCurrent,'ignoreColumnKeys');i.some(function(s){if(v.indexOf(s)>-1){throw\"The provided 'ignoreColumnKeys' are inconsistent. No columns specified as ignored is allowed to be visible.\";}});};e.prototype._onSetVisible=function(v,s){if(v){var i=U.getUnionOfAttribute(this._oSettingCurrent,'ignoreColumnKeys');if(i.indexOf(s)>-1){throw\"The provided 'ignoreColumnKeys' are inconsistent. No column specified as ignored is allowed to be visible. \"+this;}}};e.prototype._onSetSummed=function(i,o){this._oSettingCurrent.columns.controller._onColumnTotal({column:o,isSummed:i});};e.prototype._removeUnsupportedNamespaces=function(){var t=this.getTable();if(t&&t instanceof sap.ui.table.Table&&!(t instanceof sap.ui.table.AnalyticalTable)){delete this._oSettingCurrent.group;}};e.prototype._getArgumentsByType=function(A,t){var r=[],o=null;if(A&&A.length&&t){A.forEach(function(f){if(f&&f[t]&&typeof f[t]!=='function'){o={};o[t]=f[t];r.push(o);}else{r.push(f);}});}return r;};e.prototype._callControllers=function(s,m){var t=null,o=null,f=null,A=null;var r={},g=Array.prototype.slice.call(arguments,2);for(t in s){o=f=A=null;o=s[t];f=o.controller;if(!f||!o.visible||!f[m]){continue;}A=this._getArgumentsByType(g,t);if(m==='getPanel'){A.push(o.payload);}else if(m==='setIgnoreColumnKeys'){A.push(o.ignoreColumnKeys);}else if(m==='setTriggerModelChangeOnColumnInvisible'){A.push(o.triggerModelChangeOnColumnInvisible);}var R=f[m].apply(f,A);if(R!==null&&R!==undefined&&R[t]!==undefined){r[t]=R[t];}else{r[t]=R;}}return r;};e.prototype._setSizeLimit=function(t){this.getModel().setSizeLimit(this.getTable().getColumns().length+1000);};e.prototype._sanityCheck=function(n){return true;};e.prototype.exit=function(){var t;this._resumeTable(false);if(this._oDialog){this._oDialog.destroy();this._oDialog=null;}this._callControllers(this._oSettingCurrent,'destroy');for(t in this._oSettingCurrent){this._oSettingCurrent[t]=null;}this._oSettingCurrent=null;for(t in this._oSettingOriginalTable){this._oSettingOriginalTable[t]=null;}this._oSettingOriginalTable=null;this._oSettingCurrent=null;for(t in this._oSettingOriginalChart){this._oSettingOriginalChart[t]=null;}this._oSettingOriginalChart=null;if(this.getModel()){this.getModel().destroy();this._oModel=null;}this._oPersistentDataRestore=null;this._oPersistentDataCurrentVariant=null;this._oPersistentDataAlreadyKnown=null;this._oPersistentDataBeforeOpen=null;this._oPayload=null;this._oColumnHelper=null;};e.SyncReason={NewTable:0,NewSetting:1,NewModelData:6,NewModelDataVariant:2,ResetModelData:3,ResetModelDataVariant:4,NewTableBinding:5};return e;},true);\n",
	"sap/ui/comp/personalization/DimeasureController.js":"/*\n * ! SAP UI development toolkit for HTML5 (SAPUI5)\n\n(c) Copyright 2009-2016 SAP SE. All rights reserved\n */\nsap.ui.define(['jquery.sap.global','./BaseController','sap/m/library','sap/ui/comp/library','./ChartWrapper','./Util'],function(q,B,M,C,c,U){'use strict';var D=B.extend('sap.ui.comp.personalization.DimeasureController',{constructor:function(i,s){B.apply(this,arguments);this.setType(sap.m.P13nPanelType.dimeasure);},metadata:{events:{afterDimeasureModelDataChange:{}}}});D.prototype.setTable=function(t){B.prototype.setTable.apply(this,arguments);if(!(t instanceof c)){throw\"The provided object is incorrect. 'oTable' has to be an instance of sap.ui.comp.personalization.ChartWrapper. \";}var o=t.getChartObject();o.detachDrilledDown(this._onDrilledDown,this);o.attachDrilledDown(this._onDrilledDown,this);o.detachDrilledUp(this._onDrilledUp,this);o.attachDrilledUp(this._onDrilledUp,this);var a=this;var s=q.proxy(o.setChartType,o);var S=function(b){s(b);var m=a.getModel('$sapuicomppersonalizationBaseController');var d=m.getData();if(b&&b!==d.persistentData.dimeasure.chartTypeKey){a.fireBeforePotentialTableChange();d.persistentData.dimeasure.chartTypeKey=b;a.fireAfterPotentialTableChange();a.fireAfterDimeasureModelDataChange();}};if(o.setChartType.toString()===S.toString()){return;}o.setChartType=S;};D.prototype._onDrilledDown=function(e){this._updateModel(e.getSource());};D.prototype._onDrilledUp=function(e){this._updateModel(e.getSource());};D.prototype._updateModel=function(o){var m=this.getModel('$sapuicomppersonalizationBaseController');var d=m.getData();var a=this.getColumnMap();this.fireBeforePotentialTableChange();d.persistentData.dimeasure.dimeasureItems=[];o.getVisibleDimensions().forEach(function(s){var b=a[s];d.persistentData.dimeasure.dimeasureItems.push({columnKey:s,index:d.persistentData.dimeasure.dimeasureItems.length,visible:true,role:b.getRole()});});o.getVisibleMeasures().forEach(function(s){var b=a[s];d.persistentData.dimeasure.dimeasureItems.push({columnKey:s,index:d.persistentData.dimeasure.dimeasureItems.length,visible:true,role:b.getRole()});});m.refresh();this.fireAfterPotentialTableChange();this.fireAfterDimeasureModelDataChange();};D.prototype.createPersistentStructure=function(i){var p=B.prototype.createPersistentStructure.apply(this,arguments);p.dimeasure.chartTypeKey='';return p;};D.prototype.onAfterSubmit=function(p){if(!p||!p.dimeasure){return;}var d=this.getModel('$sapuicomppersonalizationBaseController').getData();d.persistentData.dimeasure.dimeasureItems=[];p.dimeasure.dimMeasureItems.forEach(function(o){d.persistentData.dimeasure.dimeasureItems.push({columnKey:o.getColumnKey(),index:o.getIndex(),visible:o.getVisible(),role:o.getRole()});});d.persistentData.dimeasure.chartTypeKey=p.dimeasure.chartTypeKey;this.getModel('$sapuicomppersonalizationBaseController').refresh();B.prototype.onAfterSubmit.apply(this,arguments);};D.prototype.syncJsonModel2Table=function(j){var t=this.getTable();var o=t.getChartObject();var d=[];var m=[];var u=function(e,s,S,g){var f=U.copy(e);f.sort(function(a,b){if(a.index<b.index){return-1;}else if(a.index>b.index){return 1;}else{return 0;}});var h=[];f.forEach(function(a){if(a.visible===true){h.push(a.columnKey);var b=g(a.columnKey);if(b){b.setRole(a.role);}}});if(JSON.stringify(h)!==JSON.stringify(s)){S(h);}};this.fireBeforePotentialTableChange();U.splitDimeasures(j.dimeasure.dimeasureItems,this.getModel('$sapuicomppersonalizationBaseController').getData().transientData.dimeasure.items,d,m);var v=o.getVisibleDimensions();u(d,v,q.proxy(o.setVisibleDimensions,o),q.proxy(o.getDimensionByName,o));var V=o.getVisibleMeasures();u(m,V,q.proxy(o.setVisibleMeasures,o),q.proxy(o.getMeasureByName,o));o.setChartType(j.dimeasure.chartTypeKey);this.fireAfterPotentialTableChange();};D.prototype._getTable2Json=function(){var j=this.createPersistentStructure();var t=this.getTable();if(!t){return j;}var o=t.getChartObject();var v=o.getVisibleDimensions();var V=o.getVisibleMeasures();var a=this.getColumnMap(true);j.dimeasure.chartTypeKey=o.getChartType();v.forEach(function(d){var b=a[d];if(!b){return;}if(b.getAggregationRole()!==sap.ui.comp.personalization.AggregationRole.Dimension&&b.getAggregationRole()!==sap.ui.comp.personalization.AggregationRole.Measure){return;}j.dimeasure.dimeasureItems.push({columnKey:d,index:j.dimeasure.dimeasureItems.length,visible:true,role:b.getRole()});});V.forEach(function(m){var b=a[m];if(!b){return;}if(b.getAggregationRole()!==sap.ui.comp.personalization.AggregationRole.Dimension&&b.getAggregationRole()!==sap.ui.comp.personalization.AggregationRole.Measure){return;}j.dimeasure.dimeasureItems.push({columnKey:m,index:j.dimeasure.dimeasureItems.length,visible:true,role:b.getRole()});},this);return j;};D.prototype._getTable2JsonRestore=function(){return this._getTable2Json();};D.prototype.syncTable2TransientModel=function(){var i=[];var t=this.getTable();if(!t){return;}var o=this.getColumnMap(true);for(var s in o){var a=o[s];if(a.getAggregationRole()===sap.ui.comp.personalization.AggregationRole.NotDimeasure){continue;}i.push({columnKey:s,text:a.getLabel(),tooltip:a.getTooltip(),aggregationRole:a.getAggregationRole()});}var I=this.getModel('$sapuicomppersonalizationBaseController').getData().transientData.dimeasure.items;if(q(i).not(I).length!==0||q(I).not(i).length!==0){this.getModel('$sapuicomppersonalizationBaseController').getData().transientData.dimeasure.items=i;}};D.prototype.getPanel=function(p){sap.ui.getCore().loadLibrary('sap.m');q.sap.require('sap/m/P13nDimMeasurePanel');q.sap.require('sap/m/P13nItem');q.sap.require('sap/m/P13nDimMeasureItem');var t=this;var a=[];if(p&&p.availableChartTypes){a=p.availableChartTypes;}var P=new sap.m.P13nDimMeasurePanel({availableChartTypes:a,chartTypeKey:'{$sapmP13nPanel>/persistentData/dimeasure/chartTypeKey}',items:{path:'$sapmP13nPanel>/transientData/dimeasure/items',template:new sap.m.P13nItem({columnKey:'{$sapmP13nPanel>columnKey}',text:'{$sapmP13nPanel>text}',tooltip:'{$sapmP13nPanel>tooltip}',aggregationRole:'{$sapmP13nPanel>aggregationRole}'})},dimMeasureItems:{path:'$sapmP13nPanel>/persistentData/dimeasure/dimeasureItems',template:new sap.m.P13nDimMeasureItem({columnKey:'{$sapmP13nPanel>columnKey}',index:'{$sapmP13nPanel>index}',visible:'{$sapmP13nPanel>visible}',role:'{$sapmP13nPanel>role}'})},beforeNavigationTo:t.setModelFunction()});return P;};D.prototype._isDimMeasureItemEqual=function(d,o){if(!d&&!o){return true;}if(d&&!o){if(d.index===-1&&d.visible===false){return true;}return false;}if(o&&!d){if(o.index===-1&&o.visible===false){return true;}return false;}for(var p in d){if(o[p]===undefined||d[p]!==o[p]){return false;}}return true;};D.prototype._isSemanticEqual=function(p,P){if(p.dimeasure.chartTypeKey!==P.dimeasure.chartTypeKey){return false;}var s=function(a,b){if(a.visible===true&&(b.visible===false||b.visible===undefined)){return-1;}else if((a.visible===false||a.visible===undefined)&&b.visible===true){return 1;}else if(a.visible===true&&b.visible===true){if(a.index<b.index){return-1;}else if(a.index>b.index){return 1;}else{return 0;}}else if((a.visible===false||a.visible===undefined)&&(b.visible===false||b.visible===undefined)){if(a.columnKey<b.columnKey){return-1;}else if(a.columnKey>b.columnKey){return 1;}else{return 0;}}};var d=U.copy(p.dimeasure.dimeasureItems).sort(s);var e=U.copy(P.dimeasure.dimeasureItems).sort(s);var i=true;d.some(function(o,I){if(!this._isDimMeasureItemEqual(o,e[I])){i=false;return true;}},this);return i;};D.prototype.getChangeType=function(p,P){if(!P||!P.dimeasure||!P.dimeasure.dimeasureItems){return sap.ui.comp.personalization.ChangeType.Unchanged;}return this._isSemanticEqual(p,P)?sap.ui.comp.personalization.ChangeType.Unchanged:sap.ui.comp.personalization.ChangeType.TableChanged;};D.prototype.getChangeData=function(p,P){if(!p||!p.dimeasure||!p.dimeasure.dimeasureItems){return this.createPersistentStructure();}if(!P||!P.dimeasure||!P.dimeasure.dimeasureItems){return{chartTypeKey:p.dimeasure.chartTypeKey,dimeasure:U.copy(p.dimeasure)};}if(!this._isSemanticEqual(p,P)){return{chartTypeKey:p.dimeasure.chartTypeKey,dimeasure:U.copy(p.dimeasure)};}return null;};D.prototype.getUnionData=function(d,o){if(!o||!o.dimeasure||!o.dimeasure.dimeasureItems){return{chartTypeKey:d.dimeasure.chartTypeKey,dimeasure:U.copy(d.dimeasure)};}return{dimeasure:{chartTypeKey:o.dimeasure.chartTypeKey?o.dimeasure.chartTypeKey:d.dimeasure.chartTypeKey,dimeasureItems:U.copy(o.dimeasure.dimeasureItems)}};};D.prototype.determineNeededColumnKeys=function(p){var n=[];if(!p||!p.dimeasure||!p.dimeasure.dimeasureItems){return{dimeasure:[]};}p.dimeasure.dimeasureItems.forEach(function(m){n.push(m.columnKey);});return{dimeasure:n};};D.prototype.exit=function(){B.prototype.exit.apply(this,arguments);var t=this.getTable();if(t){var o=t.getChartObject();if(o){o.detachDrilledDown(this._onDrilledDown,this);o.detachDrilledUp(this._onDrilledUp,this);}}};return D;},true);\n",
	"sap/ui/comp/personalization/FilterController.js":"/*\n * ! SAP UI development toolkit for HTML5 (SAPUI5)\n\n(c) Copyright 2009-2016 SAP SE. All rights reserved\n */\nsap.ui.define(['jquery.sap.global','./BaseController','sap/m/library','./Util','./ChartWrapper'],function(q,B,l,U,C){'use strict';var F=B.extend('sap.ui.comp.personalization.FilterController',{constructor:function(i,s){B.apply(this,arguments);this.setType(sap.m.P13nPanelType.filter);},metadata:{events:{afterFilterModelDataChange:{}}}});F.prototype.setTable=function(t){B.prototype.setTable.apply(this,arguments);if(t instanceof sap.ui.table.Table){t.detachFilter(this._onFilter,this);t.attachFilter(this._onFilter,this);}if(t instanceof C){var c=t.getChartObject();c.detachDrilledDown(this._onDrilledDown,this);c.attachDrilledDown(this._onDrilledDown,this);c.detachDrilledUp(this._onDrilledUp,this);c.attachDrilledUp(this._onDrilledUp,this);}};F.prototype._getTable2Json=function(){var j=this.createPersistentStructure();var t=this.getTable();if(!t){return j;}if(t instanceof sap.ui.table.Table){var c=this.getColumnMap(true);for(var s in c){var o=c[s];if(o.getFiltered()){j.filter.filterItems.push({columnKey:s,operation:o.getFilterOperator(),value1:o.getFilterValue(),value2:''});}}}return j;};F.prototype._getTable2JsonRestore=function(){return this._getTable2Json();};F.prototype.syncTable2TransientModel=function(){var t=this.getTable();var i=[];var c;var s;if(t){var b,v,o;if(t.getModel()instanceof sap.ui.model.odata.ODataModel||t.getModel()instanceof sap.ui.model.odata.v2.ODataModel){q.sap.require('sap.ui.model.odata.type.Boolean');o=new sap.ui.model.odata.type.Boolean();}else{if(t.getModel()instanceof sap.ui.model.Model){q.sap.require('sap.ui.model.type.Boolean');o=new sap.ui.model.type.Boolean();}}if(o){b=['',o.formatValue(false,'string'),o.formatValue(true,'string')];}var a=this.getColumnMap(true);if(t instanceof sap.ui.table.Table){for(s in a){c=a[s];if(U.isFilterable(c)){if(U.getColumnType(c)==='boolean'){v=U._getCustomProperty(c,'values')||b;}i.push({columnKey:s,text:c.getLabel().getText(),tooltip:(c.getTooltip()instanceof sap.ui.core.TooltipBase)?c.getTooltip().getTooltip_Text():c.getTooltip_Text(),maxLength:U._getCustomProperty(c,'maxLength'),precision:U._getCustomProperty(c,'precision'),scale:U._getCustomProperty(c,'scale'),type:U.getColumnType(c),values:v});}}}else if(t instanceof sap.m.Table){for(s in a){c=a[s];if(U.getColumnType(c)==='boolean'){v=U._getCustomProperty(c,'values')||b;}if(U.isFilterable(c)){i.push({columnKey:s,text:c.getHeader().getText(),tooltip:(c.getHeader().getTooltip()instanceof sap.ui.core.TooltipBase)?c.getHeader().getTooltip().getTooltip_Text():c.getHeader().getTooltip_Text(),maxLength:U._getCustomProperty(c,'maxLength'),precision:U._getCustomProperty(c,'precision'),scale:U._getCustomProperty(c,'scale'),type:U.getColumnType(c),values:v});}}}else if(t instanceof C){for(s in a){c=a[s];if(U.isFilterable(c)){i.push({columnKey:s,text:c.getLabel(),tooltip:(c.getTooltip()instanceof sap.ui.core.TooltipBase)?c.getTooltip().getTooltip_Text():c.getTooltip_Text(),maxLength:U._getCustomProperty(c,'maxLength'),precision:U._getCustomProperty(c,'precision'),scale:U._getCustomProperty(c,'scale'),type:U.getColumnType(c),values:v});}}}}U.sortItemsByText(i,'text');var I=this.getModel('$sapuicomppersonalizationBaseController').getData().transientData.filter.items;if(q(i).not(I).length!==0||q(I).not(i).length!==0){this.getModel('$sapuicomppersonalizationBaseController').getData().transientData.filter.items=i;}};F.prototype._onFilter=function(e){};F.prototype._onDrilledDown=function(e){this._updateModel(e.getSource());};F.prototype._onDrilledUp=function(e){this._updateModel(e.getSource());};F.prototype._updateModel=function(c){var m=this.getModel('$sapuicomppersonalizationBaseController');var d=m.getData();this.fireBeforePotentialTableChange();d.persistentData.filter.filterItems=d.persistentData.filter.filterItems.filter(function(f){return f.source!=='chart';});c.getVisibleDimensions().forEach(function(D){this._addSelectedFilterForDimensions(c,D,d);},this);m.refresh();this.fireAfterPotentialTableChange();this.fireAfterFilterModelDataChange();};F.prototype._addSelectedFilterForDimensions=function(c,s,d){var t=this;var o=this.getColumnMap(true);var T=function(f){if(!f){return;}if(f&&f.sPath&&f.sOperator){var a=o[f.sPath];if(!a){return;}var b={columnKey:f.sPath,operation:f.sOperator,value1:f.oValue1,value2:f.oValue2,source:'chart'};if(t._hasSemanticEqual(b,d.persistentData.filter.filterItems)){return;}d.persistentData.filter.filterItems.push(b);}if(f.aFilters){f.aFilters.forEach(function(e){T(e);});}};c._drillStateStack.forEach(function(S){if(S.dimensions.indexOf(s)>-1){T(S.filter);}});};F.prototype._hasSemanticEqual=function(f,a){if(!f||!a.length){return false;}var e=a.filter(function(o){for(var p in f){if(f[p]!==o[p]){return false;}}return true;});return e.length>0;};F.prototype.getPanel=function(p){sap.ui.getCore().loadLibrary('sap.m');q.sap.require('sap/m/P13nFilterPanel');q.sap.require('sap/m/P13nItem');q.sap.require('sap/m/P13nFilterItem');if(!this.getColumnHelper().hasFilterableColumns()){return null;}if(p&&p.column){var c=U.getColumnKey(p.column);if(c){var i=this.getModel('$sapuicomppersonalizationBaseController').getData().transientData.filter.items;i.forEach(function(I,a){I['isDefault']=I.columnKey===c;},this);}}var t=this;var P=new sap.m.P13nFilterPanel({containerQuery:true,items:{path:'$sapmP13nPanel>/transientData/filter/items',template:new sap.m.P13nItem({columnKey:'{$sapmP13nPanel>columnKey}',text:'{$sapmP13nPanel>text}',tooltip:'{$sapmP13nPanel>tooltip}',maxLength:'{$sapmP13nPanel>maxLength}',precision:'{$sapmP13nPanel>precision}',scale:'{$sapmP13nPanel>scale}',type:'{$sapmP13nPanel>type}',isDefault:'{$sapmP13nPanel>isDefault}',values:'{$sapmP13nPanel>values}'})},filterItems:{path:'$sapmP13nPanel>/persistentData/filter/filterItems',template:new sap.m.P13nFilterItem({key:'{$sapmP13nPanel>key}',columnKey:'{$sapmP13nPanel>columnKey}',exclude:'{$sapmP13nPanel>exclude}',operation:'{$sapmP13nPanel>operation}',value1:'{$sapmP13nPanel>value1}',value2:'{$sapmP13nPanel>value2}'})},beforeNavigationTo:t.setModelFunction()});var s=function(o,f){q.sap.require('sap.ui.comp.providers.ValueListProvider');o.setShowSuggestion(true);o.setFilterSuggests(false);o.setModel(this.getTable().getModel());var a=this.getColumnMap(true);var b=a[f];var d=U._getCustomProperty(b,'fullName');if(d){return new sap.ui.comp.providers.ValueListProvider({control:o,fieldName:f,typeAheadEnabled:true,aggregation:'suggestionRows',resolveInOutParams:false,loadAnnotation:true,fullyQualifiedFieldName:d,model:this.getTable().getModel(),enableShowTableSuggestionValueHelp:false});}}.bind(this);P._oIncludeFilterPanel._fSuggestCallback=s;P._oExcludeFilterPanel._fSuggestCallback=s;P.attachAddFilterItem(function(e){var d=this.getModel('$sapuicomppersonalizationBaseController').getData();var a=e.getParameters();var f={columnKey:a.filterItemData.getColumnKey(),operation:a.filterItemData.getOperation(),exclude:a.filterItemData.getExclude(),value1:a.filterItemData.getValue1(),value2:a.filterItemData.getValue2()};if(a.index>-1){d.persistentData.filter.filterItems.splice(a.index,0,f);}else{d.persistentData.filter.filterItems.push(f);}this.getModel('$sapuicomppersonalizationBaseController').setData(d,true);},this);P.attachRemoveFilterItem(function(e){var a=e.getParameters();var d=this.getModel('$sapuicomppersonalizationBaseController').getData();if(a.index>-1){d.persistentData.filter.filterItems.splice(a.index,1);this.getModel('$sapuicomppersonalizationBaseController').setData(d,true);}},this);return P;};F.prototype.syncJsonModel2Table=function(j){var c=this.getColumnMap();var o=q.extend(true,{},c);this.fireBeforePotentialTableChange();if(this.getTable()instanceof sap.ui.table.Table){j.filter.filterItems.forEach(function(f){var a=c[f.columnKey];if(a){if(!a.getFiltered()){a.setFiltered(true);}delete o[f.columnKey];}});for(var s in o){var a=o[s];if(a&&a.getFiltered()){a.setFiltered(false);}}}this.fireAfterPotentialTableChange();};F.prototype.getChangeType=function(p,P){if(!P||!P.filter||!P.filter.filterItems){return sap.ui.comp.personalization.ChangeType.Unchanged;}if(P&&P.filter&&P.filter.filterItems){P.filter.filterItems.forEach(function(f){delete f.key;delete f.source;});}if(p&&p.filter&&p.filter.filterItems){p.filter.filterItems.forEach(function(f){delete f.key;delete f.source;});}var i=JSON.stringify(p.filter.filterItems)!==JSON.stringify(P.filter.filterItems);return i?sap.ui.comp.personalization.ChangeType.ModelChanged:sap.ui.comp.personalization.ChangeType.Unchanged;};F.prototype.getChangeData=function(p,P){if(!p||!p.filter||!p.filter.filterItems){return this.createPersistentStructure();}if(P&&P.filter&&P.filter.filterItems){P.filter.filterItems.forEach(function(f){delete f.key;delete f.source;});}if(p&&p.filter&&p.filter.filterItems){p.filter.filterItems.forEach(function(f){delete f.key;delete f.source;});}if(!P||!P.filter||!P.filter.filterItems){return{filter:U.copy(p.filter)};}if(JSON.stringify(p.filter.filterItems)!==JSON.stringify(P.filter.filterItems)){return{filter:U.copy(p.filter)};}return null;};F.prototype.getUnionData=function(p,P){if(!p||!p.filter||!p.filter.filterItems){return this.createPersistentStructure();}if(!P||!P.filter||!P.filter.filterItems){return{filter:U.copy(p.filter)};}return{filter:U.copy(P.filter)};};F.prototype.determineNeededColumnKeys=function(p){var n=[];if(!p||!p.filter||!p.filter.filterItems){return{filter:[]};}p.filter.filterItems.forEach(function(m){n.push(m.columnKey);});return{filter:n};};F.prototype.exit=function(){B.prototype.exit.apply(this,arguments);var t=this.getTable();if(t&&t instanceof sap.ui.table.Table){t.detachFilter(this._onFilter,this);}if(t&&t instanceof C){var c=t.getChartObject();c.detachDrilledDown(this._onDrilledDown,this);c.detachDrilledUp(this._onDrilledUp,this);}};return F;},true);\n",
	"sap/ui/comp/personalization/GroupController.js":"/*\n * ! SAP UI development toolkit for HTML5 (SAPUI5)\n\n(c) Copyright 2009-2016 SAP SE. All rights reserved\n */\nsap.ui.define(['jquery.sap.global','./BaseController','sap/m/library','./Util'],function(q,B,l,U){'use strict';var G=B.extend('sap.ui.comp.personalization.GroupController',{constructor:function(i,s){B.apply(this,arguments);this.setType(sap.m.P13nPanelType.group);},metadata:{events:{afterGroupModelDataChange:{}}}});G.prototype.setTable=function(t){B.prototype.setTable.apply(this,arguments);if(t instanceof sap.ui.table.AnalyticalTable||t instanceof sap.ui.table.Table){t.detachGroup(this._onGroup,this);t.attachGroup(this._onGroup,this);}};G.prototype._getTable2Json=function(){var j=this.createPersistentStructure();var t=this.getTable();if(!t){return j;}var c=[];if(t instanceof sap.ui.table.Table&&t.getGroupBy){c=t.getGroupBy()||[];if(typeof c==='string'){c=[c];}}if(t instanceof sap.ui.table.AnalyticalTable&&t.getGroupedColumns){c=t.getGroupedColumns()||[];}var i=this.getIgnoreColumnKeys();c.forEach(function(C){if(typeof C==='string'){C=sap.ui.getCore().byId(C);}var s=U.getColumnKey(C);if(i.indexOf(s)>-1){return;}if(C.getGrouped()){q.sap.require('sap/m/P13nConditionPanel');j.group.groupItems.push({columnKey:s,operation:C.getSortOrder&&C.getSortOrder()===sap.ui.table.SortOrder.Ascending?sap.m.P13nConditionOperation.GroupAscending:sap.m.P13nConditionOperation.GroupDescending,showIfGrouped:C.getShowIfGrouped?C.getShowIfGrouped():false});}});return j;};G.prototype._getTable2JsonRestore=function(){return this._getTable2Json();};G.prototype.syncTable2TransientModel=function(){var t=this.getTable();var i=[];var c;var C;var o=this.getColumnMap(true);if(t){if(t instanceof sap.ui.table.AnalyticalTable||t instanceof sap.ui.table.Table){for(C in o){c=o[C];if(U.isGroupable(c)){i.push({columnKey:C,text:c.getLabel().getText(),tooltip:(c.getTooltip()instanceof sap.ui.core.TooltipBase)?c.getTooltip().getTooltip_Text():c.getTooltip_Text()});}}}if(t instanceof sap.m.Table){for(C in o){c=o[C];if(U.isGroupable(c)){i.push({columnKey:C,text:c.getHeader().getText(),tooltip:(c.getHeader().getTooltip()instanceof sap.ui.core.TooltipBase)?c.getHeader().getTooltip().getTooltip_Text():c.getHeader().getTooltip_Text()});}}}}U.sortItemsByText(i,'text');var g=this.getModel('$sapuicomppersonalizationBaseController').getData().transientData.group.items;if(q(i).not(g).length!==0||q(g).not(i).length!==0){this.getModel('$sapuicomppersonalizationBaseController').getData().transientData.group.items=i;}};G.prototype._onGroup=function(e){var t=this.getTable();var g=e.mParameters.groupedColumns;this.fireBeforePotentialTableChange();var d=this.getModel('$sapuicomppersonalizationBaseController').getData();d.persistentData.group.groupItems=[];g.forEach(function(c,i){if(typeof c==='string'){c=sap.ui.getCore().byId(c);}if(t&&t instanceof sap.ui.table.AnalyticalTable){if(c.getGrouped()){d.persistentData.group.groupItems.push({columnKey:U.getColumnKey(c),showIfGrouped:c.getShowIfGrouped?c.getShowIfGrouped():false});}}else if(t&&t instanceof sap.ui.table.Table){d.persistentData.group.groupItems.push({columnKey:U.getColumnKey(c),showIfGrouped:false});}},this);this.fireAfterPotentialTableChange();this.fireAfterGroupModelDataChange();};G.prototype._hasTableGroupableColumns=function(){var t=this.getTable();if(!t){return false;}var h=false;t.getColumns().some(function(c){if(U.isGroupable(c)){h=true;return true;}});return h;};G.prototype.getPanel=function(){sap.ui.getCore().loadLibrary('sap.m');q.sap.require('sap/m/P13nGroupPanel');q.sap.require('sap/m/P13nItem');q.sap.require('sap/m/P13nGroupItem');if(!this._hasTableGroupableColumns()){return null;}var t=this;var p=new sap.m.P13nGroupPanel({maxGroups:this.getTable()instanceof sap.ui.table.AnalyticalTable?'-1':'1',containerQuery:true,items:{path:'$sapmP13nPanel>/transientData/group/items',template:new sap.m.P13nItem({columnKey:'{$sapmP13nPanel>columnKey}',text:'{$sapmP13nPanel>text}',tooltip:'{$sapmP13nPanel>tooltip}'})},groupItems:{path:'$sapmP13nPanel>/persistentData/group/groupItems',template:new sap.m.P13nGroupItem({columnKey:'{$sapmP13nPanel>columnKey}',operation:'{$sapmP13nPanel>operation}',showIfGrouped:'{$sapmP13nPanel>showIfGrouped}'})},beforeNavigationTo:t.setModelFunction()});p.attachAddGroupItem(function(e){var d=this.getModel('$sapuicomppersonalizationBaseController').getData();var a=e.getParameters();var g={columnKey:a.groupItemData.getColumnKey(),operation:a.groupItemData.getOperation(),showIfGrouped:a.groupItemData.getShowIfGrouped()};if(a.index>-1){d.persistentData.group.groupItems.splice(a.index,0,g);}else{d.persistentData.group.groupItems.push(g);}this.getModel('$sapuicomppersonalizationBaseController').setData(d,true);},this);p.attachRemoveGroupItem(function(e){var a=e.getParameters();var d=this.getModel('$sapuicomppersonalizationBaseController').getData();if(a.index>-1){d.persistentData.group.groupItems.splice(a.index,1);this.getModel('$sapuicomppersonalizationBaseController').setData(d,true);}},this);return p;};G.prototype.syncJsonModel2Table=function(j){var t=this.getTable();var c;var C=this.getColumnMap();this.fireBeforePotentialTableChange();if(t instanceof sap.ui.table.TreeTable){return;}else if(t instanceof sap.ui.table.AnalyticalTable){for(var s in C){c=C[s];if(c&&c.getGrouped()){c.setGrouped(false);c.setShowIfGrouped(false);}}j.group.groupItems.forEach(function(g){c=C[g.columnKey];if(!c){return;}c.setGrouped(true);c.setShowIfGrouped(g.showIfGrouped);});}else if(t instanceof sap.ui.table.Table){if(j.group.groupItems.length>0){j.group.groupItems.some(function(g){c=C[g.columnKey];if(c){t.setGroupBy(c);return true;}},this);}else{t.setGroupBy(null);}}this.fireAfterPotentialTableChange();};G.prototype.getChangeType=function(p,P){if(!P||!P.group||!P.group.groupItems){return sap.ui.comp.personalization.ChangeType.Unchanged;}var i=JSON.stringify(p.group.groupItems)!==JSON.stringify(P.group.groupItems);return i?sap.ui.comp.personalization.ChangeType.ModelChanged:sap.ui.comp.personalization.ChangeType.Unchanged;};G.prototype.getChangeData=function(p,P){if(!p||!p.group||!p.group.groupItems){return this.createPersistentStructure();}if(!P||!P.group||!P.group.groupItems){return{group:U.copy(p.group)};}if(JSON.stringify(p.group.groupItems)!==JSON.stringify(P.group.groupItems)){return{group:U.copy(p.group)};}return null;};G.prototype.getUnionData=function(p,P){if(!P||!P.group||!P.group.groupItems){return{group:U.copy(p.group)};}return{group:U.copy(P.group)};};G.prototype.isGroupSelected=function(p,P,c){var i;if(!p){P.groupItems.some(function(g,I){if(g.columnKey===c){i=I;return true;}});return i>-1;}if(!p.selectedColumnKeys){return false;}if(p.selectedColumnKeys){p.selectedColumnKeys.some(function(s,I){if(s===c){i=I;return true;}});}return i>-1;};G.prototype.determineNeededColumnKeys=function(p){var n=[];if(!p||!p.group||!p.group.groupItems){return{group:[]};}p.group.groupItems.forEach(function(m){n.push(m.columnKey);});return{group:n};};G.prototype.exit=function(){B.prototype.exit.apply(this,arguments);var t=this.getTable();if(t&&(t instanceof sap.ui.table.AnalyticalTable||t instanceof sap.ui.table.Table)){t.detachGroup(this._onGroup,this);}};return G;},true);\n",
	"sap/ui/comp/personalization/SortController.js":"/*\n * ! SAP UI development toolkit for HTML5 (SAPUI5)\n\n(c) Copyright 2009-2016 SAP SE. All rights reserved\n */\nsap.ui.define(['jquery.sap.global','./BaseController','sap/m/library','./Util'],function(q,B,l,U){'use strict';var S=B.extend('sap.ui.comp.personalization.SortController',{constructor:function(i,s){B.apply(this,arguments);this.setType(sap.m.P13nPanelType.sort);},metadata:{events:{afterSortModelDataChange:{}}}});S.prototype.setTable=function(t){B.prototype.setTable.apply(this,arguments);if(t instanceof sap.ui.table.Table){t.detachSort(this._onSort,this);t.attachSort(this._onSort,this);}};S.prototype._getTable2Json=function(){var j=this.createPersistentStructure();var t=this.getTable();U.createSort2Json(t,j.sort.sortItems,this.getIgnoreColumnKeys());return j;};S.prototype._getTable2JsonRestore=function(){return this._getTable2Json();};S.prototype.syncTable2TransientModel=function(){var t=this.getTable();var i=[];var c;var C;var o=this.getColumnMap(true);if(t){if(t instanceof sap.ui.table.Table){for(C in o){c=o[C];if(U.isSortable(c)){i.push({columnKey:C,text:c.getLabel().getText(),tooltip:(c.getTooltip()instanceof sap.ui.core.TooltipBase)?c.getTooltip().getTooltip_Text():c.getTooltip_Text()});}}}else if(t instanceof sap.m.Table){for(C in o){c=o[C];if(U.isSortable(c)){i.push({columnKey:C,text:c.getHeader().getText(),tooltip:(c.getHeader().getTooltip()instanceof sap.ui.core.TooltipBase)?c.getHeader().getTooltip().getTooltip_Text():c.getHeader().getTooltip_Text()});}}}else if(t instanceof sap.ui.comp.personalization.ChartWrapper){for(C in o){c=o[C];i.push({columnKey:C,text:c.getLabel(),tooltip:(c.getTooltip()instanceof sap.ui.core.TooltipBase)?c.getTooltip().getTooltip_Text():c.getTooltip_Text()});}}}U.sortItemsByText(i,'text');var I=this.getModel('$sapuicomppersonalizationBaseController').getData().transientData.sort.items;if(q(i).not(I).length!==0||q(I).not(i).length!==0){this.getModel('$sapuicomppersonalizationBaseController').getData().transientData.sort.items=i;}};S.prototype._onSort=function(e){e.preventDefault();var a=e.mParameters.columnAdded;var t=this.getTable();if(typeof t==='string'){t=sap.ui.getCore().byId(t);}this.fireBeforePotentialTableChange();if(!a){var c=this.getColumnMap();for(var C in c){var o=c[C];if(o.setSorted){o.setSorted(false);}}}var o=e.mParameters.column;if(o&&o.setSorted){o.setSorted(true);o.setSortOrder(e.mParameters.sortOrder);}var s=this.getModel('$sapuicomppersonalizationBaseController').getData().persistentData.sort;if(!a){s.sortItems=[];}var i=U.getIndexByKey(s.sortItems,U.getColumnKey(o));if(i>-1){s.sortItems.splice(i,1);}s.sortItems.push({columnKey:U.getColumnKey(o),operation:e.mParameters.sortOrder});this.fireAfterPotentialTableChange();this.fireAfterSortModelDataChange();};S.prototype.getPanel=function(){sap.ui.getCore().loadLibrary('sap.m');q.sap.require('sap/m/P13nSortPanel');q.sap.require('sap/m/P13nItem');q.sap.require('sap/m/P13nSortItem');if(!this.getColumnHelper().hasSortableColumns()){return null;}var t=this;var p=new sap.m.P13nSortPanel({containerQuery:true,items:{path:'$sapmP13nPanel>/transientData/sort/items',template:new sap.m.P13nItem({columnKey:'{$sapmP13nPanel>columnKey}',text:'{$sapmP13nPanel>text}',tooltip:'{$sapmP13nPanel>tooltip}',maxLength:'{$sapmP13nPanel>maxlength}',type:'{$sapmP13nPanel>type}'})},sortItems:{path:'$sapmP13nPanel>/persistentData/sort/sortItems',template:new sap.m.P13nSortItem({columnKey:'{$sapmP13nPanel>columnKey}',operation:'{$sapmP13nPanel>operation}'})},beforeNavigationTo:t.setModelFunction()});p.attachAddSortItem(function(e){var d=this.getModel('$sapuicomppersonalizationBaseController').getData();var a=e.getParameters();var s={columnKey:a.sortItemData.getColumnKey(),operation:a.sortItemData.getOperation()};if(a.index>-1){d.persistentData.sort.sortItems.splice(a.index,0,s);}else{d.persistentData.sort.sortItems.push(s);}this.getModel('$sapuicomppersonalizationBaseController').setData(d,true);},this);p.attachRemoveSortItem(function(e){var a=e.getParameters();var d=this.getModel('$sapuicomppersonalizationBaseController').getData();if(a.index>-1){d.persistentData.sort.sortItems.splice(a.index,1);this.getModel('$sapuicomppersonalizationBaseController').setData(d,true);}},this);return p;};S.prototype.syncJsonModel2Table=function(j){var c=this.getColumnMap();var C=q.extend(true,{},c);this.fireBeforePotentialTableChange();if(this.getTable()instanceof sap.ui.table.Table){j.sort.sortItems.forEach(function(a){var o=c[a.columnKey];if(!o){return;}if(!o.getSorted()){o.setSorted(true);}if(o.getSortOrder()!==a.operation){o.setSortOrder(a.operation);}delete C[a.columnKey];});for(var s in C){var o=C[s];if(o&&o.getSorted()){o.setSorted(false);}}}this.fireAfterPotentialTableChange();};S.prototype.getChangeType=function(p,P){if(!P||!P.sort||!P.sort.sortItems){return sap.ui.comp.personalization.ChangeType.Unchanged;}var i=JSON.stringify(p.sort.sortItems)!==JSON.stringify(P.sort.sortItems);return i?sap.ui.comp.personalization.ChangeType.ModelChanged:sap.ui.comp.personalization.ChangeType.Unchanged;};S.prototype.getChangeData=function(p,P){if(!p||!p.sort||!p.sort.sortItems){return{sort:{sortItems:[]}};}if(!P||!P.sort||!P.sort.sortItems){return{sort:U.copy(p.sort)};}if(JSON.stringify(p.sort.sortItems)!==JSON.stringify(P.sort.sortItems)){return{sort:U.copy(p.sort)};}return null;};S.prototype.getUnionData=function(p,P){if(!P||!P.sort||!P.sort.sortItems){return{sort:U.copy(p.sort)};}return{sort:U.copy(P.sort)};};S.prototype.determineNeededColumnKeys=function(p){var n=[];if(!p||!p.sort||!p.sort.sortItems){return{sort:[]};}p.sort.sortItems.forEach(function(m){n.push(m.columnKey);});return{sort:n};};S.prototype.exit=function(){B.prototype.exit.apply(this,arguments);var t=this.getTable();if(t&&t instanceof sap.ui.table.Table){t.detachSort(this._onSort,this);}};return S;},true);\n",
	"sap/ui/comp/personalization/Util.js":"/*\n * ! SAP UI development toolkit for HTML5 (SAPUI5)\n\n(c) Copyright 2009-2016 SAP SE. All rights reserved\n */\nsap.ui.define(['sap/ui/base/Object','sap/ui/core/MessageType','./ChartWrapper','./ColumnWrapper','sap/ui/comp/library'],function(B,M,C,c,d){'use strict';var U={splitDimeasures:function(D,i,a,m){D.forEach(function(o){var I=this.getArrayElementByKey('columnKey',o.columnKey,i);if(I.aggregationRole===sap.ui.comp.personalization.AggregationRole.Dimension){a.push(o);}else if(I.aggregationRole===sap.ui.comp.personalization.AggregationRole.Measure){m.push(o);}},this);},createChartWrapper:function(o,a){var r=sap.ui.getCore().getLibraryResourceBundle('sap.m');var b=[],e,p;o.getDimensions().forEach(function(D){p=D.data('p13nData');e=new c({label:D.getLabel(),tooltip:D.getTooltip(),selected:o.getVisibleDimensions().indexOf(D.getName())>-1,aggregationRole:sap.ui.comp.personalization.AggregationRole.Dimension,role:D.getRole()?D.getRole():r.getText('COLUMNSPANEL_CHARTROLE_CATEGORY')});e.data('p13nData',p);b.push(e);});o.getMeasures().forEach(function(m){p=m.data('p13nData');e=new c({label:m.getLabel(),tooltip:m.getTooltip(),selected:o.getVisibleMeasures().indexOf(m.getName())>-1,aggregationRole:sap.ui.comp.personalization.AggregationRole.Measure,role:m.getRole()?m.getRole():r.getText('COLUMNSPANEL_CHARTROLE_AXIS1')});e.data('p13nData',p);b.push(e);});if(a){a.forEach(function(p){e=new c({label:p.label,tooltip:p.tooltip,selected:false,aggregationRole:sap.ui.comp.personalization.AggregationRole.NotDimeasure});e.data('p13nData',p);b.push(e);});}return new C({chart:o,columns:b});},sortItemsByText:function(i,k){var l;try{var l=sap.ui.getCore().getConfiguration().getLocale().toString();if(typeof window.Intl!=='undefined'){var o=window.Intl.Collator(l,{numeric:true});i.sort(function(a,b){return o.compare(a[k],b[k]);});}else{i.sort(function(a,b){return a[k].localeCompare(b[k],l,{numeric:true});});}}catch(e){}},recoverPersonalisationDateData:function(p,a){if(a.length&&p&&p.filter){p.filter.filterItems.forEach(function(f){if(a.indexOf(f.columnKey)>-1){if(f.value1&&typeof(f.value1)==='string'){f.value1=new Date(f.value1);}if(f.value2&&typeof(f.value2)==='string'){f.value2=new Date(f.value2);}}});}},recoverPersonalisationTimeData:function(p,a){if(a.length&&p&&p.filter){p.filter.filterItems.forEach(function(f){if(a.indexOf(f.columnKey)>-1){if(f.value1&&typeof(f.value1)==='string'){f.value1=new Date(f.value1);}if(f.value2&&typeof(f.value2)==='string'){f.value2=new Date(f.value2);}}});}},recoverPersonalisationBooleanData:function(p,a){if(a.length&&p&&p.filter){p.filter.filterItems.forEach(function(f){if(a.indexOf(f.columnKey)>-1){if(f.value1&&typeof(f.value1)==='string'){f.value1=f.value1==='true';}if(f.value2&&typeof(f.value2)==='string'){f.value2=f.value2==='true';}}});}},getUnionOfAttribute:function(s,a){var u=[];var A=function(b){if(u.indexOf(b)<0){u.push(b);}};for(var n in s){var N=s[n];if(!N[a]){continue;}N[a].forEach(A);}return u;},getUnionOfColumnKeys:function(o){var u=[];var f=function(a){var b=u.concat(a);u=b.filter(function(i,p){return b.indexOf(i)===p;});};for(var n in o){f(o[n]);}return u;},copy:function(o){if(o instanceof Array){return jQuery.extend(true,[],o);}return jQuery.extend(true,{},o);},sort:function(k,A){var r=this.copy(A);r.sort(function(a,b){var t=a[k].toLocaleLowerCase();var T=b[k].toLocaleLowerCase();if(t<T){return-1;}if(t>T){return 1;}return 0;});return r;},removeEmptyProperty:function(o){for(var t in o){if(o[t]===null||o[t]===undefined){delete o[t];}}return o;},semanticEqual:function(i,I){if(!i||!I){return false;}for(var p in i){if(i[p]!==I[p]){return false;}}return true;},hasChangedType:function(o){for(var t in o){if(o[t]===sap.ui.comp.personalization.ChangeType.ModelChanged||o[t]===sap.ui.comp.personalization.ChangeType.TableChanged){return true;}}return false;},isNamespaceChanged:function(o,n){if(o[n]){return o[n]===sap.ui.comp.personalization.ChangeType.ModelChanged||o[n]===sap.ui.comp.personalization.ChangeType.TableChanged;}return false;},createArrayFromString:function(e){if(!e){return[];}var E=[];var r=e.split(',');r.forEach(function(f){if(f!==''){E.push(f.trim());}});return E;},getIndexByKey:function(m,s){var I=-1;m.some(function(o,i){if(o.columnKey===s){I=i;return true;}});return I;},getColumnKey:function(o){return this._getCustomProperty(o,'columnKey')||o.getId();},getColumnType:function(o){return this._getCustomProperty(o,'type');},isGroupable:function(o){if(o instanceof sap.ui.table.AnalyticalColumn){var t=o.getParent();var b=t&&t.getBinding('rows');var r=b&&b.getAnalyticalQueryResult();if(t&&r&&r.findDimensionByPropertyName(o.getLeadingProperty())&&jQuery.inArray(o.getLeadingProperty(),b.getSortablePropertyNames())>-1&&jQuery.inArray(o.getLeadingProperty(),b.getFilterablePropertyNames())>-1){return true;}}if(o instanceof sap.m.Column){return this.isSortable(o);}return false;},isSortable:function(o){if(o.getSortProperty){return!!o.getSortProperty();}if(this._getCustomProperty(o,'sortProperty')){return true;}return false;},isFilterable:function(o){if(o.getFilterProperty){return!!o.getFilterProperty();}if(this._getCustomProperty(o,'filterProperty')){return true;}return false;},isConsistent:function(a){if(!a||!a.length){return true;}var b=true;var h=!!this._getCustomProperty(a[0],'columnKey');a.some(function(o){var H=!!this._getCustomProperty(o,'columnKey');if(H!==h){b=false;return true;}},this);return b;},getArrayElementByKey:function(k,K,a){if(!a||!a.length){return null;}var e=null;a.some(function(E){if(E[k]!==undefined&&E[k]===K){e=E;return true;}});return e;},isColumnIgnored:function(o,i){if(!i){return false;}return i.indexOf(this.getColumnKey(o))>-1;},createSort2Json:function(t,D,i){if(t){if(t instanceof sap.ui.table.Table){t.getColumns().forEach(function(o){var s=this.getColumnKey(o);if(this.isColumnIgnored(o,i)){return;}if(o.getSorted()){D.push({columnKey:s,operation:o.getSortOrder()});}},this);}}},_getCustomProperty:function(o,p){var a=this._getCustomData(o);if(!a||!p){return null;}return a[p];},_getCustomData:function(o){if(!o){return null;}var a=o.data('p13nData');if(typeof a==='string'){try{a=JSON.parse(a);o.data('p13nData',a);}catch(e){}}return a;}};return U;},true);\n",
	"sap/ui/comp/providers/BaseValueListProvider.js":"/*\n * ! SAP UI development toolkit for HTML5 (SAPUI5)\n\n(c) Copyright 2009-2016 SAP SE. All rights reserved\n */\nsap.ui.define(['jquery.sap.global','sap/ui/base/EventProvider','sap/ui/comp/odata/ODataType','sap/ui/comp/odata/MetadataAnalyser','sap/ui/comp/util/FormatUtil'],function(q,E,O,M,F){'use strict';var B=E.extend('sap.ui.comp.providers.BaseValueListProvider',{constructor:function(p){E.call(this);this.sFieldName=p.fieldName;this.oControl=p.control;this.sValueListEntitySetName=null;this.oODataModel=p.model;this.oFilterModel=p.filterModel;this.oFilterProvider=p.filterProvider;this.sDisplayFormat=p.displayFormat;this._oDateFormatSettings=p.dateFormatSettings;this.bResolveInOutParams=(p.resolveInOutParams===false)?false:true;this.sDisplayBehaviour=p.displayBehaviour;this.sDDLBDisplayBehaviour=this.sDisplayBehaviour;if(!this.sDDLBDisplayBehaviour||this.sDDLBDisplayBehaviour===sap.ui.comp.smartfilterbar.DisplayBehaviour.auto){this.sDDLBDisplayBehaviour=this.oFilterProvider?this.oFilterProvider.sDefaultDropDownDisplayBehaviour:sap.ui.comp.smartfilterbar.DisplayBehaviour.descriptionOnly;}this.sPropertyTypePath='';if(this.bResolveInOutParams&&!this.oFilterModel&&!this.oFilterProvider){this._resolvePropertyPath();}if(p.loadAnnotation&&p.fullyQualifiedFieldName){this._oMetadataAnalyser=p.metadataAnalyser;this._sFullyQualifiedFieldName=p.fullyQualifiedFieldName;this._attachAnnotationLoadOnRender();}else{this._onAnnotationLoad({primaryValueListAnnotation:p.annotation,additionalAnnotations:p.additionalAnnotations});}if(!sap.ui.comp.smartfilterbar||!sap.ui.comp.smartfilterbar.FilterProvider){q.sap.require('sap.ui.comp.smartfilterbar.FilterProvider');}}});B.prototype._attachAnnotationLoadOnRender=function(){var e;e={onBeforeRendering:function(){this.oControl.removeEventDelegate(e,this);if(this.bInitialised){if(this._onMetadataInitialised&&this.sAggregationName&&!this.bTypeAheadEnabled&&this.oControl.$()){this._onMetadataInitialised();}}else{this._loadAnnotation();}}};this.oControl.addEventDelegate(e,this);};B.prototype._loadAnnotation=function(){if(!this._oMetadataAnalyser){this._oMetadataAnalyser=new M(this.oODataModel);this._bCleanupMetadataAnalyser=true;}this._oMetadataAnalyser.getValueListAnnotationLazy(this._sFullyQualifiedFieldName).then(this._onAnnotationLoad.bind(this),function(e){this._oError=e;this.bInitialised=true;q.sap.log.debug(e);}.bind(this));};B.prototype.attachValueListChanged=function(f,l){this.attachEvent('valueListChanged',f,l);};B.prototype.detachValueListChanged=function(f,l){this.detachEvent('valueListChanged',f,l);};B.prototype._onAnnotationLoad=function(v){this.oPrimaryValueListAnnotation=v.primaryValueListAnnotation;this.additionalAnnotations=v.additionalAnnotations;this._resolveAnnotationData(this.oPrimaryValueListAnnotation);this.bInitialised=true;if(this._onMetadataInitialised&&this.sAggregationName&&!this.bTypeAheadEnabled&&this.oControl.$()){this._onMetadataInitialised();}};B.prototype._resolvePropertyPath=function(){var b=this.oControl.getBindingInfo('value'),p,P,a;if(b&&b.parts){p=b.parts[0]?b.parts[0].path:'';}if(p){a=p.split('/');if(a.length>1){P=a[a.length-1];this.sPropertyTypePath=p.replace('/'+P,'');}}};B.prototype._resolveAnnotationData=function(a){var l=0,i=0,c,f,t,T,C,o;if(this.oODataModel&&a){this.bSupportBasicSearch=a.isSearchSupported;this.sValueListTitle=a.valueListTitle||a.qualifier;this.sKey=a.keyField;this._aKeys=a.keys;this.sValueListEntitySetName=a.valueListEntitySetName;this.mInParams=a.inParams;this.mOutParams=a.outParams;this.sTokenDisplayBehaviour=this.sDisplayBehaviour;if(!this.sTokenDisplayBehaviour||this.sTokenDisplayBehaviour===sap.ui.comp.smartfilterbar.DisplayBehaviour.auto){this.sTokenDisplayBehaviour=this.oFilterProvider?this.oFilterProvider.sDefaultTokenDisplayBehaviour:sap.ui.comp.smartfilterbar.DisplayBehaviour.descriptionAndId;}if(!a.descriptionField){this.sTokenDisplayBehaviour=sap.ui.comp.smartfilterbar.DisplayBehaviour.idOnly;}this.sDescription=a.descriptionField||this.sKey;if(this.sValueListEntitySetName&&this.sKey){this._aCols=[];this.aSelect=[];c=a.valueListFields;l=c.length;for(i=0;i<l;i++){f=c[i];t=null;T=null;C=undefined;o=undefined;if(f.type==='Edm.Boolean'){t='boolean';}else if(f.type==='Edm.DateTime'&&f.displayFormat==='Date'){t='date';o=this._oDateFormatSettings;C={displayFormat:'Date'};}else if(f.type==='Edm.Decimal'){t='decimal';C={precision:f.precision,scale:f.scale};}else if(f.type==='Edm.String'){t='string';}T=O.getType(f.type,o,C);if(f.visible){this._aCols.push({label:f.fieldLabel,type:t,oType:T,width:F.getWidth(f,15),template:f.name});}this.aSelect.push(f.name);}if(a.descriptionField){this.aSelect.push(a.descriptionField);}}}};B.prototype._calculateFilterInputData=function(){var l,v,d=null;delete this.mFilterInputData;if(this.oFilterProvider&&this.oFilterProvider._oSmartFilter){d=this.oFilterProvider._oSmartFilter.getFilterData();}else if(this.oFilterModel){d=this.oFilterModel.getData();}else if(this.oODataModel&&this.bResolveInOutParams){d=this.oODataModel.getData(this.sPropertyTypePath,this.oControl.getBindingContext());}if(this.mInParams&&d){this.mFilterInputData={};this.aFilterField=[];for(l in this.mInParams){if(l){v=this.mInParams[l];if(v!==this.sKey){if(d[l]){this.mFilterInputData[v]=d[l];this.aFilterField.push(v);}}}}}};B.prototype._calculateAndSetFilterOutputData=function(d){var l,v,f=null,D,e,n,i,a;if(this.mOutParams&&d&&(this.oFilterProvider||this.oFilterModel)){f={};a=function(o){return o.key===n.key;};for(l in this.mOutParams){if(l){v=this.mOutParams[l];if(v!==this.sKey){i=d.length;while(i--){D=d[i];if(D[v]){n={key:D[v]};if(!f[l]){if(!e&&this.oFilterModel){e=this.oFilterModel.getData();}if(e&&e[l]&&e[l].items){f[l]=e[l];}else{f[l]={items:[]};}}if(f[l].items.filter(a).length<=0){f[l].items.push(n);}}}}}}if(f){if(this.oFilterProvider){this.oFilterProvider.setFilterData(f);}else if(this.oFilterModel){this.oFilterModel.setData(f,true);}}}else if(this.oODataModel&&this.bResolveInOutParams){this._calculateAndSetODataModelOutputData(d[0]);}};B.prototype._calculateAndSetODataModelOutputData=function(d){var b,l,v,p,V,c={};if(d&&this.mOutParams){b=this.oControl.getBindingContext();for(l in this.mOutParams){if(l){v=this.mOutParams[l];if(v!==this.sKey){V=d[v];c[l]=V;p=this.sPropertyTypePath?this.sPropertyTypePath+'/'+l:l;this.oODataModel.setProperty(p,V,b,true);}}}if(c&&!q.isEmptyObject(c)){this.fireEvent('valueListChanged',{'changes':c});}}};B.prototype.destroy=function(){sap.ui.base.EventProvider.prototype.destroy.apply(this,arguments);if(this._bCleanupMetadataAnalyser&&this._oMetadataAnalyser){this._oMetadataAnalyser.destroy();}this._oMetadataAnalyser=null;this.oControl=null;this.sFieldName=null;this.mFilterInputData=null;this.aFilterField=null;this.sValueListEntitySetName=null;this.oODataModel=null;this.oFilterModel=null;this.oFilterProvider=null;this.oPrimaryValueListAnnotation=null;this.additionalAnnotations=null;this.sDisplayFormat=null;this.bSupportBasicSearch=null;this.bInitialised=null;this._oError=null;this.sValueListTitle=null;this.sKey=null;this._aKeys=null;this.mInParams=null;this.mOutParams=null;this.sDescription=null;this.aSelect=null;this._aCols=null;this.sDDLBDisplayBehaviour=null;this.sTokenDisplayBehaviour=null;this._oDateFormatSettings=null;this.bIsDestroyed=true;};return B;},true);\n",
	"sap/ui/comp/providers/ChartProvider.js":"/*\n * ! SAP UI development toolkit for HTML5 (SAPUI5)\n\n(c) Copyright 2009-2016 SAP SE. All rights reserved\n */\nsap.ui.define(['jquery.sap.global','sap/ui/comp/odata/MetadataAnalyser','sap/ui/comp/odata/ChartMetadata','sap/ui/comp/odata/ODataType','./ControlProvider'],function(q,M,C,O,a){'use strict';var b=function(p){if(p){this._oParentODataModel=p.model;this.sEntitySet=p.entitySet;this._sIgnoredFields=p.ignoredFields;this.useSmartField=p.useSmartField;this._bSkipAnnotationParse=p.skipAnnotationParse==='true';this._sChartQualifier=p.chartQualifier;this._sPresentationVariantQualifier=p.presentationVariantQualifier;this._oDefaultDropDownDisplayBehaviour=p.defaultDropDownDisplayBehaviour;try{this._oDateFormatSettings=p.dateFormatSettings?JSON.parse(p.dateFormatSettings):undefined;this._oCurrencyFormatSettings=p.currencyFormatSettings?JSON.parse(p.currencyFormatSettings):undefined;}catch(e){}}this._aODataFieldMetadata=[];this._oChartViewMetadata=null;this._oChartDataPointMetadata=null;this._aIgnoredFields=[];this._oMetadataAnalyser=new M(this._oParentODataModel);this._intialiseMetadata();};b.prototype._intialiseMetadata=function(){var c,d=[],f,i,l=0;this._aODataFieldMetadata=this._oMetadataAnalyser.getFieldsByEntitySetName(this.sEntitySet);this._sFullyQualifiedEntityTypeName=this._oMetadataAnalyser.getEntityTypeNameFromEntitySetName(this.sEntitySet);if(!this._bSkipAnnotationParse){this._oPresentationVariant=this._oMetadataAnalyser.getPresentationVariantAnnotation(this._sFullyQualifiedEntityTypeName,this._sPresentationVariantQualifier);if(this._oPresentationVariant&&this._oPresentationVariant.chartAnnotation){this._oChartAnnotation=this._oPresentationVariant.chartAnnotation;}else{this._oChartAnnotation=this._oMetadataAnalyser.getChartAnnotation(this._sFullyQualifiedEntityTypeName,this._sChartQualifier);}}if(!this._oDefaultDropDownDisplayBehaviour){this._oDefaultDropDownDisplayBehaviour=this._oMetadataAnalyser.getTextArrangementValue(this._sFullyQualifiedEntityTypeName);}this._generateIgnoredFieldsArray();this._oControlProvider=new a({metadataAnalyser:this._oMetadataAnalyser,model:this._oParentODataModel,fieldsMetadata:this._aODataFieldMetadata,dateFormatSettings:this._oDateFormatSettings,currencyFormatSettings:this._oCurrencyFormatSettings,defaultDropDownDisplayBehaviour:this._oDefaultDropDownDisplayBehaviour,useSmartField:this.useSmartField,enableDescriptions:false,entitySet:this.sEntitySet});if(this._aODataFieldMetadata){l=this._aODataFieldMetadata.length;}for(i=0;i<l;i++){f=this._aODataFieldMetadata[i];if(this._aIgnoredFields.indexOf(f.name)>-1||!f.visible){continue;}if(f.type.indexOf('Edm.')===0){c=this._getFieldViewMetadata(f);this._enrichWithChartViewMetadata(f,c);d.push(f);}}if(this._oChartAnnotation){this._oChartViewMetadata=q.extend({},this._oChartAnnotation);this._oChartViewMetadata.chartType=C.getChartType(this._oChartViewMetadata.chartType);this._oChartViewMetadata.fields=d;}};b.prototype._setAnnotationMetadata=function(f){if(f&&f.fullName){var s=this._oMetadataAnalyser.getSemanticObjectsFromAnnotation(f.fullName);if(s){f.semanticObjects=s;}}};b.prototype._getFieldViewMetadata=function(f){var c=this._oControlProvider.getFieldViewMetadata(f,false);this._setAnnotationMetadata(c);return c;};b.prototype._generateIgnoredFieldsArray=function(){if(this._sIgnoredFields){this._aIgnoredFields=this._sIgnoredFields.split(',');}};b.prototype._enrichWithChartViewMetadata=function(f,v){f.isMeasure=f.aggregationRole&&f.aggregationRole==='measure';f.isDimension=f.aggregationRole&&f.aggregationRole==='dimension';f.role=this._getRole(f);f.filterType=v.filterType;if(v.template){f.template=v.template;}if(f.isDimension){f.displayBehaviour=v.displayBehaviour;}f.isSemanticObject=(v.semanticObjects)?true:false;this._setInResult(f);this._setSortOrder(f);};b.prototype._setInResult=function(f){if(this._oPresentationVariant){if(this._oPresentationVariant.requestAtLeastFields&&this._oPresentationVariant.requestAtLeastFields.indexOf(f.name)>-1){f.inResult=true;}}};b.prototype._setSortOrder=function(f){var l;if(this._oPresentationVariant&&this._oPresentationVariant.sortOrderFields){l=this._oPresentationVariant.sortOrderFields.length;for(var i=0;i<l;i++){if(this._oPresentationVariant.sortOrderFields[i].name===f.name){f.sorted=true;f.sortOrder=this._oPresentationVariant.sortOrderFields[i].descending?'Descending':'Ascending';break;}}}};b.prototype._unmarkTextDimensions=function(f,t){var i,F;for(i=0;i<f.length;i++){F=f[i];if(F.isDimension){if(t.indexOf(F.name)>-1){F.isDimension=false;}}}};b.prototype._getRole=function(f){if(this._oChartAnnotation){if(f.isDimension&&this._oChartAnnotation.dimensionAttributes){return C.getDimensionRole(this._oChartAnnotation.dimensionAttributes[f.name]);}else if(f.isMeasure&&this._oChartAnnotation.measureAttributes){return C.getMeasureRole(this._oChartAnnotation.measureAttributes[f.name]);}}};b.prototype.getChartViewMetadata=function(){return this._oChartViewMetadata;};b.prototype.getChartDataPointMetadata=function(){if(!this._oChartDataPointMetadata&&this._sFullyQualifiedEntityTypeName){this._oChartDataPointMetadata=this._oMetadataAnalyser.getDataPointAnnotation(this._sFullyQualifiedEntityTypeName);}return this._oChartDataPointMetadata;};b.prototype.getIsUTCDateHandlingEnabled=function(){return this._oDateFormatSettings?this._oDateFormatSettings.UTC:false;};b.prototype.destroy=function(){if(this._oMetadataAnalyser&&this._oMetadataAnalyser.destroy){this._oMetadataAnalyser.destroy();}this._oMetadataAnalyser=null;if(this._oControlProvider&&this._oControlProvider.destroy){this._oControlProvider.destroy();}this._oControlProvider=null;this._aODataFieldMetadata=null;this._oChartViewMetadata=null;this._oChartDataPointMetadata=null;this._sIgnoredFields=null;this.bIsDestroyed=true;};return b;},true);\n",
	"sap/ui/comp/providers/ControlProvider.js":"/*\n * ! SAP UI development toolkit for HTML5 (SAPUI5)\n\n(c) Copyright 2009-2016 SAP SE. All rights reserved\n */\nsap.ui.define(['jquery.sap.global','sap/m/CheckBox','sap/m/ComboBox','sap/m/DatePicker','sap/m/TimePicker','sap/m/HBox','sap/m/Input','sap/m/Text','sap/m/ObjectIdentifier','sap/m/ObjectStatus','sap/m/Image','sap/m/Link','sap/m/VBox','sap/ui/comp/navpopover/SmartLink','sap/ui/comp/odata/MetadataAnalyser','sap/ui/comp/smartfield/ODataHelper','sap/ui/comp/smartfield/SmartField','sap/ui/comp/odata/ODataType','sap/ui/comp/odata/CriticalityMetadata','sap/ui/comp/util/FormatUtil','sap/ui/core/Control','sap/ui/comp/navpopover/SemanticObjectController'],function(q,C,a,D,T,H,I,b,O,c,d,L,V,S,M,e,f,g,h,F,j,k){'use strict';var l;var m=function(p){if(p){this._oParentODataModel=p.model;this._oMetadataAnalyser=p.metadataAnalyser;this._aODataFieldMetadata=p.fieldsMetadata;this._oLineItemAnnotation=p.lineItemAnnotation;this._oSemanticKeyAnnotation=p.semanticKeyAnnotation;this._isMobileTable=p.isMobileTable;this._oDateFormatSettings=p.dateFormatSettings;this._bEnableDescriptions=p.enableDescriptions;this._oCurrencyFormatSettings=p.currencyFormatSettings;this._oDefaultDropDownDisplayBehaviour=p.defaultDropDownDisplayBehaviour||'descriptionAndId';this.useSmartField=p.useSmartField==='true';this.useSmartToggle=p.useSmartToggle==='true';this._sEntitySet=p.entitySet;this._oSemanticKeyAdditionalControl=p._semanticKeyAdditionalControl;this._oSemanticObjectController=p.semanticObjectController;}if(!this._oMetadataAnalyser&&this._oParentODataModel){this._oMetadataAnalyser=new M(this._oParentODataModel);this._intialiseMetadata();}this._mSmartField={};this._oHelper=new e(this._oMetadataAnalyser.oModel);this._aValueListProvider=[];this._aValueHelpProvider=[];this._aLinkHandlers=[];};m.prototype._intialiseMetadata=function(){if(!this._aODataFieldMetadata){this._aODataFieldMetadata=this._oMetadataAnalyser.getFieldsByEntitySetName(this.sEntity);}};m.prototype.getFieldViewMetadata=function(o,i){var n=this._createFieldMetadata(o);this._createFieldTemplate(n,i);return n;};m.prototype._createFieldTemplate=function(v,i){if(this.useSmartField){v.template=new f({value:{path:v.name},entitySet:this._sEntitySet,contextEditable:{path:'sm4rtM0d3l>/editable',mode:'OneWay'},controlContext:this._isMobileTable?'responsiveTable':'table',wrapping:this._isMobileTable});if(g.isNumeric(v.type)||g.isDateOrTime(v.type)){v.template.setTextAlign('Right');v.template.setWidth('100%');}this._completeSmartField(v);v.template._setPendingEditState(i);}if(this.useSmartToggle){v.template=new l({editable:{path:'sm4rtM0d3l>/editable',mode:'OneWay'},edit:this.useSmartField?v.template:this._createEditableTemplate(v),display:this._createDisplayOnlyTemplate(v)});}else if(!this.useSmartField){v.template=i?this._createEditableTemplate(v):this._createDisplayOnlyTemplate(v);}};m.prototype._completeSmartField=function(v){var o={annotations:{},path:v.name};if(!this._mSmartField.entitySetObject){this._mSmartField.entitySetObject=this._oHelper.oMeta.getODataEntitySet(this._sEntitySet);this._mSmartField.entityType=this._oHelper.oMeta.getODataEntityType(this._mSmartField.entitySetObject.entityType);}o.modelObject=this._oParentODataModel;o.entitySetObject=this._mSmartField.entitySetObject;o.entitySet=this._mSmartField.entitySetObject;o.entityType=this._mSmartField.entityType;this._oHelper.getProperty(o);v.fieldControlProperty=this._oHelper.oAnnotation.getFieldControlPath(o.property.property);if(v.fieldControlProperty&&v.parentPropertyName){v.fieldControlProperty=v.parentPropertyName+'/'+v.fieldControlProperty;}o.annotations.uom=this._oHelper.getUnitOfMeasure2(o);o.annotations.text=this._oHelper.getTextProperty2(o);o.annotations.lineitem=this._oLineItemAnnotation;o.annotations.semantic=M.getSemanticObjectsFromProperty(o.property.property);this._oHelper.getUOMTextAnnotation(o);if(o.property.property['sap:value-list']||o.property.property['com.sap.vocabularies.Common.v1.ValueList']){o.annotations.valuelist=this._oHelper.getValueListAnnotationPath(o);if(o.property.property['sap:value-list']){o.annotations.valuelistType=o.property.property['sap:value-list'];}else{o.annotations.valuelistType=this._oMetadataAnalyser.getValueListSemantics(o.property.property['com.sap.vocabularies.Common.v1.ValueList']);}}this._oHelper.getUOMValueListAnnotationPath(o);delete o.entitySet;v.template.data('configdata',{'configdata':o});v.template.data('dateFormatSettings',this._oDateFormatSettings);v.template.data('currencyFormatSettings',this._oCurrencyFormatSettings);v.template.data('defaultDropDownDisplayBehaviour',this._oDefaultDropDownDisplayBehaviour);if(o.annotations.uom||g.isNumeric(v.type)||g.isDateOrTime(v.type)){var A=v.template.getTextAlign();if(A==='Initial'){A='Right';}v.align=A;}};m.prototype._createEditableTemplate=function(v,B){var t=null,o,i,n;if(v.type==='Edm.DateTime'||v.type==='Edm.DateTimeOffset'){if(v.displayFormat==='Date'){o=this._oDateFormatSettings;i={displayFormat:'Date'};t=new D({dateValue:{path:v.name}});}}else if(v.type==='Edm.Boolean'){t=new C({selected:{path:v.name}});}else if(v.type==='Edm.Decimal'){i={precision:v.precision,scale:v.scale};}n=g.getType(v.type,o,i);if(v.semanticObjects&&(!B)){t=this._createSmartLinkFieldTemplate(v,n,function(){return this._createEditableTemplate(v,true);}.bind(this));}if(!t){if(v.type==='Edm.Time'){t=new T({value:{path:v.name,type:n}});}else{t=new I({value:{path:v.name,type:n}});if(v.isMeasureField){t.bindProperty('description',{path:v.unit});t.setTextAlign('Right');t.setTextDirection('LTR');t.setFieldWidth('80%');}else if(this._bEnableDescriptions&&v.description){t.bindProperty('description',{path:v.description});}else if(g.isNumeric(v.type)||g.isDateOrTime(v.type)){t.setTextAlign('Right');t.setTextDirection('LTR');}if(v.hasValueListAnnotation){this._associateValueHelpAndSuggest(t,v);}}}return t;};m.prototype._associateValueHelpAndSuggest=function(o,i){o.setShowValueHelp(true);this._aValueHelpProvider.push(new sap.ui.comp.providers.ValueHelpProvider({loadAnnotation:true,fullyQualifiedFieldName:i.fullName,metadataAnalyser:this._oMetadataAnalyser,control:o,model:this._oParentODataModel,preventInitialDataFetchInValueHelpDialog:true,dateFormatSettings:this._oDateFormatSettings,takeOverInputValue:false,fieldName:i.fieldName,type:i.type,maxLength:i.maxLength,displayFormat:i.displayFormat,displayBehaviour:i.displayBehaviour,title:i.label}));o.setShowSuggestion(true);o.setFilterSuggests(false);this._aValueListProvider.push(new sap.ui.comp.providers.ValueListProvider({loadAnnotation:true,fullyQualifiedFieldName:i.fullName,metadataAnalyser:this._oMetadataAnalyser,control:o,model:this._oParentODataModel,dateFormatSettings:this._oDateFormatSettings,typeAheadEnabled:true,aggregation:'suggestionRows',displayFormat:i.displayFormat,displayBehaviour:i.displayBehaviour}));};m.prototype._createDisplayOnlyTemplate=function(v,B){var t=null,o=null,i,n,A,p;if(v.displayFormat==='Date'){i=this._oDateFormatSettings;n={displayFormat:'Date'};}else if(v.type==='Edm.Decimal'){n={precision:v.precision,scale:v.scale};}o=g.getType(v.type,i,n);if(g.isNumeric(v.type)||g.isDateOrTime(v.type)){A='Right';}if(this._isMobileTable){if(v.isImageURL){t=new d({src:{path:v.name},width:'3em',height:'3em'});}else if(this._oLineItemAnnotation&&this._oLineItemAnnotation.urlInfo&&this._oLineItemAnnotation.urlInfo[v.name]){t=this._createLink(v,o,this._oLineItemAnnotation.urlInfo[v.name]);}else if(this._oLineItemAnnotation&&this._oLineItemAnnotation.criticality&&this._oLineItemAnnotation.criticality[v.name]){t=this._createObjectStatusTemplate(v,o,this._oLineItemAnnotation.criticality[v.name]);}else if(this._oSemanticKeyAnnotation&&this._oSemanticKeyAnnotation.semanticKeyFields&&this._oSemanticKeyAnnotation.semanticKeyFields.indexOf(v.name)>-1){t=this._createObjectIdentifierTemplate(v,o,this._oSemanticKeyAnnotation.semanticKeyFields.indexOf(v.name)===0);}}if(!t){if(v.isMeasureField){t=this._createMeasureFieldTemplate(v,o);}else if(v.semanticObjects&&(!B)){t=this._createSmartLinkFieldTemplate(v,o,function(){return this._createDisplayOnlyTemplate(v,true);}.bind(this));}else{p=this._getDefaultBindingInfo(v,o);t=new b({wrapping:this._isMobileTable,textAlign:A,text:p});}}v.align=A;return t;};m.prototype._getDefaultBindingInfo=function(v,t){var B={path:v.name,type:t};if(this._bEnableDescriptions&&v.description){B={parts:[{path:v.name,type:t},{path:v.description}],formatter:function(i,s){return F.getFormattedExpressionFromDisplayBehaviour(v.displayBehaviour,i,s);}};}return B;};m.prototype._createLink=function(v,t,o){var i=null;v.linkProperties=o.parameters||o.urlPath;if(o.urlPath){i={path:o.urlPath};}else if(o.urlTarget){i=o.urlTarget;}return new L({text:this._getDefaultBindingInfo(v,t),wrapping:this._isMobileTable,href:i});};m.prototype._createObjectIdentifierTemplate=function(v,t,i){var o,s,n,p;var r;var u=this;if(v.semanticObjects){k.getDistinctSemanticObjects().then(function(w){r=k.hasDistinctSemanticObject(v.semanticObjects.defaultSemanticObject,w);if(r){q.sap.require('sap.ui.comp.navpopover.NavigationPopoverHandler');p=new sap.ui.comp.navpopover.NavigationPopoverHandler({semanticObject:v.semanticObjects.defaultSemanticObject,additionalSemanticObjects:v.semanticObjects.additionalSemanticObjects,semanticObjectLabel:v.label,fieldName:v.name,semanticObjectController:u._oSemanticObjectController,navigationTargetsObtained:function(E){var o=sap.ui.getCore().byId(E.getSource().getControl());var x=E.getParameters().mainNavigation;x.setDescription(o.getText());E.getParameters().show(o.getTitle(),x,undefined,undefined);}});u._aLinkHandlers.push(p);}});}if(v.description){switch(v.displayBehaviour){case'descriptionAndId':s=v.description;n=v.name;break;case'idAndDescription':s=v.name;n=v.description;break;case'idOnly':s=v.name;break;default:s=v.description;break;}}else{s=v.name;}o=new O({title:s?{path:s}:undefined,text:n?{path:n}:undefined,titleActive:v.semanticObjects?{path:'$sapuicompcontrolprovider_distinctSO>/distinctSemanticObjects/'+v.semanticObjects.defaultSemanticObject,formatter:function(w){return!!w;}}:false,titlePress:function(E){if(r&&p){p.setControl(E.getSource());p.openPopover();}}});o.attachEvent('ObjectIdentifier.designtime',function(E){p.setControl(E.getSource());E.getParameters().registerNavigationPopoverHandler(p);});o.setModel(k.getJSONModel(),'$sapuicompcontrolprovider_distinctSO');if(this._oSemanticKeyAdditionalControl&&i){this._bSemanticKeyAdditionalControlUsed=true;return new V({items:[o,this._oSemanticKeyAdditionalControl]}).addStyleClass('sapMTableContentMargin');}return o;};m.prototype._createObjectStatusTemplate=function(v,t,o){var s,i,n,B;n=h.getShowCriticalityIcon(o.criticalityRepresentationType);if(o.path){v.criticality=o.path;s={path:o.path,formatter:h.getCriticalityState};if(n){i={path:o.path,formatter:h.getCriticalityIcon};}}else{s=h.getCriticalityState(o.criticalityType);if(n){i=h.getCriticalityIcon(o.criticalityType);}}if(v.isMeasureField){B={parts:[{path:v.name,type:t},{path:v.unit}],formatter:F.getInlineMeasureUnitFormatter(),useRawValues:v.isCurrencyField};}else if(v.description){B={path:v.description};}else{B={path:v.name,type:t};}return new c({text:B,state:s,icon:i});};m.prototype._createSmartLinkFieldTemplate=function(v,t,i){var o=new S({semanticObject:v.semanticObjects.defaultSemanticObject,additionalSemanticObjects:v.semanticObjects.additionalSemanticObjects,semanticObjectLabel:v.label,fieldName:v.name,text:this._getDefaultBindingInfo(v,t),wrapping:this._isMobileTable,semanticObjectController:this._oSemanticObjectController,navigationTargetsObtained:function(E){var B=this.getBinding('text');if(!q.isArray(B.getValue())){E.getParameters().show();return;}var n=B.getValue();var p=F.getTextsFromDisplayBehaviour(v.displayBehaviour,n[0],n[1]);var r=E.getParameters().mainNavigation;r.setDescription(p.secondText);E.getParameters().show(p.firstText,r,undefined,undefined);}});o.setCreateControlCallback(i);return o;};m.prototype._createMeasureFieldTemplate=function(v,t){var o,i,u,E=false;E=!!(v.isCurrencyField&&this._oCurrencyFormatSettings&&this._oCurrencyFormatSettings.showCurrencySymbol);i=new b({wrapping:false,textAlign:'End',text:{parts:[{path:v.name,type:t},{path:v.unit}],formatter:v.isCurrencyField?F.getAmountCurrencyFormatter():F.getMeasureUnitFormatter(),useRawValues:v.isCurrencyField}});u=new b({wrapping:false,textAlign:'Begin',width:'2.5em',text:{path:v.unit,formatter:E?F.getCurrencySymbolFormatter():undefined}});o=new H({justifyContent:'End',items:[i,u]});o.addStyleClass('sapUiCompDirectionLTR');return o;};m.prototype._createFieldMetadata=function(o){var i=q.extend({},o);i.label=o.fieldLabel||o.name;i.quickInfo=o.quickInfo||i.label;i.displayBehaviour=i.displayBehaviour||this._oDefaultDropDownDisplayBehaviour;i.filterType=this._getFilterType(o);this._updateValueListMetadata(i);this._setAnnotationMetadata(i);return i;};m.prototype._updateValueListMetadata=function(o){o.hasValueListAnnotation=o['sap:value-list']!==undefined;if(o.hasValueListAnnotation){o.hasFixedValues=o['sap:value-list']==='fixed-values';}else if(o['com.sap.vocabularies.Common.v1.ValueList']){o.hasValueListAnnotation=true;o.hasFixedValues=this._oMetadataAnalyser.getValueListSemantics(o['com.sap.vocabularies.Common.v1.ValueList'])==='fixed-values';}};m.prototype._setAnnotationMetadata=function(o){if(o&&o.fullName){o.semanticObjects=this._oMetadataAnalyser.getSemanticObjectsFromAnnotation(o.fullName);}};m.prototype._getFilterType=function(o){if(g.isNumeric(o.type)){return'numeric';}else if(o.type==='Edm.DateTime'&&o.displayFormat==='Date'){return'date';}else if(o.type==='Edm.String'){return'string';}else if(o.type==='Edm.Boolean'){return'boolean';}else if(o.type==='Edm.Time'){return'time';}return undefined;};m.prototype.destroy=function(){var n=function(A){var i;if(A){i=A.length;while(i--){A[i].destroy();}}};if(this._oMetadataAnalyser&&this._oMetadataAnalyser.destroy){this._oMetadataAnalyser.destroy();}this._oMetadataAnalyser=null;if(!this._bSemanticKeyAdditionalControlUsed&&this._oSemanticKeyAdditionalControl&&this._oSemanticKeyAdditionalControl.destroy){this._oSemanticKeyAdditionalControl.destroy();}n(this._aValueHelpProvider);this._aValueHelpProvider=null;n(this._aValueListProvider);this._aValueListProvider=null;n(this._aLinkHandlers);this._aLinkHandlers=null;if(this._oHelper){this._oHelper.destroy();}this._oHelper=null;this._mSmartField=null;this._aODataFieldMetadata=null;this._oCurrencyFormatter=null;this._oDateFormatSettings=null;this._oDefaultDropDownDisplayBehaviour=null;this._oLineItemAnnotation=null;this._oSemanticKeyAnnotation=null;this._oParentODataModel=null;this.bIsDestroyed=true;};l=j.extend('sap.ui.comp.SmartToggle',{metadata:{library:'sap.ui.comp',properties:{editable:{type:'boolean',defaultValue:false}},aggregations:{edit:{type:'sap.ui.core.Control',multiple:false},display:{type:'sap.ui.core.Control',multiple:false}}},renderer:function(r,o){r.write('<span ');r.writeControlData(o);r.addClass('sapUiCompSmartToggle');r.writeClasses();r.write('>');r.renderControl(o.getEditable()?o.getEdit():o.getDisplay());r.write('</span>');}});return m;},true);\n",
	"sap/ui/comp/providers/TableProvider.js":"/*\n * ! SAP UI development toolkit for HTML5 (SAPUI5)\n\n(c) Copyright 2009-2016 SAP SE. All rights reserved\n */\nsap.ui.define(['jquery.sap.global','sap/ui/comp/odata/MetadataAnalyser','./ControlProvider','sap/ui/comp/util/FormatUtil'],function(q,M,C,F){'use strict';var T=function(p){if(p){this._oParentODataModel=p.model;this.sEntitySet=p.entitySet;this._sIgnoredFields=p.ignoredFields;this._sInitiallyVisibleFields=p.initiallyVisibleFields;this.isEditableTable=p.isEditableTable;this._isAnalyticalTable=p.isAnalyticalTable;this._isMobileTable=p.isMobileTable;this.useSmartField=p.useSmartField;this.useSmartToggle=p.useSmartToggle;this._bSkipAnnotationParse=p.skipAnnotationParse==='true';this._sLineItemQualifier=p.lineItemQualifier;this._sPresentationVariantQualifier=p.presentationVariantQualifier;this.enableInResultForLineItem=p.enableInResultForLineItem==='true';this._oSemanticKeyAdditionalControl=p._semanticKeyAdditionalControl;try{this._oDateFormatSettings=p.dateFormatSettings?JSON.parse(p.dateFormatSettings):undefined;this._oCurrencyFormatSettings=p.currencyFormatSettings?JSON.parse(p.currencyFormatSettings):undefined;this._oDefaultDropDownDisplayBehaviour=p.defaultDropDownDisplayBehaviour;}catch(e){}}this._aODataFieldMetadata=[];this._aTableViewMetadata=[];this._aIgnoredFields=[];this._aInitiallyVisibleFields=[];this._oMetadataAnalyser=new M(this._oParentODataModel);this._oSemanticObjectController=p.semanticObjectController;this._intialiseMetadata();};T.prototype._intialiseMetadata=function(){var t=[],i,l,f,o,s,S,a;this._aODataFieldMetadata=this._oMetadataAnalyser.getFieldsByEntitySetName(this.sEntitySet);a=this._oMetadataAnalyser.getEntityTypeNameFromEntitySetName(this.sEntitySet);if(!this._bSkipAnnotationParse){this._oPresentationVariant=this._oMetadataAnalyser.getPresentationVariantAnnotation(a,this._sPresentationVariantQualifier);if(this._oPresentationVariant){this._oLineItemAnnotation=this._oPresentationVariant.lineItemAnnotation;}if(!this._oLineItemAnnotation){this._oLineItemAnnotation=this._oMetadataAnalyser.getLineItemAnnotation(a,this._sLineItemQualifier);}}if(this._isMobileTable){this._oSemanticKeyAnnotation=this._oMetadataAnalyser.getSemanticKeyAnnotation(a);this._addLineItemNavigationFields(a);}S=this._oMetadataAnalyser.getEntityContainerAttribute('supported-formats');if(S){this._bSupportsExcelExport=S.indexOf('xlsx')>-1;}if(!this._oDefaultDropDownDisplayBehaviour){this._oDefaultDropDownDisplayBehaviour=this._oMetadataAnalyser.getTextArrangementValue(a);}this._generateArrays();this._oControlProvider=new C({metadataAnalyser:this._oMetadataAnalyser,model:this._oParentODataModel,fieldsMetadata:this._aODataFieldMetadata,lineItemAnnotation:this._oLineItemAnnotation,semanticKeyAnnotation:this._oSemanticKeyAnnotation,_semanticKeyAdditionalControl:this._oSemanticKeyAdditionalControl,isMobileTable:this._isMobileTable,dateFormatSettings:this._oDateFormatSettings,currencyFormatSettings:this._oCurrencyFormatSettings,defaultDropDownDisplayBehaviour:this._oDefaultDropDownDisplayBehaviour,useSmartField:this.useSmartField,useSmartToggle:this.useSmartToggle,enableDescriptions:!this._isAnalyticalTable,entitySet:this.sEntitySet,semanticObjectController:this._oSemanticObjectController});this._oFieldSemanticObjectMap={};if(this._aODataFieldMetadata){l=this._aODataFieldMetadata.length;}for(i=0;i<l;i++){f=this._aODataFieldMetadata[i];if(this._aIgnoredFields.indexOf(f.name)>-1||!f.visible){continue;}if(f.type.indexOf('Edm.')===0){o=this._oControlProvider.getFieldViewMetadata(f,this.isEditableTable);this._enrichWithTableViewMetadata(o);t.push(o);if(o.semanticObject){this._oFieldSemanticObjectMap[o.name]=o.semanticObject;}}}s=function(b,c){if(b.index||b.index===0){if(c.index||c.index===0){return b.index-c.index;}return-1;}if(c.index||c.index===0){return 1;}return 0;};this._aTableViewMetadata=t.sort(s);};T.prototype._addLineItemNavigationFields=function(f){var a,l,s,o;if(this._aODataFieldMetadata&&this._oLineItemAnnotation){a=this._oLineItemAnnotation.fields;if(a){l=a.length;}while(l--){s=a[l];if(s&&s.indexOf('/')>=0){o=this._oMetadataAnalyser.extractNavigationPropertyField(s,this.sEntitySet);if(o){o.name=o.parentPropertyName+'/'+o.name;if(o.description){o.description=o.parentPropertyName+'/'+o.description;}if(o.unit){o.unit=o.parentPropertyName+'/'+o.unit;}this._aODataFieldMetadata.push(o);}}}}};T.prototype.getFieldSemanticObjectMap=function(){return this._oFieldSemanticObjectMap;};T.prototype.getTableViewMetadata=function(){return this._aTableViewMetadata;};T.prototype.getSupportsExcelExport=function(){return this._bSupportsExcelExport;};T.prototype.getIsUTCDateHandlingEnabled=function(){return this._oDateFormatSettings?this._oDateFormatSettings.UTC:false;};T.prototype._generateArrays=function(){if(this._sIgnoredFields){this._aIgnoredFields=this._sIgnoredFields.split(',');}if(this._sInitiallyVisibleFields){this._aInitiallyVisibleFields=this._sInitiallyVisibleFields.split(',');}};T.prototype._enrichWithTableViewMetadata=function(f){var a=[],n=[],p,l;var e=function(P){var N,t;if(P&&P.indexOf('/')>-1){t=P.split('/');t.pop();N=t.join('/');}return N;};this._updateLabel(f);f.isInitiallyVisible=this._isInitiallyVisible(f);f.index=this._getIndex(f);f.width=F.getWidth(f);if(f.isMeasureField&&f.unit){a.push(f.unit);}else if(f.description){a.push(f.description);}if(f.criticality){a.push(f.criticality);}if(f.linkProperties&&f.linkProperties.length){a=a.concat(f.linkProperties);}if(f.fieldControlProperty){a.push(f.fieldControlProperty);}l=a.length;if(l){f.additionalProperty=a.join(',');while(l--){p=e(a[l]);if(p){n.push(p);}}}if(f.parentPropertyName){n.push(f.parentPropertyName);}f.navigationProperty=n.join(',');f.summed=f.aggregationRole==='measure';this._setInResult(f);this._setSortOrder(f);this._setGroupBy(f);};T.prototype._isInitiallyVisible=function(f){var i=false;if(this._oLineItemAnnotation&&this._oLineItemAnnotation.fields){i=this._oLineItemAnnotation.fields.indexOf(f.name)>-1;if(i&&!sap.ui.Device.system.desktop){var I=this._getFieldImportance(f);if(I){if(sap.ui.Device.system.tablet){i=I==='High'||I==='Medium';}else if(sap.ui.Device.system.phone){i=I==='High';}}}}if(!i&&this._aInitiallyVisibleFields){i=this._aInitiallyVisibleFields.indexOf(f.name)>-1;}return i;};T.prototype._setInResult=function(f){if(this._oPresentationVariant){if(this._oPresentationVariant.requestAtLeastFields&&this._oPresentationVariant.requestAtLeastFields.indexOf(f.name)>-1){f.inResult=true;}}else if(this.enableInResultForLineItem){if(this._oLineItemAnnotation&&this._oLineItemAnnotation.fields&&this._oLineItemAnnotation.fields.indexOf(f.name)>-1){f.inResult=true;}}};T.prototype._setSortOrder=function(f){var l;if(this._oPresentationVariant&&this._oPresentationVariant.sortOrderFields){l=this._oPresentationVariant.sortOrderFields.length;for(var i=0;i<l;i++){if(this._oPresentationVariant.sortOrderFields[i].name===f.name){f.sorted=true;f.sortOrder=this._oPresentationVariant.sortOrderFields[i].descending?'Descending':'Ascending';break;}}}};T.prototype._setGroupBy=function(f){if(this._oPresentationVariant&&this._oPresentationVariant.groupByFields&&this._oPresentationVariant.groupByFields.indexOf(f.name)>=0){f.grouped=true;}};T.prototype._getFieldImportance=function(f){var r=null;if(this._oLineItemAnnotation&&this._oLineItemAnnotation.importance){r=this._oLineItemAnnotation.importance[f.name];}return r;};T.prototype._getIndex=function(f){var i=-1,l=0;if(this._oLineItemAnnotation&&this._oLineItemAnnotation.fields){l=this._oLineItemAnnotation.fields.length;i=this._oLineItemAnnotation.fields.indexOf(f.name);}if(i<0&&this._aInitiallyVisibleFields){i=this._aInitiallyVisibleFields.indexOf(f.name)+l;}if(i>-1){return i;}return undefined;};T.prototype._updateLabel=function(f){var l;if(this._oLineItemAnnotation&&this._oLineItemAnnotation.labels){l=this._oLineItemAnnotation.labels[f.name];}if(l){f.label=l;if(f.template&&f.template.setSemanticObjectLabel){f.template.setSemanticObjectLabel(f.label);}}};T.prototype.destroy=function(){if(this._oMetadataAnalyser&&this._oMetadataAnalyser.destroy){this._oMetadataAnalyser.destroy();}this._oMetadataAnalyser=null;if(this._oControlProvider&&this._oControlProvider.destroy){this._oControlProvider.destroy();}this._oControlProvider=null;this._aODataFieldMetadata=null;this._aTableViewMetadata=null;this._aIgnoredFields=null;this._aInitiallyVisibleFields=null;this._sIgnoredFields=null;this._sInitiallyVisibleFields=null;this.bIsDestroyed=true;};return T;},true);\n",
	"sap/ui/comp/providers/ValueHelp.designtime.js":"/*\n * ! SAP UI development toolkit for HTML5 (SAPUI5)\n\n(c) Copyright 2009-2016 SAP SE. All rights reserved\n */\nsap.ui.define([],function(){'use strict';return{annotations:{valueList:{namespace:'com.sap.vocabularies.Common.v1',annotation:'ValueList',target:['Property','Parameter'],defaultValue:null,appliesTo:['valueHelp'],group:['Behavior'],since:'1.28.1'},valueListParameterDisplayOnly:{namespace:'com.sap.vocabularies.Common.v1',annotation:'ValueListParameterDisplayOnly',target:['PropertyPath'],defaultValue:null,appliesTo:['valueHelp/#columnList'],group:['Behavior'],since:'1.28.1'},valueListParameterIn:{namespace:'com.sap.vocabularies.Common.v1',annotation:'ValueListParameterIn',target:['PropertyPath'],defaultValue:null,appliesTo:['valueHelp/#field'],group:['Behavior'],since:'1.28.1'},valueListParameterOut:{namespace:'com.sap.vocabularies.Common.v1',annotation:'ValueListParameterOut',target:['PropertyPath'],defaultValue:null,appliesTo:['valueHelp/#field'],group:['Behavior'],since:'1.28.1'},valueListParameterInOut:{namespace:'com.sap.vocabularies.Common.v1',annotation:'ValueListParameterInOut',target:['PropertyPath'],defaultValue:null,appliesTo:['valueHelp/#field'],group:['Behavior'],since:'1.28.1'}},customData:{}};},false);\n",
	"sap/ui/comp/providers/ValueHelpProvider.js":"/*\n * ! SAP UI development toolkit for HTML5 (SAPUI5)\n\n(c) Copyright 2009-2016 SAP SE. All rights reserved\n */\nsap.ui.define(['jquery.sap.global','sap/m/List','sap/m/PlacementType','sap/m/ResponsivePopover','sap/m/StandardListItem','./BaseValueListProvider','sap/ui/model/json/JSONModel'],function(q,L,P,R,S,B,J){'use strict';var V=B.extend('sap.ui.comp.providers.ValueHelpProvider',{constructor:function(p){if(p){this.preventInitialDataFetchInValueHelpDialog=p.preventInitialDataFetchInValueHelpDialog;this.sTitle=p.title;this.bSupportMultiselect=!!p.supportMultiSelect;this.bSupportRanges=p.supportRanges;this.bIsSingleIntervalRange=p.isSingleIntervalRange;this.bIsUnrestrictedFilter=p.isUnrestrictedFilter;this.bTakeOverInputValue=(p.takeOverInputValue===false)?false:true;if(this.bIsSingleIntervalRange){this.bSupportRanges=true;}this._sType=p.type;this._sMaxLength=p.maxLength;this._sScale=p.scale;this._sPrecision=p.precision;}B.apply(this,arguments);this._onInitialise();}});V.prototype._onInitialise=function(){if(this.oControl.attachValueHelpRequest){this._fVHRequested=q.proxy(function(e){if(!this.bInitialised){return;}this.oControl=e.getSource();this.bForceTriggerDataRetreival=e.getParameter('fromSuggestions');if(this.bTakeOverInputValue||this.bForceTriggerDataRetreival){this.sBasicSearchText=e.getSource().getValue();}this._createValueHelpDialog();},this);this.oControl.attachValueHelpRequest(this._fVHRequested);}};V.prototype._createValueHelpDialog=function(){if(!this.bCreated){this.bCreated=true;if(!this._oValueHelpDialogClass){sap.ui.require(['sap/ui/comp/valuehelpdialog/ValueHelpDialog'],this._onValueHelpDialogRequired.bind(this));}else{this._onValueHelpDialogRequired(this._oValueHelpDialogClass);}}};V.prototype._onValueHelpDialogRequired=function(a){this._oValueHelpDialogClass=a;this.oValueHelpDialog=new a({stretch:sap.ui.Device.system.phone,basicSearchText:this.sBasicSearchText,supportRangesOnly:this.bIsSingleIntervalRange||!this.oPrimaryValueListAnnotation,supportMultiselect:this.bSupportMultiselect,title:this.sTitle,supportRanges:this.bSupportRanges,displayFormat:this.sDisplayFormat,ok:q.proxy(this._onOK,this),cancel:q.proxy(this._onCancel,this),afterClose:q.proxy(function(){if(this.oPrimaryValueListAnnotation){this._resolveAnnotationData(this.oPrimaryValueListAnnotation);}this.oValueHelpDialog.destroy();this.bCreated=false;if(this.oControl&&this.oControl.focus&&!sap.ui.Device.system.phone){this.oControl.focus();}},this)});this.oValueHelpDialog.suggest(function(c,f){q.sap.require('sap.ui.comp.providers.ValueListProvider');c.setShowSuggestion(true);c.setFilterSuggests(false);return new sap.ui.comp.providers.ValueListProvider({control:c,fieldName:f,typeAheadEnabled:true,aggregation:'suggestionRows',displayFormat:this.sDisplayFormat,displayBehaviour:this.sTokenDisplayBehaviour,resolveInOutParams:false,annotation:this.oPrimaryValueListAnnotation,model:this.oODataModel,enableShowTableSuggestionValueHelp:false});}.bind(this));if(this.bIsSingleIntervalRange){this.oValueHelpDialog.setIncludeRangeOperations([sap.ui.comp.valuehelpdialog.ValueHelpRangeOperation.BT,sap.ui.comp.valuehelpdialog.ValueHelpRangeOperation.EQ],this._sType);this.oValueHelpDialog.setMaxIncludeRanges(1);this.oValueHelpDialog.setMaxExcludeRanges(0);this._updateInitialInterval();}else if((this._sType==='date'||this._sType==='time')&&!this.bIsUnrestrictedFilter){this.oValueHelpDialog.setIncludeRangeOperations([sap.ui.comp.valuehelpdialog.ValueHelpRangeOperation.EQ],this._sType);this.oValueHelpDialog.setMaxExcludeRanges(0);}if(this.oControl.$()&&this.oControl.$().closest('.sapUiSizeCompact').length>0){this.oValueHelpDialog.addStyleClass('sapUiSizeCompact');}else{this.oValueHelpDialog.addStyleClass('sapUiSizeCozy');}if(this.bSupportRanges){this.oValueHelpDialog.setRangeKeyFields([{label:this.sTitle,key:this.sFieldName,type:this._sType,scale:this._sScale,precision:this._sPrecision,maxLength:this._sMaxLength}]);}if(!(this.bIsSingleIntervalRange||!this.oPrimaryValueListAnnotation)){this._createAdditionalValueHelpControls();this._createCollectiveSearchControls();this.oValueHelpDialog.setModel(this.oODataModel);}if(this.oControl.getTokens){var t=this.oControl.getTokens();this.oValueHelpDialog.setTokens(t);}this.oValueHelpDialog.open();};V.prototype._updateInitialInterval=function(){var i=this.oControl.getValue(),t,r,v;if(i){t=new sap.m.Token();r={exclude:false,keyField:this.sFieldName};v=i.split('-');if(v&&v.length===2){r.operation='BT';r.value1=v[0];r.value2=v[1];}else{r.operation='EQ';r.value1=i;}t.data('range',r);}if(t){this.oValueHelpDialog.setTokens([t]);}};V.prototype._createCollectiveSearchControls=function(){var p,l,I,i=0,a=0,o,A,r;if(this.additionalAnnotations&&this.additionalAnnotations.length){o=q.proxy(function(e){var s=e.getParameter('listItem'),b;p.close();if(s){b=s.data('_annotation');if(b){this._triggerAnnotationChange(b);}}},this);l=new L({mode:sap.m.ListMode.SingleSelectMaster,selectionChange:o});r=sap.ui.getCore().getLibraryResourceBundle('sap.ui.comp');p=new R({placement:P.Bottom,showHeader:true,contentHeight:'30rem',title:r.getText('COLLECTIVE_SEARCH_SELECTION_TITLE'),content:[l]});I=new S({title:this.oPrimaryValueListAnnotation.valueListTitle});I.data('_annotation',this.oPrimaryValueListAnnotation);l.addItem(I);l.setSelectedItem(I);this.oValueHelpDialog.oSelectionTitle.setText(this.oPrimaryValueListAnnotation.valueListTitle);this.oValueHelpDialog.oSelectionTitle.setTooltip(this.oPrimaryValueListAnnotation.valueListTitle);a=this.additionalAnnotations.length;for(i=0;i<a;i++){A=this.additionalAnnotations[i];I=new S({title:A.valueListTitle});I.data('_annotation',A);l.addItem(I);}this.oValueHelpDialog.oSelectionButton.setVisible(true);this.oValueHelpDialog.oSelectionTitle.setVisible(true);this.oValueHelpDialog.oSelectionButton.attachPress(function(){p.openBy(this);});}};V.prototype._triggerAnnotationChange=function(a){this.oValueHelpDialog.oSelectionTitle.setText(a.valueListTitle);this.oValueHelpDialog.oSelectionTitle.setTooltip(a.valueListTitle);this.oValueHelpDialog.resetTableState();this._resolveAnnotationData(a);this._createAdditionalValueHelpControls();};V.prototype._createAdditionalValueHelpControls=function(){var b=null;this.oValueHelpDialog.setKey(this.sKey);this.oValueHelpDialog.setKeys(this._aKeys);this.oValueHelpDialog.setDescriptionKey(this.sDescription);this.oValueHelpDialog.setTokenDisplayBehaviour(this.sTokenDisplayBehaviour);var c=new J();c.setData({cols:this._aCols});this.oValueHelpDialog.setModel(c,'columns');if(this.bSupportBasicSearch){b=this.sKey;}this.oSmartFilterBar=new sap.ui.comp.smartfilterbar.SmartFilterBar({entitySet:this.sValueListEntitySetName,basicSearchFieldName:b,enableBasicSearch:this.bSupportBasicSearch,advancedMode:true,showGoOnFB:!sap.ui.Device.system.phone,expandAdvancedArea:(!this.bForceTriggerDataRetreival&&sap.ui.Device.system.desktop),search:this._onFilterBarSearchPressed.bind(this),reset:this._onFilterBarResetPressed.bind(this),filterChange:q.proxy(this._onFilterBarFilterChange,this),initialise:q.proxy(this._onFilterBarInitialise,this)});if(this._oDateFormatSettings){this.oSmartFilterBar.data('dateFormatSettings',this._oDateFormatSettings);}this.oSmartFilterBar.isRunningInValueHelpDialog=true;this.oValueHelpDialog.setFilterBar(this.oSmartFilterBar);};V.prototype._onFilterBarFilterChange=function(){if(this.oValueHelpDialog.isOpen()){var t=this.oValueHelpDialog.getTable();if(t){t.setShowOverlay(true);this.oValueHelpDialog.TableStateSearchData();}}};V.prototype._onFilterBarSearchPressed=function(){this._rebindTable();};V.prototype._rebindTable=function(){var f,p,b,t;f=this.oSmartFilterBar.getFilters();p=this.oSmartFilterBar.getParameters()||{};if(this.aSelect&&this.aSelect.length){p['select']=this.aSelect.toString();}b={path:'/'+this.sValueListEntitySetName,filters:f,parameters:p,sorter:new sap.ui.model.Sorter(this.sKey),events:{dataReceived:q.proxy(function(e){this.oValueHelpDialog.TableStateDataFilled();t.setBusy(false);var o=e.getSource(),i;if(o&&this.oValueHelpDialog&&this.oValueHelpDialog.isOpen()){i=o.getLength();if(i){this.oValueHelpDialog.update();}}},this)}};t=this.oValueHelpDialog.getTable();t.setShowOverlay(false);this.oValueHelpDialog.TableStateDataSearching();t.setBusy(true);if(t instanceof sap.m.Table){b.factory=function(i,c){var C=t.getModel('columns').getData().cols;return new sap.m.ColumnListItem({cells:C.map(function(a){var d=a.template;return new sap.m.Label({text:'{'+d+'}'});})});};t.bindItems(b);}else{t.bindRows(b);}};V.prototype._onFilterBarResetPressed=function(){this._calculateFilterInputData();if(this.oSmartFilterBar){this.oSmartFilterBar.setFilterData(this.mFilterInputData);}};V.prototype._onFilterBarInitialise=function(){var b=null;this._onFilterBarResetPressed();if(this.oSmartFilterBar&&this.oSmartFilterBar.getBasicSearchControl){b=this.oSmartFilterBar.getBasicSearchControl();if(b){b.setValue(this.sBasicSearchText);if(sap.ui.Device.system.phone&&b instanceof sap.m.SearchField){b.setShowSearchButton(true);}}}if(!this.preventInitialDataFetchInValueHelpDialog||this.bForceTriggerDataRetreival){this._rebindTable();this.bForceTriggerDataRetreival=false;}};V.prototype._onOK=function(c){var t=c.getParameter('tokens'),r,k,i=0,a=[],o=null;this._onCancel();if(this.oControl instanceof sap.m.MultiInput){this.oControl.setValue('');this.oControl.setTokens(t);i=t.length;while(i--){o=t[i].data('row');if(o){a.push(o);}}}else{if(t[0]){if(this.bIsSingleIntervalRange){r=t[0].data('range');if(r){if(r.operation==='BT'){k=r.value1+'-'+r.value2;}else{k=r.value1;}}}else{k=t[0].getKey();}o=t[0].data('row');if(o){a.push(o);}}this.oControl.setValue(k);this.oControl.fireChange({value:k,validated:true});}this._calculateAndSetFilterOutputData(a);};V.prototype._onCancel=function(){this.oValueHelpDialog.close();this.oValueHelpDialog.setModel(null);};V.prototype.destroy=function(){if(this.oControl&&this.oControl.detachValueHelpRequest){this.oControl.detachValueHelpRequest(this._fVHRequested);this._fVHRequested=null;}B.prototype.destroy.apply(this,arguments);if(this.oValueHelpDialog){this.oValueHelpDialog.destroy();this.oValueHelpDialog=null;}if(this.oSmartFilterBar){this.oSmartFilterBar.destroy();this.oSmartFilterBar=null;}this.sTitle=null;this._oValueHelpDialogClass=null;};return V;},true);\n",
	"sap/ui/comp/providers/ValueListProvider.js":"/*\n * ! SAP UI development toolkit for HTML5 (SAPUI5)\n\n(c) Copyright 2009-2016 SAP SE. All rights reserved\n */\nsap.ui.define(['jquery.sap.global','sap/m/Column','sap/m/ColumnListItem','sap/m/Text','sap/m/Token','./BaseValueListProvider','sap/ui/core/Item','sap/ui/model/Filter','sap/ui/model/Sorter','sap/ui/model/json/JSONModel','sap/ui/comp/util/FormatUtil'],function(q,C,a,T,b,B,I,F,S,J,c){'use strict';var V=B.extend('sap.ui.comp.providers.ValueListProvider',{constructor:function(p){if(p){this.sAggregationName=p.aggregation;this.bTypeAheadEnabled=p.typeAheadEnabled;this.bEnableShowTableSuggestionValueHelp=p.enableShowTableSuggestionValueHelp===undefined?true:p.enableShowTableSuggestionValueHelp;}B.apply(this,arguments);this._onInitialise();}});V.prototype._onInitialise=function(){if(!this.bTypeAheadEnabled){this._oEventDelegate={onAfterRendering:this._onMetadataInitialised};this.oControl.addEventDelegate(this._oEventDelegate,this);}else if(this.oControl.attachSuggest){this._fSuggest=function(e){this.oControl=e.getSource();if(!this.bInitialised){return;}if(!this.oTemplate||!this.oControl.data('_hassuggestionTemplate')){this._createSuggestionTemplate();}var s=e.getParameter('suggestValue');this._fetchData(s);}.bind(this);this.oControl.attachSuggest(this._fSuggest);this._handleSelect();}};V.prototype._onMetadataInitialised=function(){if(this.bInitialised){this.oControl.removeEventDelegate(this._oEventDelegate,this);this._createDropDownTemplate();this._fetchData();delete this._oEventDelegate;}};V.prototype._createDropDownTemplate=function(){this._oTemplate=new I({key:'{'+this.sKey+'}',text:this._getDDLBTextBindingPath()});if(this.sDDLBDisplayBehaviour===sap.ui.comp.smartfilterbar.DisplayBehaviour.idOnly||this.sDDLBDisplayBehaviour===sap.ui.comp.smartfilterbar.DisplayBehaviour.idAndDescription){this._oSorter=new S(this.sKey);}else{this._oSorter=new S(this.sDescription);}};V.prototype._createSuggestionTemplate=function(){var i=0,l=0,t,s=0;this._oTemplate=new a();if(this._aCols){this.oControl.removeAllSuggestionColumns();l=this._aCols.length;for(i=0;i<l;i++){var d=false,m='1px',w=this._aCols[i].width;if(sap.ui.Device.system.phone){w=undefined;if(i>=2){d=true;m=(i+1)*10+'rem';}}this.oControl.addSuggestionColumn(new C({header:new T({wrapping:false,text:this._aCols[i].label,tooltip:this._aCols[i].label}),demandPopin:d,popinDisplay:sap.m.PopinDisplay.Inline,minScreenWidth:m,width:w}));t=null;if(this._aCols[i].type==='string'){t={path:this._aCols[i].template};}this._oTemplate.addCell(new T({wrapping:false,text:{path:this._aCols[i].template,type:this._aCols[i].oType},tooltip:t}));if(w){s+=parseFloat(w.substring(0,w.length-2));}}if(s>0){this.oControl.setMaxSuggestionWidth(s+l+'em');}}this.oControl.data('_hassuggestionTemplate',true);};V.prototype._getDDLBTextBindingPath=function(){return c.getFormattedBindingExpressionFromDisplayBehaviour(this.sDDLBDisplayBehaviour,this.sKey,this.sDescription);};V.prototype._handleSelect=function(){var h=function(d,f){var k,t,o;if(d){k=d[this.sKey];t=d[this.sDescription];}if(k){if(this.oControl.addToken){t=c.getFormattedExpressionFromDisplayBehaviour(this.sTokenDisplayBehaviour,k,t);o=new b({key:k,text:t,tooltip:t});o.data('row',d);if(f){f(o);}delete this.oControl.__sValidationText;}else{this.oControl.setValue(k);this.oControl.fireChange({value:k,validated:true});}}this._calculateAndSetFilterOutputData([d]);}.bind(this);var A=function(){if(this.oFilterProvider&&this.oFilterProvider._oSmartFilter&&this.oFilterProvider._oSmartFilter.bIsSearchPending&&this.oFilterProvider._oSmartFilter.search){if(this.oFilterProvider._oSmartFilter.getLiveMode&&this.oFilterProvider._oSmartFilter.getLiveMode()){return;}this.oFilterProvider._oSmartFilter.search();}}.bind(this);if(this.oControl.addValidator){this._fValidator=function(d){if(!this.bInitialised){return;}var r=d.suggestionObject,D,i=d.text,f=[],p;if(r){D=this.oODataModel.getData(r.getBindingContextPath());h(D,d.asyncCallback);}else if(i){if(this.sDisplayFormat==='UpperCase'){i=i.toUpperCase();}if(this.oControl.__sValidationText!==i){this.oControl.__sValidationText=i;this.oControl.__bValidatingToken=true;this._calculateFilterInputData();if(this.mFilterInputData&&this.aFilterField){f=sap.ui.comp.smartfilterbar.FilterProvider.generateFilters(this.aFilterField,this.mFilterInputData);}f.push(new F(this.sKey,sap.ui.model.FilterOperator.EQ,i));if(this.bSupportBasicSearch){p={'search-focus':this.sKey};}this.oODataModel.read('/'+this.sValueListEntitySetName,{filters:f,urlParameters:p,success:function(R,e){var o=R;delete this.oControl.__bValidatingToken;if(R){if(R.results&&R.results.length>=1){if(R.results.length===1){o=R.results[0];}if(this.oControl.data('__validationError')){this.oControl.data('__validationError',null);this.oControl.setValueState('None');}}else{this.oControl.setValueState('Error');this.oControl.data('__validationError',true);}if(o&&o[this.sKey]){h(o,d.asyncCallback);}}A();}.bind(this),error:function(){if(this.oControl.data('__validationError')){this.oControl.setValueState('None');}delete this.oControl.__bValidatingToken;A();}.bind(this)});}else{if(this.oControl.data('__validationError')){this.oControl.setValueState(sap.ui.core.ValueState.Error);}}}}.bind(this);this.oControl.addValidator(this._fValidator);}else if(this.oControl.attachSuggestionItemSelected){this._fSuggestionItemSelected=function(e){var r=e.getParameter('selectedRow'),d;if(r){d=r.getModel().getData(r.getBindingContextPath());h(d);}};this.oControl.attachSuggestionItemSelected(this._fSuggestionItemSelected);}this.oControl.setRowResultFunction(function(s){var o,r='';if(s){o=s.getBindingContext();}if(o&&this.sKey){r=o.getProperty(this.sKey);}return r;}.bind(this));};V.prototype._fetchData=function(s){var p={},f=[],l,e;if(this.bTypeAheadEnabled){if(s&&this.sDisplayFormat==='UpperCase'){s=s.toUpperCase();}if(this.bSupportBasicSearch){p['custom']={'search-focus':this.sKey,'search':s};}this._calculateFilterInputData();if(this.mFilterInputData&&this.aFilterField){f=sap.ui.comp.smartfilterbar.FilterProvider.generateFilters(this.aFilterField,this.mFilterInputData,{dateSettings:this._oDateFormatSettings});}if(!this.bSupportBasicSearch){f.push(new F(this.sKey,sap.ui.model.FilterOperator.StartsWith,s));}l=10;if(this.bEnableShowTableSuggestionValueHelp){e={dataReceived:function(E){var o=E.getSource(),i;if(o){i=o.getLength();if(i&&i<=l){this.oControl.setShowTableSuggestionValueHelp(false);}else{this.oControl.setShowTableSuggestionValueHelp(true);}}}.bind(this)};}else{this.oControl.setShowTableSuggestionValueHelp(false);}}if(this.aSelect&&this.aSelect.length){p['select']=this.aSelect.toString();}this.oControl.bindAggregation(this.sAggregationName,{path:'/'+this.sValueListEntitySetName,length:l,parameters:p,filters:f,sorter:this._oSorter,events:e,template:this._oTemplate,templateShareable:false});};V.prototype.destroy=function(){if(this.oControl){if(this.oControl.detachSuggest){this.oControl.detachSuggest(this._fSuggest);this._fSuggest=null;}if(this.oControl.removeValidator){this.oControl.removeValidator(this._fValidator);this._fValidator=null;}else if(this.oControl.detachSuggestionItemSelected){this.oControl.detachSuggestionItemSelected(this._fSuggestionItemSelected);this._fSuggestionItemSelected=null;}this.oControl.unbindAggregation(this.sAggregationName);this.oControl.data('_hassuggestionTemplate',false);delete this.oControl.__sValidationText;delete this.oControl.__bValidatingToken;}B.prototype.destroy.apply(this,arguments);if(this.oJsonModel){this.oJsonModel.destroy();this.oJsonModel=null;}this._oTemplate=null;this.sAggregationName=null;this.bTypeAheadEnabled=null;this._oSorter=null;};return V;},true);\n",
	"sap/ui/comp/smartchart/SmartChart.designtime.js":"/*\n * ! SAP UI development toolkit for HTML5 (SAPUI5)\n\n(c) Copyright 2009-2016 SAP SE. All rights reserved\n*/\nsap.ui.define([],function(){'use strict';return{annotations:{semanticObject:{namespace:'com.sap.vocabularies.Common.v1',annotation:'SemanticObject',target:['EntitySet','EntityType','Property'],defaultValue:null,appliesTo:['text'],group:['Behavior'],since:'1.34.1'},fieldVisible:{namespace:'com.sap.vocabularies.Common.v1',annotation:'FieldControlType/Hidden',target:['Property'],defaultValue:false,appliesTo:['field/#/visible'],group:['Behavior'],since:'1.34.1'},presentationVariant:{namespace:'com.sap.vocabularies.UI.v1',annotation:'PresentationVariant',target:['EntitySet','EntityType'],defaultValue:null,appliesTo:['chartFields'],group:['Behavior'],since:'1.34.1'},chart:{namespace:'com.sap.vocabularies.UI.v1',annotation:'Chart',target:['EntityType'],defaultValue:null,appliesTo:['chart'],group:['Behavior'],since:'1.34.1'},chartType:{namespace:'com.sap.vocabularies.UI.v1',annotation:'Chart/ChartType',target:['PropertyValue'],defaultValue:null,appliesTo:['chartType'],group:['Behavior'],since:'1.34.1'}},customData:{},properties:{entitySet:{ignore:true},smartFilterId:{ignore:true},ignoredFields:{ignore:true},requestAtLeastFields:{ignore:true},ignoreFromPersonalisation:{ignore:true},chartType:{ignore:true},ignoredChartTypes:{ignore:false},useVariantManagement:{ignore:true},useChartPersonalisation:{ignore:true},header:{ignore:false},persistencyKey:{ignore:true},currentVariantId:{ignore:false},enableAutoBinding:{ignore:true},chartBindingPath:{ignore:false},showDrillButtons:{ignore:false},showZoomButtons:{ignore:false},showSemanticNavigationButton:{ignore:false},showVariantManagement:{ignore:false},showDownloadButton:{ignore:false},showDetailsButton:{ignore:false},showDrillBreadcrumbs:{ignore:false},showChartTooltip:{ignore:false},showLegendButton:{ignore:false},legendVisible:{ignore:false},selectionMode:{ignore:true},showFullScreenButton:{ignore:true},useTooltip:{ignore:true},useListForChartTypeSelection:{ignore:true}}};},false);\n",
	"sap/ui/comp/smartchart/SmartChart.js":"/*\n * ! SAP UI development toolkit for HTML5 (SAPUI5)\n\n(c) Copyright 2009-2016 SAP SE. All rights reserved\n */\nsap.ui.define(['jquery.sap.global','sap/ui/comp/library','sap/chart/Chart','sap/chart/library','sap/chart/data/Dimension','sap/chart/data/Measure','sap/m/SegmentedButton','sap/m/Button','sap/m/Text','sap/m/FlexItemData','sap/ui/core/Item','sap/m/OverflowToolbar','sap/m/OverflowToolbarButton','sap/m/ToolbarSeparator','sap/m/ToolbarDesign','sap/m/ToolbarSpacer','sap/m/VBox','sap/m/VBoxRenderer','sap/ui/comp/providers/ChartProvider','sap/ui/comp/smartfilterbar/FilterProvider','sap/ui/comp/smartvariants/SmartVariantManagement','sap/ui/model/Filter','sap/ui/model/FilterOperator','sap/ui/comp/personalization/Util','sap/ui/Device','sap/ui/comp/odata/ODataModelUtil','sap/ui/comp/odata/MetadataAnalyser'],function(q,l,C,c,D,M,S,B,T,F,I,O,d,f,g,h,V,k,o,p,r,s,t,P,u,v,w){'use strict';var x=V.extend('sap.ui.comp.smartchart.SmartChart',{metadata:{library:'sap.ui.comp',designTime:true,properties:{entitySet:{type:'string',group:'Misc',defaultValue:null},smartFilterId:{type:'string',group:'Misc',defaultValue:null},ignoredFields:{type:'string',group:'Misc',defaultValue:null},requestAtLeastFields:{type:'string',group:'Misc',defaultValue:null},ignoreFromPersonalisation:{type:'string',group:'Misc',defaultValue:null},chartType:{type:'string',group:'Misc',defaultValue:null},ignoredChartTypes:{type:'string',group:'Misc',defaultValue:null},useVariantManagement:{type:'boolean',group:'Misc',defaultValue:true},useChartPersonalisation:{type:'boolean',group:'Misc',defaultValue:true},header:{type:'string',group:'Misc',defaultValue:null},persistencyKey:{type:'string',group:'Misc',defaultValue:null},currentVariantId:{type:'string',group:'Misc',defaultValue:null},enableAutoBinding:{type:'boolean',group:'Misc',defaultValue:false},chartBindingPath:{type:'string',group:'Misc',defaultValue:null},showDrillButtons:{type:'boolean',group:'Misc',defaultValue:true},showZoomButtons:{type:'boolean',group:'Misc',defaultValue:true},showSemanticNavigationButton:{type:'boolean',group:'Misc',defaultValue:true},showVariantManagement:{type:'boolean',group:'Misc',defaultValue:true},showDownloadButton:{type:'boolean',group:'Misc',defaultValue:false},showDetailsButton:{type:'boolean',group:'Misc',defaultValue:false},showDrillBreadcrumbs:{type:'boolean',group:'Misc',defaultValue:false},showChartTooltip:{type:'boolean',group:'Misc',defaultValue:true},showLegendButton:{type:'boolean',group:'Misc',defaultValue:true},legendVisible:{type:'boolean',group:'Misc',defaultValue:true},selectionMode:{type:'sap.chart.SelectionMode',group:'Misc',defaultValue:sap.chart.SelectionMode.Multi},showFullScreenButton:{type:'boolean',group:'Misc',defaultValue:true},useTooltip:{type:'boolean',group:'Misc',defaultValue:true},useListForChartTypeSelection:{type:'boolean',group:'Misc',defaultValue:true}},associations:{smartVariant:{type:'sap.ui.core.Control',multiple:false}},aggregations:{toolbar:{type:'sap.m.Toolbar',multiple:false},semanticObjectController:{type:'sap.ui.comp.navpopover.SemanticObjectController',multiple:false}},events:{initialise:{},beforeRebindChart:{},dataReceived:{},afterVariantInitialise:{},afterVariantSave:{},afterVariantApply:{},showOverlay:{}}},renderer:k.render});x.prototype.init=function(){sap.m.FlexBox.prototype.init.call(this);this.addStyleClass('sapUiCompSmartChart');this.setFitContainer(true);this._bUpdateToolbar=true;this._oChartTypeModel=null;this.setHeight('100%');var m=new sap.ui.model.json.JSONModel({items:[]});this.setModel(m,'$smartChartTypes');this._oRb=sap.ui.getCore().getLibraryResourceBundle('sap.ui.comp');this.sResizeListenerId=null;if(u.system.desktop){this.sResizeListenerId=sap.ui.core.ResizeHandler.register(this,q.proxy(this._adjustHeight,this));}else{u.orientation.attachHandler(this._adjustHeight,this);u.resize.attachHandler(this._adjustHeight,this);}};x.prototype._getVariantManagementControl=function(a){var b=null;if(a){if(typeof a==='string'){b=sap.ui.getCore().byId(a);}else{b=a;}if(b){if(!(b instanceof r)){q.sap.log.error('Control with the id='+typeof a.getId=='function'?a.getId():a+' not of expected type');return null;}}}return b;};x.prototype._createVariantManagementControl=function(){if(this._oVariantManagement||(!this.getUseVariantManagement()&&!this.getUseChartPersonalisation())||!this.getPersistencyKey()){return;}var a=new sap.ui.comp.smartvariants.PersonalizableInfo({type:'chart',keyName:'persistencyKey',dataSource:this.getEntitySet()});a.setControl(this);var b=this.getSmartVariant();if(b){this._oVariantManagement=this._getVariantManagementControl(b);}else if(this._oSmartFilter&&this._oSmartFilter.data('pageVariantPersistencyKey')){b=this._oSmartFilter.getSmartVariant();if(b){this._oVariantManagement=this._getVariantManagementControl(b);}}else{this._oVariantManagement=new r(this.getId()+'-variant',{showShare:true});}if(this._oVariantManagement){if(!this._oVariantManagement.isPageVariant()){this._oVariantManagement.setVisible(this.getShowVariantManagement());}this._oVariantManagement.addPersonalizableControl(a);this._oVariantManagement.attachSave(this._variantSaved,this);this._oVariantManagement.attachAfterSave(this._variantAfterSave,this);this._oVariantManagement.initialise(this._variantInitialised,this);}};x.prototype._variantInitialised=function(){if(!this._oCurrentVariant){this._oCurrentVariant='STANDARD';}this.fireAfterVariantInitialise();if(this._oVariantManagement&&!this._oVariantManagement.getEnabled()){this._checkAndTriggerBinding();}};x.prototype._variantSaved=function(){if(this._oPersController){this._oPersController.setPersonalizationData(this._oCurrentVariant);}};x.prototype._variantAfterSave=function(){this.fireAfterVariantSave({currentVariantId:this.getCurrentVariantId()});};x.prototype.setUseChartPersonalisation=function(U){this.setProperty('useChartPersonalisation',U,true);this._bUpdateToolbar=true;};x.prototype._createPopover=function(){if(!this._oPopover&&this._oChart){q.sap.require('sap.viz.ui5.controls.Popover');this._oPopover=new sap.viz.ui5.controls.Popover({});this._oPopover.connect(this._oChart.getVizUid());}};x.prototype._createTooltip=function(){if(this._oChart){this._oChart.setVizProperties({'interaction':{'behaviorType':null},'tooltip':{'visible':true}});}};x.prototype._createTooltipOrPopover=function(){if(this.getUseTooltip()){this._createTooltip();}else{this._createPopover();}};x.prototype._destroyPopover=function(){if(this._oPopover){this._oPopover.destroy();this._oPopover=null;}};x.prototype.setUseVariantManagement=function(U){this.setProperty('useVariantManagement',U,true);if(this._oPersController){this._oPersController.setResetToInitialTableState(!U);}this._bUpdateToolbar=true;};x.prototype.setToolbar=function(a){if(this._oToolbar){this.removeItem(this._oToolbar);}this._oToolbar=a;this._bUpdateToolbar=true;};x.prototype.getToolbar=function(){return this._oToolbar;};x.prototype.setHeader=function(a){this.setProperty('header',a,true);this._refreshHeaderText();};x.prototype._refreshHeaderText=function(){if(!this._headerText){this._bUpdateToolbar=true;return;}var a=this.getHeader();this._headerText.setText(a);};x.prototype._createToolbar=function(){if(!this._oToolbar){this._oToolbar=new O({design:g.Transparent});this._oToolbar.addStyleClass('sapUiCompSmartChartToolbar');}this._oToolbar.setLayoutData(new sap.m.FlexItemData({shrinkFactor:0}));this.insertItem(this._oToolbar,0);};x.prototype._createToolbarContent=function(){this._addDrillBreadcrumbs();this._addVariantManagementToToolbar();this._addSeparatorToToolbar();this._addHeaderToToolbar();this._addSpacerToToolbar();this._addSemanticNavigationButton();this._addDetailsButton();this._addDrillUpDownButtons();this._addLegendButton();this._addZoomInOutButtons();this._addDownloadButton();this._addPersonalisationToToolbar();this._addFullScrrenButton();this._addChartTypeToToolbar();if(this._oToolbar&&(this._oToolbar.getContent().length===0||(this._oToolbar.getContent().length===1&&this._oToolbar.getContent()[0]instanceof h))){this.removeItem(this._oToolbar);this._oToolbar.destroy();this._oToolbar=null;}};x.prototype.setShowVariantManagement=function(b){this.setProperty('showVariantManagement',b);if(this._oVariantManagement&&this._oVariantManagement.isPageVariant()){this._oVariantManagement.setVisible(b);}};x.prototype.setShowDetailsButton=function(b){this.setProperty('showDetailsButton',b);if(this._oDetailsButton){this._oDetailsButton.setVisible(b);}if(this._oDrillDownButton){this._oDrillDownButton.setVisible(!b);}};x.prototype.setShowDownloadButton=function(b){this.setProperty('showDownloadButton',b);if(this._oDownloadButton){this._oDownloadButton.setVisible(b);}};x.prototype.setShowDrillBreadcrumbs=function(b){this.setProperty('showDrillBreadcrumbs',b);if(this._oDrillBreadcrumbs){this._oDrillBreadcrumbs.setVisible(b);}if(this._oDrillUpButton){this._oDrillUpButton.setVisible(!b);}};x.prototype.setShowChartTooltip=function(b){this.setProperty('showChartTooltip',b);this._toggleChartTooltipVisibility(b);};x.prototype._addDrillBreadcrumbs=function(){if(!this._oDrillBreadcrumbs){q.sap.require('sap.m.Breadcrumbs');q.sap.require('sap.m.Link');this._oDrillBreadcrumbs=new sap.m.Breadcrumbs(this.getId()+'-drillBreadcrumbs',{visible:this.getShowDrillBreadcrumbs()}).addStyleClass('sapUiCompSmartChartBreadcrumbs');this._oToolbar.insertContent(this._oDrillBreadcrumbs,0);this._updateDrillBreadcrumbs();this._oChart.attachDrilledUp(function(e){this._updateDrillBreadcrumbs();}.bind(this));this._oChart.attachDrilledDown(function(e){this._updateDrillBreadcrumbs();}.bind(this));}};x.prototype._updateDrillBreadcrumbs=function(){var a=this._oChart.getVisibleDimensions().slice();if(this._oDrillBreadcrumbs&&this._oDrillBreadcrumbs.getLinks()){this._oDrillBreadcrumbs.removeAllLinks();}a.reverse();a.forEach(function(b,i,e){if(typeof this._oChart.getDimensionByName(b)!='undefined'){var j=this._oChart.getDimensionByName(b).getLabel();if(i==0){this._oDrillBreadcrumbs.setCurrentLocationText(j);}else{var m=new sap.m.Link({text:j,press:function(E){var L=this._oDrillBreadcrumbs.indexOfLink(E.getSource());this._oChart.drillUp(L+1);this._oChart.fireDeselectData(E);this._updateDrillBreadcrumbs();}.bind(this)});this._oDrillBreadcrumbs.insertLink(m);}}}.bind(this));};x.prototype._addDetailsButton=function(){var a=this;if(!this._oDetailsButton){this._oDetailsButton=new B(this.getId()+'-btnDetails',{type:'Transparent',tooltip:this._oRb.getText('CHART_DETAILSBTN_TOOLTIP'),visible:this.getShowDetailsButton(),layoutData:new sap.m.OverflowToolbarLayoutData({priority:sap.m.OverflowToolbarPriority.NeverOverflow}),enabled:true,press:function(e){a._openDetailsPopover(e);}});this._aDetailsEntries=[];this._oDetailsModel=new sap.ui.model.json.JSONModel({items:this._aDetailsEntries});if(!this._oSemanticNavHandler){q.sap.require('sap.ui.comp.navpopover.NavigationPopoverHandler');this._oSemanticNavHandler=new sap.ui.comp.navpopover.NavigationPopoverHandler({});}this._oChart.attachSelectData(function(e){a._updateDetailsText(e);a._updateDetailsModel(e);});this._oChart.attachDeselectData(function(e){a._updateDetailsText(e);a._updateDetailsModel(e);});this._oChart.attachDrilledUp(function(e){a._oChart.fireDeselectData(e);});this._oChart.attachDrilledDown(function(e){a._oChart.fireDeselectData(e);});this._oChart.attachRenderComplete(function(e){a._updateDetailsText(e);});this._oToolbar.addContent(this._oDetailsButton);}};x.prototype._addDownloadButton=function(){if(!this._oDownloadButton){this._oDownloadButton=new d(this.getId()+'btnDownload',{type:'Transparent',text:this._oRb.getText('CHART_DOWNLOADBTN_TEXT'),tooltip:this._oRb.getText('CHART_DOWNLOADBTN_TOOLTIP'),icon:'sap-icon://download',visible:this.getShowDownloadButton(),press:function(e){if(window.navigator&&window.navigator.msSaveOrOpenBlob){var a=new window.Blob([this._getVizFrame().exportToSVGString()],{'type':'image/svg+xml'});window.navigator.msSaveOrOpenBlob(a);}else{this._downloadChartPNG();}}.bind(this)});this._oToolbar.addContent(this._oDownloadButton);}};x.prototype._downloadChartSVG=function(){var a=this.getHeader();var b=document.createElement('a');b.setAttribute('href','data:image/svg+xml,'+encodeURIComponent(this._getVizFrame().exportToSVGString()));b.setAttribute('download',a?a:'Chart'+'.svg');b.click();};x.prototype._downloadChartPNG=function(){var a=this.getHeader();var b=this._getVizFrame().exportToSVGString();var e=document.createElement('canvas');var i=e.getContext('2d');var j=new Image();j.width=e.width=document.getElementById(this._oChart.getId()).offsetWidth;j.height=e.height=document.getElementById(this._oChart.getId()).offsetHeight;j.onload=function(){i.drawImage(j,0,0);var m=document.createElement('a');m.setAttribute('href',e.toDataURL());m.setAttribute('download',a?a:'Chart'+'.png');m.click();};j.setAttribute('crossOrigin','anonymous');j.src='data:image/svg+xml,'+encodeURIComponent(b);};x.prototype._openDetailsPopover=function(e){if(!this._oDetailsPopover){q.sap.require('sap.m.ResponsivePopover');q.sap.require('sap.m.NavContainer');q.sap.require('sap.m.VBox');q.sap.require('sap.m.Page');q.sap.require('sap.m.List');q.sap.require('sap.m.StandardListItem');q.sap.require('sap.m.ObjectListItem');q.sap.require('sap.m.ObjectStatus');q.sap.require('sap.m.ObjectAttribute');q.sap.require('sap.m.ScrollContainer');this._oDetailsPopover=new sap.m.ResponsivePopover(this.getId()+'-popoverDetails',{showHeader:false,placement:'Bottom',contentWidth:'25rem',contentHeight:'20rem',verticalScrolling:false}).addStyleClass('sapUiCompSmartChartDetailsPopover').addStyleClass('navigationPopover');this._oDetailsPopover.addContent(this._createDetailsPopoverStructure());this._oDetailsPopover.attachAfterClose(function(e){if(this._oDetailsNavContainer.getCurrentPage()!==this._oDetailsMasterPage){this._oDetailsNavContainer.to(this._oDetailsMasterPage);this._oDetailsDrillInPage.setShowNavButton(true);this._oDrillInMasterList.getItems()[0].setVisible(true);}}.bind(this));}this._bindDetailsListAggregation();if(this._oDetailsMasterPage.getShowHeader()){this._updateDetailsText();}if(this._oChart.getSelectedDataPoints().count===0){this._oDetailsDrillInPage.setShowNavButton(false);this._oDrillInMasterList.getItems()[0].firePress();}else{}this._oDetailsPopover.openBy(e.getSource());};x.prototype._updateDetailsText=function(e){var a,b=this._oChart.getSelectedDataPoints().count;if(b>0){a=this._oRb.getText('CHART_DETAILSBTN_LABEL',[b]);}else{a=this._oRb.getText('CHART_DRILLDOWNDETAILSPAGE_TITLE');}this._oDetailsButton.setText(a);if(this._oDetailsMasterPage&&this._oDetailsMasterPage.getShowHeader()){this._oDetailsMasterPage.setTitle(a);}};x.prototype._updateDetailsModel=function(e){var a=this._oChart.getSelectedDataPoints().dataPoints;this._aDetailsEntries=[];a.forEach(function(b){var m=b.measures;m.forEach(function(i){var j=q.extend(true,{},b.context.getObject());j.measures=[i];this._aDetailsEntries.push(j);}.bind(this));}.bind(this));this._oDetailsModel.getData('items').items=this._aDetailsEntries;if(this._oDetailsNavContainer&&this._oDetailsNavContainer.getCurrentPage()!==this._oDetailsMasterPage){this._oDetailsNavContainer.back();}};x.prototype._bindDetailsListAggregation=function(){if(this._aDetailsEntries.length>0){this._oDetailsMasterListScrollContainer.setVisible(true);}else{this._oDetailsMasterListScrollContainer.setVisible(false);}var a=this._oChart.getVisibleDimensions();var b=this._oChart.getVisibleMeasures();this._oDetailsMasterList.bindAggregation('items','/items',function(e,j){var n;var z;var A;var E;var G='';b.some(function(m){if(j.getObject().measures[0]==m){n=j.getProperty(m);z=m;A=this._oChart.getMeasureByName(z).getUnitBinding();if(A){E=j.getProperty(A);if(E){n=n.concat(' ',E);}}return true;}}.bind(this));for(var i=0;i<a.length-1;i++){G+=j.getProperty(a[i]);if(i<a.length-2){G+=' / ';}}var H=new sap.m.ObjectListItem({title:j.getProperty(a[a.length-1]),type:(function(){if(this._determineSemanticObjects(j.getObject(),j).length>0){return sap.m.ListType.Navigation;}else{return sap.m.ListType.Inactive;}}.bind(this)()),number:n,numberUnit:z,attributes:[new sap.m.ObjectAttribute({text:G})]});H.attachPress(function(m){this._navigateToSemanticObjectDetails(m);}.bind(this));return H;}.bind(this));};x.prototype._createDetailsPopoverStructure=function(){this._oDetailsNavContainer=new sap.m.NavContainer(this.getId()+'-navContainerDetails');this._oDetailsMasterListScrollContainer=new sap.m.ScrollContainer({vertical:true,horizontal:false}).addStyleClass('sapUiCompSmartChartDetailsScrollContainer');this._oDetailsVBox=new sap.m.VBox(this.getId()+'-vBoxDetails',{});this._oDetailsMasterPage=new sap.m.Page(this.getId()+'-navMasterPageDetails',{showHeader:q.device.is.phone,enableScrolling:false});this._oDetailsDrillInPage=new sap.m.Page(this.getId()+'-navDrillInPageDetails',{title:this._oRb.getText('CHART_DRILLDOWNDETAILSPAGE_TITLE'),showHeader:true,showNavButton:true,navButtonPress:function(){this._oDetailsNavContainer.back();}.bind(this)});this._oDetailsSemanticPage=new sap.m.Page(this.getId()+'-navSemanticPageDetails',{showHeader:true,showNavButton:true,navButtonPress:function(){this._oDetailsNavContainer.back();}.bind(this)});this._oDetailsSemanticPageMulti=new sap.m.Page(this.getId()+'-navSemanticPageMultiDetails',{showHeader:true,showNavButton:true,navButtonPress:function(){this._oDetailsNavContainer.back();}.bind(this)});this._oDetailsMasterList=new sap.m.List(this.getId()+'-navMasterListDetails',{});this._oDrillInMasterList=new sap.m.List(this.getId()+'-navMasterListDrillIn',{items:[new sap.m.StandardListItem({title:this._oRb.getText('CHART_DRILLDOWNMASTERLIST_ITEM_TITLE'),type:'Navigation',press:function(e){this._navigateToDrillDetailsList(e);}.bind(this)})]});this._oRelatedAppsMasterList=new sap.m.List(this.getId()+'-navMasterListRelatedApps',{items:[new sap.m.StandardListItem({title:this._oRb.getText('CHART_RELATEDAPPSMASTERLIST_ITEM_TITLE'),type:'Navigation'})]});this._oDetailsMasterList.setModel(this._oDetailsModel);this._initSemanticNavigationHandling();this._oDetailsMasterListScrollContainer.addContent(this._oDetailsMasterList);this._oDetailsVBox.addItem(this._oDetailsMasterListScrollContainer).addItem(this._oDrillInMasterList);this._oDetailsMasterPage.addContent(this._oDetailsVBox);this._oDetailsNavContainer.addPage(this._oDetailsMasterPage).addPage(this._oDetailsDrillInPage).addPage(this._oDetailsSemanticPage).addPage(this._oDetailsSemanticPageMulti);return this._oDetailsNavContainer;};x.prototype._addFullScrrenButton=function(){var a;if(this.getShowFullScreenButton()){a=new d(this.getId()+'-btnFullScreen',{type:'Transparent',press:function(){this._toggleFullScreen(!this.bFullScreen);}.bind(this)});this.oFullScreenButton=a;this._toggleFullScreen(this.bFullScreen,true);this._oToolbar.addContent(a);}};x.prototype._addZoomInOutButtons=function(){var a=this;this._oZoomInButton=new d(this.getId()+'-btnZoomIn',{type:'Transparent',text:this._oRb.getText('CHART_ZOOMINBTN_TEXT'),tooltip:this._oRb.getText('CHART_ZOOMINBTN_TOOLTIP'),icon:'sap-icon://zoom-in',press:function(){if(a._oChart){a._oChart.zoom({direction:'in'});}},visible:this.getShowZoomButtons()});this._oZoomOutButton=new d(this.getId()+'-btnZoomOut',{type:'Transparent',text:this._oRb.getText('CHART_ZOOMOUTBTN_TEXT'),tooltip:this._oRb.getText('CHART_ZOOMOUTBTN_TOOLTIP'),icon:'sap-icon://zoom-out',press:function(){if(a._oChart){a._oChart.zoom({direction:'out'});}},visible:this.getShowZoomButtons()});this._oToolbar.addContent(this._oZoomInButton);this._oToolbar.addContent(this._oZoomOutButton);};x.prototype.setShowZoomButtons=function(b){this.setProperty('showZoomButtons',b);if(this._oZoomInButton){this._oZoomInButton.setVisible(b);}if(this._oZoomOutButton){this._oZoomOutButton.setVisible(b);}};x.prototype.setLegendVisible=function(b){this.setProperty('legendVisible',b);this._setLegendVisible(b);};x.prototype._setLegendVisible=function(b){var a=this._getVizFrame();if(a){a.setLegendVisible(b);}};x.prototype._getVizFrame=function(){var a=null;if(this._oChart){a=this._oChart.getAggregation('_vizFrame');}return a;};x.prototype._addLegendButton=function(){var a=this;this._oLegendButton=new d(this.getId()+'-btnLegend',{type:'Transparent',text:this._oRb.getText('CHART_LEGENDBTN_TEXT'),tooltip:this._oRb.getText('CHART_LEGENDBTN_TOOLTIP'),icon:'sap-icon://legend',press:function(){a.setLegendVisible(!a.getLegendVisible());},visible:this.getShowLegendButton()});this._oToolbar.addContent(this._oLegendButton);};x.prototype.setShowLegendButton=function(b){this.setProperty('showLegendButton',b);if(this._oLegendButton){this._oLegendButton.setVisible(b);}};x.prototype.setShowSemanticNavigationButton=function(b){this.setProperty('showSemanticNavigationButton',b);if(this._oSemanticalNavButton){this._oSemanticalNavButton.setVisible(b);}else{if(b){this._addSemanticNavigationButton();}}};x.prototype._addSemanticNavigationButton=function(){var a=this,b;if(!this._oSemanticalNavButton&&this.getShowSemanticNavigationButton()&&this._oToolbar){this._oSemanticalNavButton=new B(this.getId()+'-btnNavigation',{type:'Transparent',text:this._oRb.getText('CHART_SEMNAVBTN'),tooltip:this._oRb.getText('CHART_SEMNAVBTN_TOOLTIP'),visible:this.getShowSemanticNavigationButton(),enabled:false});q.sap.require('sap.ui.comp.navpopover.NavigationPopoverHandler');var n=new sap.ui.comp.navpopover.NavigationPopoverHandler({control:this._oSemanticalNavButton});var e=this.getSemanticObjectController();if(e){n.setSemanticObjectController(e);}this._oSemanticalNavButton.attachPress(function(E){if(b&&(b.length>0)){if(b.length===1){var j=w.getSemanticObjectsFromProperty(b[0]);if(j){n.setSemanticObject(j.defaultSemanticObject);n.setAdditionalSemanticObjects(j.additionalSemanticObjects);n.setSemanticObjectLabel(b[0].fieldLabel);n.openPopover();}}else{a._semanticObjectList(b,n);}}});if(this._oChart){this._oChart.attachDeselectData(function(E){b=a._setSelectionDataPointHandling(n);});this._oChart.attachSelectData(function(E){b=a._setSelectionDataPointHandling(n);});}var i=this._indexOfSpacerOnToolbar();this._oToolbar.insertContent(this._oSemanticalNavButton,i+1);}};x.prototype._setSelectionDataPointHandling=function(n){var a=this._setSelectionDataPoint(n);if(a&&a.length>0){this._oSemanticalNavButton.setEnabled(true);}else{this._oSemanticalNavButton.setEnabled(false);}return a;};x.prototype._setSemanticObjectsContext=function(e){var a,b,i=null;a=e.getSource().getBindingContext();if(a){b=a.getObject();if(b){i=this._determineSemanticObjects(b,a);if(i&&(i.length>0)){this._oSemanticNavHandler.setBindingContext(a);}}}return i;};x.prototype._setSelectionDataPoint=function(n){var a,b,e=null,j;var m=this._oChart.getSelectedDataPoints();if(!m||!m.dataPoints||(m.dataPoints.length===0)){return e;}if(m.dataPoints.length===1){a=m.dataPoints[0].context;if(a){b=a.getObject();if(b){e=this._determineSemanticObjects(b,a);if(e&&(e.length>0)){n.setBindingContext(a);}}}return e;}j=[];for(var i=0;i<m.dataPoints.length;i++){a=m.dataPoints[i].context;if(a){b=a.getObject();if(b){j.push(b);}}}if(j&&j.length>0){e=this._condensBasedOnSameValue(j);if(e&&e.length>0){n.setBindingContext(m.dataPoints[m.dataPoints.length-1].context);}}return e;};x.prototype._condensBasedOnSameValue=function(a){var b=null,R,e,n;b=this._determineSemanticObjects(a[0]);if(b&&b.length>0){for(var i=0;i<b.length;i++){e=b[i];n=e.name;if(this._bAllValuesAreEqual(a,n)){if(!R){R=[];}R.push(e);}}b=R;}return b;};x.prototype._bAllValuesAreEqual=function(a,b){var e,j;for(var i=0;i<a.length;i++){e=a[i];if(i===0){j=e[b];continue;}if(j!=e[b]){return false;}}return true;};x.prototype._semanticObjectList=function(a,n){q.sap.require('sap.m.List');q.sap.require('sap.m.ListType');q.sap.require('sap.m.PlacementType');q.sap.require('sap.m.StandardListItem');q.sap.require('sap.m.ResponsivePopover');var b,L,e,j;if(this._oChart){L=new sap.m.List({mode:sap.m.ListMode.SingleSelectMaster,selectionChange:function(E){if(E&&E.mParameters&&E.mParameters.listItem){var m=E.mParameters.listItem.data('semObj');if(m){n.setSemanticObject(m.defaultSemanticObject);n.setAdditionalSemanticObjects(m.additionalSemanticObjects);n.setSemanticObjectLabel(E.mParameters.listItem.getTitle());n.openPopover();}}b.close();}});for(var i=0;i<a.length;i++){j=a[i];e=new sap.m.StandardListItem({title:j.fieldLabel,type:sap.m.ListType.Active});e.data('semObj',w.getSemanticObjectsFromProperty(j));L.addItem(e);}b=new sap.m.ResponsivePopover({title:this._oRb.getText('CHART_SEMNAVBTN'),showHeader:false,contentWidth:'12rem',placement:sap.m.PlacementType.Left});b.addContent(L);b.openBy(this._oSemanticalNavButton);}};x.prototype._semanticObjectListForDetails=function(a,n){q.sap.require('sap.m.List');q.sap.require('sap.m.ListType');q.sap.require('sap.m.PlacementType');q.sap.require('sap.m.StandardListItem');q.sap.require('sap.m.ResponsivePopover');var L,b,e;var j=this;if(this._oChart){L=new sap.m.List({mode:sap.m.ListMode.SingleSelectMaster,selectionChange:function(E){if(E&&E.mParameters&&E.mParameters.listItem){var m=E.mParameters.listItem.data('semObj');if(m){n.setSemanticObject(m.defaultSemanticObject);n.setAdditionalSemanticObjects(m.additionalSemanticObjects);n.setSemanticObjectLabel(E.mParameters.listItem.getTitle());j._oSemanticNavHandler._getPopover().then(function(z){j._oDetailsSemanticPage.destroyContent();z.getContent().forEach(function(A){j._oDetailsSemanticPage.addContent(A);});j._oDetailsNavContainer.to(j._oDetailsSemanticPage);j._oDetailsPopover.focus();},function(z){window.console.log('NavigationPopover could not be determined');});}}}});for(var i=0;i<a.length;i++){e=a[i];b=new sap.m.StandardListItem({title:e.fieldLabel,type:sap.m.ListType.Navigation});b.data('semObj',w.getSemanticObjectsFromProperty(e));L.addItem(b);}return L;}};x.prototype._determineSemanticObjects=function(m,e){var n,i,j=[];if(m){for(n in m){if(n){i=this._getField(n);if(i&&i.isDimension&&i.isSemanticObject){j.push(i);}}}}if(j){j.sort(function(a,b){return a.fieldLabel.localeCompare(b.fieldLabel);});}return j;};x.prototype._checkSemanticNavigationButton=function(b){if(this._oSemanticalNavButton){this._oSemanticalNavButton.setEnabled(b);}};x.prototype._addDrillUpDownButtons=function(){if(this.getShowDrillButtons()){var a=this;this._oDrillUpButton=new d(this.getId()+'-btnDrillUp',{type:'Transparent',tooltip:this._oRb.getText('CHART_DRILLUPBTN_TOOLTIP'),text:this._oRb.getText('CHART_DRILLUPBTN_TEXT'),icon:'sap-icon://drill-up',press:function(){if(a._oChart){a._oChart.drillUp();}},visible:!this.getShowDrillBreadcrumbs()});this._oDrillDownButton=new d(this.getId()+'-btnDrillDown',{type:'Transparent',tooltip:this._oRb.getText('CHART_DRILLDOWNBTN_TOOLTIP'),text:this._oRb.getText('CHART_DRILLDOWNBTN_TEXT'),icon:'sap-icon://drill-down',press:function(e){a._drillDown(e);},visible:!this.getShowDetailsButton()});this._oToolbar.addContent(this._oDrillUpButton);this._oToolbar.addContent(this._oDrillDownButton);}};x.prototype.setShowDrillButtons=function(b){this.setProperty('showDrillButtons',b);if(this._oDrillUpButton){this._oDrillUpButton.setVisible(b);}if(this._oDrillDownButton){this._oDrillDownButton.setVisible(b);}};x.prototype._triggerSearchInPopover=function(e,L){var a,i,b,j,m,n;if(!e||!L){return;}a=e.getParameters();if(!a){return;}m=a.newValue?a.newValue.toLowerCase():'';if(this._oChart){n=L.getItems();for(i=0;i<n.length;i++){j=n[i].getTooltip();b=n[i].getTitle();if((b&&(b.toLowerCase().indexOf(m)>-1))||(j&&(j.toLowerCase().indexOf(m)>-1))){n[i].setVisible(true);}else{n[i].setVisible(false);}}}};x.prototype._drillDown=function(e){q.sap.require('sap.m.Bar');q.sap.require('sap.m.List');q.sap.require('sap.m.ListType');q.sap.require('sap.m.SearchField');q.sap.require('sap.m.PlacementType');q.sap.require('sap.m.StandardListItem');q.sap.require('sap.m.ResponsivePopover');var a=this,b,j,m,n,L,z,A,E,i,G;if(this._oChart){z=new sap.m.List({mode:sap.m.ListMode.SingleSelectMaster,selectionChange:function(e){if(e&&e.mParameters&&e.mParameters.listItem){if(e.mParameters.listItem.getType()===sap.m.ListType.Inactive){return;}var n=e.mParameters.listItem.data('dim');if(n){a._oChart.drillDown(n);}}b.close();}});A=new sap.m.Bar();E=new sap.m.SearchField({placeholder:this._oRb.getText('CHART_DRILLDOWN_SEARCH')});E.attachLiveChange(function(e){a._triggerSearchInPopover(e,z);});A.addContentRight(E);b=new sap.m.ResponsivePopover({title:this._oRb.getText('CHART_DRILLDOWN_TITLE'),contentWidth:'25rem',contentHeight:'20rem',placement:sap.m.PlacementType.Bottom,subHeader:A});b.addContent(z);j=this._oChart.getVisibleDimensions();m=this._getSortedDimensions();if(m.length<7){A.setVisible(false);}for(i=0;i<m.length;i++){if(j.indexOf(m[i].getName())>-1){continue;}n=m[i];L=new sap.m.StandardListItem({title:n.getLabel(),type:sap.m.ListType.Active});L.data('dim',n);G=this._getFieldTooltip(n.name);if(G){L.setTooltip(G);}if(j.indexOf(m[i].getName())>-1){L.setType(sap.m.ListType.Inactive);}z.addItem(L);}b.openBy(e.getSource());}};x.prototype._navigateToDrillDetailsList=function(e){q.sap.require('sap.m.Bar');q.sap.require('sap.m.List');q.sap.require('sap.m.ListType');q.sap.require('sap.m.SearchField');q.sap.require('sap.m.PlacementType');q.sap.require('sap.m.StandardListItem');q.sap.require('sap.m.ResponsivePopover');var a=this,b,j,m,L,n,z,A,i,E;if(this._oChart){n=new sap.m.List({mode:sap.m.ListMode.SingleSelectMaster,selectionChange:function(e){if(e&&e.mParameters&&e.mParameters.listItem){if(e.mParameters.listItem.getType()===sap.m.ListType.Inactive){return;}var m=e.mParameters.listItem.data('dim');if(m){a._oChart.drillDown(m);}}a._oDetailsNavContainer.back();a._oDetailsPopover.close();}});z=new sap.m.Bar();A=new sap.m.SearchField({placeholder:this._oRb.getText('CHART_DRILLDOWN_SEARCH')});A.attachLiveChange(function(e){a._triggerSearchInPopover(e,n);});z.addContentRight(A);b=this._oChart.getVisibleDimensions();j=this._getSortedDimensions();if(j.length<7){z.setVisible(false);}for(i=0;i<j.length;i++){if(b.indexOf(j[i].getName())>-1){continue;}m=j[i];L=new sap.m.StandardListItem({title:this._oRb.getText('CHART_DRILLDOWNDETAILSLIST_ITEM_TITLE_DIM',[m.getLabel()]),type:sap.m.ListType.Active});L.data('dim',m);E=this._getFieldTooltip(m.name);if(E){L.setTooltip(E);}if(b.indexOf(j[i].getName())>-1){L.setType(sap.m.ListType.Inactive);}n.addItem(L);}this._oDetailsDrillInPage.setSubHeader(z);this._oDetailsDrillInPage.removeAllContent();this._oDetailsDrillInPage.addContent(n);this._oDetailsNavContainer.to(this._oDetailsDrillInPage,'show');}};x.prototype._navigateToSemanticObjectDetails=function(e){var a=this._setSemanticObjectsContext(e);if(a&&(a.length>0)){if(a.length===1){var b=w.getSemanticObjectsFromProperty(a[0]);if(b){this._oSemanticNavHandler.setSemanticObject(b.defaultSemanticObject);this._oSemanticNavHandler.setAdditionalSemanticObjects(b.additionalSemanticObjects);this._oSemanticNavHandler.setSemanticObjectLabel(a[0].fieldLabel);this._oSemanticNavHandler._getPopover().then(function(i){this._oDetailsSemanticPage.destroyContent();i.getContent().forEach(function(j){this._oDetailsSemanticPage.addContent(j);}.bind(this));this._oDetailsPopover.focus();this._oDetailsNavContainer.to(this._oDetailsSemanticPage);}.bind(this),function(E){window.console.log('NavigationPopover could not be determined');});}}else{var L=this._semanticObjectListForDetails(a,this._oSemanticNavHandler);this._oDetailsSemanticPageMulti.destroyContent();this._oDetailsSemanticPageMulti.addContent(L);this._oDetailsSemanticPageMulti.setTitle(this._oRb.getText('CHART_SEMNAVBTN'));this._oDetailsNavContainer.to(this._oDetailsSemanticPageMulti);}}};x.prototype._initSemanticNavigationHandling=function(){var a=this.getSemanticObjectController();if(a){this._oSemanticNavHandler.setSemanticObjectController(a);}};x.prototype._setSemanticObjects=function(){this._aSemanticObjects=this._setSelectionDataPoint(this._oSemanticNavHandler);};x.prototype._addHeaderToToolbar=function(){if(this.getHeader()&&this._oToolbar){if(!this._headerText){this._headerText=new T({});this._headerText.addStyleClass('sapMH4Style');this._headerText.addStyleClass('sapUiCompSmartChartHeader');}this._refreshHeaderText();this._oToolbar.insertContent(this._headerText,0);}else if(this._headerText&&this._oToolbar){this._oToolbar.removeContent(this._headerText);}};x.prototype._addSeparatorToToolbar=function(){if(this.getHeader()&&this.getUseVariantManagement()&&this._oVariantManagement&&!this._oVariantManagement.isPageVariant()){this._oSeparator=new f();this._oToolbar.insertContent(this._oSeparator,0);if(!this._oToolbar.getHeight()){this._oToolbar.setHeight('3rem');}}else if(this._oSeparator){this._oToolbar.removeContent(this._oSeparator);}};x.prototype._addVariantManagementToToolbar=function(){if(this._oVariantManagement&&!this._oVariantManagement.isPageVariant()){if(this.getUseVariantManagement()){this._oToolbar.insertContent(this._oVariantManagement,0);}else if(this._oVariantManagement){this._oToolbar.removeContent(this._oVariantManagement);}}};x.prototype._addSpacerToToolbar=function(){if(this._indexOfSpacerOnToolbar()===-1){this._oToolbar.addContent(new h());}};x.prototype._indexOfSpacerOnToolbar=function(){var a=this._oToolbar.getContent(),i,L;if(a){L=a.length;i=0;for(i;i<L;i++){if(a[i]instanceof h){return i;}}}return-1;};x.prototype._addPersonalisationToToolbar=function(){if(this.getUseChartPersonalisation()){if(!this._oChartPersonalisationButton){this._oChartPersonalisationButton=new d(this.getId()+'-btnPersonalisation',{type:'Transparent',icon:'sap-icon://action-settings',text:this._oRb.getText('CHART_PERSOBTN_TEXT'),tooltip:this._oRb.getText('CHART_PERSOBTN_TOOLTIP'),press:q.proxy(function(e){this._oPersController.openDialog({dimeasure:{visible:true,payload:{availableChartTypes:this._getAvailableChartTypes()}},sort:{visible:true},filter:{visible:true}});},this)});}this._oToolbar.addContent(this._oChartPersonalisationButton);}else if(this._oChartPersonalisationButton){this._oToolbar.removeContent(this._oChartPersonalisationButton);}};x.prototype._addChartTypeToToolbar=function(){this._oChartTypeButton=this._createChartTypeButton();this._oToolbar.addContent(this._oChartTypeButton);};x.prototype._createChartTypeButton=function(){var a=new d(this.getId()+'-btnChartType',{type:'Transparent',layoutData:new sap.m.OverflowToolbarLayoutData({priority:sap.m.OverflowToolbarPriority.NeverOverflow}),press:function(e){this._displayChartTypes(e);}.bind(this)});this._enreachPassedButton(a,this._oChart.getChartType());return a;};x.prototype._displayChartTypes=function(e){q.sap.require('sap.m.Bar');q.sap.require('sap.m.List');q.sap.require('sap.m.ListType');q.sap.require('sap.ui.core.ListItem');q.sap.require('sap.m.SearchField');q.sap.require('sap.m.PlacementType');q.sap.require('sap.m.StandardListItem');q.sap.require('sap.m.ResponsivePopover');var a=this,b,L,i,j,m=false;if(this._bAvailableChartListIsOpen){return;}if(this._oChart&&e){var n=e.getSource();var z=new sap.m.StandardListItem({title:'{$smartChartTypes>text}',icon:'{$smartChartTypes>icon}',selected:'{$smartChartTypes>selected}'});L=new sap.m.List({mode:sap.m.ListMode.SingleSelectMaster,items:{path:'$smartChartTypes>/items',template:z},selectionChange:function(e){if(e&&e.mParameters&&e.mParameters.listItem){var A=e.mParameters.listItem.getBinding('title');if(A){var E=A.getContext();if(E){var G=E.getObject();if(G&&G.key){a._setChartType(G.key);a._enreachPassedButton(a._oChartTypeButton,a._oChart.getChartType());}}}}m=true;b.close();}});i=new sap.m.Bar();j=new sap.m.SearchField({placeholder:this._oRb.getText('CHART_TYPE_SEARCH')});j.attachLiveChange(function(e){a._triggerSearchInPopover(e,L);});i.addContentRight(j);b=new sap.m.ResponsivePopover({placement:sap.m.PlacementType.Bottom,subHeader:i,showHeader:false,contentWidth:'25rem'});b.attachAfterClose(function(e){if(!m){}a._bAvailableChartListIsOpen=false;});b.setModel(this.getModel('$smartChartTypes'),'$smartChartTypes');b.addContent(L);if(L.getItems().length<7){i.setVisible(false);}this._bAvailableChartListIsOpen=true;b.openBy(n);}};var y={'bar':'sap-icon://horizontal-bar-chart','bullet':'sap-icon://horizontal-bullet-chart','bubble':'sap-icon://bubble-chart','column':'sap-icon://vertical-bar-chart','combination':'sap-icon://business-objects-experience','dual_bar':'sap-icon://horizontal-bar-chart','dual_column':'sap-icon://vertical-bar-chart','dual_combination':'sap-icon://business-objects-experience','dual_line':'sap-icon://line-chart','dual_stacked_bar':'sap-icon://full-stacked-chart','dual_stacked_column':'sap-icon://vertical-stacked-chart','dual_stacked_combination':'sap-icon://business-objects-experience','donut':'sap-icon://donut-chart','heatmap':'sap-icon://heatmap-chart','horizontal_stacked_combination':'sap-icon://business-objects-experience','line':'sap-icon://line-chart','pie':'sap-icon://pie-chart','scatter':'sap-icon://scatter-chart','stacked_bar':'sap-icon://full-stacked-chart','stacked_column':'sap-icon://vertical-stacked-chart','stacked_combination':'sap-icon://business-objects-experience','treemap':'sap-icon://Chart-Tree-Map','vertical_bullet':'sap-icon://vertical-bullet-chart','100_dual_stacked_bar':'sap-icon://full-stacked-chart','100_dual_stacked_column':'sap-icon://vertical-stacked-chart','100_stacked_bar':'sap-icon://full-stacked-chart','100_stacked_column':'sap-icon://full-stacked-column-chart'};x.prototype._getMatchingIcon=function(a){var i=y[a];if(!i){i='';}return i;};x.prototype._enreachPassedButton=function(b,K,a){if(!b){return;}if(a===undefined){a=K;var e=this._retrieveChartTypeDescription(K);if(e&&e.text){a=e.text;}}b.data('chartType',K);var i=this._getMatchingIcon(K);b.setIcon(i?i:'sap-icon://vertical-bar-chart');var j=(this._oChart.getChartType()===K)?'CHART_TYPE_TOOLTIP':'CHART_TYPE_UNSEL_TOOLTIP';b.setTooltip(this._oRb.getText(j,[a]));};x.prototype._updateAvailableChartType=function(){var a=this,m,b,i=[];m=this.getModel('$smartChartTypes');if(!m){return;}b={items:i};var e=this._oChart.getChartType();this._getAvailableChartTypes().forEach(function(j){var n={key:j.key,text:j.text,icon:a._getMatchingIcon(j.key),selected:e===j.key};i.push(n);});m.setData(b);if(this._oSegmentedButton){this._updateVisibilityOfChartTypes(this._oSegmentedButton);}};x.prototype._createPersonalizationController=function(){if(this._oPersController||!this.getUseChartPersonalisation()){return;}var a=this.data('p13nDialogSettings');if(typeof a==='string'){try{a=JSON.parse(a);}catch(e){a=null;}}a=this._setIgnoreFromPersonalisationToSettings(a);a=a||{};q.sap.require('sap.ui.comp.personalization.Controller');var b=P.createChartWrapper(this._oChart,this._oChart.data('p13nData'));if(this.$()&&this.$().closest('.sapUiSizeCompact').length>0){this._oChart.addStyleClass('sapUiSizeCompact');}this._oPersController=new sap.ui.comp.personalization.Controller({table:b,setting:a,resetToInitialTableState:!this.getUseVariantManagement(),afterP13nModelDataChange:q.proxy(this._personalisationModelDataChange,this)});};x.prototype._setIgnoreFromPersonalisationToSettings=function(a){var i=P.createArrayFromString(this.getIgnoreFromPersonalisation());if(i.length){if(!a){a={};}var b=function(e){if(!a[e]){a[e]={};}a[e].ignoreColumnKeys=i;};b('dimeasure');b('filter');b('sort');}return a;};x.prototype._personalisationModelDataChange=function(e){this._oCurrentVariant=e.getParameter('persistentData');var a=e.getParameter('changeType');var b=this._getChangeStatus(a);if(b===sap.ui.comp.personalization.ChangeType.Unchanged){return;}if(!this._bApplyingVariant){if(!this.getUseVariantManagement()){this._persistPersonalisation();}else if(this._oVariantManagement){this._oVariantManagement.currentVariantSetModified(true);}}if(b===sap.ui.comp.personalization.ChangeType.TableChanged){if(this._oCurrentVariant.dimeasure&&this._oCurrentVariant.dimeasure.chartTypeKey){this._updateAvailableChartType();}if(this._oSemanticalNavButton){this._oSemanticalNavButton.setEnabled(false);}}else if(b===sap.ui.comp.personalization.ChangeType.ModelChanged&&this._bIsChartBound){if(this._oSmartFilter){this._oSmartFilter.search();}else{this._reBindChart();}}if(this._oDrillBreadcrumbs){this._updateDrillBreadcrumbs();}};x.prototype._getChangeStatus=function(a){if(!a){return sap.ui.comp.personalization.ChangeType.ModelChanged;}if(a.sort===sap.ui.comp.personalization.ChangeType.ModelChanged||a.filter===sap.ui.comp.personalization.ChangeType.ModelChanged||a.dimeasure===sap.ui.comp.personalization.ChangeType.ModelChanged||a.group===sap.ui.comp.personalization.ChangeType.ModelChanged){return sap.ui.comp.personalization.ChangeType.ModelChanged;}if(a.sort===sap.ui.comp.personalization.ChangeType.TableChanged||a.filter===sap.ui.comp.personalization.ChangeType.TableChanged||a.dimeasure===sap.ui.comp.personalization.ChangeType.TableChanged||a.group===sap.ui.comp.personalization.ChangeType.TableChanged){return sap.ui.comp.personalization.ChangeType.TableChanged;}return sap.ui.comp.personalization.ChangeType.Unchanged;};x.prototype.setEntitySet=function(e){this.setProperty('entitySet',e);this._initialiseMetadata();};x.prototype.propagateProperties=function(){V.prototype.propagateProperties.apply(this,arguments);this._initialiseMetadata();};x.prototype._initialiseMetadata=function(){if(!this.bIsInitialised){v.handleModelInit(this,this._onMetadataInitialised);}};x.prototype._onMetadataInitialised=function(){this._bMetaModelLoadAttached=false;if(!this.bIsInitialised){this._createChartProvider();if(this._oChartProvider){this._oChartViewMetadata=this._oChartProvider.getChartViewMetadata();if(this._oChartViewMetadata){this.bIsInitialised=true;this._listenToSmartFilter();this._createVariantManagementControl();this._assignData();this._createContent();this._createToolbarContent();this._createPersonalizationController();this.fireInitialise();if(!this._oVariantManagement||(this._oVariantManagement&&this._bVariantInitialised)){this._checkAndTriggerBinding();}}}}};x.prototype._checkAndTriggerBinding=function(){if(!this._bAutoBindingTriggered){this._bAutoBindingTriggered=true;if(this.getEnableAutoBinding()){if(this._oSmartFilter){this._oSmartFilter.search();}else{this._reBindChart();}}}};x.prototype._createChartProvider=function(){var m,e;e=this.getEntitySet();m=this.getModel();if(m&&!this._bChartCreated){this._aAlwaysSelect=[];this._createToolbar();this._createChart();this._bChartCreated=true;}if(m&&e){this._oChartProvider=new o({entitySet:e,ignoredFields:this.getIgnoredFields(),dateFormatSettings:this.data('dateFormatSettings'),currencyFormatSettings:this.data('currencyFormatSettings'),defaultDropDownDisplayBehaviour:this.data('defaultDimensionDisplayBehaviour'),useSmartField:this.data('useSmartField'),skipAnnotationParse:this.data('skipAnnotationParse'),chartQualifier:this.data('chartQualifier'),presentationVariantQualifier:this.data('presentationVariantQualifier'),model:m});}};x.prototype._listenToSmartFilter=function(){var a=null;a=this.getSmartFilterId();this._oSmartFilter=this._findControl(a);if(this._oSmartFilter){this._oSmartFilter.attachSearch(this._reBindChart,this);this._oSmartFilter.attachFilterChange(this._filterChangeEvent,this);this._oSmartFilter.attachCancel(this._cancelEvent,this);}};x.prototype._filterChangeEvent=function(){if(this._bIsChartBound&&this._oSmartFilter&&!this._oSmartFilter.getLiveMode()){this._showOverlay(true);}};x.prototype._cancelEvent=function(){if(this._oSmartFilter&&!this._oSmartFilter.getLiveMode()){this._showOverlay(false);}};x.prototype._renderOverlay=function(b){if(this._oChart){var $=this._oChart.$(),a=$.find('.sapUiCompSmartChartOverlay');if(b&&a.length===0){a=q('<div>').addClass('sapUiOverlay sapUiCompSmartChartOverlay').css('z-index','1');$.append(a);}else if(!b){a.remove();}}};x.prototype._showOverlay=function(b){if(b){var a={show:true};this.fireShowOverlay({overlay:a});b=a.show;}this._renderOverlay(b);};x.prototype._findControl=function(i){var R,a;if(i){R=sap.ui.getCore().byId(i);if(!R){a=this._getView();if(a){R=a.byId(i);}}}return R;};x.prototype._getView=function(){if(!this._oView){var a=this.getParent();while(a){if(a instanceof sap.ui.core.mvc.View){this._oView=a;break;}a=a.getParent();}}return this._oView;};x.prototype.rebindChart=function(){this._reBindChart();};x.prototype._reBindChart=function(){var R,A,b,m,e,n=[],z,E,G,H={},J={preventChartBind:false};m=this._getChartPersonalisationData()||{};z=m.filters;E=m.excludeFilters;G=m.sorters;if(this._oSmartFilter){e=this._oSmartFilter.getFilters();H=this._oSmartFilter.getParameters()||{};}if(e&&e.length){if(E){n=[new sap.ui.model.Filter([e[0],E],true)];}else{n=e;}}else if(E){n=[E];}if(z){z=n.concat(z);}else{z=n;}R=this.getRequestAtLeastFields();if(R){A=R.split(',');}else{A=[];}A=A.concat(this._aAlwaysSelect);function K(U){var a=U.concat();for(var i=0;i<a.length;++i){for(var j=i+1;j<a.length;++j){if(a[i]===a[j]){a.splice(j--,1);}}}return a;}var L=this._oChart.getVisibleDimensions();var N=A.slice();N=N.filter(function(a){return L.indexOf(a)<0;});var Q=K(this._oChart.getInResultDimensions().concat(N));this._oChart.setInResultDimensions(Q);if(!b||!b.length){b=A;}else{for(var i=0;i<A.length;i++){if(b.indexOf(A[i])<0){b.push(A[i]);}}}if(b&&b.length){H['select']=b.toString();}H['entitySet']=this.getEntitySet();if(!G){G=[];}J.filters=z;J.sorter=G;J.parameters=H;this.fireBeforeRebindChart({bindingParams:J});if(!J.preventChartBind){G=J.sorter;z=J.filters;this._oChart.setBusy(true);this._bDataLoadPending=true;this._oChart.bindData({path:this.getChartBindingPath()||('/'+this.getEntitySet()),parameters:H,filters:z,sorter:G,events:{dataReceived:function(a){if(a&&a.getParameter&&a.getParameter('__simulateAsyncAnalyticalBinding')){return;}this._onDataLoadComplete(a,true);this.fireDataReceived(a);}.bind(this),change:this._onDataLoadComplete.bind(this)}});this._showOverlay(false);this._bIsChartBound=true;}};x.prototype._onDataLoadComplete=function(e,b){if(this._oSemanticalNavButton){this._oSemanticalNavButton.setEnabled(false);}if(this._bDataLoadPending||b){this._bDataLoadPending=false;this._updateAvailableChartType();this._oChart.setBusy(false);}};x.prototype._assignData=function(){if(this._oChartViewMetadata&&this._oChart){if(this._oChartViewMetadata.measureFields&&(this._oChartViewMetadata.measureFields.length>0)){this._oChart.setVisibleMeasures(this._oChartViewMetadata.measureFields);}if(this._oChartViewMetadata.dimensionFields&&(this._oChartViewMetadata.dimensionFields.length>0)){this._oChart.setVisibleDimensions(this._oChartViewMetadata.dimensionFields);}if(!this.getChartType()&&this._oChartViewMetadata.chartType){this._setChartType(this._oChartViewMetadata.chartType);}if(this._oChartViewMetadata.semantics==='aggregate'){this._oChart.setIsAnalytical(true);}}};x.prototype._createP13nObject=function(a){return{columnKey:a.name,leadingProperty:a.name,additionalProperty:a.additionalProperty,sortProperty:a.sortable?a.name:undefined,filterProperty:a.filterable?a.name:undefined,type:a.filterType,maxLength:a.maxLength,precision:a.precision,scale:a.scale,isMeasure:a.isMeasure,isDimension:a.isDimension,aggregationRole:a.aggregationRole,label:a.fieldLabel,tooltip:a.quickInfo};};x.prototype._createContent=function(){q.sap.require('sap.ui.comp.util.FormatUtil');var i,L=0,a,b,m,e=[],j,n=this;L=this._oChartViewMetadata.fields.length;for(i=0;i<L;i++){b=null;a=this._oChartViewMetadata.fields[i];j=this._createP13nObject(a);m={name:a.name,label:a.fieldLabel};if(a.inResult){this._aAlwaysSelect.push(a.name);}if(a.isDimension){b=new D(m);this._oChart.addDimension(b);if(a.description){b.setTextProperty(a.description);b.setTextFormatter(function(K,z){var N=this.getIdentity();var A=n._getDisplayBehaviour(N);return sap.ui.comp.util.FormatUtil.getFormattedExpressionFromDisplayBehaviour(A,K,z);});}}else if(a.isMeasure){b=new M(m);this._oChart.addMeasure(b);if(a.unit){b.setUnitBinding(a.unit);}}else if(a.sortable||a.filterable){e.push(j);}if(b){if(a.role){b.setRole(a.role);}b.data('p13nData',j);}}if(this._oChart){this._oChart.data('p13nData',e);}};x.prototype._getDisplayBehaviour=function(n){var a=this._getField(n);if(a){return a.displayBehaviour;}return'';};x.prototype._getField=function(n){var a,i,L;if(n&&this._oChartViewMetadata&&this._oChartViewMetadata.fields){L=this._oChartViewMetadata.fields.length;for(i=0;i<L;i++){a=this._oChartViewMetadata.fields[i];if(a.name===n){return a;}}}return null;};x.prototype._createChart=function(){var a=this.getItems(),L=a?a.length:0,b;while(L--){b=a[L];if(b instanceof C){break;}b=null;}if(b){this._oChart=b;}else{this._oChart=new C({uiConfig:{applicationSet:'fiori'},vizProperties:{title:{text:''}},selectionMode:this.getSelectionMode(),width:'100%'});this._toggleChartTooltipVisibility(this.getShowChartTooltip());this.insertItem(this._oChart,2);}if(!this._oChart.getLayoutData()){this._oChart.setLayoutData(new sap.m.FlexItemData({growFactor:1,baseSize:'0%'}));}this._setChartType(this.getChartType());this._createTooltipOrPopover();};x.prototype._toggleChartTooltipVisibility=function(b){var i={interaction:{decorations:[]}};if(!b){var a={name:'showDetail',fn:this._showDetailTooltip};var H={name:'hideDetail',fn:this._hideDetailTooltip};i.interaction.decorations.push(a);i.interaction.decorations.push(H);}if(this._oChart){this._oChart.setVizProperties(i);}};x.prototype._showDetailTooltip=function(a){};x.prototype._hideDetailTooltip=function(a){};x.prototype.getChart=function(){return this._oChart;};x.prototype._getChartTypes=function(){var m;try{m=sap.chart.api.getChartTypes();}catch(e){m={};q.sap.log.error('sap.chart.api..getChartTypes throws an exception.\\n'+e.toString());}return m;};x.prototype._getAvailableChartTypes=function(){var i,K,a=[],b,m={},e;if(this._oChart){e=P.createArrayFromString(this.getIgnoredChartTypes());m=this._getChartTypes();b=this._oChart.getAvailableChartTypes().available;if(b){for(i=0;i<b.length;i++){K=b[i].chart;if(e.indexOf(K)<0){a.push({key:K,text:m[K]});}}}}return a;};x.prototype._getAllChartTypes=function(){var K,a=[],m,i;i=P.createArrayFromString(this.getIgnoredChartTypes());m=this._getChartTypes();for(K in m){if(K){if(i.indexOf(K)<0){a.push({key:K,text:m[K]});}}}return a;};x.prototype._retrieveChartTypeDescription=function(a){var m=this._getChartTypes();return({key:a,text:m[a]});};x.prototype._setChartType=function(a){if(this._oChart){this._oChart.setChartType(a);}};x.prototype._getDimensions=function(){var a=[];if(this._oChart){a=this._oChart.getDimensions();}return a;};x.prototype._getVisibleDimensions=function(){var a=[];if(this._oChart){a=this._oChart.getVisibleDimensions();}return a;};x.prototype._getMeasures=function(){var m=[];if(this._oChart){m=this._oChart.getMeasures();}return m;};x.prototype._getVisibleMeasures=function(){var a=[];if(this._oChart){a=this._oChart.getVisibleMeasures();}return a;};x.prototype._getSortedDimensions=function(){var e=[];if(this._oChart){e=this._oChart.getDimensions();if(e){e.sort(function(a,b){if(a.getLabel()&&b.getLabel()){return a.getLabel().localeCompare(b.getLabel());}});}}return e;};x.prototype.fetchVariant=function(){if(this._oCurrentVariant==='STANDARD'||this._oCurrentVariant===null){return{};}return this._oCurrentVariant;};x.prototype.applyVariant=function(a,b){this._oCurrentVariant=a;if(this._oCurrentVariant==='STANDARD'){this._oCurrentVariant=null;}if(b==='STANDARD'){this._oApplicationDefaultVariant=this._oCurrentVariant;}if(this._oApplicationDefaultVariant&&!b){this._oCurrentVariant=q.extend(true,{},this._oApplicationDefaultVariant,a);}this._bApplyingVariant=true;if(this._oPersController){if(this._oCurrentVariant===null||q.isEmptyObject(this._oCurrentVariant)){this._oPersController.resetPersonalization(sap.ui.comp.personalization.ResetType.ResetFull);}else{this._oPersController.setPersonalizationData(this._oCurrentVariant);}}this._bApplyingVariant=false;this.fireAfterVariantApply({currentVariantId:this.getCurrentVariantId()});};x.prototype.variantsInitialized=function(){this._bVariantInitialised=true;this._checkAndTriggerBinding();};x.prototype._getFieldTooltip=function(K){var a=this._getFieldByKey(K);if(a){return a.quickInfo;}return'';};x.prototype._getFieldByKey=function(K){var i,a=null;if(this._oChartViewMetadata&&this._oChartViewMetadata.fields){for(i=0;i<this._oChartViewMetadata.fields.length;i++){a=this._oChartViewMetadata.fields[i];if(K===a.name){return a;}}return null;}};x.prototype._getByKey=function(a,K){var i,L,b,e;if(a){L=a.length;for(i=0;i<L;i++){b=a[i];e=b.data('p13nData');if(e&&e.columnKey===K){return b;}}}return null;};x.prototype._getDimensionByKey=function(K){if(this._oChart){return this._getByKey(this._oChart.getDimensions(),K);}return null;};x.prototype._getMeasureByKey=function(K){if(this._oChart){return this._getByKey(this._oChart.getMeasures(),K);}return null;};x.prototype._getChartObjByKey=function(K){var a=this._getDimensionByKey(K);if(!a){a=this._getMeasureByKey(K);}return a;};x.prototype._getPathFromColumnKeyAndProperty=function(a,b){var e=null,i,j;i=this._getChartObjByKey(a);if(i){j=i.data('p13nData');if(j){e=j[b];}}return e;};x.prototype._getChartPersonalisationData=function(){if(!this._oCurrentVariant){return null;}var a=[],b=[],e=[],E,i,j;if(this._oCurrentVariant.sort){i=this._oCurrentVariant.sort.sortItems;}else{i=this._aInitialSorters;}if(i){i.forEach(function(m){var n=m.operation==='Descending';j=m.columnKey;a.push(new sap.ui.model.Sorter(j,n));},this);}if(this._oCurrentVariant.filter){this._oCurrentVariant.filter.filterItems.forEach(function(m){var n=m.value1,z=m.value2;j=m.columnKey;if(n instanceof Date&&this._oChartProvider&&this._oChartProvider.getIsUTCDateHandlingEnabled()){n=p.getDateInUTCOffset(n);z=z?p.getDateInUTCOffset(z):z;}if(m.exclude){e.push(new s(j,t.NE,n));}else{b.push(new s(j,m.operation,n,z));}},this);if(e.length){E=new s(e,true);}}return{filters:b,excludeFilters:E,sorters:a};};x.prototype._persistPersonalisation=function(){var a=this;if(this._oVariantManagement&&!this._oVariantManagement.isPageVariant()){this._oVariantManagement.getVariantsInfo(function(b){var e=null;if(b&&b.length>0){e=b[0].key;}var i=e!==null;var j={name:'Personalisation',global:false,overwrite:i,key:e,def:true};a._oVariantManagement.fireSave(j);});}};x.prototype.getCurrentVariantId=function(){var K='';if(this._oVariantManagement){K=this._oVariantManagement.getCurrentVariantId();}return K;};x.prototype.setCurrentVariantId=function(a){if(this._oVariantManagement&&!this._oVariantManagement.isPageVariant()){this._oVariantManagement.setCurrentVariantId(a);}else{q.sap.log.error('sap.ui.comp.smartchart.SmartChart.prototype.setCurrentVariantId: VariantManagement does not exist or is a page variant');}};x.prototype._adjustHeight=function(){if(this._oChart){var i=0;if(!this.bFullScreen){this._iHeight=this.getDomRef().offsetHeight;}if(this._iHeight===0){return;}if(this._oToolbar&&this._oToolbar.getDomRef()){i=this._oToolbar.getDomRef().offsetHeight;}var a=0;this._oChart.setHeight((this._iHeight-i-a)+'px');}};x.prototype._toggleFullScreen=function(b,a){if(!this.oFullScreenButton||(b===this.bFullScreen&&!a)){return;}this.bFullScreen=b;if(!this._oFullScreenUtil){this._oFullScreenUtil=sap.ui.requireSync('sap/ui/comp/util/FullScreenUtil');}this._oFullScreenUtil.toggleFullScreen(this,this.bFullScreen,this.oFullScreenButton);this.oFullScreenButton.setTooltip(this.bFullScreen?this._oRb.getText('CHART_MINIMIZEBTN_TOOLTIP'):this._oRb.getText('CHART_MAXIMIZEBTN_TOOLTIP'));this.oFullScreenButton.setText(this.bFullScreen?this._oRb.getText('CHART_MINIMIZEBTN_TEXT'):this._oRb.getText('CHART_MAXIMIZEBTN_TEXT'));this.oFullScreenButton.setIcon(this.bFullScreen?'sap-icon://exit-full-screen':'sap-icon://full-screen');};x.prototype.isInitialised=function(){return!!this.bIsInitialised;};x.prototype.exit=function(){this._oRb=null;if(this._oSmartFilter){this._oSmartFilter.detachSearch(this._reBindChart,this);this._oSmartFilter.detachFilterChange(this._filterChangeEvent,this);this._oSmartFilter.detachCancel(this._cancelEvent,this);}if(this._oChartProvider&&this._oChartProvider.destroy){this._oChartProvider.destroy();}this._oChartProvider=null;if(this._oPersController&&this._oPersController.destroy){this._oPersController.destroy();}if(this._oSegmentedButton){this._oSegmentedButton.removeAllButtons();this._oButtonChart1.destroy();this._oButtonChart2.destroy();this._oButtonChart3.destroy();this._oButtonChart4.destroy();this._oButtonChart5.destroy();this._oButtonChart1=null;this._oButtonChart2=null;this._oButtonChart3=null;this._oButtonChart4=null;this._oButtonChart5=null;}this._oPersController=null;if(this._oVariantManagement){this._oVariantManagement.detachSave(this._variantSaved,this);this._oVariantManagement.detachAfterSave(this._variantAfterSave,this);if(!this._oVariantManagement.isPageVariant()&&this._oVariantManagement.destroy){this._oVariantManagement.destroy();}}this._oVariantManagement=null;this._destroyPopover();if(this._oFullScreenUtil){this._oFullScreenUtil.cleanUpFullScreen(this);this._oFullScreenUtil=null;}if(this._oDetailsPopover){this._oDetailsPopover.destroy();if(this._oRelatedAppsMasterList){this._oRelatedAppsMasterList.destroy();}}if(u.system.desktop&&this.sResizeListenerId){sap.ui.core.ResizeHandler.deregister(this.sResizeListenerId);this.sResizeListenerId=null;}else{u.orientation.detachHandler(this._adjustHeight,this);u.resize.detachHandler(this._adjustHeight,this);}this._oCurrentVariant=null;this._oApplicationDefaultVariant=null;this._oChartViewMetadata=null;this._aAlwaysSelect=null;this._oSmartFilter=null;this._oToolbar=null;this._oChartPersonalisationButton=null;this._oView=null;this._oChart=null;};return x;},true);\n",
	"sap/ui/comp/smartfield/AnnotationHelper.js":"/*\n * SAP UI development toolkit for HTML5 (SAPUI5)\n\n(c) Copyright 2009-2016 SAP SE. All rights reserved\n */\nsap.ui.define([],function(){'use strict';var A=function(){};A.prototype.getText=function(p){return p['sap:text']||this._getObject('com.sap.vocabularies.Common.v1.Text/Path',p);};A.prototype.getTextArrangement=function(p,e){var E=null,P=null;P=this._getObject('com.sap.vocabularies.Common.v1.Text',p);if(P){E=P['com.sap.vocabularies.UI.v1.TextArrangement'];}if(!E){E=this._getObject('com.sap.vocabularies.UI.v1.TextArrangement',e);}if(E&&E.EnumMember){if(E.EnumMember==='com.sap.vocabularies.UI.v1.TextArrangementType/TextFirst'){return'descriptionAndId';}else if(E.EnumMember==='com.sap.vocabularies.UI.v1.TextArrangementType/TextLast'){return'idAndDescription';}else if(E.EnumMember==='com.sap.vocabularies.UI.v1.TextArrangementType/TextSeparate'){return'idOnly';}else if(E.EnumMember==='com.sap.vocabularies.UI.v1.TextArrangementType/TextOnly'){return'descriptionOnly';}}return null;};A.prototype.getUnit=function(p){return p['sap:unit']||this._getObject('Org.OData.Measures.V1.ISOCurrency/Path',p)||this._getObject('Org.OData.Measures.V1.Unit/Path',p);};A.prototype.getLabel=function(p){var l=this._getObject('com.sap.vocabularies.UI.v1.DataFieldWithUrl/Label/String',p);return l||p['sap:label']||this._getObject('com.sap.vocabularies.Common.v1.Label/String',p);};A.prototype.isCurrency=function(p){return(p['sap:semantics']==='currency-code')||!!this._getObject('Org.OData.Measures.V1.ISOCurrency/Path',p);};A.prototype.getQuickInfo=function(p){return p['sap:quickinfo']||this._getObject('com.sap.vocabularies.Common.v1.QuickInfo/String',p);};A.prototype.isMasked=function(p){return(!!this._getObject('com.sap.vocabularies.Common.v1.Masked',p));};A.prototype.isMultiLineText=function(p){return(!!this._getObject('com.sap.vocabularies.UI.v1.MultiLineText',p));};A.prototype.isStaticMandatory=function(p){var f=this._getObject('com.sap.vocabularies.Common.v1.FieldControl',p);if(f&&f.EnumMember){return(f.EnumMember==='com.sap.vocabularies.Common.v1.FieldControlType/Mandatory');}return false;};A.prototype.isNullable=function(p){var n=this._getObject('nullable',p);if(n){return(n==='true');}return true;};A.prototype.isUpperCase=function(p){return(p['sap:display-format']==='UpperCase')||(this._getObject('com.sap.vocabularies.Common.v1.IsUpperCase/Bool',p)==='true');};A.prototype.canCreateEntitySet=function(e){var n=(e['sap:creatable']==='false')||(this._getObject('Org.OData.Capabilities.V1.InsertRestrictions/Insertable/Bool',e)==='false');return!n;};A.prototype.canCreateProperty=function(p){if(this._getObject('Org.OData.Core.V1.Computed/Bool',p)==='true'){return false;}if(p['sap:creatable']==='false'){return false;}return true;};A.prototype.canUpdateEntitySet=function(e){var n=(e['sap:updatable']==='false')||(this._getObject('Org.OData.Capabilities.V1.UpdateRestrictions/Updatable/Bool',e)==='false');return!n;};A.prototype.getUpdateEntitySetPath=function(e){return e['sap:updatable']||this._getObject('Org.OData.Capabilities.V1.UpdateRestrictions/Updatable/Path',e);};A.prototype.canUpdateProperty=function(p){var n=(p['sap:updatable']==='false')||(this._getObject('Org.OData.Core.V1.Immutable/Bool',p)==='true')||(this._getObject('com.sap.vocabularies.Common.v1.FieldControl/EnumMember',p)==='com.sap.vocabularies.Common.v1.FieldControlType/ReadOnly');return!n;};A.prototype.getFieldControlPath=function(p){return p['sap:field-control']||this._getObject('com.sap.vocabularies.Common.v1.FieldControl/Path',p);};A.prototype.getVisible=function(p){var v;if(p['sap:visible']){return p['sap:visible'];}v=this._getObject('com.sap.vocabularies.Common.v1.FieldControl/EnumMember',p);if(v==='com.sap.vocabularies.Common.v1.FieldControlType/Hidden'){return'false';}return'true';};A.prototype._getObject=function(p,o){var n=o,P=p.split('/'),i=0;while(n&&P[i]){n=n[P[i]];i++;}return n;};A.prototype.destroy=function(){};return A;},true);\n",
	"sap/ui/comp/smartfield/BindingUtil.js":"/*\n * SAP UI development toolkit for HTML5 (SAPUI5)\n\n(c) Copyright 2009-2016 SAP SE. All rights reserved\n */\nsap.ui.define(['sap/ui/model/odata/AnnotationHelper','sap/ui/base/BindingParser'],function(A,B){'use strict';var a=function(){};a.prototype.correctPath=function(p){var r,m,e;r=/\\((.+)\\)/;m=r.exec(p);if(m){e=p.replace(m[0],'');}else{e=p;}return e.replace('/','');};a.prototype.getNavigationProperties=function(c){var o,b,r={};b=c.getBindingContext();if(b&&b.sPath){r.paths=b.sPath.split('/');}o=c.getObjectBinding();if(o&&o.sPath){r.objectBinding=o.sPath;if(r.paths){r.paths.push(o.sPath);}else{r.paths=[o.sPath];}}if(!r.paths){r.paths=[];}return r;};a.prototype.getBindingParts=function(b,p,I){var l=0,i,P,o;if(b&&b.parts){l=b.parts.length;}for(i=0;i<l;i++){o='';P=b.parts[i];if(P.model){o=o+P.model+'>';}o=o+P.path;p.push(o);I.length++;}};a.prototype.toBinding=function(I){var o={},n,p,i,l,N={model:true,formatter:true,mode:true,path:true};if(I){if(I.parts&&I.parts.length){l=I.parts.length;o.parts=[];}for(i=0;i<l;i++){p=I.parts[i];o.parts.push(p);}for(n in N){if(I[n]){o[n]=I[n];}}return o;}return null;};a.prototype.toBindingPath=function(I){var o,O='',p,i,l;o=this.toBinding(I);if(o){if(o.model){O=o.model+'>';}if(o.path){O=O+o.path;}else if(o.parts&&o.parts.length>0){l=o.parts.length;for(i=0;i<l;i++){p=o.parts[i];if(p.model){O=O+p.model+'>';}O=O+p.path;}}}return O;};a.prototype.fromFormatter=function(m,f,p){var i,l,P,b={model:m,formatter:f.formatter};P=f.path();l=P.length;if(l>0){b.parts=P;if(p){for(i=0;i<l;i++){p.push(P[i]);}}}else{b.path='';}return b;};a.prototype.executeODataBindingExpression=function(b,o){var i,v,V,p,h,H='';if(b&&o){h=A.format(o,b);H=h;p=B.complexParser(h,o);V=[];if(p){if(p.formatter){for(i=0;i<p.parts.length;i++){v=o.getProperty(p.parts[i].path,'value');V.push(v);}H=p.formatter.apply(null,V);}else{H=o.getProperty(p.path,'value');}}}return H;};a.prototype.destroy=function(){};return a;},true);\n",
	"sap/ui/comp/smartfield/Configuration.js":"/*\n * ! SAP UI development toolkit for HTML5 (SAPUI5)\n\n(c) Copyright 2009-2016 SAP SE. All rights reserved\n */\nsap.ui.define(['jquery.sap.global','sap/ui/comp/library','sap/ui/core/Element'],function(q,l,E){'use strict';var C=E.extend('sap.ui.comp.smartfield.Configuration',{metadata:{library:'sap.ui.comp',properties:{controlType:{type:'sap.ui.comp.smartfield.ControlType',group:'Misc',defaultValue:null},displayBehaviour:{type:'sap.ui.comp.smartfield.DisplayBehaviour',group:'Misc',defaultValue:null},preventInitialDataFetchInValueHelpDialog:{type:'boolean',group:'Misc',defaultValue:true}}}});return C;},true);\n",
	"sap/ui/comp/smartfield/ControlFactoryBase.js":"/*\n * SAP UI development toolkit for HTML5 (SAPUI5)\n\n(c) Copyright 2009-2016 SAP SE. All rights reserved\n */\nsap.ui.define(['jquery.sap.global','sap/ui/base/Object','sap/ui/comp/util/FormatUtil','sap/ui/comp/providers/ValueHelpProvider','sap/ui/comp/providers/ValueListProvider','sap/ui/comp/smartfield/BindingUtil','sap/m/HBox'],function(q,B,F,V,a,b,H){'use strict';var C=B.extend('sap.ui.comp.smartfield.ControlFactoryBase',{constructor:function(m,p){B.apply(this,arguments);this.sName='ControlFactoryBase';this._oModel=m;this._oParent=p;this._oBinding=new b();this._aProviders=[];this._oRb=sap.ui.getCore().getLibraryResourceBundle('sap.ui.comp');}});C.prototype.createControl=function(c){var m,o;m=this._getCreator(c);if(m){o=this[m]();this._addAriaLabelledBy(o);if(o&&o.onCreate){this[o.onCreate](o.control,o.params);}}return o;};C.prototype._addAriaLabelledBy=function(c){var t;if((this._oParent.getControlContext()===sap.ui.comp.smartfield.ControlContextType.None)||(this._oParent.getControlContext()===sap.ui.comp.smartfield.ControlContextType.Form)||(this._oParent.getControlContext()===sap.ui.comp.smartfield.ControlContextType.SmartFormGrid)){if(c){t=c.control;if(t instanceof H){if(t.getItems().length>0){t=t.getItems()[0];}}}if(t&&t.addAriaLabelledBy&&this._oParent.getAriaLabelledBy().length>0){t.removeAllAriaLabelledBy();this._oParent.getAriaLabelledBy().forEach(function(A){t.addAriaLabelledBy(A);});}}};C.prototype.addValidations=function(c,m){var s,e,t=this;s=function(S,E){var M,o,d=E.getSource();if(d){if(d.setValueState){d.setValueState(S);}o=E.getParameter('exception');if(o){M=o.message;}if(!M){M=E.getParameter('message');}if(d.setValueStateText){d.setValueStateText(M);}}if(m){t._oParent[m](S===sap.ui.core.ValueState.Error);}};e=function(E){s(sap.ui.core.ValueState.Error,E);};c.attachFormatError(e);c.attachParseError(e);c.attachValidationError(e);c.attachValidationSuccess(function(E){s(sap.ui.core.ValueState.None,E);});};C.prototype._getDisplayBehaviourConfiguration=function(d){var D=null;var c=this._oParent.getConfiguration();if(c){D=c.getDisplayBehaviour();}if(!D&&this._oMetaData&&this._oMetaData.entityType){D=this._oHelper.oAnnotation.getTextArrangement(this._oMetaData.property.property,this._oMetaData.entityType);}if(!D){D=this._oParent.data(d);}return D;};C.prototype._getPreventInitialDataFetchInVHDialog=function(){var c=this._oParent.getConfiguration();return c?c.getPreventInitialDataFetchInValueHelpDialog():true;};C.prototype._formatDisplayBehaviour=function(d,k,D){var s=this._getDisplayBehaviourConfiguration(d);if(d==='defaultCheckBoxDisplayBehaviour'){return this._getFormattedExpressionFromDisplayBehaviour(s,k);}if(d==='defaultComboBoxReadOnlyDisplayBehaviour'&&!s){s='descriptionAndId';}return F.getFormattedExpressionFromDisplayBehaviour(s||'idOnly',k,D);};C.prototype._getFormattedExpressionFromDisplayBehaviour=function(d,v){var k='';switch(d){case'OnOff':k=v?'SMARTFIELD_CB_ON':'SMARTFIELD_CB_OFF';break;case'TrueFalse':k=v?'SMARTFIELD_CB_TRUE':'SMARTFIELD_CB_FALSE';break;default:k=v?'SMARTFIELD_CB_YES':'SMARTFIELD_CB_NO';break;}return this._oRb.getText(k);};C.prototype.addValueHelp=function(c,p,v,m,o){var d,e,D,P,f;if(v.annotation&&(p['sap:value-list']||p['com.sap.vocabularies.Common.v1.ValueList'])){D=this._getDisplayBehaviourConfiguration('defaultDropDownDisplayBehaviour');P=this._getPreventInitialDataFetchInVHDialog();f=this._oParent.data('dateFormatSettings');if(typeof f==='string'){try{f=JSON.parse(f);}catch(g){}}if(!v.noDialog){if(c.setFilterSuggests){c.setFilterSuggests(false);}var A;var s;if(typeof v.annotation==='string'){s=v.annotation;}else if(v&&typeof v.annotation==='object'){A=v.analyser.getValueListAnnotationForFunctionImport({'':v.annotation},p.name).primaryValueListAnnotation;}d=new V({loadAnnotation:true,fullyQualifiedFieldName:s,annotation:A,metadataAnalyser:v.analyser,control:c,model:m,preventInitialDataFetchInValueHelpDialog:P,dateFormatSettings:f,takeOverInputValue:false,supportMultiSelect:false,supportRanges:false,fieldName:p.name,title:v.dialogtitle,displayBehaviour:D});if(o){d.attachValueListChanged(o);}this._aProviders.push(d);if(c.setShowValueHelp){c.setShowValueHelp(true);}}e=new a({control:c,typeAheadEnabled:!v.noTypeAhead,aggregation:v.aggregation,loadAnnotation:true,fullyQualifiedFieldName:v.annotation,metadataAnalyser:v.analyser,model:m,dateFormatSettings:f,displayBehaviour:D});if(!v.noTypeAhead){if(c.setShowSuggestion){c.setShowSuggestion(true);}}if(o){e.attachValueListChanged(o);}this._aProviders.push(e);}};C.prototype.getAttribute=function(n){var i=this._oParent.getBindingInfo(n);if(i){return this._oBinding.toBindingPath(i);}return this._oParent['get'+n.substring(0,1).toUpperCase()+n.substring(1)]();};C.prototype.createAttributes=function(A,t,N,e){var c=this,n,i,m={};for(n in N){i=this._oParent.getBindingInfo(n);if(i){m[n]=this._oBinding.toBinding(i);}else{m[n]=this._oParent['get'+n.substring(0,1).toUpperCase()+n.substring(1)]();}}if(A){m[A]={model:this._oMetaData.model,path:this._oMetaData.path,type:t?this._oTypes.getType(t):null};}if(e){m[e.event]=function(p){try{c._oParent.fireChange({value:p.mParameters[e.parameter],newValue:p.mParameters[e.parameter]});}catch(d){q.sap.log.warning(d);}};}this.addObjectBinding(m);return m;};C.prototype.mapBindings=function(A,N){var n,i;for(n in N){i=this._oParent.getBindingInfo(n);if(i){A[N[n]]=this._oBinding.toBinding(i);}else{A[N[n]]=this._oParent['get'+n.substring(0,1).toUpperCase()+n.substring(1)]();}}};C.prototype.addObjectBinding=function(A,o){if(!o){o=this._oParent.getObjectBinding(this._oMetaData.model);}if(A&&o){A.objectBindings={};A.objectBindings[this._oMetaData.model]=o.sPath;}};C.prototype.getFormatSettings=function(f){var m,c,o,l;if(f){m=this._oParent.data(f);if(!m){c=this._oParent.getCustomData();if(c){l=c.length;while(l--){o=c[l];if(o.getKey()===f){m=o.getValue();break;}}}}if(m&&typeof(m)==='string'){try{m=JSON.parse(m);}catch(e){return null;}}}return m;};C.prototype.destroy=function(){var l=this._aProviders.length;while(l--){this._aProviders[l].destroy();}this._oBinding.destroy();this._oBinding=null;this._oParent=null;this._oModel=null;this._aProviders=[];this._oRb=null;};return C;},true);\n",
	"sap/ui/comp/smartfield/ControlProposal.js":"/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n\n(c) Copyright 2009-2016 SAP SE. All rights reserved\n */\nsap.ui.define(['jquery.sap.global','sap/ui/comp/library','sap/ui/core/Element'],function(q,l,E){'use strict';var C=E.extend('sap.ui.comp.smartfield.ControlProposal',{metadata:{library:'sap.ui.comp',properties:{controlType:{type:'sap.ui.comp.smartfield.ControlProposalType',group:'Misc',defaultValue:sap.ui.comp.smartfield.ControlProposalType.None}},aggregations:{objectStatus:{type:'sap.ui.comp.smartfield.ObjectStatus',multiple:false}}}});return C;},true);\n",
	"sap/ui/comp/smartfield/FieldControl.js":"/*\n * SAP UI development toolkit for HTML5 (SAPUI5)\n\n(c) Copyright 2009-2016 SAP SE. All rights reserved\n */\nsap.ui.define(['jquery.sap.global','sap/ui/comp/smartfield/BindingUtil','sap/ui/model/ParseException'],function(q,B,P){'use strict';var F=function(p,h){this._bIsDestroyed=false;this._oBinding=new B();this._oStoredProperties={};this._bVisibleSet=false;this._bEditableSet=false;this._bMandatorySet=false;this._bUomEditableSet=false;this._oStoredBindings={};this._oParent=p;this._oHelper=h;this._oAnnotation=h.oAnnotation;};F.prototype.getBindableAttributes=function(n){var c=this._oParent.data('configdata');if(c&&(c.configdata&&!c.configdata.isUOM||!c.configdata)){if(c.configdata&&c.configdata.property&&c.configdata.property.property&&this._oAnnotation.getFieldControlPath(c.configdata.property.property)){return['editable','visible'];}else{return['editable'];}}if(n){return['editable','visible'];}return['editable','visible','mandatory'];};F.prototype.getControlProperties=function(m,b){var M,l,n,r={};if(m&&b){l=b.length;while(l--){n=b[l];M='_get'+n.substring(0,1).toUpperCase()+n.substring(1);if(this[M]){r[n]=this[M](m,this._oParent.getBindingInfo(n));}}}return r;};F.prototype._getEditable=function(m,b,p){var a,i=-1,e=-1,c=-1,t=this,o={length:0};if(p==='uomEditable'){this._bUomEditableSet=true;}else{this._bEditableSet=true;}if(!b){if(p){a=this._oParent['get'+p.substring(0,1).toUpperCase()+p.substring(1)]();this._oStoredProperties[p]=a;}else{a=this._oParent.getEditable();this._oStoredProperties['editable']=a;}this._oStoredBindings.editable=null;}else if(this._oStoredBindings.editable===undefined){this._oStoredBindings.editable=b;}return{path:function(){var d=[],s,l=0;if(!m.property||!m.property.property){return[''];}s=t._oAnnotation.getFieldControlPath(m.property.property);if(s){d.push(t._toPath(m,s));i=l;l++;}if(m.entitySet['sap:updatable-path']){d.push(m.entitySet['sap:updatable-path']);e=l;l++;}if(b){c=l;t._oBinding.getBindingParts(b,d,o);l=l+o.length;}if(l>0){return d;}return[''];},formatter:function(v,d,f,g){var A=[],h,O;if(t._bIsDestroyed){return false;}if(!t._oAnnotation){return false;}h=t._oParent.getBindingContext();if(!h){return false;}if(h.getObject&&m&&m.property&&m.property.property){O=h.getObject();if(O&&O.__metadata&&O.__metadata.created){if(!t._getCreatableStatic(m)){return false;}}else if(!t._getUpdatableStatic(m)){return false;}}if(i>-1){A.push(arguments[i]!==1);}if(e>-1&&(!O||!O.__metadata||!O.__metadata.created)){A.push(!!arguments[e]);}if(c>-1){if(b.formatter){A.push(t._execFormatter(b.formatter,arguments,c,o.length));}else{A.push(!!arguments[c]);}}else{A.push(a);}return t._compare(A,false,true);}};};F.prototype._execFormatter=function(f,a,s,l){var A=[],i;if(s>-1&&l>-1){for(i=0;i<l;i++){A.push(a[s+i]);}}return f.apply(null,A);};F.prototype._getCreatableStatic=function(m){return(this._oAnnotation.canCreateEntitySet(m.entitySet)&&this._oAnnotation.canCreateProperty(m.property.property));};F.prototype._getUpdatableStatic=function(m){return(this._oAnnotation.canUpdateEntitySet(m.entitySet)&&this._oAnnotation.canUpdateProperty(m.property.property));};F.prototype._compare=function(a,p,d){var i,l=a.length;for(i=0;i<l;i++){if(a[i]===p){return p;}}return d;};F.prototype._getVisible=function(m,b){var p,i=-1,a=-1,t=this,o={length:0};this._bVisibleSet=true;if(!b){p=this._oParent.getVisible();this._oStoredProperties.visible=p;this._oStoredBindings.visible=null;}else if(this._oStoredBindings.visible===undefined){this._oStoredBindings.visible=b;}return{path:function(){var c=[],s,l=0;if(!m.property||!m.property.property){return[''];}s=t._oAnnotation.getFieldControlPath(m.property.property);if(s){c.push(t._toPath(m,s));a=l;l++;}if(b){i=l;t._oBinding.getBindingParts(b,c,o);l=l+o.length;}if(l>0){return c;}return[''];},formatter:function(c,d){var A=[];if(t._bIsDestroyed){return false;}if(!t._oAnnotation){return false;}if(m.property&&m.property.property&&t._oAnnotation.getVisible(m.property.property)==='false'){return false;}if(a>-1){A.push(arguments[a]!==0);}if(i>-1){if(b.formatter){A.push(t._execFormatter(b.formatter,arguments,i,o.length));}else{A.push(!!arguments[i]);}}else{A.push(p);}return t._compare(A,false,true);}};};F.prototype._getMandatory=function(m,b){var p,i=-1,a=-1,t=this,o={length:0};this._bMandatorySet=true;if(!b){p=this._oParent.getMandatory();this._oStoredProperties.mandatory=p;this._oStoredBindings.mandatory=null;}else if(this._oStoredBindings.mandatory===undefined){this._oStoredBindings.mandatory=b;}return{path:function(){var c=[],s,l=0;if(!m.property||!m.property.property){return[''];}s=t._oAnnotation.getFieldControlPath(m.property.property);if(s){c.push(t._toPath(m,s));a=l;l++;}if(b){i=l;t._oBinding.getBindingParts(b,c,o);l=l+o.length;}if(l>0){return c;}return[''];},formatter:function(c,d){var A=[];if(t._bIsDestroyed){return true;}if(m.property&&m.property.property){if(m.property.property.nullable==='false'||(t._oAnnotation&&t._oAnnotation.isStaticMandatory(m.property.property))){A.push(true);}else if(m.property.property.nullable){A.push(false);}}if(a>-1){A.push(arguments[a]===7);}if(i>-1){if(b.formatter){A.push(t._execFormatter(b.formatter,arguments,i,o.length));}else{A.push(!!arguments[i]);}}else{A.push(p);}return t._compare(A,true,false);}};};F.prototype._toPath=function(m,p){if(m.property.complex){return m.path.replace(m.property.property.name,p);}if(m.navigationPath){return m.navigationPath+'/'+p;}return p;};F.prototype.getMandatoryCheck=function(p){var r,t=this;if(p){switch(p.property.type){case'Edm.DateTimeOffset':case'Edm.DateTime':case'Edm.Time':case'Edm.String':r=function(v){if(t._oParent&&t._oParent.getMandatory()&&t._oParent.getClientSideMandatoryCheck()&&(!t._oAnnotation||!t._oAnnotation.isStaticMandatory(p.property)||!t._oAnnotation.isNullable(p.property))&&!v){throw new P(sap.ui.getCore().getLibraryResourceBundle('sap.ui.comp').getText('VALUEHELPVALDLG_FIELDMESSAGE'));}};break;case'Edm.Decimal':case'Edm.Double':case'Edm.Float':case'Edm.Single':case'Edm.Int16':case'Edm.Int32':case'Edm.Int64':case'Edm.Byte':case'Edm.SByte':r=function(v){if(t._oParent&&t._oParent.getMandatory()&&t._oParent.getClientSideMandatoryCheck()&&(!t._oAnnotation||!t._oAnnotation.isStaticMandatory(p.property)||!t._oAnnotation.isNullable(p.property))&&(v===null||v===undefined||v==='')){throw new P(sap.ui.getCore().getLibraryResourceBundle('sap.ui.comp').getText('VALUEHELPVALDLG_FIELDMESSAGE'));}};break;default:break;}}return r;};F.prototype.getUOMEditState=function(m){var n,u,U,l=0,b;b=this._oParent.getBindingInfo('editable');n=this._getEditable(m,b);U={model:m.model,path:this._oHelper.getUOMPath(m),entitySet:m.entitySet,entityType:m.entityType,property:{property:m.annotations.uom.property,complex:m.property.complex,typePath:this._oHelper.getUOMTypePath(m)}};u=this._getEditable(U,this._oParent.getBindingInfo('uomEditable'),'uomEditable');return{path:function(){var N=n.path(),a=u.path();if(N[0]===''&&a===''){return[''];}l=N.length;return N.concat(a);},formatter:function(v,p,a,c){var A=[],i,N,d,e=arguments.length;for(i=0;i<l;i++){A.push(arguments[i]);}N=n.formatter.apply(null,A);A=[];for(i=0;i<e;i++){A.push(arguments[i]);}for(i=0;i<l;i++){A.shift();}d=u.formatter.apply(null,A);if(!d&&!N){return 0;}return 1;}};};F.prototype.hasUomEditState=function(m){var p;if(m&&m.annotations&&m.annotations.uom){p=this._oParent.getControlProposal();if(p){if(p.getControlType()==='ObjectNumber'){return true;}if(p.getObjectStatus()){return true;}}return this._oParent.getProposedControl()==='ObjectNumber';}return false;};F.prototype.destroy=function(){if(this._oBinding){this._oBinding.destroy();}this._oAnnotation=null;this._oBinding=null;if(this._oParent&&!this._oParent._bInDestroy){for(var p in this._oStoredProperties){this._oParent.unbindProperty(p,true);if(this._oParent['set'+p.substring(0,1).toUpperCase()+p.substring(1)]){this._oParent['set'+p.substring(0,1).toUpperCase()+p.substring(1)](this._oStoredProperties[p]);}}if(this._oStoredProperties){if(!this._oStoredProperties.editable&&this._bEditableSet){this._oParent.unbindProperty('editable');}if(!this._oStoredProperties.visible&&this._bVisibleSet){this._oParent.unbindProperty('visible');}if(!this._oStoredProperties.mandatory&&this._bMandatorySet){this._oParent.unbindProperty('mandatory');}if(!this._oStoredProperties.uomEditable&&this._bUomEditableSet){this._oParent.unbindProperty('uomEditable');}}if(this._oStoredBindings){if(this._oStoredBindings.editable){if(this._oParent.isBound('editable')){this._oParent.unbindProperty('editable');}this._oParent.bindProperty('editable',this._oStoredBindings.editable);}if(this._oStoredBindings.visible){if(this._oParent.isBound('visible')){this._oParent.unbindProperty('visible');}this._oParent.bindProperty('visible',this._oStoredBindings.visible);}if(this._oStoredBindings.mandatory){if(this._oParent.isBound('mandatory')){this._oParent.unbindProperty('mandatory');}this._oParent.bindProperty('mandatory',this._oStoredBindings.mandatory);}if(this._oStoredBindings.uomEditable){if(this._oParent.isBound('uomEditable')){this._oParent.unbindProperty('uomEditable');}this._oParent.bindProperty('uomEditable',this._oStoredBindings.uomEditable);}}}this._oStoredProperties=null;this._oStoredBindings=null;this._oParent=null;this._oHelper=null;this._bIsDestroyed=true;this._bEditableSet=false;this._bMandatorySet=false;this._bVisibleSet=false;this._bUomEditableSet=false;};return F;},true);\n",
	"sap/ui/comp/smartfield/JSONControlFactory.js":"/*\n * SAP UI development toolkit for HTML5 (SAPUI5)\n\n(c) Copyright 2009-2016 SAP SE. All rights reserved\n */\nsap.ui.define(['jquery.sap.global','sap/m/CheckBox','sap/m/ComboBox','sap/m/DatePicker','sap/m/Input','sap/m/Text','sap/ui/comp/smartfield/ControlFactoryBase','sap/ui/comp/smartfield/JSONTypes'],function(q,C,a,D,I,T,b,J){'use strict';var c=b.extend('sap.ui.comp.smartfield.JSONControlFactory',{constructor:function(m,p,M){b.apply(this,[m,p]);this.sName='JSONControlFactory';this._oMetaData=M;this._oTypes=new J();}});c.prototype._getCreator=function(){var m={'Boolean':'_createBoolean','Date':'_createDate','DateTime':'_createString','Float':'_createString','Integer':'_createString','String':'_createString'};if(!this._oParent.getEditable()||!this._oParent.getEnabled()){if(this._oParent.getJsontype()==='Boolean'){return'_createBoolean';}return'_createDisplay';}return m[this._oParent.getJsontype()]||'_createString';};c.prototype._createString=function(){var n,N,m={width:true,textAlign:true,placeholder:true,name:true,maxLength:true};n=!this._oParent.getShowValueHelp();N=!this._oParent.getShowSuggestion();if(n){if(((this._oParent.data('controlType')==='dropDownList'))){return this._createComboBox({annotation:null,noDialog:n,noTypeAhead:true});}}return{control:new I(this.createAttributes('value',this._oParent.getJsontype(),m,{event:'change',parameter:'value'})),onCreate:'_onCreate',noDialog:n,noTypeAhead:N,params:{getValue:'getValue'}};};c.prototype._createComboBox=function(v){var n={width:true,textAlign:true,placeholder:true,name:true};return{control:new a(this.createAttributes('value',this._oParent.getJsontype(),n,{event:'selectionChange',parameter:'selectedItem'})),onCreate:'_onCreate',params:{valuehelp:v,getValue:'getValue'}};};c.prototype._createBoolean=function(){var A=this.createAttributes('selected',this._oParent.getJsontype(),{},{event:'select',parameter:'selected'});A.enabled=this._oParent.getEditable()&&this._oParent.getEnabled();return{control:new C(A),onCreate:'_onCreate',params:{getValue:'getSelected'}};};c.prototype._createDate=function(){var n={width:true,textAlign:true,placeholder:true,name:true};return{control:new D(this.createAttributes('value',this._oParent.getJsontype(),n,{event:'change',parameter:'value'})),onCreate:'_onCreate',params:{getValue:'getValue'}};};c.prototype._createDisplay=function(){var n={width:true,textAlign:true};return{control:new T(this.createAttributes('text',this._oParent.getJsontype(),n))};};c.prototype._onCreate=function(o,p){var g;this.addValidations(o,'setSimpleClientError');if(p.getValue){g=p.getValue;p.getValue=function(){return o[g]();};}};c.prototype.destroy=function(){this._oTypes.destroy();this._oTypes=null;this._oMetaData=null;b.prototype.destroy.apply(this,[]);};return c;},true);\n",
	"sap/ui/comp/smartfield/JSONTypes.js":"/*\n * SAP UI development toolkit for HTML5 (SAPUI5)\n\n(c) Copyright 2009-2016 SAP SE. All rights reserved\n */\nsap.ui.define(['jquery.sap.global','sap/ui/model/type/Boolean','sap/ui/model/type/Date','sap/ui/model/type/Float','sap/ui/model/type/Integer','sap/ui/model/type/String'],function(q,B,D,F,I,S){'use strict';var J=function(){};J.prototype.getType=function(t){if(t){switch(t){case'Boolean':return new B();case'Date':return new D();case'Float':return new F();case'Integer':return new I();default:return new S();}}return null;};J.prototype.destroy=function(){};return J;},true);\n",
	"sap/ui/comp/smartfield/ODataControlFactory.js":"/*\n * SAP UI development toolkit for HTML5 (SAPUI5)\n\n(c) Copyright 2009-2016 SAP SE. All rights reserved\n */\nsap.ui.define(['jquery.sap.global','sap/m/TextArea','sap/m/Link','sap/m/CheckBox','sap/m/ComboBox','sap/m/DatePicker','sap/m/DateTimePicker','sap/m/FlexItemData','sap/m/FlexJustifyContent','sap/m/HBox','sap/m/Input','sap/m/InputType','sap/m/Select','sap/m/Text','sap/ui/core/Renderer','sap/ui/core/TextAlign','sap/ui/comp/navpopover/SmartLink','./ControlFactoryBase','./FieldControl','./ODataControlSelector','./ODataHelper','./ODataTypes','sap/m/ObjectNumber','sap/m/ObjectIdentifier','sap/m/ObjectStatus','sap/ui/core/ValueState','sap/m/TimePicker','sap/ui/comp/navpopover/SemanticObjectController','sap/ui/comp/util/FormatUtil','sap/ui/comp/odata/MetadataAnalyser'],function(q,T,L,C,a,D,b,F,c,H,I,d,S,e,R,f,g,h,i,O,j,k,l,m,o,V,p,r,s,M){'use strict';var t=h.extend('sap.ui.comp.smartfield.ODataControlFactory',{constructor:function(n,P,u){h.apply(this,[n,P]);this.sName='ODataControlFactory';this._oMetaData={annotations:{}};this._oMeta=u;this._oHelper=new j(n,this._oBinding);this._oFieldControl=new i(P,this._oHelper);this._oTypes=new k(P);this._oSelector=new O(this._oMetaData,P,this._oTypes);this._bInitialized=false;this.bPending=false;}});t.prototype._init=function(n){this._oMetaData.model=n.model;this._oMetaData.path=n.path;this._oMetaData.entitySet=n.entitySetObject||this._oHelper.oMeta.getODataEntitySet(n.entitySet);this._oMetaData.entityType=n.entityType||this._oHelper.oMeta.getODataEntityType(this._oMetaData.entitySet.entityType);this._oMetaData.navigationPath=n.navigationPath||null;if(this._oModel){this._oHelper.checkNavigationProperty(this._oMetaData,this._oParent);this._oHelper.getProperty(this._oMetaData);if(this._oMetaData.property&&this._oMetaData.property.property){this._oMetaData.annotations.text=this._oHelper.getTextProperty2(this._oMetaData);this._oMetaData.annotations.uom=this._oHelper.getUnitOfMeasure2(this._oMetaData);this._oHelper.getValueListData(this._oMetaData);this._oMetaData.annotations.lineitem=this._oHelper.getAnalyzer().getLineItemAnnotation(this._oMetaData.entitySet.entityType);this._oHelper.getUOMValueListAnnotationPath(this._oMetaData);this._oMetaData.annotations.semantic=M.getSemanticObjectsFromProperty(this._oMetaData.property.property);this._oMetaData.annotations.semanticKeys=this._oHelper.getAnalyzer().getSemanticKeyAnnotation(this._oMetaData.entitySet.entityType);if(this._oMetaData.annotations.uom){this._oMetaData.annotations.uom.annotations={};this._oHelper.getValueListData(this._oMetaData.annotations.uom);}this._oHelper.getUOMTextAnnotation(this._oMetaData);}else{q.sap.log.warning('SmartField: Property '+n.path+' does not exist','SmartField: Property '+n.path+' does not exist','sap.ui.comp.smartfield.ODataControlFactory');}}else{this._oMetaData.modelObject=n.modelObject;this._oMetaData.property=n.property;this._oMetaData.annotations.text=n.annotations.text;this._oMetaData.annotations.uom=n.annotations.uom;if(this._oMetaData.annotations.uom&&!this._oMetaData.annotations.uom.annotations){this._oMetaData.annotations.uom.annotations={};}this._oMetaData.annotations.valuelist=n.annotations.valuelist;this._oMetaData.annotations.valuelistType=n.annotations.valuelistType;this._oMetaData.annotations.lineitem=n.annotations.lineitem;this._oMetaData.annotations.semantic=n.annotations.semantic;this._oMetaData.annotations.valuelistuom=n.annotations.valuelistuom;}};t.prototype._createEdmDisplay=function(){var n,u,A,v,w,x,y,z,B=this,N={width:true,textAlign:true};if(this._oMetaData.property&&this._oMetaData.property.property){z=this._oHelper.oAnnotation.getText(this._oMetaData.property.property);}n=this._oParent.data('configdata');var E=((n&&(n.isInnerControl!==true))||(this._oParent.getControlContext()==='table')||(this._oParent.getControlContext()==='responsiveTable'));var G=this._oSelector.checkComboBox(E);if(G&&G.combobox&&(this._oParent.getFetchValueListReadOnly()||!z)){return this._createComboBox({annotation:G.annotation,noDialog:true,noTypeAhead:true},true);}if(this._checkLink()&&!this._oSelector.useObjectIdentifier()){return this._createLink();}A=this.createAttributes(null,this._oMetaData.property,N);x=this._oSelector.checkDatePicker();if(x){v=this.getFormatSettings('dateFormatSettings');A.text={model:this._oMetaData.model,path:this._oMetaData.path,type:this._oTypes.getType(this._oMetaData.property,v,{displayFormat:'Date'})};}else{A.text={model:this._oMetaData.model,path:this._oHelper.getEdmDisplayPath(this._oMetaData),type:this._oTypes.getType(this._oMetaData.property)};}if(this._oMetaData.property&&this._oMetaData.property.property){w=this._oHelper.oAnnotation.isMasked(this._oMetaData.property.property);if(w){A.text.formatter=function(P){if(P){return P.replace(new RegExp('.','igm'),'*');}return P;};}if(z){y=this._oSelector.useObjectIdentifier(x,w);if(y){delete A.width;delete A.textAlign;A.text={path:this._oMetaData.path};A.title={path:this._oHelper.getEdmDisplayPath(this._oMetaData)};if(this._oParent.hasListeners('press')){A.titleActive=true;A.titlePress=function(P){B._oParent.firePress(P);};}else if(this._oMetaData.annotations.semantic&&this._oMetaData.annotations.semantic.defaultSemanticObject){var J;var K;r.getDistinctSemanticObjects().then(function(P){J=r.hasDistinctSemanticObject(B._oMetaData.annotations.semantic.defaultSemanticObject,P);if(J){var Q=B._oParent.getBindingInfo('value');var U=Q.parts[0].path;var W=B._oMetaData.property.property['sap:label'];if(B._oMetaData.annotations.lineitem&&B._oMetaData.annotations.lineitem.labels&&B._oMetaData.annotations.lineitem.labels[U]){W=B._oMetaData.annotations.lineitem.labels[U];}q.sap.require('sap.ui.comp.navpopover.NavigationPopoverHandler');K=new sap.ui.comp.navpopover.NavigationPopoverHandler({semanticObject:B._oMetaData.annotations.semantic.defaultSemanticObject,additionalSemanticObjects:B._oMetaData.annotations.semantic.additionalSemanticObjects,semanticObjectLabel:W,fieldName:U,navigationTargetsObtained:function(X){var Y=sap.ui.getCore().byId(X.getSource().getControl());var Z=X.getParameters().mainNavigation;Z.setDescription(Y.getText());X.getParameters().show(Y.getTitle(),Z,undefined,undefined);}});}});A.titleActive={path:'$sapuicompsmartfield_distinctSO>/distinctSemanticObjects/'+this._oMetaData.annotations.semantic.defaultSemanticObject,formatter:function(P){return!!P;}};A.titlePress=function(P){if(J&&K){K.setControl(P.getSource());K.openPopover();}};}}else{if(!(n&&(n.isInnerControl===true))){A.text={};A.text.parts=[];A.text.parts.push(this._oMetaData.path);A.text.parts.push(this._oHelper.getEdmDisplayPath(this._oMetaData));A.text.formatter=function(P,Q){if(G&&G.combobox){return B._formatDisplayBehaviour('defaultComboBoxReadOnlyDisplayBehaviour',P,Q);}else{return B._formatDisplayBehaviour('defaultInputFieldDisplayBehaviour',P,Q);}};}}}else if(this._oSelector.checkCheckBox()){A.text.formatter=function(P){return B._formatDisplayBehaviour('defaultCheckBoxDisplayBehaviour',P);};}}if(y){u=new m(this._oParent.getId()+'-objIdentifier',A);if(this._oMetaData.annotations.semantic){u.setModel(r.getJSONModel(),'$sapuicompsmartfield_distinctSO');}}else{if(A.text.type&&(A.text.type instanceof sap.ui.comp.smartfield.type.DateTime)&&A.text.type.oConstraints&&A.text.type.oConstraints.isDateOnly){A.wrapping=false;}if(this._oParent.isContextTable()&&sap.ui.getCore().getConfiguration().getRTL()){A.textDirection='LTR';}u=new e(this._oParent.getId()+'-text',A);}if(!y&&n&&n.configdata&&n.configdata.onText){n.configdata.onText(u);}return{control:u,onCreate:'_onCreate',params:{noValidations:true}};};t.prototype._createEdmTime=function(){var A,n,N={placeholder:true,valueState:true,valueStateText:true};A=this.createAttributes('value',this._oMetaData.property,N,{event:'change'});A.valueFormat='HH:mm:ss';n=new p(this._oParent.getId()+'-timePicker',A);return{control:n,onCreate:'_onCreate',params:{getValue:'getValue',type:{type:A.value.type,property:this._oMetaData.property}}};};t.prototype._createObjectStatus=function(){var A,n,u;A=this.createAttributes(null,this._oMetaData.property,null);n=this._oHelper.oAnnotation.getText(this._oMetaData.property.property);if(n){A.text={parts:[]};A.text.parts.push(this._oHelper.getEdmDisplayPath(this._oMetaData));}else{A.text={model:this._oMetaData.model,path:this._oMetaData.path,type:this._oTypes.getType(this._oMetaData.property)};}this._addObjectStatusAttributes(A);u=new o(this._oParent.getId()+'-objStatus',A);return{control:u,onCreate:'_onCreate',params:{getValue:'getText',noValidation:true}};};t.prototype._addObjectStatusAttributes=function(A){var n,P,u,v,w;P=this._oParent.getControlProposal();w=P.getObjectStatus();if(w){n=w.getBindingInfo('criticality');}u=function(x){var y,z;z={0:V.None,1:V.Error,2:V.Warning,3:V.Success};y={'com.sap.vocabularies.UI.v1.CriticalityType/Neutral':V.Neutral,'com.sap.vocabularies.UI.v1.CriticalityType/Negative':V.Warning,'com.sap.vocabularies.UI.v1.CriticalityType/Critical':V.Error,'com.sap.vocabularies.UI.v1.CriticalityType/Positive':V.Success};if(x){return y[x]||z[x]||V.None;}return V.None;};v=function(){var x,y={'Error':'sap-icon://status-negative','Warning':'sap-icon://status-critical','Success':'sap-icon://status-positive','None':'sap-icon://status-inactive'};if(n){if(n.formatter){x=n.formatter.apply(null,arguments);}else{x=arguments[0];}}else{x=w.getCriticality();}if(x){return y[u(x)];}return null;};if(n){A.state={formatter:function(){var x;if(n.formatter){x=n.formatter.apply(null,arguments);}else{x=arguments[0];}return u(x);},parts:n.parts};if(w.getCriticalityRepresentationType()!=sap.ui.comp.smartfield.CriticalityRepresentationType.WithoutIcon){A.icon={formatter:v,parts:n.parts};}}else{if(w){A.state=u(w.getCriticality());if(w.getCriticalityRepresentationType()!=sap.ui.comp.smartfield.CriticalityRepresentationType.WithoutIcon){A.icon=v();}}else{A.icon=v();}}};t.prototype._createEdmString=function(){var n,u,v,A,w,x,N={width:true,textAlign:true,placeholder:true,tooltip:true,name:true,valueState:true,valueStateText:true};if(this._oSelector.checkCheckBox()){return this._createCheckBox();}w=this._oSelector.checkSelection();if(w.selection){return this._createSelect({annotation:w.annotation,noDialog:true,noTypeAhead:true});}w=this._oSelector.checkComboBox();if(w.combobox){return this._createComboBox({annotation:w.annotation,noDialog:true,noTypeAhead:true});}if(this._oMetaData.property&&this._oMetaData.property.property){u=this._oHelper.oAnnotation.isMultiLineText(this._oMetaData.property.property);if(u){delete N['width'];return this._createMultiLineText(N);}}A=this.createAttributes('value',this._oMetaData.property,N);this._addMaxLength(A,w.annotation);x=new I(this._oParent.getId()+'-input',A);if(this._oMetaData.property&&this._oMetaData.property.property){n=this._oHelper.oAnnotation.isMasked(this._oMetaData.property.property);if(n){x.setType(d.Password);}this._handleEventingForEdmString(x,this._oMetaData.property);}v=this._oParent.data('configdata');if(v&&v.configdata){if(v.configdata.onInput){v.configdata.onInput(x);}}return{control:x,onCreate:'_onCreate',params:{valuehelp:{annotation:w.annotation,noDialog:!this._oParent.getShowValueHelp(),noTypeAhead:!this._oParent.getShowSuggestion(),aggregation:'suggestionRows'},getValue:'getValue',type:{type:A.value.type,property:this._oMetaData.property}}};};t.prototype._addMaxLength=function(A,n){var u;u=this._getMaxLength();if(u>0){if(!n||!this._oParent.getShowSuggestion()){A.maxLength=u;}}};t.prototype._getMaxLength=function(){var B;B=this._oParent.getBindingInfo('value');return this._oTypes.getMaxLength(this._oMetaData.property,B);};t.prototype._addAriaLabelledBy=function(n){var u,v,w;if((this._oParent.getControlContext()===sap.ui.comp.smartfield.ControlContextType.None)||(this._oParent.getControlContext()===sap.ui.comp.smartfield.ControlContextType.Form)||(this._oParent.getControlContext()===sap.ui.comp.smartfield.ControlContextType.SmartFormGrid)){h.prototype._addAriaLabelledBy.apply(this,arguments);w=this._oParent.data('configdata');if(w&&w.configdata.isInnerControl&&w.configdata.isUOM){if(n){v=n.control;if(v instanceof H){if(v.getItems().length>0){v=v.getItems()[0];}}}if(v&&v.getAriaLabelledBy&&v.getAriaLabelledBy().length===0){if(this._oHelper.oAnnotation.getLabel(this._oMetaData.property.property)){q.sap.require('sap.ui.core.InvisibleText');u=new sap.ui.core.InvisibleText({text:this._oHelper.oAnnotation.getLabel(this._oMetaData.property.property)});v.addAriaLabelledBy(u);this._oParent.addAggregation('_ariaLabelInvisibleText',u);}}}}};t.prototype._handleEventingForEdmString=function(n,P){var u,v=this;if(n){u=this._oHelper.oAnnotation.isUpperCase(P.property);n.attachChange(function(E){var N={};if(E&&E.mParameters){var w=E.mParameters.value;if(u&&w){w=w.toUpperCase();n.setValue(w);}N.value=w;N.newValue=w;if(E.mParameters.validated){N.validated=E.mParameters.validated;}if(n._oSuggestionPopup&&n._oSuggestionPopup.isOpen()){if(!E.mParameters.validated){if(n._iPopupListSelectedIndex>=0){return;}}}try{v._oParent.fireChange(N);}catch(x){q.sap.log.warning(x);}}});}};t.prototype._createComboBox=function(v,n){var u=null,w;var A,N={width:true,textAlign:true,placeholder:true,tooltip:true,name:true};w=this._oParent.data('configdata');A=this.createAttributes('selectedKey',this._oMetaData.property,N);A.selectionChange=this._oHelper.getSelectionChangeHandler(this._oParent);A.change=function(E){this._oParent.fireChange({value:E.getSource().getSelectedKey(),newValue:E.getSource().getSelectedKey()});}.bind(this);if(A.width===''){A.width='100%';}if(n){u=this._createDisplayedComboBox(A);}else{u=new a(this._oParent.getId()+'-comboBoxEdit',A);}if(w&&w.configdata&&w.configdata.onText){w.configdata.onText(u);}return{control:u,onCreate:'_onCreate',params:{valuehelp:{annotation:v.annotation,aggregation:'items',noDialog:v.noDialog,noTypeAhead:v.noTypeAhead},getValue:'getSelectedKey',type:{type:A.selectedKey.type,property:this._oMetaData.property}}};};t.prototype._createDisplayedComboBox=function(A){var n=a.extend('sap.ui.comp.smartfield.DisplayComboBox',{metadata:{library:'sap.ui.comp'},renderer:function(u,v){var w=v.getWidth(),x=v.getValue(),y=v.getTextDirection(),z=v.getTextAlign();x.replace(/\\r\\n/g,'\\n');u.write('<span');u.writeControlData(v);u.addClass('sapMText');u.addClass('sapUiSelectable');if(w){u.addStyle('width',w);}else{u.addClass('sapMTextMaxWidth');}if(y!==sap.ui.core.TextDirection.Inherit){u.writeAttribute('dir',y.toLowerCase());}if(z){z=R.getTextAlign(z,y);if(z){u.addStyle('text-align',z);}}u.writeClasses();u.writeStyles();u.write('>');u.writeEscaped(x);u.write('</span>');},updateDomValue:function(v){if(!this.isActive()){return this;}v=this._getInputValue(v);if(this.$().text()!==v){this.$().text(v);this._bCheckDomValue=true;}return this;},getValue:function(){return this.getProperty('value');},getFocusDomRef:function(){return this.getDomRef();}});return new n(this._oParent.getId()+'-comboBoxDisp',A);};t.prototype._createSelect=function(v){var A,n={width:true,name:true};A=this.createAttributes('selectedKey',this._oMetaData.property,n);A.change=this._oHelper.getSelectionChangeHandler(this._oParent);A.forceSelection=false;if(A.width===''){A.width='100%';}return{control:new S(this._oParent.getId()+'-select',A),onCreate:'_onCreate',params:{valuehelp:{annotation:v.annotation,aggregation:'items',noDialog:v.noDialog,noTypeAhead:v.noTypeAhead},getValue:'getSelectedKey',type:{type:A.selectedKey.type,property:this._oMetaData.property}}};};t.prototype._createCheckBox=function(){var A=this.createAttributes('selected',null,{},{event:'select',parameter:'selected'});A.editable=(this._oParent.getEditable()&&this._oParent.getEnabled()&&this._oParent.getContextEditable());A.selected.type=this._oTypes.getAbapBoolean();return{control:new C(this._oParent.getId()+'-cBox',A),onCreate:'_onCreate',params:{getValue:'getSelected'}};};t.prototype._createEdmDateTime=function(){var A,n,N={width:true,textAlign:true,placeholder:true,name:true};A=this.createAttributes(null,this._oMetaData.property,N,{event:'change',parameter:'value'});n=this.getFormatSettings('dateFormatSettings');if(this._oSelector.checkDatePicker()){A.value={path:this._oMetaData.path,type:this._oTypes.getType(this._oMetaData.property,n,{displayFormat:'Date'}),model:this._oMetaData.model};if(n&&n.style){A.displayFormat=n.style;}return{control:new D(this._oParent.getId()+'-datePicker',A),onCreate:'_onCreate',params:{getValue:'getValue',type:{type:A.value.type,property:this._oMetaData.property}}};}A.value={path:this._oMetaData.path,model:this._oMetaData.model,type:this._oTypes.getType(this._oMetaData.property,n)};return{control:new b(this._oParent.getId()+'-input',A),onCreate:'_onCreate',params:{getValue:'getValue',type:{type:A.value.type,property:this._oMetaData.property}}};};t.prototype._createEdmDateTimeOffset=function(){var n,A,N={width:true,textAlign:true,placeholder:true,name:true};n=this.getFormatSettings('dateFormatSettings');A=this.createAttributes(null,this._oMetaData.property,N,{event:'change',parameter:'value'});A.value={model:this._oMetaData.model,path:this._oMetaData.path,type:this._oTypes.getType(this._oMetaData.property,n)};return{control:new b(this._oParent.getId()+'-input',A),onCreate:'_onCreate',params:{getValue:'getValue',type:{type:A.value.type,property:this._oMetaData.property}}};};t.prototype._createEdmNumeric=function(){var A,n={width:true,textAlign:true,placeholder:true,name:true};A=this.createAttributes('value',this._oMetaData.property,n,{event:'change',parameter:'value'});if(this._oParent.isContextTable()&&sap.ui.getCore().getConfiguration().getRTL()){A.textDirection='LTR';}return{control:new I(this._oParent.getId()+'-input',A),onCreate:'_onCreate',params:{getValue:'getValue',type:{type:A.value.type,property:this._oMetaData.property}}};};t.prototype._createEdmUOM=function(){var P,n,u,A,v,w,B,x,y=this;A=this._createEdmUOMAttributes();v=this._oParent.getObjectBinding(this._oMetaData.model);this.addObjectBinding(A,v);var z=false;if(this._oParent.isContextTable()&&sap.ui.getCore().getConfiguration().getRTL()){z=true;}if(z){A.textDirection='LTR';}n=new I(this._oParent.getId()+'-input',A);if(this._oParent.data('suppressUnit')==='true'){w={getValue:'getValue'};if(!this._oHelper.oAnnotation.isCurrency(this._oMetaData.annotations.uom.property.property)){w.type={type:A.value.type,property:this._oMetaData.property};}return{control:n,onCreate:'_onCreate',params:w};}if(!this._oHelper.oAnnotation.isCurrency(this._oMetaData.annotations.uom.property.property)){x={type:A.value.type,property:this._oMetaData.property};}P=this._oHelper.getUOMPath(this._oMetaData);A={value:{model:this._oMetaData.model,path:P},change:this._oHelper.getUOMChangeHandler(this._oParent,true),textAlign:this._getEdmUOMTextAlignment()};this.addObjectBinding(A,v);this.mapBindings(A,{'uomEditable':'editable','uomEnabled':'enabled','uomVisible':'visible','mandatory':'mandatory','contextEditable':'contextEditable'});if(this._oParent.getConfiguration()){A.configuration=new sap.ui.comp.smartfield.Configuration({preventInitialDataFetchInValueHelpDialog:this._getPreventInitialDataFetchInVHDialog()});}u=new sap.ui.comp.smartfield.SmartField(this._oParent.getId()+'-sfEdit',A);u.data('configdata',{'configdata':{isInnerControl:true,isUOM:!this._oParent.data('configdata'),model:this._oMetaData.model,navigationPath:this._oMetaData.annotations.uom.navigationPath||null,path:P,entitySetObject:this._oMetaData.annotations.uom.entitySet,entityType:this._oMetaData.annotations.uom.entityType,property:this._oMetaData.annotations.uom.property,annotations:{valuelist:this._oMetaData.annotations.valuelistuom,valuelistType:this._oMetaData.annotations.uom.annotations.valuelistType,text:this._oMetaData.annotations.textuom},modelObject:this._oMetaData.modelObject||this._oModel,onText:function(E){n.setLayoutData(new F({growFactor:1}));u.setLayoutData(new F({shrinkFactor:0}));if(E){if(z&&E.setTextDirection){E.setTextDirection('LTR');}if((y._oParent.getControlContext()!=='table')&&(y._oParent.getControlContext()!=='responsiveTable')){E.addStyleClass('sapUiCompSmartFieldUnit');}}},onInput:function(E){n.setLayoutData(new F({growFactor:1}));u.setLayoutData(new F({growFactor:0}));if(E){if(z&&E.setTextDirection){E.setTextDirection('LTR');}if(y._oParent&&(y._oParent.getControlContext()!=='table')&&(y._oParent.getControlContext()!=='responsiveTable')){E.addStyleClass('sapUiCompSmartFieldUnit');}}}}});u.data('errorCheck','setComplexClientErrorSecondOperandNested');n.addAriaLabelledBy(u);n.addStyleClass('smartFieldPaddingRight');n.addStyleClass('sapUiCompSmartFieldValue');B=new H({justifyContent:c.End,items:[n,u],fitContainer:true,width:this._oParent.getWidth()});B.addStyleClass('sapUiCompUOM');if(this._oParent.isContextTable()){if(z){B.addStyleClass('sapUiCompDirectionLTR');}B.addStyleClass('sapUiCompUOMInTable');}return{control:B,onCreate:'_onCreateUOM',params:{getValue:true,valuehelp:true,type:x}};};t.prototype._createEdmUOMAttributes=function(){var A={textAlign:this._getEdmUOMTextAlignment(),placeholder:this.getAttribute('placeholder'),name:this.getAttribute('name'),change:this._oHelper.getUOMChangeHandler(this._oParent)};if(this._oMetaData.annotations.uom&&this._oHelper.oAnnotation.isCurrency(this._oMetaData.annotations.uom.property.property)){A.value={parts:[{path:this._oMetaData.path},{path:this._oHelper.getUOMPath(this._oMetaData)}],model:this._oMetaData.model,type:this._oTypes.getCurrencyType(this._oMetaData.property)};}else{A.value={model:this._oMetaData.model,path:this._oMetaData.path,type:this._oTypes.getType(this._oMetaData.property)};}return A;};t.prototype._getEdmUOMTextAlignment=function(){var A=this.getAttribute('textAlign');if(!A){A=f.Initial;}if(A===f.Initial){if(this._oParent.isContextTable()){return f.End;}else{return f.Begin;}}return A;};t.prototype._createEdmUOMDisplay=function(){var v,P,n,A,u,B,w=null,x=this;u=this._getEdmUOMTextAlignment();var y=false;if(this._oParent.isContextTable()&&sap.ui.getCore().getConfiguration().getRTL()){y=true;}P=this._oHelper.getUOMPath(this._oMetaData);A={text:{parts:[{path:this._oMetaData.path,type:this._oTypes.getType(this._oMetaData.property)},{path:P}],model:this._oMetaData.model,formatter:this._oTypes.getDisplayFormatter(this._oMetaData.property.property,this._oHelper.oAnnotation.isCurrency(this._oMetaData.property.property)),useRawValues:true},textAlign:u};if(y){A.textDirection='LTR';}n=this._oParent.getObjectBinding(this._oMetaData.model);this.addObjectBinding(A,n);v=new e(this._oParent.getId()+'-text',A);P=this._oHelper.getUOMPath(this._oMetaData);A={value:{model:this._oMetaData.model,path:P},change:this._oHelper.getUOMChangeHandler(this._oParent,true),textAlign:this._getEdmUOMTextAlignment()};this.addObjectBinding(A,n);this.mapBindings(A,{'uomEditable':'editable','uomEnabled':'enabled','uomVisible':'visible','mandatory':'mandatory','contextEditable':'contextEditable'});v.addStyleClass('smartFieldPaddingRight');v.addStyleClass('sapUiCompSmartFieldValue');if(!this._checkSuppressUnit()){w=new sap.ui.comp.smartfield.SmartField(this._oParent.getId()+'-sfDisp',A);w.data('configdata',{'configdata':{isInnerControl:true,isUOM:!this._oParent.data('configdata'),model:this._oMetaData.model,navigationPath:this._oMetaData.annotations.uom.navigationPath||null,path:P,entitySetObject:this._oMetaData.annotations.uom.entitySet,entityType:this._oMetaData.annotations.uom.entityType,property:this._oMetaData.annotations.uom.property,annotations:{valuelist:this._oMetaData.annotations.valuelistuom,text:this._oMetaData.annotations.textuom},modelObject:this._oMetaData.modelObject||this._oModel,onText:function(z){if(z){if(z.setWrapping){z.setWrapping(false);}if(y&&z.setTextDirection){z.setTextDirection('LTR');}if(x._oParent&&(x._oParent.getControlContext()!=='table')&&(x._oParent.getControlContext()!=='responsiveTable')){z.addStyleClass('sapUiCompSmartFieldUnit');}}},onInput:function(z){v.setLayoutData(new F({growFactor:0}));w.setLayoutData(new F({growFactor:0}));if(z){if(y&&z.setTextDirection){z.setTextDirection('LTR');}if((x._oParent.getControlContext()!=='table')&&(x._oParent.getControlContext()!=='responsiveTable')){z.addStyleClass('sapUiCompSmartFieldUnit');}}},getContextEditable:function(){return x._oParent.getContextEditable();}}});w.data('errorCheck','setComplexClientErrorSecondOperandNested');B=new H({items:[v,w],fitContainer:true,width:this._oParent.getWidth()});if(this._oParent.isContextTable()){B.setJustifyContent('End');this._oParent.addStyleClass('sapUiCompUOMInTable');if(y){B.addStyleClass('sapUiCompDirectionLTR');}B.addStyleClass('sapUiCompUOMInTable');}return{control:B};}return{control:v};};t.prototype._checkSuppressUnit=function(){var n;if(this._oParent.data('suppressUnit')==='true'){return true;}n=this._oParent.getBindingInfo('uomVisible');if(!n&&!this._oParent.getUomVisible()){return true;}return false;};t.prototype._createEdmUOMObjectStatus=function(){var A,n,u,P,v;v=this._oTypes.getDisplayFormatter(this._oMetaData.property.property,this._oHelper.oAnnotation.isCurrency(this._oMetaData.property.property));P=this._oHelper.getUOMPath(this._oMetaData);A={text:{parts:[{path:this._oMetaData.path,type:this._oTypes.getType(this._oMetaData.property)},{path:P}],formatter:function(){var w=v.apply(this,arguments);return w+arguments[1];},useRawValues:true}};this._addObjectStatusAttributes(A);n=this._oParent.getObjectBinding(this._oMetaData.model);this.addObjectBinding(A,n);u=new o(this._oParent.getId()+'-objStatus',A);u.addStyleClass('sapUiCompUOM');return{control:u};};t.prototype._createEdmUOMObjectNumber=function(){var A,n,u,v;v=this._getEdmUOMTextAlignment();if(this._oMetaData.annotations.uom&&this._oHelper.oAnnotation.isCurrency(this._oMetaData.annotations.uom.property.property)){A={number:{parts:[{path:this._oMetaData.path},{path:this._oHelper.getUOMPath(this._oMetaData)}],type:this._oTypes.getCurrencyType(this._oMetaData.property)},unit:{path:this._oHelper.getUOMPath(this._oMetaData)},model:this._oMetaData.model,textAlign:v};}else{A={model:this._oMetaData.model,number:{path:this._oMetaData.path,type:this._oTypes.getType(this._oMetaData.property)},unit:{path:this._oHelper.getUOMPath(this._oMetaData)},textAlign:v};}n=this._oParent.getObjectBinding(this._oMetaData.model);this.addObjectBinding(A,n);u=new l(this._oParent.getId()+'-objNumber',A);u.addStyleClass('sapUiCompUOM');return{control:u};};t.prototype._createEdmSemantic=function(){var P,A,n,u=this,v=this._oParent.getBindingInfo('value');P=v.parts[0].path;var w=this._oMetaData.property.property['sap:label'];if(this._oMetaData.annotations.lineitem&&this._oMetaData.annotations.lineitem.labels&&this._oMetaData.annotations.lineitem.labels[P]){w=this._oMetaData.annotations.lineitem.labels[P];}A={semanticObject:this._oMetaData.annotations.semantic.defaultSemanticObject,additionalSemanticObjects:this._oMetaData.annotations.semantic.additionalSemanticObjects,semanticObjectLabel:w,fieldName:P,width:this.getAttribute('width'),createControlCallback:q.proxy(function(){var x=this.createControl(true);if(x){return x.control;}return null;},this)};n=this._oHelper.oAnnotation.getText(this._oMetaData.property.property);if(n){A.text={parts:[this._oMetaData.path,this._oHelper.getEdmDisplayPath(this._oMetaData)],model:this._oMetaData.model,formatter:function(x,y){if(x&&y){return u._formatDisplayBehaviour('defaultInputFieldDisplayBehaviour',x,y);}return x?x:'';}};A.navigationTargetsObtained=function(E){var B=this.getBinding('text');if(!q.isArray(B.getValue())){E.getParameters().show();return;}var x=B.getValue();var y=u._getDisplayBehaviourConfiguration('defaultInputFieldDisplayBehaviour')||'idOnly';var z=s.getTextsFromDisplayBehaviour(y,x[0],x[1]);var G=E.getParameters().mainNavigation;G.setDescription(z.secondText);E.getParameters().show(z.firstText,G,undefined,undefined);};}else{A.text={path:P,model:this._oMetaData.model};}return{control:new g(this._oParent.getId()+'-sl',A),onCreate:'_onCreate',params:{getValue:'getInnerControlValue'}};};t.prototype._createMultiLineText=function(n){var A=this.createAttributes('value',this._oMetaData.property,n);var u=this.getFormatSettings('multiLineSettings');A=q.extend(true,A,u);var v=new T(this._oParent.getId()+'-textArea',A);this._handleEventingForEdmString(v,this._oMetaData.property);return{control:v,onCreate:'_onCreate',params:{type:{type:A.value.type,property:this._oMetaData.property},getValue:'getValue'}};};t.prototype._checkLink=function(){var n=this._oParent.getBindingInfo('url');if(n){return true;}if(this._oParent.getUrl()){return true;}if(this._oParent.hasListeners('press')){return true;}return false;};t.prototype._createLink=function(){var n=this;var A={text:'',href:''};var u=this._oParent.getBindingInfo('url');if(u){A['href']=this._oBinding.toBinding(u);}else{A['href']=this._oParent.getUrl();}if(this._oParent.hasListeners('press')){A['press']=function(E){E.preventDefault();n._oParent.firePress(E);};}u=this._oParent.getBindingInfo('value');if(u){if(this._oMetaData.annotations.text&&this._oMetaData.property.property.type==='Edm.String'){A.text={parts:[this._oMetaData.path,this._oHelper.getEdmDisplayPath(this._oMetaData)],formatter:function(v,w){if(v&&w){return n._formatDisplayBehaviour('defaultInputFieldDisplayBehaviour',v,w);}return v?v:'';}};}else{A['text']=this._oBinding.toBinding(u);}}else{A['text']=this._oParent.getValue();}return{control:new L(this._oParent.getId()+'-link',A),onCreate:'_onCreate',params:{noValidation:true}};};t.prototype._createEdmBoolean=function(){var A,n,u,v=this,w=null,E=false;E=this._oParent.getEditable()&&this._oParent.getEnabled()&&this._oParent.getContextEditable();n=this._oSelector.checkComboBox();if(n.combobox){return this._createComboBox({annotation:n.annotation,noDialog:true,noTypeAhead:true},!E);}if(E){A=this.createAttributes('selected',this._oMetaData.property,{},{event:'select',parameter:'selected'});u=new C(this._oParent.getId()+'-cBoxBool',A);w={getValue:'getSelected'};}else{A=this.createAttributes('text',this._oMetaData.property,{width:true,textAlign:true});A.text={model:this._oMetaData.model,path:this._oMetaData.path};A.text.formatter=function(x){return v._formatDisplayBehaviour('defaultCheckBoxDisplayBehaviour',x);};u=new e(this._oParent.getId()+'-text',A);}return{control:u,onCreate:'_onCreate',params:w};};t.prototype._getCreator=function(B){return this._oSelector.getCreator(B);};t.prototype._onCreate=function(n,P){var G,u,v=true,w=this;if(P){if(P.noValidation){v=false;}if(P.valuehelp){this._getValueHelpDialogTitle(P.valuehelp);P.valuehelp['analyser']=this._oHelper.getAnalyzer(this._oModel||this._oMetaData.modelObject);this.addValueHelp(n,this._oMetaData.property.property,P.valuehelp,this._oModel||this._oMetaData.modelObject,function(E){w._oParent.fireValueListChanged({'changes':E.mParameters.changes});});}if(P.getValue){G=P.getValue;P.getValue=function(){return n[G]();};}if(P.type){u=this._oFieldControl.getMandatoryCheck(P.type.property);if(u){P.type.type.oFieldControl=u;}}}if(v){this.addValidations(n,this._oParent.data('errorCheck')||'setSimpleClientError');if(this._oParent._getMode()!='display'){n.attachValidationSuccess(function(E){if(!w._oParent.getValue()){if(w._oMetaData.property&&w._oMetaData.property.property&&w._oHelper.oAnnotation.isStaticMandatory(w._oMetaData.property.property)){if(n.setValueStateText){n.setValueStateText(w._oRb.getText('VALUEHELPVALDLG_FIELDMESSAGE'));n.setValueState(sap.ui.core.ValueState.Error);w._oParent.setSimpleClientError(true);}}}});}}if(!this._checkUOM()){n.addStyleClass('sapUiCompSmartFieldValue');}};t.prototype._addValueHelp=function(){var n=this._oParent.getAggregation('_content');if(!n){return;}var v={annotation:this._oMetaData.annotations.valuelist,noDialog:!this._oParent.getShowValueHelp(),noTypeAhead:!this._oParent.getShowSuggestion(),aggregation:'suggestionRows'};v['analyser']=this._oHelper.getAnalyzer(this._oModel||this._oMetaData.modelObject);this.addValueHelp(n,this._oMetaData.property.property,v,this._oModel||this._oMetaData.modelObject,function(E){this._oParent.fireValueListChanged({'changes':E.mParameters.changes});}.bind(this));};t.prototype._checkUOM=function(){var n=this._oParent.data('configdata');if(n&&n.configdata){if(n.configdata.onInput){return true;}if(n.configdata.onText){return true;}}return false;};t.prototype._getValueHelpDialogTitle=function(v){v.dialogtitle=this._oParent.getTextLabel();if(!v.dialogtitle){v.dialogtitle=this._oHelper.oAnnotation.getLabel(this._oMetaData.property.property)||this._oMetaData.property.property.name;}};t.prototype._onCreateUOM=function(n,P){var u,v,w=this;u=n.getItems();this.addValidations(u[0],'setComplexClientErrorFirstOperand');if(this._oParent._getMode()!='display'){u[0].attachValidationSuccess(function(E){if(!w._oParent.getValue()){if(w._oMetaData.property&&w._oMetaData.property.property&&w._oHelper.oAnnotation.isStaticMandatory(w._oMetaData.property.property)){if(u[0].setValueStateText){u[0].setValueStateText(w._oRb.getText('VALUEHELPVALDLG_FIELDMESSAGE'));u[0].setValueState(sap.ui.core.ValueState.Error);w._oParent.setComplexClientErrorFirstOperand(true);}}}});}if(P&&P.getValue){P.getValue=function(){return u[0].getValue();};}P.uom=function(){return u[1].getValue();};P.uomset=function(x){u[1].setValue(x);};if(P.type){v=this._oFieldControl.getMandatoryCheck(P.type.property);if(v){P.type.type.oFieldControl=v;}}};t.prototype.bind=function(){var n=this,N,u,v=function(w,P){try{n._init(w);n._setUOMEditState();n._bind(P);}catch(x){q.sap.log.warning(x,null,'sap.ui.comp.smartfield.ODataControlFactory.bind.fInit');}};if(!this._bInitialized&&!this.bPending){this._bInitialized=true;N=this._oFieldControl.getBindableAttributes();u=this._oParent.data('configdata');if(u&&u.configdata){v(this._oMeta,N);}else if(this._oModel){this.bPending=true;this._oModel.getMetaModel().loaded().then(function(){n.bPending=false;v(n._oMeta,N);});}}};t.prototype._bind=function(B){var n,u,v;v=this._oFieldControl.getControlProperties(this._oMetaData,B);for(n in v){u=this._oBinding.fromFormatter(this._oMetaData.model,v[n]);this._oParent.bindProperty(n,u);}this._oParent.fireInitialise();};t.prototype.rebindOnCreated=function(){var n,B,u;u=this._oFieldControl.getControlProperties(this._oMetaData,['editable']);for(n in u){B=this._oBinding.fromFormatter(this._oMetaData.model,u[n]);this._oParent.bindProperty(n,B);}};t.prototype._setUOMEditState=function(){var n,B;if(this._oFieldControl.hasUomEditState(this._oMetaData)){n=this._oFieldControl.getUOMEditState(this._oMetaData);if(n){B=this._oBinding.fromFormatter(this._oMetaData.model,n);this._oParent.bindProperty('uomEditState',B);}}};t.prototype.getDataProperty=function(){return this._oMetaData.property;};t.prototype.getMetaData=function(){return this._oMetaData;};t.prototype.destroy=function(){this._oFieldControl.destroy();this._oSelector.destroy();this._oTypes.destroy();this._oHelper.destroy();this._oHelper=null;this._oFieldControl=null;this._oTypes=null;this._oSelector=null;this._oMetaData=null;h.prototype.destroy.apply(this,[]);};return t;},true);\n",
	"sap/ui/comp/smartfield/ODataControlSelector.js":"/*\n * SAP UI development toolkit for HTML5 (SAPUI5)\n\n(c) Copyright 2009-2016 SAP SE. All rights reserved\n */\nsap.ui.define(['jquery.sap.global'],function(q){'use strict';var O=function(m,p,t){this._oMetaData=m;this._oParent=p;this._oTypes=t;};O.prototype.checkComboBox=function(c){var r={};if(this._oMetaData.annotations.valuelist){r.valuelistType=this._oMetaData.annotations.valuelistType;r.annotation=this._oMetaData.annotations.valuelist;}if(!r.annotation){return r;}if(r.valuelistType==='fixed-values'&&!c){r.combobox=true;}if(!r.combobox){r.annotation=this._oMetaData.annotations.valuelist;r.combobox=this._checkConfig('dropDownList');}return r;};O.prototype.checkSelection=function(){var r={};if(this._oMetaData.annotations.valuelist){r.annotation=this._oMetaData.annotations.valuelist;r.selection=this._checkConfig('selection');}return r;};O.prototype.checkCheckBox=function(){var b,m;if(this._oMetaData.property&&this._oMetaData.property.property&&this._oMetaData.property.property.type==='Edm.String'){b=this._oParent.getBindingInfo('value');m=this._oTypes.getMaxLength(this._oMetaData.property,b);if(m===1){if(this._checkConfig('checkBox')){return true;}}}return false;};O.prototype.checkDatePicker=function(){if(this._oMetaData.property&&this._oMetaData.property.property&&this._oMetaData.property.property['sap:display-format']==='Date'){return true;}return this._checkConfig('datePicker');};O.prototype._checkConfig=function(t){var c=this._oParent.getConfiguration();if(c){return c.getControlType()===t;}return false;};O.prototype.getCreator=function(b){var c=true,C,m={'Edm.Decimal':'_createEdmNumeric','Edm.Double':'_createEdmNumeric','Edm.Float':'_createEdmNumeric','Edm.Single':'_createEdmNumeric','Edm.Int16':'_createEdmNumeric','Edm.Int32':'_createEdmNumeric','Edm.Int64':'_createEdmNumeric','Edm.Byte':'_createEdmNumeric','Edm.DateTimeOffset':'_createEdmDateTimeOffset','Edm.DateTime':'_createEdmDateTime','Edm.Boolean':'_createEdmBoolean','Edm.String':'_createEdmString','Edm.Time':'_createEdmTime'};if(this._isUOMDisplayObjectStatus()){return'_createEdmUOMObjectStatus';}if(this._isUOMDisplay()){return'_createEdmUOMObjectNumber';}C=this._oParent.data('configdata');if(C&&C.configdata&&C.configdata.isUOM){if(C.configdata.getContextEditable){c=C.configdata.getContextEditable();}}if(!this._oParent.getEditable()||!this._oParent.getEnabled()||!this._oParent.getContextEditable()||!c){if(this._oMetaData.annotations){if(this.useObjectIdentifier(this.checkDatePicker())&&this._oMetaData.annotations.text&&this._oMetaData.annotations.semanticKeys&&this._oMetaData.annotations.semanticKeys.semanticKeyFields&&this._oMetaData.annotations.semanticKeys.semanticKeyFields.indexOf(this._oMetaData.path)>-1){return'_createEdmDisplay';}if(this._oMetaData.annotations.semantic&&!b){return'_createEdmSemantic';}if(this._oMetaData.annotations.uom){return'_createEdmUOMDisplay';}if(this._isObjectStatusProposed()){return'_createObjectStatus';}return(this._oMetaData.property&&this._oMetaData.property.property&&this._oMetaData.property.property.type==='Edm.Boolean')?'_createEdmBoolean':'_createEdmDisplay';}}if(this._oMetaData.annotations&&this._oMetaData.annotations.uom){return'_createEdmUOM';}if(this._oMetaData.property&&this._oMetaData.property.property){return m[this._oMetaData.property.property.type]||'_createEdmString';}return null;};O.prototype._isUOMDisplay=function(){if(this._oMetaData.annotations.uom){if(this._isObjectNumberProposed()){if(!this._oParent.getContextEditable()||(!this._oParent.getEditable()&&!this._oParent.getUomEditable())||(!this._oParent.getEnabled()&&!this._oParent.getUomEnabled())){return true;}if(this._oParent.getUomEditState()===0){return true;}}}return false;};O.prototype._isUOMDisplayObjectStatus=function(){if(this._oMetaData.annotations.uom){if(this._isObjectStatusProposed()){if(!this._oParent.getContextEditable()||(!this._oParent.getEditable()&&!this._oParent.getUomEditable())||(!this._oParent.getEnabled()&&!this._oParent.getUomEnabled())){return true;}if(this._oParent.getUomEditState()===0){return true;}}}return false;};O.prototype._isObjectStatusProposed=function(){var p=this._oParent.getControlProposal(),s;if(p){s=p.getObjectStatus();if(s){return true;}}return false;};O.prototype._isObjectNumberProposed=function(){var p;if(this._oParent.data('suppressUnit')!=='true'){p=this._oParent.getControlProposal();if(p&&p.getControlType()==='ObjectNumber'){return true;}if(this._oParent.getProposedControl()==='ObjectNumber'){return true;}}return false;};O.prototype.useObjectIdentifier=function(d,m){var p;if(this._oMetaData&&this._oMetaData.property&&this._oMetaData.property.property&&this._oMetaData.property.property.type==='Edm.String'){if(!d&&!m){p=this._oParent.getControlProposal();if(p&&p.getControlType()==='ObjectIdentifier'){return true;}if(this._oParent.getProposedControl()==='ObjectIdentifier'){return true;}}}return false;};O.prototype.destroy=function(){this._oParent=null;this._oMetaData=null;this._oTypes=null;};return O;},true);\n",
	"sap/ui/comp/smartfield/ODataHelper.js":"/*\n * SAP UI development toolkit for HTML5 (SAPUI5)\n\n(c) Copyright 2009-2016 SAP SE. All rights reserved\n */\nsap.ui.define(['jquery.sap.global','sap/ui/comp/odata/MetadataAnalyser','sap/ui/comp/smartfield/AnnotationHelper'],function(q,M,A){'use strict';var O=function(m,u,o){if(m){this.oMeta=m.getMetaModel();}if(o){this.oMeta=o;}this._oModel=m;this._oUtil=u;this.oAnnotation=new A();};O.prototype.getAnalyzer=function(m){if(!this._oAnalyzer){this._oAnalyzer=new M(this._oModel||m);}return this._oAnalyzer;};O.prototype.checkNavigationProperty=function(m,c){var p,P,l,r;if(c&&m){p=this._oUtil.getNavigationProperties(c);l=p.paths.length;while(l--){P=p.paths.shift();P=this._oUtil.correctPath(P);if(P===''||P===m.entitySet.name){continue;}r=this.getNavigationProperty(m.entityType,P);if(r.entitySet){m.entitySet=r.entitySet;m.entityType=r.entityType;}}}};O.prototype.getNavigationProperty=function(e,p){var n,t,r={};n=this._getNamedProperty(p,'navigationProperty',e);if(n){t=this.oMeta.getODataAssociationSetEnd(e,n.name);r.entitySet=this.oMeta.getODataEntitySet(t.entitySet);r.entityType=this.oMeta.getODataEntityType(r.entitySet.entityType);}return r;};O.prototype.startWithNavigationProperty=function(p,m){var P=p.split('/'),o;if(P&&P.length>1){o=this._getNamedProperty(P.shift(),'navigationProperty',m.entityType);}if(o){return o.name;}return null;};O.prototype.getProperty=function(m){var n=[],l,p,P,s,a,r={entityType:m.entityType,entitySet:m.entitySet};if(m){p=m.path.split('/');l=p.length;if(l>1){while(r.entityType){s=p[0];r=this.getNavigationProperty(r.entityType,s);if(r.entityType){m.entityType=r.entityType;m.entitySet=r.entitySet;n.push(p.shift());l--;}}}m.navigationPath=n.join('/');if(l>1){P=this.oMeta.getODataProperty(m.entityType,p[0]);if(P){m.property=this._getComplex(P,p,l);}return;}if(m.navigationPath){a=m.path.replace(m.navigationPath+'/','');}else{a=m.path;}P=this.oMeta.getODataProperty(m.entityType,a);m.property={property:P,typePath:m.path};}};O.prototype._getComplex=function(p,P,l){var o=p,t,c=[];while(l--){if(o){if(l===0){t=o.name;o=this._getNamedProperty(P[0],'property',o);return{typePath:t+'/'+P[0],property:o,complex:true,parents:c};}o=this.oMeta.getODataComplexType(o.type);if(o){c.push(o);}}P.shift();}};O.prototype._getNamedProperty=function(n,a,p){var r;q.each(p[a]||[],function(i,e){if(e.name===n){r=e;return false;}});return r;};O.prototype.getTextProperty2=function(m){var a,o;a=this.oAnnotation.getText(m.property.property);if(a){o=this._preprocAnnotation(a,m);this.getProperty(o);this._postprocAnnotation(o,m);}return o;};O.prototype.getUnitOfMeasure2=function(m){var a,o;a=this.oAnnotation.getUnit(m.property.property);if(a){o=this._preprocAnnotation(a,m);this.getProperty(o);this._postprocAnnotation(o,m);}return o;};O.prototype._preprocAnnotation=function(a,m){var p,o;o=this.traverseNavigationProperties(a,m.entityType);if(!o.navigationPath){o.entitySet=m.entitySet;}if(m.navigationPath){o.path=m.path.replace(m.navigationPath+'/','');}else{o.path=m.path;}if(o.navigationPath){p=a.replace(o.navigationPath+'/','');}else{p=a;}o.path=o.path.replace(m.property.property.name,p);if(o.navigationPath){o.navigationPathHelp=o.navigationPath;}return o;};O.prototype._postprocAnnotation=function(m,o){var p;if(m.navigationPathHelp){m.navigationPath=m.navigationPathHelp;}if(m.navigationPath){p=m.navigationPath;}else{p='';}if(o.navigationPath){if(p){p=o.navigationPath+'/'+p;}else{p=o.navigationPath;}}m.navigationPath=p;if(m.navigationPath){m.path=m.navigationPath+'/'+m.path;}};O.prototype.traverseNavigationProperties=function(p,e){var r={},R={},P,s,l;P=p.split('/');l=P.length;r.entityType=e;R.entityType=e;while(l--){s=P.shift();if(s===''){continue;}R=this.getNavigationProperty(r.entityType,s);if(!R.entitySet){break;}r.entityType=R.entityType;r.entitySet=R.entitySet;if(r.navigationPath){r.navigationPath=r.navigationPath+'/'+s;}else{r.navigationPath=s;}}return r;};O.prototype.getValueListAnnotationPath=function(m){var p,l;if(m.property.complex){l=m.property.parents.length-1;p=m.property.parents[l].namespace;p=p+'.'+m.property.typePath;}else{p=m.entitySet.entityType+'/'+m.property.property.name;}return p;};O.prototype.getUOMValueListAnnotationPath=function(m){var p;if(m.annotations.uom){p=this.getValueListAnnotationPath(m.annotations.uom);}if(p){m.annotations.valuelistuom=p;}};O.prototype.getUOMTextAnnotation=function(m){if(m&&m.annotations&&m.annotations.uom){m.annotations.textuom=this.getTextProperty2(m.annotations.uom);}};O.prototype.geValueListEntitySet=function(m){if(m&&m.annotations&&m.annotations.valuelist){if(m.annotations.valuelist.primaryValueListAnnotation&&m.annotations.valuelist.primaryValueListAnnotation.valueListEntitySetName){m.annotations.valuelistentityset=this.oMeta.getODataEntitySet(m.annotations.valuelist.primaryValueListAnnotation.valueListEntitySetName);}}};O.prototype.getValueListData=function(m){if(m.property.property['sap:value-list']||m.property.property['com.sap.vocabularies.Common.v1.ValueList']){m.annotations.valuelist=this.getValueListAnnotationPath(m);if(m.property.property['sap:value-list']){m.annotations.valuelistType=m.property.property['sap:value-list'];}else{m.annotations.valuelistType=this.getAnalyzer().getValueListSemantics(m.property.property['com.sap.vocabularies.Common.v1.ValueList']);}}};O.prototype.getEdmDisplayPath=function(m){if(m.annotations.text){return m.annotations.text.path;}return m.path;};O.prototype.getUOMPath=function(m){if(m&&m.annotations&&m.annotations.uom){return m.annotations.uom.path;}return null;};O.prototype.getUOMTypePath=function(m){if(m.property.complex){return m.property.typePath.replace(m.property.property.name,m.annotations.uom.property.name);}return m.annotations.uom.property.name;};O.prototype.getUOMChangeHandler=function(c,u){return function(p){try{c.fireChange({value:p.mParameters.value,newValue:p.mParameters.value,unitChanged:u,validated:p.mParameters['validated']});}catch(e){q.sap.log.warning(e);}};};O.prototype.getSelectionChangeHandler=function(c){return function(p){var k,i;try{i=p.getParameter('selectedItem');if(i&&i.getKey){k=i.getKey();}c.fireChange({value:k,newValue:k,selectionChange:true});}catch(e){q.sap.log.warning(e);}};};O.prototype.destroy=function(){if(this._oAnalyzer){this._oAnalyzer.destroy();}if(this.oAnnotation){this.oAnnotation.destroy();}this._oUtil=null;this.oMeta=null;this.oAnalyzer=null;this.oAnnotation=null;};return O;},true);\n",
	"sap/ui/comp/smartfield/ODataTypes.js":"/*\n * SAP UI development toolkit for HTML5 (SAPUI5)\n\n(c) Copyright 2009-2016 SAP SE. All rights reserved\n */\nsap.ui.define(['jquery.sap.global','sap/ui/core/format/NumberFormat','sap/ui/model/odata/type/Boolean','sap/ui/comp/smartfield/type/DateTime','sap/ui/comp/smartfield/type/DateTimeOffset','sap/ui/comp/smartfield/type/Decimal','sap/ui/comp/smartfield/type/Int16','sap/ui/comp/smartfield/type/Int32','sap/ui/comp/smartfield/type/Int64','sap/ui/comp/smartfield/type/SByte','sap/ui/comp/smartfield/type/String','sap/ui/comp/smartfield/type/AbapBool','sap/ui/model/type/Currency','sap/ui/comp/smartfield/type/Time'],function(q,N,B,D,a,b,I,c,d,S,e,A,C,T){'use strict';var O=function(p){this._oParent=p;};O.prototype.getType=function(p,f,m){var o,i;i=this._oParent.getBindingInfo('value');if(i&&i.type){return i.type;}if(p&&p.property&&p.property.type){switch(p.property.type){case'Edm.Boolean':return new B();case'Edm.Decimal':case'Edm.Double':case'Edm.Float':case'Edm.Single':o=this._getDecimalConstraints(p);return new b(f,o);case'Edm.Int16':return new I();case'Edm.Int32':return new c();case'Edm.Int64':return new d();case'Edm.Byte':case'Edm.SByte':return new S();case'Edm.DateTimeOffset':return new a(f,o);case'Edm.DateTime':o=this._getDateTimeConstraints(p,m);return new D(f,o);case'Edm.String':o=this._getStringConstraints(p);return new e(f,o);case'Edm.Time':return new T(f,m);default:return null;}}return null;};O.prototype._getDateTimeConstraints=function(p,m){var o={},n;if(p.property['sap:display-format']==='Date'){o={displayFormat:'Date'};}for(n in m){o[n]=m[n];}return o;};O.prototype.getMaxLength=function(p,o){var P,v=[],l,V,f,r=0;if(o&&o.constraints){if(o.constraints.maxLength&&o.constraints.maxLength>-1){v.push(o.constraints.maxLength);}}if(o&&o.type&&o.type.oConstraints){if(o.type.oConstraints.maxLength&&o.type.oConstraints.maxLength>-1){v.push(o.type.oConstraints.maxLength);}}if(p&&p.property&&p.property.maxLength){P=parseInt(p.property.maxLength,10);if(P>-1){v.push(P);}}f=this._oParent.getMaxLength();if(f>0){v.push(f);}l=v.length;while(l--){V=v[l];if(V>0){if(r>0){if(V<r){r=V;}}else{r=V;}}}return r;};O.prototype._getDecimalConstraints=function(p){var m=null;if(p.property.precision){m={};m.precision=parseInt(p.property.precision,10);}if(p.property.scale){if(!m){m={};}m.scale=parseInt(p.property.scale,10);}return m;};O.prototype._getStringConstraints=function(p){var m,E,o,f;o=this._oParent.getBindingInfo('value');m=this.getMaxLength(p,o);if(o&&o.type&&o.type.oConstraints){if(o.type.oConstraints.equals){E=o.type.oConstraints.equals;}}if(m>0||E){f={};if(m>0){f.maxLength=m;}if(E){f.equals=E;}}return f;};O.prototype.getDisplayFormatter=function(p,f){if(f){return this.getCurrencyDisplayFormatter(true);}else{return this.getUOMDisplayFormatter(p);}};O.prototype.getCurrencyDisplayFormatter=function(f){var F=N.getCurrencyInstance({showMeasure:false});return function(o,s){var v,i,p;if(!o||!s||s==='*'){return'';}if(!f){v=o+='\\u2008';return v;}i=F.oLocaleData.getCurrencyDigits(s);v=F.format(o,s);if(i===0){v+='\\u2008';}p=3-i;if(p){v=q.sap.padRight(v,'\\u2007',v.length+p);}return v;};};O.prototype.getUOMDisplayFormatter=function(p){var f={};if(p.scale){f.maxFractionDigits=parseInt(p.scale,10);f.minFractionDigits=parseInt(p.scale,10);if(p.precision){f.maxIntegerDigits=parseInt(p.precision,10)-parseInt(p.scale,10);}}var F=N.getFloatInstance(f);return function(m,u){var v;if(!m||!u||u==='*'){return'';}if(isNaN(parseFloat(m))){return m.toString()+'\\u2008';}v=F.format(m,u);v+='\\u2008';return v;};};O.prototype.getCurrencyType=function(p){var o,f={showMeasure:false,parseAsString:true,emptyString:0};if(p){o=this._getDecimalConstraints(p);if(o){if(o.precision){f.maxIntegerDigits=o.precision;if(o.scale){f.maxIntegerDigits-=o.scale;}}if(o.precision&&o.scale){o.maximum=Math.pow(10,f.maxIntegerDigits)-(1/Math.pow(10,o.scale));o.minimum=-1*o.maximum;}}return new C(f,o);}return null;};O.prototype.getAbapBoolean=function(){return new A();};O.prototype.destroy=function(){this._oParent=null;};return O;},true);\n",
	"sap/ui/comp/smartfield/ObjectStatus.js":"/*\n * ! SAP UI development toolkit for HTML5 (SAPUI5)\n\n(c) Copyright 2009-2016 SAP SE. All rights reserved\n */\nsap.ui.define(['jquery.sap.global','sap/ui/comp/library','sap/ui/core/Element'],function(q,l,E){'use strict';var O=E.extend('sap.ui.comp.smartfield.ObjectStatus',{metadata:{library:'sap.ui.comp',properties:{criticality:{type:'any',group:'Misc',defaultValue:null},criticalityRepresentationType:{type:'sap.ui.comp.smartfield.CriticalityRepresentationType',group:'Misc',defaultValue:sap.ui.comp.smartfield.CriticalityRepresentationType.WithIcon}}}});return O;},true);\n",
	"sap/ui/comp/smartfield/SideEffectUtil.js":"/*\n * SAP UI development toolkit for HTML5 (SAPUI5)\n\n(c) Copyright 2009-2016 SAP SE. All rights reserved\n */\nsap.ui.define(['jquery.sap.global','sap/ui/comp/odata/SideEffects'],function(q,S){'use strict';var a=function(p){this._oParent=p;this._oSideEffects=new S();};a.prototype.getFieldGroupIDs=function(m,v){var M,c,t,s;if(m.property&&m.property.complex){c=m.property.parents[0];t=this._toTypePath(m.path,c);}M={entitySet:m.entitySet,entityType:m.entityType,complexType:c};s=this._oSideEffects.getSideEffects(m.path,t,M);return this._calcFieldGroups(s,m,v);};a.prototype._calcFieldGroups=function(s,m,v){var c,b,i,l,g=[];b=this._getSideEffects(s,m,v);l=b.length;c=this._oParent.getBindingContext().getPath();for(i=0;i<l;i++){this._calcFieldGroups2(b[i],g,v,c);}return g.length>0?g:null;};a.prototype._calcFieldGroups2=function(s,g,v,c){var u,i,I,t=this;s.sideEffects.forEach(function(o){I={name:o.name,originType:o.originType,originName:s.origin.name,originNamespace:s.origin.namespace,context:c};i=JSON.stringify(I);i=i.substring(1,i.length-2);u=v.data(i);if(!u){u=t.createUUID();v.data(u,I);v.data(i,u);}g.push(u);});};a.prototype._getSideEffects=function(s,m){var r,R=[];r={};r.sideEffects=this._getSideEffectsFromEntity('entitySet',s);if(r.sideEffects&&r.sideEffects.length){r.origin=m.entitySet;R.push(r);}r={};r.sideEffects=this._getSideEffectsFromEntity('entityType',s);if(r.sideEffects&&r.sideEffects.length){r.origin=m.entityType;R.push(r);}r={};r.sideEffects=this._getSideEffectsFromEntity('complexType',s);if(r.sideEffects&&r.sideEffects.length){r.origin=m.property.parents[0];R.push(r);}return R;};a.prototype._getSideEffectsFromEntity=function(N,s){var n,b=[];if(s[N]){for(n in s[N]){b.push({name:n,originType:N,sideEffect:s[N][n]});}}return b;};a.prototype._toTypePath=function(p,c){var P=p.split('/');return p.replace(P[0],c.name);};a.prototype.createUUID=function(){var d=new Date().getTime();var u='xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx'.replace(/[x]/g,function(c){var r=(d+Math.random()*16)%16|0;d=Math.floor(d/16);return(c==='x'?r:(r&0x7|0x8)).toString(16);});return u;};a.prototype.destroy=function(){if(this._oSideEffects){this._oSideEffects.destroy();}this._oSideEffects=null;};return a;},true);\n",
	"sap/ui/comp/smartfield/SmartField.designtime.js":"/*\n * ! SAP UI development toolkit for HTML5 (SAPUI5)\n\n(c) Copyright 2009-2016 SAP SE. All rights reserved\n */\nsap.ui.define([],function(){'use strict';return{annotations:{dataType:{namespace:'Edm',types:['String','Boolean','Byte','DateTimeOffset','Date','Time','Decimal','Double','Single','Int16','Int32','Int64','Guid']},fieldVisible:{namespace:'com.sap.vocabularies.Common.v1',annotation:'FieldControl',target:['Property','Record'],values:[0,'Hidden'],defaultValue:false,appliesTo:['fieldItem/#/visible'],group:['Behavior'],since:'1.28.1'},fieldReadOnly:{namespace:'com.sap.vocabularies.Common.v1',annotation:'FieldControl',target:['Property','Record'],values:[1,'ReadOnly'],defaultValue:false,appliesTo:['fieldItem/#/editable'],group:['Behavior'],since:'1.28.1'},fieldMandatory:{namespace:'com.sap.vocabularies.Common.v1',annotation:'FieldControl',target:['Property','Record'],values:[7,'Mandatory'],defaultValue:false,appliesTo:['fieldItem/#/editable'],group:['Behavior'],since:'1.28.1'},fieldMasked:{namespace:'com.sap.vocabularies.Common.v1',annotation:'Masked',target:['Property'],defaultValue:false,appliesTo:['fieldItem/#/value'],group:['Behavior'],since:'1.28.1'},fieldLabel:{namespace:'com.sap.vocabularies.Common.v1',annotation:'Label',target:['Property','PropertyPath'],defaultValue:null,appliesTo:['fieldItem/#/label'],group:['Behavior'],since:'1.28.1'},fieldText:{namespace:'com.sap.vocabularies.Common.v1',annotation:'Text',target:['Property'],defaultValue:null,appliesTo:['fieldItem/#/value'],group:['Behavior'],since:'1.28.1'},textArrangement:{namespace:'com.sap.vocabularies.UI.v1',annotation:'TextArrangement',target:['EntityType'],defaultValue:null,appliesTo:['fieldItem/#/value'],group:['Appearance','Behavior'],since:'1.32.1'},fieldCurrencyCode:{namespace:'Org.OData.Measures.V1',annotation:'ISOCurrency',target:['Property'],defaultValue:null,appliesTo:['fieldItem/#/value'],group:['Behavior'],since:'1.28.1'},fieldUnitOfMeasure:{namespace:'Org.OData.Measures.V1',annotation:'Unit',target:['Property'],defaultValue:null,appliesTo:['fieldItem/#/value'],group:['Behavior'],since:'1.28.1'},fieldScale:{namespace:'Org.OData.Measures.V1',annotation:'Scale',target:['Property'],defaultValue:null,appliesTo:['fieldItem/#/value'],group:['Behavior'],since:'1.28.1'},fieldQuickInfo:{namespace:'com.sap.vocabularies.Common.v1',annotation:'QuickInfo',target:['Property'],defaultValue:null,appliesTo:['fieldItem/#/tooltip'],group:['Behavior'],since:'1.28.1'},fieldMultiLineText:{namespace:'com.sap.vocabularies.UI.v1',annotation:'MultiLineText',target:['Property','PropertyPath'],defaultValue:true,appliesTo:['fieldItem/#/control'],group:['Appearance','Behavior'],since:'1.28.1'},fieldUpperCase:{namespace:'com.sap.vocabularies.Common.v1',annotation:'IsUpperCase',target:['Property','Parameter'],defaultValue:true,appliesTo:['fieldItem/#/value'],group:['Behavior'],since:'1.28.1'},fieldCreatable:{namespace:'Org.OData.Capabilities.V1',annotation:'InsertRestrictions/Insertable',target:['EntitySet'],defaultValue:false,appliesTo:['fieldItem/#/editable'],group:['Behavior'],since:'1.28.1'},fieldComputed:{namespace:'Org.OData.Core.V1',annotation:'Computed',target:['Property'],defaultValue:true,appliesTo:['fieldItem/#/editable'],group:['Behavior'],since:'1.28.1'},fieldUpdatableEntitySet:{namespace:'Org.OData.Capabilities.V1',annotation:'UpdateRestrictions/Updatable',target:['EntitySet'],defaultValue:false,appliesTo:['fieldItem/#editable'],group:['Behavior'],since:'1.28.1'},fieldImmutable:{namespace:'Org.OData.Core.V1',annotation:'Immutable',target:['Property'],defaultValue:true,appliesTo:['fieldItem/#/editable'],group:['Behavior'],since:'1.28.1'},fieldSideEffects:{namespace:'com.sap.vocabularies.Common.v1',annotation:'SideEffects',target:['EntitySet','EntityType','ComplexType'],defaultValue:null,appliesTo:['fieldItem/#/value'],group:['Behavior'],since:'1.32.1'},valueList:{namespace:'com.sap.vocabularies.Common.v1',annotation:'ValueList',target:['Property','Parameter'],defaultValue:null,appliesTo:['field/#/fieldHelp'],group:['Behavior'],since:'1.28.1'}},properties:{value:{ignore:true},enabled:{ignore:true},entitySet:{ignore:true},editable:{ignore:true},contextEditable:{ignore:true},width:{ignore:true},textAlign:{ignore:true},placeholder:{ignore:true},name:{ignore:true},valueState:{ignore:true},valueStateText:{ignore:true},showValueStateMessage:{ignore:true},jsontype:{ignore:true},mandatory:{ignore:true},maxLength:{ignore:true},showSuggestion:{ignore:true},showValueHelp:{ignore:true},showLabel:{ignore:true},textLabel:{ignore:true},tooltipLabel:{ignore:true},uomVisible:{ignore:true},uomEditable:{ignore:true},uomEnabled:{ignore:true},url:{ignore:true},uomEditState:{ignore:true},controlContext:{ignore:true},proposedControl:{ignore:true},wrapping:{ignore:true},clientSideMandatoryCheck:{ignore:true},fetchValueListReadOnly:{ignore:true}},customData:{}};},false);\n",
	"sap/ui/comp/smartfield/SmartField.js":"/*\n * ! SAP UI development toolkit for HTML5 (SAPUI5)\n\n(c) Copyright 2009-2016 SAP SE. All rights reserved\n */\nsap.ui.define(['jquery.sap.global','sap/ui/comp/library','./JSONControlFactory','./ODataControlFactory','./BindingUtil','./SideEffectUtil','./ODataHelper','sap/ui/core/Control','sap/ui/model/ParseException','sap/ui/model/ValidateException'],function(q,l,J,O,B,S,a,C,P,V){'use strict';var b=C.extend('sap.ui.comp.smartfield.SmartField',{metadata:{library:'sap.ui.comp',designTime:true,properties:{value:{type:'any',group:'Misc',defaultValue:null},enabled:{type:'boolean',group:'Misc',defaultValue:true},entitySet:{type:'string',group:'Misc',defaultValue:null},editable:{type:'boolean',group:'Misc',defaultValue:true},contextEditable:{type:'boolean',group:'Misc',defaultValue:true},width:{type:'sap.ui.core.CSSSize',group:'Misc',defaultValue:null},textAlign:{type:'sap.ui.core.TextAlign',group:'Misc',defaultValue:sap.ui.core.TextAlign.Initial},placeholder:{type:'string',group:'Misc',defaultValue:null},name:{type:'string',group:'Misc',defaultValue:null},valueState:{type:'sap.ui.core.ValueState',group:'Appearance',defaultValue:sap.ui.core.ValueState.None},valueStateText:{type:'string',group:'Appearance',defaultValue:null},showValueStateMessage:{type:'boolean',group:'Appearance',defaultValue:true},jsontype:{type:'sap.ui.comp.smartfield.JSONType',group:'Misc',defaultValue:null},mandatory:{type:'boolean',group:'Misc',defaultValue:false},maxLength:{type:'int',group:'Misc',defaultValue:0},showSuggestion:{type:'boolean',group:'Misc',defaultValue:true},showValueHelp:{type:'boolean',group:'Misc',defaultValue:true},showLabel:{type:'boolean',group:'Appearance',defaultValue:true},textLabel:{type:'string',group:'Misc',defaultValue:null},tooltipLabel:{type:'string',group:'Misc',defaultValue:null},uomVisible:{type:'boolean',group:'Misc',defaultValue:true},uomEditable:{type:'boolean',group:'Misc',defaultValue:true},uomEnabled:{type:'boolean',group:'Misc',defaultValue:true},url:{type:'string',group:'Misc',defaultValue:null},uomEditState:{type:'int',group:'Misc',defaultValue:-1},controlContext:{type:'sap.ui.comp.smartfield.ControlContextType',group:'Misc',defaultValue:sap.ui.comp.smartfield.ControlContextType.None},proposedControl:{type:'sap.ui.comp.smartfield.ControlProposalType',group:'Misc',defaultValue:sap.ui.comp.smartfield.ControlProposalType.None},wrapping:{type:'boolean',group:'Misc',defaultValue:true},clientSideMandatoryCheck:{type:'boolean',group:'Misc',defaultValue:true},fetchValueListReadOnly:{type:'boolean',group:'Misc',defaultValue:true}},aggregations:{_content:{type:'sap.ui.core.Control',multiple:false,visibility:'hidden'},configuration:{type:'sap.ui.comp.smartfield.Configuration',multiple:false},controlProposal:{type:'sap.ui.comp.smartfield.ControlProposal',multiple:false},_ariaLabelInvisibleText:{type:'sap.ui.core.InvisibleText',multiple:true,visibility:'hidden'}},associations:{ariaLabelledBy:{type:'sap.ui.core.Control',multiple:true,singularName:'ariaLabelledBy'}},events:{entitySetFound:{},change:{},initialise:{},visibleChanged:{},editableChanged:{},contextEditableChanged:{},innerControlsCreated:{},valueListChanged:{},press:{}}},renderer:function(r,c){r.write('<div ');r.writeControlData(c);r.addClass('sapUiCompSmartField');r.writeClasses();r.write('>');r.renderControl(c.getAggregation('_content'));if(c.getAggregation('_ariaLabelInvisibleText')){c.getAggregation('_ariaLabelInvisibleText').forEach(function(i){r.renderControl(i);});}r.write('</div>');}});b.prototype.init=function(){this._bInDestroy=false;this._oSideEffects=new S(this);this._oFactory=null;this._oControl={display:null,edit:null,current:null};this._oValue={display:null,edit:null,uom:null,uomset:null};this._oError={bComplex:false,bFirst:false,bSecond:false};this._sBindingContextPath='';this._oValueBind=null;this._oUtil=new B();this._bSuppressToggleControl=false;};b.prototype.setVisible=function(v,s){C.prototype.setVisible.apply(this,arguments);this.fireVisibleChanged({visible:v});return this;};b.prototype.setEditable=function(v){this.setProperty('editable',v,true);this._bPendigEditableState=false;this._toggleControl();this.fireEditableChanged({editable:v});return this;};b.prototype.setContextEditable=function(v){this.setProperty('contextEditable',v,true);this._bPendigEditableState=false;this._toggleControl();this.fireContextEditableChanged({editable:v});return this;};b.prototype.setWidth=function(w){this.setProperty('width',w,true);this._setOnInnerControl();return this;};b.prototype.setWrapping=function(w){this.setProperty('wrapping',w,true);this._setOnInnerControl();return this;};b.prototype.setTextAlign=function(t){this.setProperty('textAlign',t,true);this._setOnInnerControl();return this;};b.prototype.setPlaceholder=function(p){this.setProperty('placeholder',p,true);this._setOnInnerControl();return this;};b.prototype.setName=function(n){this.setProperty('name',n,true);this._setOnInnerControl();return this;};b.prototype.setMaxLength=function(m){this.setProperty('maxLength',m,true);this._setOnInnerControl();return this;};b.prototype.setShowValueHelp=function(s){var c;this.setProperty('showValueHelp',s,true);if(s&&this._oFactory){this._oFactory._addValueHelp();}else{c=this.getAggregation('_content');if(c&&c.setShowValueHelp){c.setShowValueHelp(false);}}return this;};b.prototype.setShowSuggestion=function(s){var c;this.setProperty('showSuggestion',s,true);if(s&&this._oFactory){this._oFactory._addValueHelp();}else{c=this.getAggregation('_content');if(c&&c.setShowSuggestion){c.setShowSuggestion(false);}}return this;};b.prototype._setOnInnerControl=function(){var c,w,W;c=this.getAggregation('_content');if(c){if(c.setWidth){w=this.getWidth();if(w){c.setWidth(w);}}W=this.getWrapping();if(!W&&c.setWrapping&&(this.getControlContext()==='table')){c.setWrapping(W);}if(c.setName){c.setName(this.getName());}if(c.setPlaceholder){c.setPlaceholder(this.getPlaceholder());}if(c.setTextAlign){c.setTextAlign(this.getTextAlign());}if(c.setMaxLength&&this._oFactory&&this._oFactory._getMaxLength){c.setMaxLength(this._oFactory._getMaxLength());}}return this;};b.prototype.setUrl=function(v){this.setProperty('url',v,true);return this;};b.prototype.setEntitySet=function(v){this.setProperty('entitySet',v,true);this.fireEntitySetFound({entitySet:v});return this;};b.prototype._setPendingEditState=function(d){this.data('pedingEditableState',!d);};b.prototype.applySettings=function(s){if(s&&s.customData){for(var i=0;i<s.customData.length;i++){var c=s.customData[i];if(c&&c.mProperties&&c.mProperties.key==='pedingEditableState'){this._bPendigEditableState=c.mProperties.value;}}}C.prototype.applySettings.apply(this,arguments);};b.prototype.setEnabled=function(v){this.setProperty('enabled',v,true);this._toggleControl();return this;};b.prototype.getValue=function(){var p,f;p=this._getMode();f=this._oValue[p];if(f){return f();}return this.getProperty('value');};b.prototype.getValueState=function(){var c,i;c=this.getInnerControls();i=this._getMaxSeverity(c);if(i>-1){return c[i].getValueState();}return sap.ui.core.ValueState.None;};b.prototype.setValueState=function(v){var c,o,m='setSimpleClientError';c=this.getInnerControls();if(c&&c.length){o=c[0];if(c.length>1){m='setComplexClientErrorFirstOperand';}}if(o&&o.setValueState){o.setValueState(v);this[m](v===sap.ui.core.ValueState.Error);}return this;};b.prototype.getValueStateText=function(){var c,i;c=this.getInnerControls();i=this._getMaxSeverity(c);if(i>-1){return c[i].getValueStateText();}return this.getProperty('valueStateText');};b.prototype.setValueStateText=function(t){var c,o;c=this.getInnerControls();if(c&&c.length){o=c[0];}if(o&&o.setValueStateText){o.setValueStateText(t);}return this;};b.prototype._getMaxSeverity=function(c){var s,o,i,d,e=0,I=-1,m={'Error':3,'Warning':2,'Success':1,'None':0};d=c.length;for(i=0;i<d;i++){o=c[i];if(o.getValueState){s=o.getValueState();if(s&&m[s]>e){e=m[s];I=i;}}}return I;};b.prototype.getFocusDomRef=function(){var c,o,d;c=this.getInnerControls();d=c.length;if(d>0){o=c[0];}if(o&&o.getFocusDomRef){return o.getFocusDomRef();}return sap.ui.core.Element.prototype.getFocusDomRef.apply(this,[]);};b.prototype.updateBindingContext=function(s,m,u){if(this._bInDestroy){return;}this._init(m);if(this._oFactory){if(this.getBindingContext()){this._sBindingContextPath=this.getBindingContext().getPath();}if(this._oFactory.bind){this._oFactory.bind();this._checkFieldGroups();}else{this._toggleControl();}}C.prototype.updateBindingContext.apply(this,arguments);};b.prototype._getMode=function(){var e=this.getEditable(),E=this.getEnabled(),c=this.getContextEditable();if(this.getControlContext()==='responsiveTable'&&this.data('suppressUnit')!=='true'){if(!e||!c||!E||(this.getUomEditState()===0)){return'display_uom';}}if(c&&this.data('configdata')&&this.data('configdata').configdata.isUOM&&this.data('configdata').configdata.isInnerControl&&this.data('configdata').configdata.getContextEditable){c=this.data('configdata').configdata.getContextEditable();}return e&&E&&c?'edit':'display';};b.prototype._toggleControl=function(){var m,v,c,d=true;if(this._bPendigEditableState||this._bSuppressToggleControl){return;}if(!this._oFactory||this._oFactory.bPending){return;}m=this._getMode();if(m==='edit'||m==='display_uom'){this._createControl(m);}else{v=this.getValue();c=this.data('configdata');if(c&&c.configdata&&!c.configdata.isUOM){if(v===null||v===''){d=false;}}if(d){this._createControl(m);}else{this.setAggregation('_content',null);this._oControl.current='display';}}this._setOnInnerControl();};b.prototype.setValue=function(v){var r=this.setProperty('value',v,true);if(this._oFactory&&!this._oFactory.bPending){this._toggleControl();}return r;};b.prototype._createControl=function(m){var c;if(this._oFactory){if(m!==this._oControl.current||!this._oControl[m]){if(!this._oControl[m]){c=this._oFactory.createControl();if(c){this._oControl[m]=c.control;this._placeCallBacks(c,m);}}this._oControl.current=m;this.setAggregation('_content',this._oControl[m]);this.fireInnerControlsCreated(this.getInnerControls());}else{if(!this.getAggregation('_content')){this.setAggregation('_content',this._oControl[m]);}}}};b.prototype._placeCallBacks=function(c,m){if(c.params&&c.params.getValue){this._oValue[m]=c.params.getValue;}if(c.params&&c.params.uom){this._oValue.uom=c.params.uom;}if(c.params&&c.params.uomset){this._oValue.uomset=c.params.uomset;}};b.prototype._init=function(m){var M,o,c;if(this._oFactory&&this._sBindingContextPath&&this.getBindingContext()&&this._sBindingContextPath!=this.getBindingContext().getPath()){this._destroyFactory();}if(!this._oFactory){c=this.data('configdata');if(!c){M=this.getModel(m);}o=this._getBindingInfo(m,'value');if(o){if(c||M){this._oFactory=this._createFactory(m,M,o,c);}}else if(M&&!(M instanceof sap.ui.model.json.JSONModel)){if(this.getBindingInfo('url')||this.getUrl()){if(c||M){this._oFactory=this._createFactory(m,M,o,c);}}}}};b.prototype._destroyFactory=function(){this._bSuppressToggleControl=true;this._bSideEffects=false;this._oFactory.destroy();this._oFactory=null;this._bSuppressToggleControl=false;if(this._oControl['display']){this._oControl['display'].destroy();this._oControl['display']=null;}if(this._oControl['edit']){this._oControl['edit'].destroy();this._oControl['edit']=null;}this._oControl['current']=null;this._oValue={display:null,edit:null,uom:null,uomset:null};this.destroyAggregation('_content');};b.prototype._createFactory=function(m,M,o,c){var e,p;if(M&&M instanceof sap.ui.model.json.JSONModel){return new J(M,this,{model:m,path:o.path});}if(!c){e=this._getEntitySet(m);}if(e||c){if(c){p=c.configdata;}else{p={entitySet:e,model:m,path:(o&&o.path)?o.path:''};}return new O(M,this,p);}return null;};b.prototype._getEntitySet=function(m){var o,e;e=this.getEntitySet();if(e&&!m){return e;}o=this.getBindingContext(m);if(o){if(!o.sPath||(o.sPath&&o.sPath==='/undefined')){return null;}e=this._oUtil.correctPath(o.sPath);this.fireEntitySetFound({entitySet:e});return e;}return null;};b.prototype._getBindingInfo=function(m,n){if(!this._oValueBind){this._oValueBind=this.getBindingInfo(n);try{this._oValueBind=this._oValueBind.parts[0];}catch(e){}}if(this._oValueBind){if(!this._oValueBind.model&&!m){return this._oValueBind;}if(this._oValueBind.model===m){return this._oValueBind;}}return null;};b.prototype.getDataType=function(){var p;if(this._oFactory){if(this._oFactory.getDataProperty){p=this._oFactory.getDataProperty();if(p){return p.property.type;}}return this.getJsonType();}return null;};b.prototype.getDataProperty=function(){if(this._oFactory){if(this._oFactory.getDataProperty){return this._oFactory.getDataProperty();}return null;}return null;};b.prototype.getUnitOfMeasure=function(){if(this._oValue.uom){return this._oValue.uom();}return null;};b.prototype.setUnitOfMeasure=function(u){if(u&&this._oValue.uomset){this._oValue.uomset(u);}};b.prototype.setSimpleClientError=function(e){this._oError.bFirst=e;};b.prototype.setComplexClientErrorFirstOperand=function(e){this._oError.bComplex=true;this._oError.bFirst=e;};b.prototype.setComplexClientErrorSecondOperand=function(e){this._oError.bComplex=true;this._oError.bSecond=e;};b.prototype.setComplexClientErrorSecondOperandNested=function(e){var p=this.getParent().getParent();p.setComplexClientErrorSecondOperand(e);};b.prototype._hasClientError=function(){if(this._oError.bComplex){return this._oError.bFirst||this._oError.bSecond;}return this._oError.bFirst;};b.prototype.checkClientError=function(){var c,d,i;if(this._getMode()==='display'){return false;}if(this._hasClientError()){return true;}c=this.getInnerControls();d=c.length;for(i=0;i<d;i++){this._checkClientError(c[i]);}return this._hasClientError();};b.prototype._checkClientError=function(c){var v=null,t=null,p=null;var o,m,s,d={'sap.m.Input':'value','sap.m.DatePicker':'value','sap.m.ComboBox':'selectedKey','sap.m.TextArea':'value'};if(c){s=d[c.getMetadata()._sClassName];}if(s){o=c.getBinding(s);}if(o){try{m='get'+s.substring(0,1).toUpperCase()+s.substring(1);v=c[m]();t=o.getType();if(o.sInternalType){p=t.parseValue(v,o.sInternalType);t.validateValue(p);}}catch(e){if(e instanceof P){c.fireParseError({exception:e});}if(e instanceof V){c.fireValidationError({exception:e});}}}};b.prototype.isContextTable=function(){return(this.getControlContext()==='responsiveTable'||this.getControlContext()==='table'||this.getControlContext()==='smartFormGrid');};b.prototype.getInnerControls=function(){var c,f,m={'sap.m.HBox':function(o){var d,i,e=0;i=o.getItems();if(i){e=i.length;}if(e===0){return[];}if(e===1){return[i[0]];}d=i[1].getAggregation('_content');if(d){return[i[0],d];}return[i[0]];},'sap.ui.comp.navpopover.SmartLink':function(o){var i=o.getAggregation('innerControl');if(i){return[i];}return[o];}};c=this.getAggregation('_content');if(c){f=m[c.getMetadata()._sClassName];}if(f){return f(c);}if(c){return[c];}return[];};b.prototype._getEmbeddedSmartField=function(){var c=this.getAggregation('_content');if(c){if(c instanceof sap.m.HBox){var h=c.getItems();if(h){for(var j=0;j<h.length;j++){if(h[j]instanceof b){return h[j];}}}}}return null;};b.prototype.onAfterRendering=function(){if(C.prototype.onAfterRendering){C.prototype.onAfterRendering.apply(this);}this._checkFieldGroups();};b.prototype.onBeforeRendering=function(){var f=this.getInnerControls();var t=this;if(this.getAriaLabelledBy().length>0){f.forEach(function(F){if(F.addAriaLabelledBy&&F.getAriaLabelledBy){if(F.getAriaLabelledBy().length===0){F.addAriaLabelledBy(t.getAriaLabelledBy()[0]);}}});}};b.prototype._checkFieldGroups=function(){var v,m,M=this._getMode();if(this.getBindingContext()&&this._oFactory&&this._oFactory.getMetaData&&M==='edit'&&!this._bSideEffects){m=this._oFactory.getMetaData();if(m&&!m.property||(m.property&&!m.property.property)){return;}v=this._getView();if(v&&m){this._setFieldGroup(m,v);}}};b.prototype._setFieldGroup=function(m,v){var c,i=this._oSideEffects.getFieldGroupIDs(m,v);if(i){c=this.getInnerControls();if(c.length){this._bSideEffects=true;c[0].setFieldGroupIds(i);}}};b.prototype._getView=function(){var o=this.getParent();while(o){if(o instanceof sap.ui.core.mvc.View){return o;}o=o.getParent();}return null;};b.prototype.refreshDataState=function(n,d){var o,c;if(n==='value'){if(d.isLaundering()){if(this.getEditable()){o=this.getBindingContext();if(o&&o.getObject){c=o.getObject();if(c&&c.__metadata&&c.__metadata.created){this._checkCreated=true;return;}}}}if(this._checkCreated&&!d.isLaundering()&&!d.isDirty()){this._oFactory.rebindOnCreated();delete this._checkCreated;}}};b.prototype.exit=function(){this._bInDestroy=true;var i=null;if(this._oSideEffects){this._oSideEffects.destroy();}if(this._oUtil){this._oUtil.destroy();}if(this._oFactory){this._oFactory.destroy();}if(this._oControl){if(this._oControl.current==='edit'){i=this._oControl['display'];}else{i=this._oControl['edit'];}if(this._oControl[this._oControl.current]&&!this._oControl[this._oControl.current].getParent()){this._oControl[this._oControl.current].destroy();}}if(i&&i.destroy){i.destroy();}this._oUtil=null;this._oError=null;this._oValue=null;this._oFactory=null;this._oControl=null;this._oValueBind=null;this._oSideEffects=null;this._sBindingContextPath='';};b.getSupportedAnnotationPaths=function(m,e,v,n){var c,u,r=[],M;if(m&&e&&v){M={entitySet:e,entityType:m.getODataEntityType(e.entityType),path:v};c={helper:new a(null,null,m)};if(n){c.navigationPathOnly=n;}c.helper.getProperty(M);b._getFromEntitySet(r,M,c);b._getFromProperty(r,M,c);u=c.helper.getUnitOfMeasure2(M);if(u){b._getFromProperty(r,u,c);}c.helper.destroy();}return r;};b._getFromEntitySet=function(r,m,c){var p;if(m.entitySet){p=c.helper.oAnnotation.getUpdateEntitySetPath(m.entitySet);b._push(p,r,m,c);}};b._push=function(p,r,m,c){var d,s,e,o,R={};if(p){if(c.navigationPathOnly){d=p.split('/');e=d.length;R.entityType=m.entityType;while(e--){s=d.shift();if(s===''){continue;}R=c.helper.getNavigationProperty(R.entityType,s);if(!R.entitySet){break;}if(o){o=o+'/'+s;}else{o=s;}}}else{o=p;}}if(o){if(m.navigationPath){r.push(m.navigationPath+'/'+o);}else{r.push(o);}}};b._getFromProperty=function(r,m,c){var p;if(m.property.property){p=c.helper.oAnnotation.getText(m.property.property);b._push(p,r,m,c);p=c.helper.oAnnotation.getUnit(m.property.property);b._push(p,r,m,c);p=c.helper.oAnnotation.getFieldControlPath(m.property.property);b._push(p,r,m,c);}};b.prototype.addAssociation=function(A,i,s){if(A==='ariaLabelledBy'){this.getInnerControls().forEach(function(c){if(c.addAriaLabelledBy){c.addAriaLabelledBy(i);}});}C.prototype.addAssociation.apply(this,arguments);};b.prototype.getAccessibilityInfo=function(){var c=this.getAggregation('_content');return c&&c.getAccessibilityInfo?c.getAccessibilityInfo():null;};return b;},true);\n",
	"sap/ui/comp/smartfield/SmartLabel.js":"/*\n * ! SAP UI development toolkit for HTML5 (SAPUI5)\n\n(c) Copyright 2009-2016 SAP SE. All rights reserved\n */\nsap.ui.define(['jquery.sap.global','sap/m/Label','sap/m/LabelRenderer','sap/ui/comp/library','./BindingUtil','./AnnotationHelper','./SmartField'],function(q,L,a,l,B,A,S){'use strict';var b=L.extend('sap.ui.comp.smartfield.SmartLabel',{metadata:{library:'sap.ui.comp'},renderer:a.render});b.prototype.init=function(){this._sSmartFieldId=null;this._bMetaDataApplied=false;this._fInnerControlsCreatedHandlers=null;};b.prototype.bindRequiredPropertyToSmartField=function(){var i=null,o=null;var s=this._getField();if(s&&s.getContextEditable()&&s.getEditable()){o=new B();i=s.getBindingInfo('mandatory');if(i){if(!this.isBound('required')){this.bindProperty('required',o.toBinding(i));}}else{this.setRequired(s.getMandatory());}}else{this.unbindProperty('required');this.setRequired(false);}};b.prototype._bindProperties=function(){var s=this._getField();if(s){var o=new B();var i=s.getBindingInfo('visible');if(i){this.bindProperty('visible',o.toBinding(i));}else{this.setVisible(s.getVisible());}this.bindRequiredPropertyToSmartField();i=s.getBindingInfo('textLabel');if(i){this.bindProperty('text',o.toBinding(i));}else{if(!this.getBindingInfo('text')){this.setText(s.getTextLabel());}}i=s.getBindingInfo('tooltipLabel');if(i){this.bindProperty('tooltip',o.toBinding(i));}else{this.setTooltip(s.getTooltipLabel());}}};b.prototype.getLabelInfo=function(){var m,o;var s=this._getField();if(s){this._bindProperties();m=s.getDataProperty();if(m){o=this._getLabelInfo(m);if(o){if(o.text){this._setProperty(this,'text',o.text);}if(o.quickinfo){this._setProperty(this,'tooltip',o.quickinfo);}}}}};b.prototype._setProperty=function(o,p,v){var P;if(o&&p){if(v.match(/{@i18n>.+}/gi)){o.bindProperty(p,v.substring(1,v.length-1));}else{P=p.substring(0,1).toUpperCase()+p.substring(1);if(!o.getBindingInfo(p)&&!o['get'+P]()){o['set'+P](v);}}}};b.prototype.setLabelFor=function(s){if(s){if(typeof s==='string'){this._sSmartFieldId=s;}else{this._sSmartFieldId=s.getId();}this._setLabelFor();sap.m.Label.prototype.setLabelFor.apply(this,[s]);}};b.prototype._getField=function(){if(this._sSmartFieldId){return sap.ui.getCore().byId(this._sSmartFieldId);}return null;};b.prototype._setLabelFor=function(){var d,s;s=this._getField();if(s&&!this._bMetaDataApplied){this._bMetaDataApplied=true;if(s.getDataProperty){d=s.getDataProperty();if(d){this.getLabelInfo();}else{s.attachInitialise(q.proxy(this.getLabelInfo,this));s.attachEvent('_change',function(e){if(e.getParameter('name')==='textLabel'){this.getLabelInfo();}else if(e.getParameter('name')==='mandatory'){if(this.isBound('required')){this.updateProperty('required');}}}.bind(this));}this._lateUpdateLabelFor(s);}}};b.prototype.updateLabelFor=function(c){var i=c.slice(0);if(i&&i.length>0){sap.m.Label.prototype.setLabelFor.apply(this,[i[0]]);i.splice(0,1);this.updateAriaLabeledBy(i);}};b.prototype.updateAriaLabeledBy=function(c){if(c){for(var i=0;i<c.length;i++){if(c[i].addAriaLabelledBy){c[i].addAriaLabelledBy(this);}}}};b.prototype.setText=function(v){this.setProperty('text',v);};b.prototype._getLabelInfo=function(p){var o=new A();if(p&&p.property){return{text:o.getLabel(p.property),quickinfo:o.getQuickInfo(p.property)};}};b.prototype._delayUpdateLabelFor=function(s){var t=this;if(s.attachInnerControlsCreated&&!this._fInnerControlsCreatedHandlers){this._fInnerControlsCreatedHandlers=function(e){t.updateLabelFor(e.getParameters());};s.attachInnerControlsCreated(this._fInnerControlsCreatedHandlers);}};b.prototype._lateUpdateLabelFor=function(s){var i;if(s&&s instanceof S){i=s.getInnerControls();if(i&&(i.length>0)){this.updateLabelFor(i);}else{this._delayUpdateLabelFor(s);}}};b.prototype.onBeforeRendering=function(){if(this._sSmartFieldId){var s=this._getField();if(!this._bMetaDataApplied||(s&&s instanceof S&&s.getMandatory()!=this.getRequired())){this._bMetaDataApplied=false;if(this.isBound('required')){this.unbindProperty('required');}this._setLabelFor();if(s.getId()===this.getLabelFor()){this._lateUpdateLabelFor(s);}}}};b.prototype.destroy=function(s){if(this._fInnerControlsCreatedHandlers){var o=this._getField();if(o&&o.detachInnerControlsCreated){o.detachInnerControlsCreated(this._fInnerControlsCreatedHandlers);this._fInnerControlsCreatedHandlers=null;}}this._sSmartFieldId=null;L.prototype.destroy.apply(this,[s]);};return b;},true);\n",
	"sap/ui/comp/smartfield/type/AbapBool.js":"/*\n * SAP UI development toolkit for HTML5 (SAPUI5)\n\n(c) Copyright 2009-2016 SAP SE. All rights reserved\n */\nsap.ui.define(['jquery.sap.global','sap/ui/model/FormatException','sap/ui/model/ParseException','sap/ui/model/SimpleType'],function(q,F,P,S){'use strict';var A=S.extend('sap.ui.comp.smartfield.type.AbapBool',{constructor:function(){S.apply(this,arguments);this.sName='sap.ui.comp.smartfield.type.AbapBool';}});A.prototype.formatValue=function(v,t){if(v===undefined||v===null){return null;}switch(t){case'boolean':case'any':return v==='X';default:throw new F(\"Don't know how to format Boolean to \"+t);}};A.prototype.parseValue=function(v,s){switch(s){case'boolean':return(v===true)?'X':'';default:throw new P(\"Don't know how to parse Boolean from \"+s);}};A.prototype.validateValue=function(v){if(v!==null&&v!==undefined){if(v!=='X'&&v!==''){throw new P('Invalid Boolean '+v);}}};return A;},true);\n",
	"sap/ui/comp/smartfield/type/DateTime.js":"/*\n * SAP UI development toolkit for HTML5 (SAPUI5)\n\n(c) Copyright 2009-2016 SAP SE. All rights reserved\n */\nsap.ui.define(['sap/ui/model/odata/type/DateTime'],function(D){'use strict';var a=D.extend('sap.ui.comp.smartfield.type.DateTime',{constructor:function(f,c){D.apply(this,[f,c]);this.oFieldControl=null;}});a.prototype.parseValue=function(v,s){var r=D.prototype.parseValue.apply(this,[v,s]);this.oFieldControl(v,s);return r;};a.prototype.getName=function(){return'sap.ui.comp.smartfield.type.DateTime';};return a;});\n",
	"sap/ui/comp/smartfield/type/DateTimeOffset.js":"/*\n * SAP UI development toolkit for HTML5 (SAPUI5)\n\n(c) Copyright 2009-2016 SAP SE. All rights reserved\n */\nsap.ui.define(['sap/ui/model/odata/type/DateTimeOffset'],function(D){'use strict';var a=D.extend('sap.ui.comp.smartfield.type.DateTimeOffset',{constructor:function(f,c){D.apply(this,[f,c]);this.oFieldControl=null;}});a.prototype.parseValue=function(v,s){var r=D.prototype.parseValue.apply(this,[v,s]);this.oFieldControl(v,s);return r;};a.prototype.getName=function(){return'sap.ui.comp.smartfield.type.DateTimeOffset';};return a;});\n",
	"sap/ui/comp/smartfield/type/Decimal.js":"/*\n * SAP UI development toolkit for HTML5 (SAPUI5)\n\n(c) Copyright 2009-2016 SAP SE. All rights reserved\n */\nsap.ui.define(['sap/ui/model/odata/type/Decimal'],function(D){'use strict';var a=D.extend('sap.ui.comp.smartfield.type.Decimal',{constructor:function(f,c){D.apply(this,[f,c]);this.oFieldControl=null;}});a.prototype.parseValue=function(v,s){var r=D.prototype.parseValue.apply(this,[v,s]);this.oFieldControl(v,s);return r;};a.prototype.getName=function(){return'sap.ui.comp.smartfield.type.Decimal';};return a;});\n",
	"sap/ui/comp/smartfield/type/Int16.js":"/*\n * SAP UI development toolkit for HTML5 (SAPUI5)\n\n(c) Copyright 2009-2016 SAP SE. All rights reserved\n */\nsap.ui.define(['sap/ui/model/odata/type/Int16'],function(I){'use strict';var a=I.extend('sap.ui.comp.smartfield.type.Int16',{constructor:function(f,c){I.apply(this,[f,c]);this.oFieldControl=null;}});a.prototype.parseValue=function(v,s){var r=I.prototype.parseValue.apply(this,[v,s]);this.oFieldControl(v,s);return r;};a.prototype.getName=function(){return'sap.ui.comp.smartfield.type.Int16';};return a;});\n",
	"sap/ui/comp/smartfield/type/Int32.js":"/*\n * SAP UI development toolkit for HTML5 (SAPUI5)\n\n(c) Copyright 2009-2016 SAP SE. All rights reserved\n */\nsap.ui.define(['sap/ui/model/odata/type/Int32'],function(I){'use strict';var a=I.extend('sap.ui.comp.smartfield.type.Int32',{constructor:function(f,c){I.apply(this,[f,c]);this.oFieldControl=null;}});a.prototype.parseValue=function(v,s){var r=I.prototype.parseValue.apply(this,[v,s]);this.oFieldControl(v,s);return r;};a.prototype.getName=function(){return'sap.ui.comp.smartfield.type.Int32';};return a;});\n",
	"sap/ui/comp/smartfield/type/Int64.js":"/*\n * SAP UI development toolkit for HTML5 (SAPUI5)\n\n(c) Copyright 2009-2016 SAP SE. All rights reserved\n */\nsap.ui.define(['sap/ui/model/odata/type/Int64'],function(I){'use strict';var a=I.extend('sap.ui.comp.smartfield.type.Int64',{constructor:function(f,c){I.apply(this,[f,c]);this.oFieldControl=null;}});a.prototype.parseValue=function(v,s){var r=I.prototype.parseValue.apply(this,[v,s]);this.oFieldControl(v,s);return r;};a.prototype.getName=function(){return'sap.ui.comp.smartfield.type.Int64';};return a;});\n",
	"sap/ui/comp/smartfield/type/SByte.js":"/*\n * SAP UI development toolkit for HTML5 (SAPUI5)\n\n(c) Copyright 2009-2016 SAP SE. All rights reserved\n */\nsap.ui.define(['sap/ui/model/odata/type/SByte'],function(S){'use strict';var a=S.extend('sap.ui.comp.smartfield.type.SByte',{constructor:function(f,c){S.apply(this,[f,c]);this.oFieldControl=null;}});a.prototype.parseValue=function(v,s){var r=S.prototype.parseValue.apply(this,[v,s]);this.oFieldControl(v,s);return r;};a.prototype.getName=function(){return'sap.ui.comp.smartfield.type.SByte';};return a;});\n",
	"sap/ui/comp/smartfield/type/String.js":"/*\n * SAP UI development toolkit for HTML5 (SAPUI5)\n\n(c) Copyright 2009-2016 SAP SE. All rights reserved\n */\nsap.ui.define(['sap/ui/model/odata/type/String'],function(S){'use strict';var a=S.extend('sap.ui.comp.smartfield.type.String',{constructor:function(f,c){S.apply(this,[f,c]);this.oFieldControl=null;}});a.prototype.parseValue=function(v,s){var r=S.prototype.parseValue.apply(this,[v,s]);this.oFieldControl(v,s);return r;};a.prototype.getName=function(){return'sap.ui.comp.smartfield.type.String';};return a;});\n",
	"sap/ui/comp/smartfield/type/Time.js":"/*\n * SAP UI development toolkit for HTML5 (SAPUI5)\n\n(c) Copyright 2009-2016 SAP SE. All rights reserved\n */\nsap.ui.define(['sap/ui/model/odata/type/Time'],function(T){'use strict';var a=T.extend('sap.ui.comp.smartfield.type.Time',{constructor:function(f,c){T.apply(this,[f,c]);this.oFieldControl=null;}});a.prototype.parseValue=function(v,s){var r=T.prototype.parseValue.apply(this,[v,s]);this.oFieldControl(v,s);return r;};a.prototype.getName=function(){return'sap.ui.comp.smartfield.type.Time';};return a;});\n",
	"sap/ui/comp/smartfilterbar/AdditionalConfigurationHelper.js":"/*\n * ! SAP UI development toolkit for HTML5 (SAPUI5)\n\n(c) Copyright 2009-2016 SAP SE. All rights reserved\n */\nsap.ui.define(['jquery.sap.global'],function(q){'use strict';var A=function(c,g){this.controlConfiguration=[];this.groupConfiguration=[];this._initialize(c,g);};A.prototype._initialize=function(c,g){var i,l,G,C,o,d,D,j,a,b;if(!c){c=[];}if(!g){g=[];}l=c.length;for(i=0;i<l;i++){C=c[i];o={};o.key=C.getKey();o.groupId=C.getGroupId();o.index=C.getIndex();o.label=C.getLabel();o.isVisible=C.getVisible();o.mandatory=C.getMandatory();o.width=C.getWidth();o.hasValueHelpDialog=C.getHasValueHelpDialog();o.hasTypeAhead=C.getHasTypeAhead();o.controlType=C.getControlType();o.filterType=C.getFilterType();o.customControl=C.getCustomControl();o.visibleInAdvancedArea=C.getVisibleInAdvancedArea();o.preventInitialDataFetchInValueHelpDialog=C.getPreventInitialDataFetchInValueHelpDialog();o.displayBehaviour=C.getDisplayBehaviour();o.defaultFilterValues=[];o.conditionType=C.getConditionType();d=C.getDefaultFilterValues();if(d&&d.length){a=d.length;for(j=0;j<a;j++){D=d[j];b={};b.sign=D.getSign();b.operator=D.getOperator();b.low=D.getLow();b.high=D.getHigh();o.defaultFilterValues.push(b);}}this.controlConfiguration.push(o);}l=g.length;for(i=0;i<l;i++){G=g[i];o={key:G.getKey(),index:G.getIndex(),label:G.getLabel()};this.groupConfiguration.push(o);}};A.prototype.getControlConfigurationByKey=function(k){var i,l;l=this.controlConfiguration.length;for(i=0;i<l;i++){if(this.controlConfiguration[i].key===k){return this.controlConfiguration[i];}}return undefined;};A.prototype.getControlConfiguration=function(){return this.controlConfiguration;};A.prototype.getGroupConfiguration=function(){return this.groupConfiguration;};A.prototype.getGroupConfigurationByKey=function(k){var i,l;l=this.groupConfiguration.length;for(i=0;i<l;i++){if(this.groupConfiguration[i].key===k){return this.groupConfiguration[i];}}return undefined;};return A;},true);\n",
	"sap/ui/comp/smartfilterbar/ControlConfiguration.js":"/*\n * ! SAP UI development toolkit for HTML5 (SAPUI5)\n\n(c) Copyright 2009-2016 SAP SE. All rights reserved\n */\nsap.ui.define(['jquery.sap.global','sap/ui/comp/library','sap/ui/core/Element'],function(q,l,E){'use strict';var C=E.extend('sap.ui.comp.smartfilterbar.ControlConfiguration',{metadata:{library:'sap.ui.comp',properties:{key:{type:'string',group:'Misc',defaultValue:null},groupId:{type:'string',group:'Misc',defaultValue:null},label:{type:'string',group:'Misc',defaultValue:null},visible:{type:'boolean',group:'Misc',defaultValue:true},hasValueHelpDialog:{type:'boolean',group:'Misc',defaultValue:true},controlType:{type:'sap.ui.comp.smartfilterbar.ControlType',group:'Misc',defaultValue:'auto'},filterType:{type:'sap.ui.comp.smartfilterbar.FilterType',group:'Misc',defaultValue:'auto'},index:{type:'int',group:'Misc',defaultValue:-1},hasTypeAhead:{type:'boolean',group:'Misc',defaultValue:true},mandatory:{type:'sap.ui.comp.smartfilterbar.MandatoryType',group:'Misc',defaultValue:'auto'},width:{type:'string',group:'Misc',defaultValue:null},visibleInAdvancedArea:{type:'boolean',group:'Misc',defaultValue:false},preventInitialDataFetchInValueHelpDialog:{type:'boolean',group:'Misc',defaultValue:true},displayBehaviour:{type:'sap.ui.comp.smartfilterbar.DisplayBehaviour',group:'Misc',defaultValue:'auto'},conditionType:{type:'any',group:'Misc',defaultValue:null}},aggregations:{defaultFilterValues:{type:'sap.ui.comp.smartfilterbar.SelectOption',multiple:true,singularName:'defaultFilterValue'},customControl:{type:'sap.ui.core.Control',multiple:false}},events:{change:{parameters:{propertyName:{type:'string'}}}}}});C.prototype.setVisible=function(i){this.setProperty('visible',i);this.fireChange({propertyName:'visible'});};C.prototype.setLabel=function(L){this.setProperty('label',L);this.fireChange({propertyName:'label'});};C.prototype.setVisibleInAdvancedArea=function(v){this.setProperty('visibleInAdvancedArea',v);this.fireChange({propertyName:'visibleInAdvancedArea'});};C.FILTERTYPE=sap.ui.comp.smartfilterbar.FilterType;C.CONTROLTYPE=sap.ui.comp.smartfilterbar.ControlType;C.MANDATORY=sap.ui.comp.smartfilterbar.MandatoryType;C.DISPLAYBEHAVIOUR=sap.ui.comp.smartfilterbar.DisplayBehaviour;return C;},true);\n",
	"sap/ui/comp/smartfilterbar/FilterProvider.js":"/*\n * ! SAP UI development toolkit for HTML5 (SAPUI5)\n\n(c) Copyright 2009-2016 SAP SE. All rights reserved\n */\nsap.ui.define(['jquery.sap.global','sap/m/ComboBox','sap/m/DatePicker','sap/m/DateRangeSelection','sap/m/TimePicker','sap/m/Input','sap/m/MultiComboBox','sap/m/MultiInput','sap/m/SearchField','sap/m/Token','sap/ui/comp/odata/MetadataAnalyser','sap/ui/comp/providers/ValueHelpProvider','sap/ui/comp/providers/ValueListProvider','sap/ui/model/Filter','sap/ui/model/json/JSONModel','sap/ui/comp/odata/ODataType','sap/ui/comp/util/FormatUtil','sap/ui/base/EventProvider','sap/ui/comp/util/IdentifierUtil'],function(q,C,D,a,T,I,M,b,S,c,d,V,f,F,J,O,g,E,h){'use strict';var l=function(p){this._bInitialized=false;this._bPending=true;this._bConsiderAnalyticalParameters=false;if(p){this._oParentODataModel=p.model;this._sServiceURL=p.serviceUrl;this._sBasicSearchFieldName=p.basicSearchFieldName;this._isBasicSearchEnabled=p.enableBasicSearch;this._bUseContainsAsDefault=p.useContainsAsDefaultFilter==='true';this.sEntityType=p.entityType;this.sEntitySet=p.entitySet;this._isRunningInValueHelpDialog=p.isRunningInValueHelpDialog;this._oAdditionalConfiguration=p.additionalConfiguration;this.sDefaultDropDownDisplayBehaviour=p.defaultDropDownDisplayBehaviour;this.sDefaultTokenDisplayBehaviour=p.defaultTokenDisplayBehaviour;if(typeof p.dateFormatSettings==='string'){try{this._oDateFormatSettings=p.dateFormatSettings?JSON.parse(p.dateFormatSettings):undefined;}catch(e){}}else{this._oDateFormatSettings=p.dateFormatSettings;}this._oSmartFilter=p.smartFilter;this._bConsiderAnalyticalParameters=p.considerAnalyticalParameters;}this.sFilterModelName=l.FILTER_MODEL_NAME;this._sBasicFilterAreaID=l.BASIC_FILTER_AREA_ID;this._aAnalyticalParameters=[];this._aFilterBarViewMetadata=[];this._aFilterBarFieldNames=[];this._aFilterBarMultiValueFieldMetadata=[];this._aFilterBarDateFieldNames=[];this._aFilterBarTimeFieldNames=[];this._aFilterBarTimeIntervalFieldNames=[];this._aFilterBarDateTimeMultiValueFieldNames=[];this._aFilterBarStringFieldNames=[];this._aFieldGroupAnnotation=[];this._oMetadataAnalyser=new d(this._oParentODataModel||this._sServiceURL);this.oModel=new J();this._aValueListProvider=[];this._aValueHelpDialogProvider=[];this._mConditionTypeFields={};this._intialiseMetadata();this._bInitialized=true;};l.FILTER_MODEL_NAME='fi1t3rM0d31';l.BASIC_FILTER_AREA_ID='_BASIC';l.BASIC_SEARCH_FIELD_ID='_BASIC_SEARCH_FIELD';l.CUSTOM_FIELDS_MODEL_PROPERTY='_CUSTOM';l.FIELD_NAME_REGEX=/\\./g;l.prototype._intialiseMetadata=function(){var G,e,s,o,k,i,j,m,n,p,r,t;this._aFilterBarViewMetadata.push({groupName:this._sBasicFilterAreaID,index:0,fields:[]});if(!this.sEntitySet&&this.sEntityType){this.sEntitySet=this._oMetadataAnalyser.getEntitySetNameFromEntityTypeName(this.sEntityType);}this.sEntityType=this._oMetadataAnalyser.getEntityTypeNameFromEntitySetName(this.sEntitySet);k=this._oMetadataAnalyser.getAllFilterableFieldsByEntitySetName(this.sEntitySet);if(k){this._updateDisplayBehaviour();this._aFieldGroupAnnotation=this._oMetadataAnalyser.getFieldGroupAnnotation(this.sEntityType);s=this._oMetadataAnalyser.getSelectionFieldsAnnotation(this.sEntityType);if(s&&s.selectionFields){this._aSelectionFields=s.selectionFields;}if(this._aFieldGroupAnnotation){G=this._aFieldGroupAnnotation.length;for(i=0;i<G;i++){o=this._aFieldGroupAnnotation[i];p=this._createGroupMetadata(o);p.index=this._aFilterBarViewMetadata.length;this._aFilterBarViewMetadata.push(p);}}G=k.length;for(i=0;i<G;i++){o=k[i];e=o.fields.length;p=this._createGroupMetadata(o);this._aFilterBarViewMetadata.push(p);for(j=0;j<e;j++){m=o.fields[j];if(m.type.indexOf('Edm.')===0){n=this._createFieldMetadata(m);p.fields.push(n);this._aFilterBarFieldNames.push(n.fieldName);}}}}t=this._getAdditionalConfigurationForCustomGroups(k);G=t.length;for(j=0;j<G;j++){p=this._createGroupMetadataForCustomGroup(t[j]);if(p){this._aFilterBarViewMetadata.push(p);}}r=this._getAdditionalConfigurationForCustomFilterFields();e=r.length;for(j=0;j<e;j++){n=this._createFieldMetadataForCustomFilterFields(r[j]);if(n){this._aFilterBarViewMetadata[0].fields.push(n);}}if(this._hasBasicSearch()){n=this._createBasicSearchFieldMetadata();this._aFilterBarViewMetadata[0].fields.push(n);}if(this._bConsiderAnalyticalParameters){this._createAnalyticalParameters();}this._applyGroupId();this._applyIndexes();this._createInitialModel(true);this._initializeConditionTypeFields();this.setPending(this.isPending());};l.prototype._createAnalyticalParameters=function(){var o;if(this._oMetadataAnalyser.isSemanticAggregation(this.sEntityType)){q.sap.require('sap.ui.model.analytics.odata4analytics');try{o=new sap.ui.model.analytics.odata4analytics.Model(new sap.ui.model.analytics.odata4analytics.Model.ReferenceByModel(this._oParentODataModel));}catch(e){throw'Failed to instantiate analytical extensions for given OData model: '+e.message;}var Q=o&&o.findQueryResultByName(this.sEntitySet);this._oParameterization=Q&&Q.getParameterization();this._createAnalyticParameters(this._oParameterization);}};l.prototype.attachPendingChange=function(e){if(!this._oEventProvider){this._oEventProvider=new E();}this._oEventProvider.attachEvent('PendingChange',e);};l.prototype.detachPendingChange=function(e){if(this._oEventProvider){this._oEventProvider.detachEvent('PendingChange',e);}};l.prototype.setPending=function(v){var e=this._bPending!==v;this._bPending=v;if(e&&this._oEventProvider){var p={};p.pending=v;this._oEventProvider.fireEvent('PendingChange',p);}};l.prototype.isPending=function(){if(!this._bInitialized){return true;}for(var n in this._mConditionTypeFields){if(this._mConditionTypeFields[n].conditionType.isPending()){return true;}}return false;};l.prototype._updateDisplayBehaviour=function(){this._sTextArrangementDisplayBehaviour=this._oMetadataAnalyser.getTextArrangementValue(this.sEntityType);if(!this.sDefaultDropDownDisplayBehaviour){if(this._sTextArrangementDisplayBehaviour){this.sDefaultDropDownDisplayBehaviour=this._sTextArrangementDisplayBehaviour;}else{this.sDefaultDropDownDisplayBehaviour=sap.ui.comp.smartfilterbar.DisplayBehaviour.descriptionOnly;}}if(!this.sDefaultTokenDisplayBehaviour){if(this._sTextArrangementDisplayBehaviour){this.sDefaultTokenDisplayBehaviour=this._sTextArrangementDisplayBehaviour;}else{this.sDefaultTokenDisplayBehaviour=sap.ui.comp.smartfilterbar.DisplayBehaviour.descriptionAndId;}}};l.prototype._hasBasicSearch=function(){return this._isBasicSearchEnabled;};l.prototype._getAdditionalConfigurationForCustomFilterFields=function(){var e,j,i,r;if(!this._oAdditionalConfiguration){return[];}e=this._oAdditionalConfiguration.getControlConfiguration();if(!this._aFilterBarFieldNames||!this._aFilterBarFieldNames.length){return e;}r=[];j=e.length;for(i=0;i<j;i++){if(this._aFilterBarFieldNames.indexOf(e[i].key)<0){r.push(e[i]);}}return r;};l.prototype._getAdditionalConfigurationForCustomGroups=function(o){var G,e,n,i,r,j,k,s;if(!this._oAdditionalConfiguration){return[];}G=this._oAdditionalConfiguration.getGroupConfiguration();if(!o||!o.length){return G;}r=[];n=o.length;e=G.length;for(i=0;i<e;i++){k=false;for(j=0;j<n;j++){s=o[j].groupName||o[j].groupEntityName;if(s===G[i].key){k=true;break;}}if(!k){r.push(G[i]);}}return r;};l.prototype._createInitialModelForField=function(j,o,u){var e,i,H=false,k=false,L=null,s=null,m,n=null,p=[],r=[];if(!o||o.isCustomFilterField){return;}if(o.filterRestriction!==sap.ui.comp.smartfilterbar.FilterType.multiple){k=true;}if(u){e=o.defaultFilterValues;H=e&&e.length;}if(o.filterRestriction===sap.ui.comp.smartfilterbar.FilterType.single){if(H){i=e[0];L=i.low;}j[o.fieldName]=L;}else if(o.filterRestriction===sap.ui.comp.smartfilterbar.FilterType.interval&&o.type!=='Edm.Time'){if(H){i=e[0];L=i.low;s=i.high;}j[o.fieldName]={low:L,high:s};}else{if(H){m=e.length;while(m--){i=e[m];if(k){n={'exclude':i.sign==='E','operation':i.operator==='CP'?'Contains':i.operator,'keyField':o.fieldName,'value1':i.low,'value2':i.high};}else{n={key:i.low,text:i.low};}p.push(n);}}this._aFilterBarMultiValueFieldMetadata.push(o);j[o.fieldName]={value:null};if(k){r=p.slice(0);p=[];j[o.fieldName].ranges=r;}j[o.fieldName].items=p;this._updateMultiValueControl(o.control,p,r);}};l.prototype._createInitialModel=function(u){var o,G,e,k,j,i;o={};this._bCreatingInitialModel=true;this._aFilterBarMultiValueFieldMetadata=[];if(this._aFilterBarViewMetadata){G=this._aFilterBarViewMetadata.length;for(i=0;i<G;i++){k=this._aFilterBarViewMetadata[i];e=k.fields.length;for(j=0;j<e;j++){this._createInitialModelForField(o,k.fields[j],u);}}}if(this._aAnalyticalParameters){e=this._aAnalyticalParameters.length;for(j=0;j<e;j++){this._createInitialModelForField(o,this._aAnalyticalParameters[j],u);}}this.oModel.setData(o);if(!u){this._clearConditionTypeFields();}this._updateConditionTypeFields();this._bCreatingInitialModel=false;};l.prototype._updateMultiValueControl=function(o,e,r){var i=0,t=null,j=null,R=null,s=null,k=null;if(o&&e){i=e.length;if(o instanceof b){t=[];while(i--){s=e[i].text||e[i].key;t.push(new c({key:e[i].key,text:s,tooltip:s}));}if(r){i=r.length;while(i--){R=r[i];if(R.tokenText){s=R.tokenText;}else{s=g.getFormattedRangeText(R.operation,R.value1,R.value2,R.exclude);}j=new c({text:s,tooltip:s});j.data('range',R);t.push(j);}}o.setTokens(t);}if(o instanceof M){k=[];while(i--){k.push(e[i].key);}o.setSelectedKeys(k);}}};l.prototype._applyIndexes=function(){var e,i;if(!this._aFilterBarViewMetadata){return;}this._aFilterBarViewMetadata=this._sortByIndex(this._aFilterBarViewMetadata);e=this._aFilterBarViewMetadata.length;for(i=0;i<e;i++){if(this._aFilterBarViewMetadata[i].fields){this._aFilterBarViewMetadata[i].fields=this._sortByIndex(this._aFilterBarViewMetadata[i].fields);}}};l.prototype._sortByIndex=function(A){var e,i,j,r,k,o;if(!A||!A.length){return A;}r=[];e=[];j=A.length;for(i=0;i<j;i++){o=A[i];k=o.index;if(k>=0){e.push(o);}else{r.push(o);}}j=e.length;if(j){e=e.sort(function(m,n){return m.index-n.index;});if(!r.length){r=e;}else{for(i=0;i<j;i++){o=e[i];if(o.index>=r.length){r.push(o);}else{r.splice(o.index,0,o);}}}}return r;};l.prototype._applyGroupId=function(){var e,i,m,j,o,n,k;e=this._aFilterBarViewMetadata.length;for(i=0;i<e;i++){if(!this._aFilterBarViewMetadata[i].fields){continue;}m=this._aFilterBarViewMetadata[i].fields.length;for(j=0;j<m;j++){o=this._aFilterBarViewMetadata[i].fields[j];if(o&&o.groupId&&o.groupId!==this._aFilterBarViewMetadata[i].groupName){n=undefined;for(k=0;k<e;k++){if(this._aFilterBarViewMetadata[k].groupName===o.groupId){n=this._aFilterBarViewMetadata[k];break;}}if(n){this._aFilterBarViewMetadata[i].fields.splice(j,1);j--;m--;n.fields=n.fields||[];n.fields.push(o);}}}}};l.prototype._createFilterControlId=function(o){var s=this._oSmartFilter.getId();var G=h.replace(o.groupName||'');var n=h.replace(o.name);return s+'-filterItemControl'+G+'-'+n;};l.prototype._createGroupMetadata=function(o){var G,e,s;s=o.groupName||o.groupEntityName;e=this._oAdditionalConfiguration.getGroupConfigurationByKey(s);G={};G.groupName=s;G.groupLabel=this._getGroupLabel(o,e);G.fields=[];G.index=this._getGroupIndex(e);return G;};l.prototype._createGroupMetadataForCustomGroup=function(G){var o;o={};o.groupName=G.key;o.groupLabel=G.label;o.fields=[];o.index=this._getGroupIndex(G);return o;};l.prototype._createControl=function(o){var e,t,i=false,j,k={},m,n;if(o.customControl){return o.customControl;}if(o.precision||o.scale){k.precision=o.precision;k.scale=o.scale;}if(o.maxLength){k.maxLength=o.maxLength;}if(o.displayFormat){k.displayFormat=o.displayFormat;}if(o.fControlConstructor===a||o.fControlConstructor===D){j=this._oDateFormatSettings;}t=O.getType(o.type,j,k);e=new o.fControlConstructor(this._createFilterControlId(o));if(o.fControlConstructor===a){e.bindProperty('dateValue',this.sFilterModelName+'>/'+o.fieldName+'/low');e.bindProperty('secondDateValue',this.sFilterModelName+'>/'+o.fieldName+'/high');}else if(o.fControlConstructor===C){if(e.setForceSelection){e.setForceSelection(true);}this._associateValueList(e,'items',o);e.attachSelectionChange(function(){if(this._bUpdatingFilterData||this._bCreatingInitialModel){return;}e.fireChange({filterChangeReason:o.fieldName,value:''});}.bind(this));e.bindProperty('selectedKey',this.sFilterModelName+'>/'+o.fieldName);}else if(o.fControlConstructor===M){this._associateValueList(e,'items',o);e.attachSelectionChange(function(p){if(this._bUpdatingFilterData||this._bCreatingInitialModel){return;}var r=p.getSource(),s=null,K=[],L;s=r.getSelectedItems();if(s){L=s.length;while(L--){K.push({key:s[L].getKey(),text:s[L].getText()});}}if(this.oModel){this.oModel.setProperty('/'+o.fieldName+'/items',K);}r.fireChange({filterChangeReason:o.fieldName,value:''});}.bind(this));e.bindProperty('value',this.sFilterModelName+'>/'+o.fieldName+'/value');}else if(o.fControlConstructor===b){if(o.controlType===sap.ui.comp.smartfilterbar.ControlType.date||o.type==='Edm.Time'){e.setValueHelpOnly(true);if(o.filterRestriction===sap.ui.comp.smartfilterbar.FilterType.interval){this._associateValueHelpDialog(e,o,false,false);}else{this._associateValueHelpDialog(e,o,true,true);}}else{if(o.hasValueHelpDialog){this._associateValueHelpDialog(e,o,o.filterRestriction!==sap.ui.comp.smartfilterbar.FilterType.multiple,true);}else{e.setShowValueHelp(false);}e.bindProperty('value',{path:this.sFilterModelName+'>/'+o.fieldName+'/value',type:t});}this._handleMultiInput(e,o,t);}else if(o.fControlConstructor===I){if(o.filterRestriction===sap.ui.comp.smartfilterbar.FilterType.interval){i=true;e.bindProperty('value',this.sFilterModelName+'>/'+o.fieldName+'/low');if(!this.oResourceBundle){this.oResourceBundle=sap.ui.getCore().getLibraryResourceBundle('sap.ui.comp');}if(!this.sIntervalPlaceholder){this.sIntervalPlaceholder=this.oResourceBundle.getText('INTERVAL_PLACEHOLDER_TEXT');}e.setPlaceholder(this.sIntervalPlaceholder);}else{e.bindProperty('value',{path:this.sFilterModelName+'>/'+o.fieldName,type:t});}if(o.hasValueHelpDialog){e.setShowValueHelp(true);this._associateValueHelpDialog(e,o,false,false);}}else if(o.fControlConstructor===D||o.fControlConstructor===T){e.bindProperty('dateValue',this.sFilterModelName+'>/'+o.fieldName);}if(e instanceof D){if(this._oDateFormatSettings&&this._oDateFormatSettings.style){e.setDisplayFormat(this._oDateFormatSettings.style);}e.attachChange(function(p){var v=p.getParameter('valid');e.data('__mandatoryEmpty',null);if(v){e.setValueState(sap.ui.core.ValueState.None);e.setValueStateText();}else{e.setValueState(sap.ui.core.ValueState.Error);if(t){try{t.parseValue('foo','string');}catch(r){e.setValueStateText(r.message);}}}});}if(o.hasTypeAhead){e.setShowSuggestion(true);e.setFilterSuggests(false);this._associateValueList(e,'suggestionRows',o,true);}if(o.displayFormat==='UpperCase'&&e.attachChange&&e.setValue){e.attachChange(function(){var v=e.getValue();if(v){e.setValue(v.toUpperCase());}});}if(e instanceof I){if(!o.hasValueListAnnotation&&!i&&o.maxLength){m=parseInt(o.maxLength,10);if(!isNaN(m)){e.setMaxLength(m);}}}n=function(p){var r=p.getParameter('exception');if(e){if(r){if(e.setValueStateText){e.setValueStateText(r.message);}}if(e.setValueState){e.setValueState(sap.ui.core.ValueState.Error);}e.data('__mandatoryEmpty',null);}};e.attachParseError(n);e.attachFormatError(n);e.attachValidationError(n);e.attachValidationSuccess(function(p){if(e){if(e.setValueState){e.setValueState(sap.ui.core.ValueState.None);}if(e.setValueStateText){e.setValueStateText();}e.data('__mandatoryEmpty',null);delete e.__sValidationText;}});return e;};l.prototype._getControlConstructor=function(o){var e=I,i,j;if(o.isCustomFilterField){e=undefined;}else{i=(o.filterRestriction===sap.ui.comp.smartfilterbar.FilterType.single);j=(o.filterRestriction===sap.ui.comp.smartfilterbar.FilterType.interval);if(o.controlType===sap.ui.comp.smartfilterbar.ControlType.date){o.displayFormat='Date';if(i){e=D;}else{e=j?a:b;}this._aFilterBarDateFieldNames.push(o.fieldName);if(o.filterRestriction===sap.ui.comp.smartfilterbar.FilterType.multiple){this._aFilterBarDateTimeMultiValueFieldNames.push(o.fieldName);}}else if(o.controlType===sap.ui.comp.smartfilterbar.ControlType.dropDownList){e=(i)?C:M;if(!i){o.filterRestriction=sap.ui.comp.smartfilterbar.FilterType.multiple;}}else if(o.type==='Edm.Time'){if(i){e=T;}else{e=b;}this._aFilterBarTimeFieldNames.push(o.fieldName);if(j){this._aFilterBarTimeIntervalFieldNames.push(o.fieldName);}else if(o.filterRestriction===sap.ui.comp.smartfilterbar.FilterType.multiple){this._aFilterBarDateTimeMultiValueFieldNames.push(o.fieldName);}}else if(!i&&!j){e=b;}}return e;};l.prototype._handleMultiInput=function(o,e,t){o.setEnableMultiLineMode(true);o.attachTokenChange(function(k){if(this._bUpdatingFilterData||this._bCreatingInitialModel||k.getParameter('type')!=='tokensChanged'){return;}var m=k.getSource().getTokens(),n=[],L,p=null,r=null,R=[];if(m){L=m.length;while(L--){p=m[L];r=p.data('range');if(r){r.tokenText=p.getText();R.push(r);}else{n.push({key:p.getKey(),text:p.getText()});}}}if(this.oModel){this.oModel.setProperty('/'+e.fieldName+'/items',n);this.oModel.setProperty('/'+e.fieldName+'/ranges',R);}o.fireChange({filterChangeReason:e.fieldName,value:''});}.bind(this));var i,j=((e.type==='Edm.DateTime'&&e.displayFormat==='Date'));if(e.hasValueListAnnotation||(e.type==='Edm.String')||j){o.attachEvent('_validateOnPaste',function(k){var m=k.getParameter('texts'),p,L,s,n,r;L=m?m.length:0;if(L>1){k.preventDefault();p=this.oModel.getProperty('/'+e.fieldName);r=p.ranges||[];o.setValue('');while(L--){s=m[L];if(s){n=null;if(j){i=this._getDateValue(s,t);if(isNaN(i.getDate())){continue;}else{n=s;s=i;}}r.push({'exclude':false,'operation':'EQ','keyField':e.fieldName,'value1':s,'value2':null,'tokenText':n});}}this.oModel.setProperty('/'+e.fieldName+'/ranges',r);this._updateMultiValueControl(o,p.items,r);}}.bind(this));}};l.prototype._getDateValue=function(v,t){var o;try{o=t.parseValue(v,'string');if(o){return o;}}catch(e){}return new Date(v);};l.prototype._associateValueHelpDialog=function(o,e,s,i){this._aValueHelpDialogProvider.push(new V({loadAnnotation:e.hasValueListAnnotation,fullyQualifiedFieldName:e.fullName,metadataAnalyser:this._oMetadataAnalyser,control:o,filterModel:this.oModel,filterProvider:this,model:this._oParentODataModel,preventInitialDataFetchInValueHelpDialog:e.preventInitialDataFetchInValueHelpDialog,dateFormatSettings:this._oDateFormatSettings,supportMultiSelect:i,supportRanges:s,isUnrestrictedFilter:e.filterRestriction!==sap.ui.comp.smartfilterbar.FilterType.multiple,isSingleIntervalRange:e.filterRestriction===sap.ui.comp.smartfilterbar.FilterType.interval,fieldName:e.fieldName,type:e.filterType,scale:e.scale,precision:e.precision,maxLength:e.maxLength,displayFormat:e.displayFormat,displayBehaviour:e.displayBehaviour,title:e.label}));};l.prototype._associateValueList=function(o,A,e,H){if(e.hasValueListAnnotation){this._aValueListProvider.push(new f({control:o,fieldName:e.fieldName,typeAheadEnabled:H,aggregation:A,displayFormat:e.displayFormat,displayBehaviour:e.displayBehaviour,dateFormatSettings:this._oDateFormatSettings,loadAnnotation:true,fullyQualifiedFieldName:e.fullName,metadataAnalyser:this._oMetadataAnalyser,filterModel:this.oModel,filterProvider:this,model:this._oParentODataModel}));}};l.prototype._createAnalyticParameters=function(p){var e,o,P,j,k;if(p){P=p.getAllParameterNames();o=p.getEntitySet();if(o){e=p.getEntitySet().getQName();k=this._oMetadataAnalyser.getFieldsByEntitySetName(e);for(var i=0;i<k.length;i++){if(P.indexOf(k[i].name)>=0){j=this._createAnalyticParameterMetadata(k[i]);this._aAnalyticalParameters.push(j);}}}}};l.prototype._createAnalyticParameterMetadata=function(p){p.filterRestriction='single-value';var o=this._createFieldMetadata(p);o.fieldName='$Parameter.'+p.name;o.isMandatory=true;o.isParameter=true;o.visibleInAdvancedArea=true;return o;};l.prototype.getAnalyticParameters=function(){return this._aAnalyticalParameters;};l.prototype.getAnalyticBindingPath=function(){var v,p=[],P=this.getAnalyticParameters();P.forEach(function(o){p.push(o.fieldName);});v=this.getFilledFilterData(p);return this._createAnalyticBindingPath(P,v);};l.prototype._createAnalyticBindingPath=function(p,v){var s,P='',o;o=this._getParameterizationRequest(this._oParameterization);if(o){p.forEach(function(e){s=v[e.fieldName];if(!s){s='';}o.setParameterValue(e.name,s);});P=o.getURIToParameterizationEntry()+'/'+this._oParameterization.getNavigationPropertyToQueryResult();}return P;};l.prototype._getParameterizationRequest=function(){return this._oParameterization?new sap.ui.model.analytics.odata4analytics.ParameterizationRequest(this._oParameterization):null;};l.prototype._createFieldMetadata=function(o){var e,i;o.fieldName=this._getFieldName(o);o.fieldNameOData=o.fieldName.replace(l.FIELD_NAME_REGEX,'/');i=this._oAdditionalConfiguration.getControlConfigurationByKey(o.fieldName);e=q.extend({},o);e.filterRestriction=this._getFilterRestriction(o,i);this._updateValueListMetadata(e,o);e.hasValueHelpDialog=this._hasValueHelpDialog(e,i);e.preventInitialDataFetchInValueHelpDialog=i?i.preventInitialDataFetchInValueHelpDialog:true;e.controlType=this._getControlType(e,i);if(i&&i.displayBehaviour&&i.displayBehaviour!=='auto'){e.displayBehaviour=i.displayBehaviour;}e.isCustomFilterField=!!(i&&i.customControl);e.visibleInAdvancedArea=!!(i&&i.visibleInAdvancedArea);e.label=this._getLabel(o,i);e.isMandatory=this._isMandatory(o,i);e.width=this._getWidth(i);e.isVisible=this._isVisible(i);e.groupId=this._getGroupID(o,i);e.index=this._getIndex(o,i);e.fControlConstructor=this._getControlConstructor(e);e.filterType=this._getFilterType(e);e.hasTypeAhead=this._hasTypeAhead(e,o,i);e.customControl=i?i.customControl:undefined;e.fCreateControl=function(n){var p,r;n.control=this._createControl(n);p=this.oModel.getData();r=p[n.fieldName];if(r){this._updateMultiValueControl(n.control,r.items,r.ranges);}}.bind(this);this._applyWidth(e);e.defaultFilterValues=i?i.defaultFilterValues:undefined;if(e.type==='Edm.String'){this._aFilterBarStringFieldNames.push(e.fieldName);}e.conditionType=null;var j=i?i.conditionType:null;if(j){var s='';if(typeof j==='object'){s=j.module;delete j.module;}else{s=j;j=null;}try{q.sap.require(s);var k=q.sap.getObject(s);if(k){e.conditionType=new k(e.fieldName,this,e);this._mConditionTypeFields[e.fieldName]=e;}if(j){e.conditionType.applySettings(j);}}catch(m){q.sap.log.error('Module '+s+' could not be loaded');}}return e;};l.prototype._getFilterType=function(o){if(O.isNumeric(o.type)){return'numeric';}else if(o.type==='Edm.DateTime'&&o.displayFormat==='Date'){return'date';}else if(o.type==='Edm.String'){return'string';}else if(o.type==='Edm.Boolean'){return'boolean';}else if(o.type==='Edm.Time'){return'time';}return undefined;};l.prototype._updateValueListMetadata=function(o,e){o.hasValueListAnnotation=e['sap:value-list']!==undefined;if(o.hasValueListAnnotation){o.hasFixedValues=e['sap:value-list']==='fixed-values';}else if(e['com.sap.vocabularies.Common.v1.ValueList']){o.hasValueListAnnotation=true;o.hasFixedValues=this._oMetadataAnalyser.getValueListSemantics(e['com.sap.vocabularies.Common.v1.ValueList'])==='fixed-values';}};l.prototype._createBasicSearchFieldMetadata=function(){var o;var r=sap.ui.getCore().getLibraryResourceBundle('sap.ui.comp');o={};o.filterRestriction=sap.ui.comp.smartfilterbar.FilterType.single;o.name=l.BASIC_SEARCH_FIELD_ID;o.fieldName=l.BASIC_SEARCH_FIELD_ID;o.label=undefined;o.isMandatory=false;o.isVisible=true;o.groupId=l.BASIC_FILTER_AREA_ID;o.index=-1;o.control=new S(this._oSmartFilter.getId()+'-btnBasicSearch',{showSearchButton:true});if(!this._isRunningInValueHelpDialog){o.control.setPlaceholder(r.getText('FILTER_BAR_BSEARCH_PLACE_HOLDER'));}o.control.bindProperty('value',this.sFilterModelName+'>/'+o.fieldName);return o;};l.prototype._applyWidth=function(o){if(o&&o.width&&o.control&&o.control.setWidth&&(typeof o.control.setWidth==='function')){o.control.setWidth(o.width);}};l.prototype._createFieldMetadataForCustomFilterFields=function(o){var e;if(!o||!o.customControl){return undefined;}e={};e.name=o.key;e.fieldName=o.key;e.label=o.label;e.visibleInAdvancedArea=!!(o&&o.visibleInAdvancedArea);e.isVisible=this._isVisible(o);e.groupId=o.groupId;e.isMandatory=this._isMandatory(undefined,o);e.index=o.index;e.width=this._getWidth(o);e.control=o.customControl;e.isCustomFilterField=true;this._applyWidth(e);return e;};l.prototype._getFieldName=function(o){if(!o.parentPropertyName){return o.name;}else{return o.parentPropertyName+'.'+o.name;}};l.prototype._hasValueHelpDialog=function(o,e){var v=true;if(e){if(e.controlType===sap.ui.comp.smartfilterbar.ControlType.dropDownList){v=false;}else if(e.hasValueHelpDialog!==true){v=false;}}if(o&&!o.hasValueListAnnotation){if(o.filterRestriction===sap.ui.comp.smartfilterbar.FilterType.single||o.filterRestriction===sap.ui.comp.smartfilterbar.FilterType.multiple){v=false;}}return v;};l.prototype._isVisible=function(o){if(o&&o.isVisible===false){return false;}return true;};l.prototype._getWidth=function(o){if(o&&o.width){return o.width;}return undefined;};l.prototype._isMandatory=function(o,e){if(e&&e.mandatory!==sap.ui.comp.smartfilterbar.MandatoryType.auto){return e.mandatory===sap.ui.comp.smartfilterbar.MandatoryType.mandatory;}if(o){return o.requiredFilterField;}return false;};l.prototype._getFilterRestriction=function(o,e){var s;if(e&&e.filterType&&e.filterType!==sap.ui.comp.smartfilterbar.FilterType.auto){s=e.filterType;}else if(o.filterRestriction==='single-value'){s=sap.ui.comp.smartfilterbar.FilterType.single;}else if(o.filterRestriction==='multi-value'){s=sap.ui.comp.smartfilterbar.FilterType.multiple;}else if(o.filterRestriction==='interval'){s=sap.ui.comp.smartfilterbar.FilterType.interval;}else{s=sap.ui.comp.smartfilterbar.FilterType.auto;}return s;};l.prototype._getControlType=function(o,e){var s;if(e&&e.controlType&&e.controlType!==sap.ui.comp.smartfilterbar.ControlType.auto){s=e.controlType;}else if(o.type==='Edm.DateTime'&&o.displayFormat==='Date'){s=sap.ui.comp.smartfilterbar.ControlType.date;}else if(o.hasValueListAnnotation&&o.hasFixedValues){s=sap.ui.comp.smartfilterbar.ControlType.dropDownList;}else{s=sap.ui.comp.smartfilterbar.ControlType.input;}return s;};l.prototype._getGroupID=function(o,e){if(e&&e.groupId){return e.groupId;}else if(o&&(o.requiredFilterField||(this._aSelectionFields&&this._aSelectionFields.indexOf(o.fieldNameOData)>-1))){return this._sBasicFilterAreaID;}return this._getGroupIDFromFieldGroup(o);};l.prototype._getGroupIDFromFieldGroup=function(o){var L=0,e=null,G;if(o&&this._aFieldGroupAnnotation&&this._aFieldGroupAnnotation.length){L=this._aFieldGroupAnnotation.length;while(L--){e=this._aFieldGroupAnnotation[L];if(e&&e.fields&&e.fields.indexOf(o.fieldNameOData)>-1){G=e.groupName;break;}}}return G;};l.prototype._getLabel=function(o,e){if(e&&e.label){return e.label;}return this._getLabelFromFieldGroup(o)||o.fieldLabel||o.fieldName;};l.prototype._getLabelFromFieldGroup=function(o){var L=0,e=null,s;if(o&&this._aFieldGroupAnnotation&&this._aFieldGroupAnnotation.length){L=this._aFieldGroupAnnotation.length;while(L--){e=this._aFieldGroupAnnotation[L];if(e&&e.fields&&e.fields.indexOf(o.fieldNameOData)>-1){s=e.labels[o.fieldNameOData];break;}}}return s;};l.prototype._getIndex=function(o,e){if(e&&(e.index>=0)){return e.index;}else if(this._aSelectionFields&&this._aSelectionFields.indexOf(o.fieldNameOData)>-1){return this._aSelectionFields.indexOf(o.fieldNameOData);}return this._getIndexFromFieldGroup(o);};l.prototype._getIndexFromFieldGroup=function(o){var L=0,e=null,i;if(o&&this._aFieldGroupAnnotation&&this._aFieldGroupAnnotation.length){L=this._aFieldGroupAnnotation.length;while(L--){e=this._aFieldGroupAnnotation[L];if(e&&e.fields){i=e.fields.indexOf(o.fieldNameOData);if(i>-1){break;}i=undefined;}}}return i;};l.prototype._getGroupIndex=function(G){if(G&&(G.index||G.index===0)){return G.index;}};l.prototype._getGroupLabel=function(o,G){if(G&&G.label){return G.label;}return o.groupLabel||o.groupName||o.groupEntityName;};l.prototype._hasTypeAhead=function(o,e,i){var H;H=true;if(i){H=i.hasTypeAhead;}else if(e.type!=='Edm.String'){return false;}if(!(o.fControlConstructor===I||o.fControlConstructor===b)){return false;}return H;};l.prototype.getModel=function(){return this.oModel;};l.prototype.getFilterBarViewMetadata=function(){return this._aFilterBarViewMetadata;};l.prototype.getParameters=function(){var p,B=null;if(this.oModel){B=this.oModel.getProperty('/'+l.BASIC_SEARCH_FIELD_ID);}if(this._sBasicSearchFieldName||B){p={custom:{}};if(this._sBasicSearchFieldName){p.custom['search-focus']=this._sBasicSearchFieldName;}p.custom['search']=B||'';}return p;};l.prototype.getFilters=function(e){var o=null;if(this.oModel){o=this.oModel.getData();}return l.generateFilters(e,o,{dateSettings:this._oDateFormatSettings,useContainsAsDefault:this._bUseContainsAsDefault,stringFields:this._aFilterBarStringFieldNames,timeFields:this._aFilterBarTimeFieldNames});};l.prototype.getFilterData=function(){return this.oModel?this.oModel.getData():null;};l.prototype.getFilterDataAsString=function(){return this.oModel?this.oModel.getJSON():null;};l.prototype.getFilledFilterData=function(e){var o,i={},j,s,v;o=this.oModel?this.oModel.getData():null;if(o&&e){j=e.length;while(j--){s=e[j];if(s&&s!==l.BASIC_SEARCH_FIELD_ID){v=o[s];if(v&&v.hasOwnProperty('low')){if(v.low){i[s]=v;}}else if(v&&v.hasOwnProperty('items')){if(v.value&&typeof v.value==='string'){v.value=v.value.trim();}if(v.items.length||(v.ranges&&v.ranges.length)||v.value){i[s]=v;}}else if(v){if(typeof v==='string'){v=v.trim();}if(v){i[s]=v;}}}if(j===0){s=l.CUSTOM_FIELDS_MODEL_PROPERTY;v=o[s];if(v){i[s]=v;}}}}return q.extend(true,{},i);};l.prototype.getFilledFilterDataAsString=function(e){return JSON.stringify(this.getFilledFilterData(e));};l.prototype.setFilterData=function(j,r){var o=null,e=null,k=null;if(this.oModel&&j){this._bUpdatingFilterData=true;if(r){this._createInitialModel(false);}o=this._parseFilterData(j,r);if(o){this.oModel.setData(o,true);e=[];var s=arguments[2];if(s){e.push(s);}for(k in o){e.push(k);}this._handleFilterDataUpdate(e);}this._bUpdatingFilterData=false;}};l.prototype.setFilterDataAsString=function(j,r){if(j){this.setFilterData(JSON.parse(j),r);}};l.prototype._parseFilterData=function(j,r){return l.parseFilterData(this.oModel.getData(),j,{dateFields:this._aFilterBarDateFieldNames,timeFields:this._aFilterBarTimeFieldNames,timeIntervalFields:this._aFilterBarTimeIntervalFieldNames,dateTimeMultiValueFields:this._aFilterBarDateTimeMultiValueFieldNames,conditionTypeFields:this._mConditionTypeFields},r);};l.prototype._handleFilterDataUpdate=function(e){var i=0,o,j,k;if(this._aFilterBarMultiValueFieldMetadata){i=this._aFilterBarMultiValueFieldMetadata.length;while(i--){if(!j){j=this.oModel.getData();}if(j){o=this._aFilterBarMultiValueFieldMetadata[i];if(e.indexOf(o.fieldName)>-1){k=j[o.fieldName];if(k){this._updateMultiValueControl(o.control,k.items,k.ranges);}}}}this._updateConditionTypeFields();}};l.prototype.clear=function(){this._createInitialModel(false);};l.prototype.reset=function(){this._createInitialModel(true);};l.prototype._initializeConditionTypeFields=function(){var e=function(o){this.setPending(this.isPending());}.bind(this);for(var n in this._mConditionTypeFields){this._mConditionTypeFields[n].conditionType.initialize(this.oModel.getData()[n]);if(this._mConditionTypeFields[n].conditionType.getAsync()){this._mConditionTypeFields[n].conditionType.attachPendingChange(e);}}};l.prototype._updateConditionTypeFields=function(){var o=this._oldData;var e=this.oModel.getData();this._oldData=q.extend(true,{},e);if(o!==undefined){var u=[],n;for(n in e){var N=JSON.stringify(e[n]);var s=JSON.stringify(o[n]);if(N!==s){u.push(n);}}if(u.length>0){for(n in this._mConditionTypeFields){this._mConditionTypeFields[n].conditionType.providerDataUpdated(u,e);}}}};l.prototype._clearConditionTypeFields=function(){var e=this.oModel.getData();for(var n in this._mConditionTypeFields){this._mConditionTypeFields[n].conditionType.initialize(e[n]);}};l.prototype._validateConditionTypeFields=function(){var i=false;for(var n in this._mConditionTypeFields){var v=this._mConditionTypeFields[n].conditionType.validate();if(!v&&!i){i=true;}}return i;};l.generateFilters=function(e,o,s){var i=[],A=null,j=null,k=null,m=null,n=l.FIELD_NAME_REGEX,v=null,p,r,t=null,L=0,u=0;var w,x,y,z,U,B;if(s){w=s.dateSettings;x=s.useContainsAsDefault;y=s.stringFields;z=s.timeFields;}if(e&&o){u=e.length;while(u--){B=false;m=e[u];if(m&&m!==l.BASIC_SEARCH_FIELD_ID){U=false;if(x&&y){if(y.indexOf(m)>-1){U=true;}}else if(z&&z.indexOf(m)>-1){B=true;}v=o[m];m=m.replace(n,'/');if(v&&v.hasOwnProperty('low')){if(v.low&&v.high){p=v.low;r=v.high;if(w&&w.UTC&&p instanceof Date&&r instanceof Date){p=l.getDateInUTCOffset(p);r=l.getDateInUTCOffset(r);}i.push(new F(m,sap.ui.model.FilterOperator.BT,p,r));}else if(v.low){if(v.low instanceof Date){p=v.low;if(w&&w.UTC){p=l.getDateInUTCOffset(p);}i.push(new F(m,sap.ui.model.FilterOperator.EQ,p));}else if(typeof v.low==='string'){t=v.low.split('-');if(t&&t.length===2){i.push(new F(m,sap.ui.model.FilterOperator.BT,t[0],t[1]));}else{i.push(new F(m,U?sap.ui.model.FilterOperator.Contains:sap.ui.model.FilterOperator.EQ,v.low));}}}}else if(v&&v.hasOwnProperty('items')){A=[];k=[];j=null;if(v&&v.hasOwnProperty('ranges')){t=v.ranges;L=t.length;while(L--){p=t[L].value1;r=t[L].value2;if(B){if(p instanceof Date){p=g.getEdmTimeFromDate(p);}if(r instanceof Date){r=g.getEdmTimeFromDate(r);}}else if(w&&w.UTC){if(p instanceof Date){p=l.getDateInUTCOffset(p);}if(r instanceof Date){r=l.getDateInUTCOffset(r);}}if(t[L].exclude){if(t[L].operation===sap.ui.model.FilterOperator.EQ){k.push(new F(m,sap.ui.model.FilterOperator.NE,p));}}else{A.push(new F(m,t[L].operation,p,r));}}if(k.length){j=new F(k,true);}}t=v.items;L=t.length;while(L--){A.push(new F(m,sap.ui.model.FilterOperator.EQ,t[L].key));}if(v.value||v.value===0||v.value===false){if(typeof v.value==='string'){v.value=v.value.trim();}if(v.value||v.value===0||v.value===false){A.push(new F(m,U?sap.ui.model.FilterOperator.Contains:sap.ui.model.FilterOperator.EQ,v.value));}}if(A.length){if(j){i.push(new F([new F(A,false),j],true));}else{i.push(new F(A,false));}}else if(j){i.push(j);}}else if(v||v===0||v===false){if(typeof v==='string'){v=v.trim();}if(v&&v instanceof Date){if(B){v=g.getEdmTimeFromDate(v);}else if(w&&w.UTC){v=l.getDateInUTCOffset(v);}}if(v||v===0||v===false){i.push(new F(m,U?sap.ui.model.FilterOperator.Contains:sap.ui.model.FilterOperator.EQ,v));}}}}}return(i.length>1)?[new F(i,true)]:i;};l.parseFilterData=function(o,e,s,r){var R={},m=null,j=null,v=null,n,k,i,L,p,t,u,w,x,y;if(s){t=s.dateFields;u=s.timeFields;w=s.timeIntervalFields;x=s.dateTimeMultiValueFields;m=s.conditionTypeFields||{};}if(!t){t=[];}if(!u){u=[];}if(!w){w=[];}if(!x){x=[];}if(o&&e){k=q.extend({},e,true);for(j in k){if(o.hasOwnProperty(j)&&j!==l.CUSTOM_FIELDS_MODEL_PROPERTY){v=o[j];n=k[j];if(j in m){if('conditionTypeInfo'in n||(!('conditionTypeInfo'in n)&&n.ranges)){m[j].conditionType.initialize(n);}}else if(v&&v.hasOwnProperty('low')){R[j]=n;if(n){if(n.low&&n.high){if(!(n.low instanceof Date)){R[j].low=new Date(n.low);}if(!(n.high instanceof Date)){R[j].high=new Date(n.high);}}else if((n.low||n.value)&&!n.high){if(!n.low&&n.value){n.low=n.value;}if((t.indexOf(j)>-1||u.indexOf(j)>-1)&&!(n.low instanceof Date)){R[j].low=new Date(n.low);}else{R[j].low=n.low;}R[j].high=null;}}}else if(v&&v.hasOwnProperty('items')){if(n&&(n.items||n.ranges)){if(n.ranges&&n.ranges.length){if(w.indexOf(j)>-1){L=n.ranges.length;for(i=0;i<L;i++){p=n.ranges[i];if(!p.exclude&&(p.operation==='EQ'||p.operation==='BT')){break;}p=null;}if(p){if(p.value1&&typeof p.value1==='string'){p.value1=new Date(p.value1);}if(p.value2&&typeof p.value2==='string'){p.value2=new Date(p.value2);}R[j]={ranges:[p],items:[],value:''};}continue;}else if(x.indexOf(j)>-1){L=n.ranges.length;y=[];for(i=0;i<L;i++){p=n.ranges[i];if(!p.exclude&&p.operation==='EQ'){if(p.value1&&typeof p.value1==='string'){p.value1=new Date(p.value1);}y.push(p);}}R[j]={ranges:y,items:[],value:''};continue;}else if(t.indexOf(j)>-1||u.indexOf(j)>-1){L=n.ranges.length;for(i=0;i<L;i++){p=n.ranges[i];if(p.value1&&typeof p.value1==='string'){p.value1=new Date(p.value1);}if(p.value2&&typeof p.value2==='string'){p.value2=new Date(p.value2);}}}}R[j]=n;}else if(typeof n==='string'||typeof n==='number'||n instanceof Date){if(n&&(t.indexOf(j)>-1||u.indexOf(j)>-1)){if(typeof n==='string'){n=new Date(n);}R[j]={ranges:[{'exclude':false,'operation':'EQ','keyField':j,'value1':n,'value2':null}],items:[],value:''};}else{R[j]={value:n,items:[]};}}}else{R[j]=null;if(typeof n==='string'||typeof n==='boolean'||typeof n==='number'||n instanceof Date){if(typeof n==='string'&&(t.indexOf(j)>-1||u.indexOf(j)>-1)){R[j]=new Date(n);}else{R[j]=n;}}else if(n&&(n.value||n.value===0||n.value===false)){R[j]=n.value;}else if(n&&n.items&&n.items.length){R[j]=n.items[0].key;}else if(n&&n.ranges&&n.ranges.length){L=n.ranges.length;for(i=0;i<L;i++){p=n.ranges[i];if(!p.exclude&&p.operation==='EQ'){break;}p=null;}if(p&&p.value1){if(typeof p.value1==='string'&&(t.indexOf(j)>-1||u.indexOf(j)>-1)){R[j]=new Date(p.value1);}else{R[j]=p.value1;}}}}}else if(r||j===l.CUSTOM_FIELDS_MODEL_PROPERTY){R[j]=k[j];}}}return R;};l.getDateInUTCOffset=function(o){return new Date(o.valueOf()-o.getTimezoneOffset()*60*1000);};l.prototype.destroy=function(){var e=function(A){var i;if(A){i=A.length;while(i--){A[i].destroy();}}};this._oParentODataModel=null;this._aAnalyticalParameters=null;this._aFilterBarViewMetadata=null;this._oParameterization=null;this._aFilterBarFieldNames=null;this._aFilterBarDateFieldNames=null;this._aFilterBarTimeFieldNames=null;this._aFilterBarTimeIntervalFieldNames=null;this._aFilterBarDateTimeMultiValueFieldNames=null;this._aFilterBarStringFieldNames=null;this._aFilterBarMultiValueFieldMetadata=null;this._aFieldGroupAnnotation=null;this._aSelectionFields=null;if(this._oMetadataAnalyser&&this._oMetadataAnalyser.destroy){this._oMetadataAnalyser.destroy();}this._oMetadataAnalyser=null;e(this._aValueHelpDialogProvider);this._aValueHelpDialogProvider=null;e(this._aValueListProvider);this._aValueListProvider=null;this.oResourceBundle=null;this.sIntervalPlaceholder=null;this.sDefaultDropDownDisplayBehaviour=null;this.sDefaultTokenDisplayBehaviour=null;this._oSmartFilter=null;if(this._oEventProvider){if(this._oEventProvider.destroy){this._oEventProvider.destroy();}this._oEventProvider=null;}for(var n in this._mConditionTypeFields){this._mConditionTypeFields[n].conditionType.destroy();}this._mConditionTypeFields=null;this.bIsDestroyed=true;};return l;},true);\n",
	"sap/ui/comp/smartfilterbar/GroupConfiguration.js":"/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n\n(c) Copyright 2009-2016 SAP SE. All rights reserved\n */\nsap.ui.define(['jquery.sap.global','sap/ui/comp/library','sap/ui/core/Element'],function(q,l,E){'use strict';var G=E.extend('sap.ui.comp.smartfilterbar.GroupConfiguration',{metadata:{library:'sap.ui.comp',properties:{key:{type:'string',group:'Misc',defaultValue:null},index:{type:'any',group:'Misc',defaultValue:undefined},label:{type:'any',group:'Misc',defaultValue:undefined}},events:{change:{parameters:{propertyName:{type:'string'}}}}}});G.prototype.setLabel=function(L){this.setProperty('label',L);this.fireChange({propertyName:'label'});};return G;},true);\n",
	"sap/ui/comp/smartfilterbar/SelectOption.js":"/*\n * ! SAP UI development toolkit for HTML5 (SAPUI5)\n\n(c) Copyright 2009-2016 SAP SE. All rights reserved\n */\nsap.ui.define(['jquery.sap.global','sap/ui/comp/library','sap/ui/core/Element','sap/ui/model/FilterOperator'],function(q,l,E,F){'use strict';var S=E.extend('sap.ui.comp.smartfilterbar.SelectOption',{metadata:{library:'sap.ui.comp',properties:{sign:{type:'sap.ui.comp.smartfilterbar.SelectOptionSign',group:'Misc',defaultValue:'I'},operator:{type:'sap.ui.model.FilterOperator',group:'Misc',defaultValue:'EQ'},low:{type:'string',group:'Misc',defaultValue:null},high:{type:'string',group:'Misc',defaultValue:null}}}});S.SIGN=sap.ui.comp.smartfilterbar.SelectOptionSign;S.OPERATOR=F;return S;},true);\n",
	"sap/ui/comp/smartfilterbar/SmartFilterBar.designtime.js":"/*\n * ! SAP UI development toolkit for HTML5 (SAPUI5)\n\n(c) Copyright 2009-2016 SAP SE. All rights reserved\n */\nsap.ui.define([],function(){'use strict';return{annotations:{filterable:{namespace:'Org.OData.Capabilities.V1',annotation:'FilterRestrictions/NonFilterableProperties',target:['EntitySet'],defaultValue:true,interpretation:'exclude',appliesTo:['filterItem/#/value'],group:['Behavior'],since:'1.28.1'},fieldGroup:{namespace:'com.sap.vocabularies.UI.v1',annotation:'FieldGroup',target:['EntityType'],defaultValue:null,appliesTo:['filterGroupItem'],group:['Behavior'],since:'1.28.1'},textArrangement:{namespace:'com.sap.vocabularies.UI.v1',annotation:'TextArrangement',target:['EntityType'],defaultValue:null,appliesTo:['text'],group:['Appearance','Behavior'],since:'1.32.1'},filterVisible:{namespace:'com.sap.vocabularies.Common.v1',annotation:'FieldControlType/Hidden',target:['Property'],defaultValue:false,appliesTo:['filterItem/#/visible'],group:['Behavior'],since:'1.32.1'},valueList:{namespace:'com.sap.vocabularies.Common.v1',annotation:'ValueList',target:['Property','Parameter'],defaultValue:null,appliesTo:['filterItem/#/fieldHelp'],group:['Behavior'],since:'1.28.1'},filterLabelOnProperty:{namespace:'com.sap.vocabularies.Common.v1',annotation:'Label',target:['Property','PropertyPath'],defaultValue:null,appliesTo:['filterItem/label'],group:['Behavior'],since:'1.28.1'},filterLabelOnLineItem:{namespace:'com.sap.vocabularies.UI.v1',annotation:'LineItem/Label',target:['Property','Parameter'],appliesTo:['filterItem/label'],group:['Behavior'],since:'1.28.1'},requiredInFilter:{namespace:'Org.OData.Capabilities.V1',annotation:'FilterRestrictions/RequiredProperties',target:['EntitySet'],defaultValue:true,appliesTo:['filterItem/#/value'],group:['Behavior'],since:'1.28.1'},multiValueFilter:{namespace:'com.sap.vocabularies.Common.v1',annotation:'FilterExpressionType/MultiValue',target:['EntitySet'],defaultValue:null,appliesTo:['filterItem/#/input'],group:['Behavior'],since:'1.28.1'},singleValueFilter:{namespace:'com.sap.vocabularies.Common.v1',annotation:'FilterExpressionType/SingleValue',target:['EntitySet'],defaultValue:null,appliesTo:['filterItem/#/input'],group:['Behavior'],since:'1.28.1'},singleIntervalFilter:{namespace:'com.sap.vocabularies.Common.v1',annotation:'FilterExpressionType/SingleInterval',target:['EntitySet'],defaultValue:null,appliesTo:['filterItem/#/input'],group:['Behavior'],since:'1.28.1'},selectionFields:{namespace:'com.sap.vocabularies.UI.v1',annotation:'SelectionFields',target:['EntityType'],defaultValue:null,appliesTo:['filterItem/#/value'],group:['Behavior'],since:'1.40.1'},filterHidden:{namespace:'com.sap.vocabularies.UI.v1',annotation:'HiddenFilter',target:['Property'],appliesTo:['filterItem/hidden'],group:['Behavior'],since:'1.44.0'}},properties:{entitySet:{ignore:true},entityType:{ignore:true},resourceUri:{ignore:true},basicSearchFieldName:{ignore:true},enableBasicSearch:{ignore:true},considerAnalyticalParameters:{ignore:true},liveMode:{ignore:false},showMessages:{ignore:false}},customData:{}};},false);\n",
	"sap/ui/comp/smartfilterbar/SmartFilterBar.js":"/*\n * ! SAP UI development toolkit for HTML5 (SAPUI5)\n\n(c) Copyright 2009-2016 SAP SE. All rights reserved\n */\nsap.ui.define(['jquery.sap.global','sap/m/MessageBox','sap/ui/comp/filterbar/FilterBar','sap/ui/comp/filterbar/FilterGroupItem','sap/ui/comp/filterbar/FilterItem','sap/ui/comp/library','./AdditionalConfigurationHelper','./ControlConfiguration','./FilterProvider','./GroupConfiguration','sap/ui/comp/smartvariants/PersonalizableInfo','sap/ui/comp/smartvariants/SmartVariantManagement','sap/ui/comp/odata/ODataModelUtil'],function(q,M,F,a,b,l,A,C,c,G,P,S,O){'use strict';var d=F.extend('sap.ui.comp.smartfilterbar.SmartFilterBar',{metadata:{library:'sap.ui.comp',designTime:true,properties:{entityType:{type:'string',group:'Misc',defaultValue:null},entitySet:{type:'string',group:'Misc',defaultValue:null},resourceUri:{type:'string',group:'Misc',defaultValue:null},basicSearchFieldName:{type:'string',group:'Misc',defaultValue:null},enableBasicSearch:{type:'boolean',group:'Misc',defaultValue:false},liveMode:{type:'boolean',group:'Misc',defaultValue:false},showMessages:{type:'boolean',group:'Misc',defaultValue:true},considerAnalyticalParameters:{type:'boolean',group:'Misc',defaultValue:false}},associations:{smartVariant:{type:'sap.ui.comp.smartvariants.SmartVariantManagement',multiple:false}},aggregations:{controlConfiguration:{type:'sap.ui.comp.smartfilterbar.ControlConfiguration',multiple:true,singularName:'controlConfiguration'},groupConfiguration:{type:'sap.ui.comp.smartfilterbar.GroupConfiguration',multiple:true,singularName:'groupConfiguration'}},events:{pendingChange:{pendingValue:{type:'boolean'}}}},renderer:function(r,o){F.getMetadata().getRenderer().render(r,o);}});d.LIVE_MODE_INTERVAL=300;d.prototype.init=function(){this._aFilterBarViewMetadata=null;this.isRunningInValueHelpDialog=false;F.prototype.init.apply(this);sap.ui.getCore().getMessageManager().registerObject(this,true);};d.prototype._initializeMetadata=function(){if(!this.bIsInitialised){O.handleModelInit(this,this._onMetadataInitialised);}};d.prototype._onMetadataInitialised=function(){this._bMetaModelLoadAttached=false;if(!this.bIsInitialised){this._createFilterProvider();if(this._oFilterProvider){this._aFilterBarViewMetadata=this._oFilterProvider.getFilterBarViewMetadata();if(this._aFilterBarViewMetadata){this._attachAdditionalConfigurationChanged();this.bIsInitialised=true;this.setModel(this._oFilterProvider.oModel,this._oFilterProvider.sFilterModelName);this.registerGetFiltersWithValues(q.proxy(this.getFiltersWithValues,this));this.registerFetchData(q.proxy(this.getFilterDataAsString,this,true));this.registerApplyData(q.proxy(function(j){this.setFilterDataAsString(j,true);},this));this._initializeVariantManagement();}}}};d.prototype.getFilterBarViewMetadata=function(){return this._aFilterBarViewMetadata;};d.prototype.getAnalyticalParameters=function(){return this._oFilterProvider?this._oFilterProvider.getAnalyticParameters():[];};d.prototype._createFilterProvider=function(){var r,m,e,E;m=this.getModel();r=this.getResourceUri();e=this.getEntityType();E=this.getEntitySet();if((m||r)&&(e||E)){this._oFilterProvider=new sap.ui.comp.smartfilterbar.FilterProvider({basicSearchFieldName:this.getBasicSearchFieldName(),enableBasicSearch:this.getEnableBasicSearch(),entityType:e,entitySet:E,serviceUrl:r,isRunningInValueHelpDialog:this.isRunningInValueHelpDialog,model:m,additionalConfiguration:this.getAdditionalConfiguration(),defaultDropDownDisplayBehaviour:this.data('defaultDropDownDisplayBehaviour'),defaultTokenDisplayBehaviour:this.data('defaultTokenDisplayBehaviour'),dateFormatSettings:this.data('dateFormatSettings'),useContainsAsDefaultFilter:this.data('useContainsAsDefaultFilter'),smartFilter:this,considerAnalyticalParameters:this.getConsiderAnalyticalParameters()});this._oFilterProvider.attachPendingChange(function(o){this.firePendingChange({pendingValue:o.getParameter('pending')});}.bind(this));}};d.prototype._attachAdditionalConfigurationChanged=function(){var e,g,i,f;g=this.getGroupConfiguration();f=g.length;for(i=0;i<f;i++){g[i].attachChange(this._handleGroupConfigurationChanged.bind(this));}e=this.getControlConfiguration();f=e.length;for(i=0;i<f;i++){e[i].attachChange(this._handleControlConfigurationChanged.bind(this));}};d.prototype._handleControlConfigurationChanged=function(e){var p,o,f,k,v;p=e.getParameter('propertyName');o=e.oSource;if(!o){return;}k=o.getKey();f=this._getFilterItemByName(k);if(!f){return;}if(p==='visible'){v=o.getVisible();f.setVisible(v);}else if(p==='label'){v=o.getLabel();f.setLabel(v);}else if(p==='visibleInAdvancedArea'){v=o.getVisibleInAdvancedArea();if(f.setVisibleInAdvancedArea){f.setVisibleInAdvancedArea(v);}}};d.prototype._handleGroupConfigurationChanged=function(e){var p,g;p=e.getParameter('propertyName');g=e.oSource;if(p==='label'){this._handleGroupConfigurationLabelChanged(g);}};d.prototype._handleGroupConfigurationLabelChanged=function(g){var f,k,L;if(!g){return;}L=g.getLabel();k=g.getKey();f=this._getFilterGroupItemByGroupName(k);if(f){f.setGroupTitle(L);}};d.prototype._getFilterItemByName=function(n){var f,e,i;f=this.getFilterItems();f.push.apply(f,this.getFilterGroupItems());e=f.length;for(i=0;i<e;i++){if(f[i].getName()===n){return f[i];}}};d.prototype._getFilterGroupItemByGroupName=function(n){var f,e,i;f=this.getFilterGroupItems();e=f.length;for(i=0;i<e;i++){if(f[i].getGroupName()===n){return f[i];}}};d.prototype.getAdditionalConfiguration=function(){return new A(this.getControlConfiguration(),this.getGroupConfiguration());};d.prototype.setEntityType=function(e){this.setProperty('entityType',e);this._initializeMetadata();};d.prototype.setResourceUri=function(r){this.setProperty('resourceUri',r);this._initializeMetadata();};d.prototype.propagateProperties=function(){F.prototype.propagateProperties.apply(this,arguments);this._initializeMetadata();};d.prototype._getFilterInformation=function(){var f,i,j,L=0,e=0,g,h=[],o;if(this._aFilterBarViewMetadata){L=this._aFilterBarViewMetadata.length;for(i=0;i<L;i++){f=this._aFilterBarViewMetadata[i];g=f.fields;e=g.length;for(j=0;j<e;j++){o=g[j];if(o.name===c.BASIC_SEARCH_FIELD_ID){this.setBasicSearch(o.control);this._attachToBasicSearch(o.control);continue;}else if(f.groupName===c.BASIC_FILTER_AREA_ID){this._createFieldInBasicArea(o);}else{this._createFieldInAdvancedArea(f.groupName,f.groupLabel,o);}h.push(o);}}var p=this.getAnalyticalParameters();L=p.length;for(i=0;i<L;i++){o=p[i];this._createAnalyticParameter(o);h.push(o);}}return h;};d.prototype._validateState=function(){var f=null,L,o,i=false;f=this.getAllFilterItems(true);if(f){L=f.length;while(L--){o=this.determineControlByFilterItem(f[L]);if(o){if(o.getValueState&&o.getValueState()===sap.ui.core.ValueState.Error&&!o.data('__mandatoryEmpty')){i=true;break;}else if(o.__bValidatingToken){this.bIsSearchPending=true;i=true;break;}}}}if(this._oFilterProvider){return!i&&!this._oFilterProvider._validateConditionTypeFields();}else{return!i;}};d.prototype._clearErroneusControlValues=function(){var f=null,L,o,v;f=this.getAllFilterItems(true);if(f){L=f.length;while(L--){o=this.determineControlByFilterItem(f[L]);if(o){if(o.getValueState&&o.getValueState()===sap.ui.core.ValueState.Error){v=o.getBinding('value');if(v){v.checkUpdate(true);}}}}}};d.prototype._attachToBasicSearch=function(B){if(B){B.attachSearch((q.proxy(function(){if(!this.getLiveMode()&&!this.isDialogOpen()){this.search();}},this)));B.attachLiveChange(q.proxy(this._onChange,this));}};d.prototype._onChange=function(e){var o=e.getSource();if(o.data('__mandatoryEmpty')){o.data('__mandatoryEmpty',null);o.setValueState(sap.ui.core.ValueState.None);}if(o.data('__validationError')&&!o.getValue()){o.data('__validationError',null);o.setValueState(sap.ui.core.ValueState.None);}if(this._oFilterProvider._bUpdatingFilterData||this._oFilterProvider._bCreatingInitialModel){return;}if(!o||(o&&!o.__bValidatingToken)){this.fireFilterChange(e);this._oFilterProvider._updateConditionTypeFields(e.getParameter('filterChangeReason'));}if(this.getLiveMode()){this.search();}};d.prototype._handleChange=function(o){if(o){if(o.attachChange){o.attachChange(q.proxy(this._onChange,this));}}};d.prototype._handleEnter=function(o){if(this.getLiveMode()){return;}o.attachBrowserEvent('keydown',function(e){if(e.which===13){o.__bSuggestInProgress=(o._oSuggestionPopup&&o._oSuggestionPopup.isOpen());}});o.attachBrowserEvent('keyup',q.proxy(function(e){if(e.which===13&&!o.__bSuggestInProgress){this.search();}},this));};d.prototype._createFilterFieldControl=function(f){if(f.conditionType){this._createConditionTypeItem(f);}else if(!f.control&&f.fCreateControl){f.fCreateControl(f);delete f.fCreateControl;}this._handleEnter(f.control);this._handleChange(f.control);};d.prototype._createConditionTypeItem=function(f){if(!f.conditionType){return;}q.sap.require('sap.m.HBox');var L=new sap.m.HBox(),s=1;f.conditionType.initializeFilterItem(this.getFilterContainerWidth(),L);f._iSpan=s+1;f.control=L;};d.prototype._createAnalyticParameter=function(p){p.factory=function(){this._createFilterFieldControl(p);if(!p.control){return;}var o=new a({labelTooltip:p.quickInfo,label:p.label,name:p.fieldName,mandatory:p.isMandatory,visible:p.isVisible,control:p.control,hiddenFilter:false});this._addParameter(o);}.bind(this);p.groupName=F.INTERNAL_GROUP;return p;};d.prototype._createFieldInBasicArea=function(f){f.factory=function(){this._createFilterFieldControl(f);if(!f.control){return;}var o=new b({labelTooltip:f.quickInfo,label:f.label,name:f.fieldName,mandatory:f.isMandatory,visible:f.isVisible,control:f.control,hiddenFilter:f.hiddenFilter});if(f._iSpan){o._iSpan=f._iSpan;}if(f.isCustomFilterField){o.data('isCustomField',true);}this.addFilterItem(o);}.bind(this);f.groupName=F.INTERNAL_GROUP;return f;};d.prototype._createFieldInAdvancedArea=function(g,s,f){f.factory=function(){this._createFilterFieldControl(f);var o=new a({labelTooltip:f.quickInfo,label:f.label,name:f.fieldName,groupName:g,groupTitle:s,mandatory:f.isMandatory,visible:f.isVisible,visibleInAdvancedArea:f.visibleInAdvancedArea,control:f.control,hiddenFilter:f.hiddenFilter});if(f._iSpan){o._iSpan=f._iSpan;}if(f.isCustomFilterField){o.data('isCustomField',true);}this.addFilterGroupItem(o);}.bind(this);f.groupName=g;f.groupTitle=s;return f;};d.prototype.getFilters=function(f){if(!f||!f.length){f=this._getVisibleFieldNames(true);}return this._oFilterProvider?this._oFilterProvider.getFilters(f):[];};d.prototype.getParameters=function(){return this._oFilterProvider?this._oFilterProvider.getParameters():{};};d.prototype.getAnalyticBindingPath=function(){var B='';if(this._oFilterProvider&&this.getConsiderAnalyticalParameters()){B=this._oFilterProvider.getAnalyticBindingPath();}return B;};d.prototype.getControlByKey=function(k){return this.determineControlByName(k);};d.prototype._getVisibleFieldNames=function(i){var f=[],v=this.getAllFilterItems(true),L=v.length,I;L=v.length;while(L--){I=v[L];if(I){if(i&&I._isParameter()){continue;}f.push(I.getName());}}return f;};d.prototype.getFilterData=function(e){var D=null;if(this._oFilterProvider){if(e){D=this._oFilterProvider.getFilterData();}else{D=this._oFilterProvider.getFilledFilterData(this._getVisibleFieldNames());}}return D;};d.prototype._checkHasValueData=function(o){if(o){if(typeof o==='boolean'){return o;}else if(typeof o==='string'){if(o.toLowerCase()==='true'){return true;}}}return false;};d.prototype._checkForValues=function(D,f,o){var v=null;if(D&&f&&o){if(!f.data('isCustomField')){v=D[f.getName()];}else{var e=o.data('hasValue');if((e!==undefined)&&(e!=null)){return this._checkHasValueData(e);}else{if(o.getValue){v=o.getValue();}else if(o.getSelectedKey){v=o.getSelectedKey();}}}}return v?true:false;};d.prototype.getFiltersWithValues=function(){var f=[];var e=this.getAllFilterItems(true),o,D=this.getFilterData(),L=0,g;if(e&&D){L=e.length;while(L--){o=e[L];g=this.determineControlByFilterItem(o,true);if(this._checkForValues(D,o,g)){f.push(o);}}}return f.reverse();};d.prototype.getFilterDataAsString=function(e){var D=null;if(this._oFilterProvider){if(e){D=this._oFilterProvider.getFilterDataAsString();}else{D=this._oFilterProvider.getFilledFilterDataAsString(this._getVisibleFieldNames());}}return D;};d.prototype.setFilterData=function(j,r){if(this._oFilterProvider){this._oFilterProvider.setFilterData(j,r);}if(j&&(Object.keys(j).length===1)&&j._CUSTOM){return;}this.fireFilterChange({afterFilterDataUpdate:true});};d.prototype.setFilterDataAsString=function(j,r){if(j){this.setFilterData(JSON.parse(j),r);}};d.prototype.fireClear=function(){this._clearFilterFields();this.fireEvent('clear',arguments);};d.prototype._clearFilterFields=function(){if(this._oFilterProvider){this._oFilterProvider.clear();this._clearErroneusControlValues();}this.fireFilterChange({afterFilterDataUpdate:true});};d.prototype.fireReset=function(){this._resetFilterFields();this.fireEvent('reset',arguments);};d.prototype._resetFilterFields=function(){if(this._oFilterProvider){this._oFilterProvider.reset();this._clearErroneusControlValues();}this.fireFilterChange({afterFilterDataUpdate:true});};d.prototype.triggerSearch=function(D){this._clearDelayedSearch();this._iDelayedSearchId=q.sap.delayedCall(D||0,this,'_search');};d.prototype.search=function(s){var L=this.getLiveMode();if(s&&!L){return this._search();}else{this.triggerSearch(L?d.LIVE_MODE_INTERVAL:0);}return true;};d.prototype._search=function(){var p=[],o={},e,i=false,E;delete this.bIsSearchPending;e=this._validateState();if(!e){if(this.bIsSearchPending){return;}else{i=true;}}else{e=this._validateMandatoryFields();}if(this.isPending()&&!this._bIsPendingChangeAttached){var h=function(f){if(f.getParameter('pendingValue')===false){this.detachPendingChange(h);this._bIsPendingChangeAttached=false;this._search();}}.bind(this);this._bIsPendingChangeAttached=true;this.attachPendingChange(h);return;}this._clearDelayedSearch();if(e){o.selectionSet=this._retrieveCurrentSelectionSet();p.push(o);this.fireSearch(p);}else{if(!this._oResourceBundle){this._oResourceBundle=sap.ui.getCore().getLibraryResourceBundle('sap.ui.comp');}if(!i){if(!this._sMandatoryErrorMessage){this._sMandatoryErrorMessage=this._oResourceBundle.getText('EMPTY_MANDATORY_MESSAGE');}E=this._sMandatoryErrorMessage;}else{if(!this._sValidationErrorMessage){this._sValidationErrorMessage=this._oResourceBundle.getText('VALIDATION_ERROR_MESSAGE');}E=this._sValidationErrorMessage;}if(this.getShowMessages()){try{M.error(E,{styleClass:(this.$()&&this.$().closest('.sapUiSizeCompact').length)?'sapUiSizeCompact':'',onClose:this._setFocusOnFirstErroneousField.bind(this)});}catch(x){return;}}else{this._setFocusOnFirstErroneousField();q.sap.log.warning('search was not triggered. '+E);}if(this._bExpandAdvancedFilterArea&&this.rerenderFilters){this.rerenderFilters(true);}}return e;};d.prototype._setFocusOnFirstErroneousField=function(){var f=null,L,o,i;f=this.getAllFilterItems(true);if(f){L=f.length;for(i=0;i<L;i++){o=this.determineControlByFilterItem(f[i]);if(o&&o.getValueState&&o.getValueState()===sap.ui.core.ValueState.Error){q.sap.delayedCall(0,o,'focus');break;}}}};d.prototype.setLiveMode=function(f){if(!this._isPhone()){if(f){this.hideGoButton();}else{this.restoreGoButton();}}this.setProperty('liveMode',f);};d.prototype.getLiveMode=function(){if(this._isPhone()){return false;}return this.getProperty('liveMode');};d.prototype._clearDelayedSearch=function(){if(this._iDelayedSearchId){q.sap.clearDelayedCall(this._iDelayedSearchId);this._iDelayedSearchId=null;}};d.prototype.isPending=function(){if(!this._oFilterProvider){return false;}return this._oFilterProvider.isPending();};d.prototype._validateMandatoryFields=function(){var f=true,e=this.determineMandatoryFilterItems(),o,D=this.getFilterData(),L=0,g;this._bExpandAdvancedFilterArea=false;if(e&&D){L=e.length;while(L--){o=e[L];g=this.determineControlByFilterItem(o,true);if(g&&g.setValueState){if(this._checkForValues(D,o,g)){if(g.data('__mandatoryEmpty')){g.data('__mandatoryEmpty',null);g.setValueState(sap.ui.core.ValueState.None);}}else{f=false;g.setValueState(sap.ui.core.ValueState.Error);g.data('__mandatoryEmpty',true);if(o.getGroupName){this._bExpandAdvancedFilterArea=true;}}}}}return f;};d.prototype._setSmartVariant=function(s){if(s){var o=sap.ui.getCore().byId(s);if(o){if(o instanceof S){if(this._oVariantManagement&&!this._oVariantManagement.isPageVariant()){this._replaceVariantManagement(o);this._oSmartVariantManagement=o;}}else{q.sap.log.error('Control with the id='+s+' not of expected type');}}else{q.sap.log.error('Control with the id='+s+' not found');}}};d.prototype.setSmartVariant=function(s){if(this.getAdvancedMode()){q.sap.log.error('not supported for the advanced mode');return;}this.setAssociation('smartVariant',s);this._setSmartVariant(s);};d.prototype.getSmartVariant=function(){if(this.getAdvancedMode()){q.sap.log.error('not supported for the advanced mode');return null;}var s=this.getAssociation('smartVariant');if(s){return sap.ui.getCore().byId(s);}return this._oSmartVariantManagement;};d.prototype._createVariantManagement=function(){this._oSmartVariantManagement=null;if(this.getAdvancedMode()){return F.prototype._createVariantManagement.apply(this);}var s=this.getSmartVariant();this._setSmartVariant(s);if(!this._oSmartVariantManagement){this._oSmartVariantManagement=new S(this.getId()+'-variant',{showExecuteOnSelection:true,showShare:true});}return this._oSmartVariantManagement;};d.prototype._initializeVariantManagement=function(){if(!this.isRunningInValueHelpDialog&&this._oSmartVariantManagement&&this.getPersistencyKey()){var p=new P({type:'filterBar',keyName:'persistencyKey',dataSource:this.getEntitySet()||this.getEntityType()});p.setControl(this);this._oSmartVariantManagement.addPersonalizableControl(p);var v=this._checkHasValueData(this.data('executeStandardVariantOnSelect'));if(v){this._oSmartVariantManagement._executeOnSelectForStandardVariantByXML(v);}F.prototype._initializeVariantManagement.apply(this,arguments);}else{this.fireInitialise();}};d.prototype.getBasicSearchControl=function(){return sap.ui.getCore().byId(this.getBasicSearch());};d.prototype.addFieldToAdvancedArea=function(k){var f;f=this._getFilterItemByName(k);if(f&&f.setVisibleInAdvancedArea){f.setVisibleInAdvancedArea(true);}};d.prototype.getConditionTypeByKey=function(k){if(this._oFilterProvider._mConditionTypeFields[k]){return this._oFilterProvider._mConditionTypeFields[k].conditionType;}};d.prototype.isInitialised=function(){return!!this.bIsInitialised;};d.prototype.destroy=function(){this._clearDelayedSearch();F.prototype.destroy.apply(this,arguments);sap.ui.getCore().getMessageManager().unregisterObject(this);if(this._oFilterProvider&&this._oFilterProvider.destroy){this._oFilterProvider.destroy();}this._oFilterProvider=null;this._aFilterBarViewMetadata=null;this._bExpandAdvancedFilterArea=null;this._oResourceBundle=null;this._sMandatoryErrorMessage=null;this._sValidationErrorMessage=null;this._oSmartVariantManagement=null;};return d;},true);\n",
	"sap/ui/comp/smartform/Group.designtime.js":"/*\n * ! SAP UI development toolkit for HTML5 (SAPUI5)\n\n(c) Copyright 2009-2016 SAP SE. All rights reserved\n */\nsap.ui.define(['sap/ui/comp/smartform/GroupElement.designtime'],function(G){'use strict';var h=function(g){var e=g.getGroupElements();for(var j=0;j<e.length;j++){var E=e[j];if(G.functions.hasUnboundFields(E)){return true;}}return false;};return{name:{singular:'GROUP_CONTROL_NAME',plural:'GROUP_CONTROL_NAME_PLURAL'},aggregations:{groupElements:{ignore:true},formElements:{domRef:':sap-domref',childrenName:{singular:'FIELD_CONTROL_NAME',plural:'FIELD_CONTROL_NAME_PLURAL'},actions:{move:'moveFields',addODataProperty:{changeType:'addFields',filter:function(g,o){var s=G.functions.getSmartForm(g);var i=s?s.getIgnoredFields():'';return i.indexOf(o.name)===-1;},getLabel:function(g){return g.getParent().getLabelText();}}}}},actions:{rename:{changeType:'renameGroup',domRef:function(c){return c.getTitle().getDomRef();},getState:function(c){var s={oldValue:c.getTitle().getText()};return s;},restoreState:function(c,s){c.setLabel(s.oldValue);var b='';var B=c.getBindingInfo('label');if(B){b=B.binding.getValue();if(b===s.oldValue){var o=c.getBinding('label');if(o){o.resume();}}}return true;}},remove:{changeType:'hideControl',isEnabled:function(g){return!h(g);},getConfirmationText:function(g){var t=sap.ui.getCore().getLibraryResourceBundle('sap.ui.comp');var m=[];g.getGroupElements().forEach(function(o){if(o.getVisible()&&G.functions.hasMandatoryFields(o)){var s=o.getLabelText()||o.getId();m.push(s);}});if(m.length){var f='\\n\\u2003\\u2003\\u2022\\u2004 ';var M='';m.forEach(function(o){M+=f+o;});return t.getText('GROUP_DESIGN_TIME_REMOVE_GROUP_WITH_MANDATORY_FIELDS_MESSAGE',M);}},getState:function(g){return{element:g,visible:g.getVisible()};},restoreState:function(g,s){s.element.setVisible(s.visible);}}},getRelevantContainer:function(g){return G.functions.getSmartForm(g);},properties:{useHorizontalLayout:{ignore:true},horizontalLayoutGroupElementMinWidth:{ignore:true},label:{ignore:false}}};},true);\n",
	"sap/ui/comp/smartform/Group.js":"/*\n * ! SAP UI development toolkit for HTML5 (SAPUI5)\n\n(c) Copyright 2009-2016 SAP SE. All rights reserved\n */\nsap.ui.define(['jquery.sap.global','sap/ui/comp/library','sap/ui/core/Element','sap/ui/layout/ResponsiveFlowLayoutData','sap/ui/layout/form/FormContainer','./GroupElement'],function(q,l,E,R,F,G){'use strict';var a=F.extend('sap.ui.comp.smartform.Group',{metadata:{library:'sap.ui.comp',designTime:true,properties:{useHorizontalLayout:{type:'boolean',group:'Misc',defaultValue:null},horizontalLayoutGroupElementMinWidth:{type:'int',group:'Misc',defaultValue:null},label:{type:'string',group:'Misc',defaultValue:null}},defaultAggregation:'groupElements',aggregations:{groupElements:{type:'sap.ui.comp.smartform.GroupElement',multiple:true,singularName:'groupElement'},layout:{type:'sap.ui.layout.GridData',multiple:false}},_visibilityDerived:false}});a.prototype.init=function(){F.prototype.init.apply(this,arguments);var r=new R({'linebreak':true,'linebreakable':true});this.setLayoutData(r);this._updateFormContainerLabel();};a.prototype.setUseHorizontalLayout=function(v){this.setProperty('useHorizontalLayout',v);var g=this.getGroupElements();if(g){g.forEach(function(o){o.setUseHorizontalLayout(v);});}};a.prototype.setHorizontalLayoutGroupElementMinWidth=function(n){this.setProperty('horizontalLayoutGroupElementMinWidth',n);var g=this.getGroupElements();if(g){g.forEach(function(o){o.setHorizontalLayoutGroupElementMinWidth(n);});}};a.prototype.setEditMode=function(e){var g=this.getGroupElements();if(g){g.forEach(function(o){o.setEditMode(e);});}return this;};a.prototype._updateFormContainerLabel=function(){var t=this.getTitle();if(!t&&this.getLabel()){t=new sap.ui.core.Title(this.getId()+'--Title');this.setTitle(t);}if(t&&t.setText&&this.getLabel()){t.setText(this.getLabel());}};a.prototype._delegateEditModeFromParent=function(g){var p=null;var e=false;if(g){p=this.getParent();if(p&&p.getEditable){e=p.getEditable();g.setEditMode(e);}}};a.prototype._updateLineBreaks=function(){if(!this.getUseHorizontalLayout()){return;}var s=this.getParent();while(!s._getCurrentSpan&&s.getParent){s=s.getParent();}if(!s._getCurrentSpan){return;}var c=s._getCurrentSpan();if(!c){return;}var e=this.getGroupElements();e=e.filter(function(o){return o.getVisible();});var C=0;e.forEach(function(o){C=C+1;var L=o.getFields()[0].getLayoutData();if(L){if(c*C>12){if(L instanceof sap.ui.core.VariantLayoutData){L.getMultipleLayoutData().forEach(function(L){if(L.setLinebreak){L.setLinebreak(true);}});}else{L.setLinebreak(true);}C=1;}else{if(L instanceof sap.ui.core.VariantLayoutData){L.getMultipleLayoutData().forEach(function(L){if(L.setLinebreak){L.setLinebreak(false);}});}else{L.setLinebreak(false);}}}});};a.prototype._updateFormContainerVisibility=function(){var A=this.getVisible();if(A===false&&this._visibilityDerived===false){return;}var g=this.getGroupElements();var v=false;v=g.some(function(o){return o.getVisible();});if(A!==v){this._visibilityDerived=true;F.prototype.setProperty.apply(this,['visible',v]);}};a.prototype.setProperty=function(p,v){F.prototype.setProperty.apply(this,arguments);if(p==='label'){this._updateFormContainerLabel();}if(p==='visible'){this._visibilityDerived=false;}};a.prototype.setVisible=function(v){this._visibilityDerived=false;F.prototype.setProperty.apply(this,['visible',v]);};a.prototype.addAggregation=function(A,o){var i=A;var t=this;if(A==='groupElements'){i='formElements';this._delegateEditModeFromParent(o);o.setHorizontalLayoutGroupElementMinWidth(this.getHorizontalLayoutGroupElementMinWidth());o.setUseHorizontalLayout(this.getUseHorizontalLayout());o.attachVisibleChanged(function(e){t._updateFormContainerVisibility(e);});}F.prototype.addAggregation.apply(this,[i,o]);};a.prototype.addGroupElement=function(g){this.addAggregation('groupElements',g);};a.prototype.getGroupElements=function(){return this.getFormElements();};a.prototype.setAggregation=function(A,o){var i=A;if(A==='layout'){i='layoutData';}F.prototype.setAggregation.apply(this,[i,o]);};a.prototype.addCustomData=function(c){F.prototype.addCustomData.apply(this,arguments);var g=this.getGroupElements();if(g){g.forEach(function(o){o.addCustomData(c.clone());});}return this;};a.prototype.insertGroupElement=function(g,i){var f=this.getParent();if(f&&f.getEditable){g.setEditMode(f.getEditable());}return this.insertFormElement(g,i);};a.prototype.removeGroupElement=function(g){var o=null;var b=[];var i=0;if(g instanceof G){o=g;}else{b=this.getGroupElements();if(b){if(typeof g==='number'){o=b[g];}else if(typeof g==='string'){for(i;i<b.length;i++){if(b[i].sId===g){o=b[i];break;}}}}}if(o){return this.removeFormElement(o);}else{return null;}};a.prototype.removeAllGroupElements=function(){return this.removeAllFormElements();};a.prototype.removeAggregation=function(A,o){if(A==='groupElements'){return this.removeGroupElement(o);}else{return E.prototype.removeAggregation.apply(this,arguments);}};a.prototype.removeAllAggregation=function(A){if(A==='groupElements'){return this.removeAllGroupElements();}else{return E.prototype.removeAllAggregation.apply(this,arguments);}};a.prototype.destroyGroupElements=function(){return this.destroyFormElements();};return a;},true);\n",
	"sap/ui/comp/smartform/GroupElement.designtime.js":"/*\n * ! SAP UI development toolkit for HTML5 (SAPUI5)\n\n(c) Copyright 2009-2016 SAP SE. All rights reserved\n */\nsap.ui.define(['sap/ui/comp/smartform/SmartForm'],function(S){'use strict';var I=function(e){var b=e.mBindingInfos;if(Object.keys(b).length===0){return false;}else{for(var p in b){var P=b[p].parts;for(var i=0;i<P.length;i++){var m;if(P[i].model){m=e.getModel(P[i].model).getMetadata().getName();if(m==='sap.ui.model.odata.ODataModel'||m==='sap.ui.model.odata.v2.ODataModel'){return true;}}else{m=e.getModel().getMetadata().getName();if(m==='sap.ui.model.odata.ODataModel'||m==='sap.ui.model.odata.v2.ODataModel'){return true;}}}}}};var h=function(G){var e=G.getFields();if(e.length===0){return true;}for(var j=0;j<e.length;j++){var E=e[j];if(!E.getDomRef()){continue;}if(!I(E)){return true;}}return false;};var H=function(G){var e=G.getFields();if(e.length===0){return false;}for(var j=0;j<e.length;j++){var E=e[j];if(E.getMandatory&&E.getMandatory()){return true;}}return false;};var g=function(e){if(e instanceof S){return e;}else if(e.getParent()){return g(e.getParent());}};return{name:{singular:'FIELD_CONTROL_NAME',plural:'FIELD_CONTROL_NAME_PLURAL'},actions:{remove:{changeType:'hideControl',isEnabled:function(G){return!h(G);},getConfirmationText:function(G){var t=sap.ui.getCore().getLibraryResourceBundle('sap.ui.comp');if(H(G)){var s=G.getLabelText()||G.getId();return t.getText('GROUP_ELEMENT_DESIGN_TIME_REMOVE_MANDATORY_FIELD_MESSAGE',s);}},getState:function(G){return{element:G,visible:G.getVisible()};},restoreState:function(G,s){s.element.setVisible(s.visible);}},reveal:{changeType:'unhideControl'},rename:{changeType:'renameField',isEnabled:function(c){if(c.getLabel()){return true;}return false;},domRef:function(c){return c.getLabel().getDomRef();},getState:function(c){var s={oldValue:c.getLabel().getText()};return s;},restoreState:function(c,s){c.setLabel(s.oldValue);var b='';var B=c.getBindingInfo('label');if(B){b=B.binding.getValue();if(b===s.oldValue){var o=c.getBinding('label');if(o){o.resume();}}}return true;}}},getRelevantContainer:function(G){return g(G);},functions:{hasUnboundFields:h,hasMandatoryFields:H,getSmartForm:g},properties:{useHorizontalLayout:{ignore:true},horizontalLayoutGroupElementMinWidth:{ignore:true},elementForLabel:{ignore:true}}};},true);\n",
	"sap/ui/comp/smartform/GroupElement.js":"/*\n * ! SAP UI development toolkit for HTML5 (SAPUI5)\n\n(c) Copyright 2009-2016 SAP SE. All rights reserved\n */\nsap.ui.define(['jquery.sap.global','sap/m/Label','sap/m/VBox','sap/m/HBox','sap/ui/comp/library','sap/ui/core/Element','sap/ui/layout/form/FormElement','sap/ui/layout/ResponsiveFlowLayoutData','sap/ui/comp/navpopover/SmartLink','sap/ui/comp/smartfield/SmartLabel','sap/ui/comp/smartfield/SmartField','sap/ui/comp/smartfield/BindingUtil','sap/ui/comp/smartfield/Configuration','sap/ui/core/TooltipBase'],function(q,L,V,H,l,E,F,R,S,a,b,B,C,T){'use strict';var G=F.extend('sap.ui.comp.smartform.GroupElement',{metadata:{library:'sap.ui.comp',properties:{useHorizontalLayout:{type:'boolean',group:'Misc',defaultValue:null},horizontalLayoutGroupElementMinWidth:{type:'int',group:'Misc',defaultValue:null},elementForLabel:{type:'int',group:'Misc',defaultValue:0}},defaultAggregation:'elements',aggregations:{elements:{type:'sap.ui.core.Control',multiple:true,singularName:'element'}},events:{visibleChanged:{}},designTime:true},_visibilityDerived:false});G.prototype.init=function(){F.prototype.init.apply(this,arguments);};G.prototype._getFieldRelevantForLabel=function(){var f=this.getFields();var e=[];var t=this;f.forEach(function(o){if(o instanceof V&&t.getUseHorizontalLayout()){e=e.concat(t._extractFields([o]));}else{e.push(o);}});e=e.filter(function(o){return!(o instanceof sap.m.Label);});var i=this.getElementForLabel();if(e.length>i&&(e[i]instanceof b)){return e[i];}return null;};G.prototype._extractFields=function(e,c){var f=[];if(c===undefined){c=false;}e.forEach(function(o){if(o.getItems){f=f.concat(o.getItems());}else{f.push(o);}});if(f.some(function(o){return o.getItems;})){f=this._extractFields(f);}if(c){f=f.filter(function(o){return!(o instanceof sap.m.Label);});}return f;};G.prototype._createLabel=function(s){var o=null;var i=null;var c=new B();var f=this._getFieldRelevantForLabel();if(f){if(f.getShowLabel&&f.getShowLabel()){if(s){f.setTextLabel(s);}o=new a(f.getId()+'-label');if(s){o.setText(s);}o.setLabelFor(f);}}else{i=this.getBindingInfo('label');if(s){o=new L();o.setText(s);}else if(i){o=new L();o.bindProperty('text',c.toBinding(i));}}return o;};G.prototype.updateLabelOfFormElement=function(i,s){var t=null,c=false,r=null;if(this.getElements().length===0){this.setLabel('');}r=this._getFieldRelevantForLabel();var o=this._getLabel();if(o&&o._sSmartFieldId&&r&&o._sSmartFieldId!=r.getId()){o.destroy();o=null;}if(o){if(r&&(!(o instanceof a))){o=this._createLabel(o.getText());c=true;}}else{o=this._createLabel();c=true;}if(o){if(s&&i&&(o instanceof a)){if(s===r){o.updateLabelFor(i);}else{}}var d=this._getFieldRelevantForLabel();if(o instanceof a){if(d&&d.setTextLabel){if(d.getTextLabel()){o.setText(d.getTextLabel());}}}t=this.getTooltip();if(t){if(o instanceof a){if(d&&d.setTooltipLabel){d.setTooltipLabel(t.getText());}}}else if(!(o instanceof a)){o.setTooltip(t);}}if(c){this.setLabel(o);if(o&&o.setLabelFor&&!(o instanceof a)&&!r&&(this.getElements().length>0)){o.setLabelFor(this.getElements()[0]);}}};G.prototype.setLabel=function(o){var O,c=o,s='';var i;if(typeof o==='string'){O=this._getLabel();if(O&&O.getText){s=O.getText();if(s===o){return this;}}if(O&&O instanceof a&&(o.length>0||s.length>0)){O.setText(o);c=O;var d=this._getFieldRelevantForLabel();if(d&&d.getTextLabel&&o!=null){d.setTextLabel(o);}}else{c=new L({text:o});}}if(this.getUseHorizontalLayout()){if(this.getFields()[0]instanceof V){i=this.getFields()[0].getItems();i.some(function(I){if(I instanceof L){O=I;return true;}});if(O){O=c;}else{this.getFields()[0].insertItem(c,0);}return this;}}F.prototype.setLabel.apply(this,[c]);};G.prototype.setTooltip=function(t){var o=t;if(typeof t==='string'){o=new T({text:t});}F.prototype.setTooltip.apply(this,[o]);};G.prototype._getLabel=function(){var e=null,i=null,r=false;var o=F.prototype.getLabel.apply(this);if(!o){e=this.getElements();if(e&&e.length>0&&e[0]instanceof V){i=e[0].getItems();i.some(function(I){r=false;if(I instanceof L){o=I;r=true;}return r;});}}return o;};G.prototype.getLabelText=function(){var s='';var o=this._getLabel();if(o){s=o.getText();}return s;};G.prototype.setEditMode=function(e){var c=this.getElements();var i=[];var t=this;c.forEach(function(o){if(o instanceof V){i=t._extractFields([o]);i.forEach(function(I){if(I instanceof b){if(!(I.data('editable')===false)){I.setContextEditable(e);}}});}else if(o instanceof b){if(!(o.data('editable')===false)){o.setContextEditable(e);}}});return this;};G.prototype._getVisibilityOfFields=function(f,I){var r=false;var i=0,c=0,o=null;if(f&&f.length){c=f.length;for(i=0;i<c;i++){o=f[i];if(o){if(I&&o instanceof a){continue;}if(o instanceof V){r=this._getVisibilityOfFields(this._extractFields([o]),true);}else{r=o.getVisible();}}if(r){break;}}}return r;};G.prototype._updateFormElementVisibility=function(){var A=this.getVisible();var v=false,f=null;if(A===false&&this._visibilityDerived===false){return;}f=this.getFields();if(f&&f.length){v=this._getVisibilityOfFields(f);}if(A!==v){this._visibilityDerived=true;F.prototype.setProperty.apply(this,['visible',v]);this.fireVisibleChanged({visible:v});if(this.getParent()){this.getParent()._updateLineBreaks();}}};G.prototype._updateFormElementEditable=function(e){var o=this._getLabel();if(o&&o instanceof a){o.bindRequiredPropertyToSmartField();}};G.prototype._updateLayout=function(){var t=this;var v=null;var h=null;var f=[];var e=[];var o=null;if(this.getUseHorizontalLayout()){e=this.getFields();f=this._extractFields(e,true);}else{f=this.getFields();}var c=this._getLabel();if(this.getUseHorizontalLayout()){if(this.getFields().length>0&&this.getFields()[0].getLayoutData()){o=this.getFields()[0].getLayoutData().clone();}this.removeAllFields();if(f.length>0){if(f.length>1){f.forEach(function(d,i){var g;if(i>0){g=d.getLayoutData();if(g){if(g.getStyleClass&&!g.getStyleClass()){g.setStyleClass('sapUiCompGroupElementHBoxPadding');}}else{d.setLayoutData(new sap.m.FlexItemData({styleClass:'sapUiCompGroupElementHBoxPadding'}));}}});h=new H({'items':[].concat(f)});}if(h){v=new V({'items':[].concat(h)});}else{v=new V({'items':[].concat(f)});}v.addStyleClass('sapUiCompGroupElementVBox');if(o){v.setLayoutData(o);}this.addField(v);}if(c){F.prototype.setLabel.apply(this,[new sap.m.Label()]);F.prototype.destroyLabel.apply(this);if(v){v.insertItem(c,0);}}}else{this.removeAllFields();f.forEach(function(d){t.addField(d);});}};G.prototype.setProperty=function(p,v){F.prototype.setProperty.apply(this,[p,v]);if(p==='visible'){this._visibilityDerived=false;this._updateFormElementVisibility();}};G.prototype.setVisible=function(v){this._visibilityDerived=false;F.prototype.setProperty.apply(this,['visible',v]);this._updateFormElementVisibility();};G.prototype.setUseHorizontalLayout=function(v){this.setProperty('useHorizontalLayout',v);this._updateLayout();};G.prototype.setHorizontalLayoutGroupElementMinWidth=function(n){this.setProperty('horizontalLayoutGroupElementMinWidth',n);this._updateLayout();};G.prototype.getFormElement=function(){return this;};G.prototype.addElement=function(e){var t=this;if(e.getEditable){if(!e.getEditable()){e.data('editable',false);}}if(e.attachVisibleChanged){e.attachVisibleChanged(function(o){t._updateFormElementVisibility();});}if(e.attachContextEditableChanged){e.attachContextEditableChanged(function(o){t._updateFormElementEditable(o);});}if(e.attachEditableChanged){e.attachEditableChanged(function(o){t._updateFormElementEditable(o);});}if(e.attachInnerControlsCreated){e.attachInnerControlsCreated(function(o){t._updateFormElementLabel(o);});}if(e.setControlContext){e.setControlContext(sap.ui.comp.smartfield.ControlContextType.Form);}this.addField(e);this.updateLabelOfFormElement();this._updateLayout();};G.prototype._updateFormElementLabel=function(e){var f=this.getFields();if(f[0]instanceof V){f=f[0].getItems();if(f[0]instanceof L){f.splice(0,1);}}this.updateLabelOfFormElement(e.getParameters(),e.oSource);};G.prototype.addCustomData=function(c){F.prototype.addCustomData.apply(this,arguments);var e=this.getFields();e.forEach(function(o){if(o instanceof b){o.addCustomData(c.clone());}});return this;};G.prototype.insertElement=function(e,i){this.insertField(e,i);this.updateLabelOfFormElement();return this;};G.prototype.getElements=function(){return this.getFields();};G.prototype.removeElement=function(e){var r=this.removeField(e);this.updateLabelOfFormElement();return r;};G.prototype.removeAllElements=function(){return this.removeAllFields();};G.prototype.removeAggregation=function(A,o){if(A==='elements'){return this.removeField(o);}else{return E.prototype.removeAggregation.apply(this,arguments);}};G.prototype.removeAllAggregation=function(A){if(A==='elements'){return this.removeAllElements();}else{return E.prototype.removeAllAggregation.apply(this,arguments);}};G.prototype.getVisibleBasedOnElements=function(){var i=true;var e=this.getElements();if(e&&e.length>0){i=e.some(function(o){return o.getVisible();});}return i;};return G;},true);\n",
	"sap/ui/comp/smartform/Layout.js":"/*\n * ! SAP UI development toolkit for HTML5 (SAPUI5)\n\n(c) Copyright 2009-2016 SAP SE. All rights reserved\n */\nsap.ui.define(['jquery.sap.global','sap/ui/comp/library','sap/ui/core/Element'],function(q,l,E){'use strict';var L=E.extend('sap.ui.comp.smartform.Layout',{metadata:{library:'sap.ui.comp',properties:{labelSpanXL:{type:'int',group:'Misc',defaultValue:null},labelSpanL:{type:'int',group:'Misc',defaultValue:null},labelSpanM:{type:'int',group:'Misc',defaultValue:null},labelSpanS:{type:'int',group:'Misc',defaultValue:null},emptySpanXL:{type:'int',group:'Misc',defaultValue:null},emptySpanL:{type:'int',group:'Misc',defaultValue:null},emptySpanM:{type:'int',group:'Misc',defaultValue:null},emptySpanS:{type:'int',group:'Misc',defaultValue:null},columnsXL:{type:'int',group:'Misc',defaultValue:null},columnsL:{type:'int',group:'Misc',defaultValue:null},columnsM:{type:'int',group:'Misc',defaultValue:null},singleGroupFullSize:{type:'boolean',group:'Misc',defaultValue:true},breakpointXL:{type:'int',group:'Misc',defaultValue:null},breakpointL:{type:'int',group:'Misc',defaultValue:null},breakpointM:{type:'int',group:'Misc',defaultValue:null},gridDataSpan:{type:'sap.ui.layout.GridSpan',group:'Misc',defaultValue:''}}}});return L;},true);\n",
	"sap/ui/comp/smartform/SmartForm.designtime.js":"/*\n * ! SAP UI development toolkit for HTML5 (SAPUI5)\n\n(c) Copyright 2009-2016 SAP SE. All rights reserved\n */\nsap.ui.define([],function(){'use strict';return{aggregations:{groups:{actions:{move:'moveGroups',createContainer:{changeType:'addGroup',isEnabled:true,restoreState:function(a){a.destroy();return true;},getState:function(s){},containerTitle:'GROUP_CONTROL_NAME',getCreatedContainerId:function(n){return n;}}}}},name:'{name}',description:'{description}',properties:{title:{ignore:false},useHorizontalLayout:{ignore:false},horizontalLayoutGroupElementMinWidth:{ignore:false},checkButton:{ignore:true},entityType:{ignore:true},expandable:{ignore:false},expanded:{ignore:false},editTogglable:{ignore:false},editable:{ignore:false},ignoredFields:{ignore:true},flexEnabled:{ignore:true}}};},true);\n",
	"sap/ui/comp/smartform/SmartForm.js":"/*\n * ! SAP UI development toolkit for HTML5 (SAPUI5)\n\n(c) Copyright 2009-2016 SAP SE. All rights reserved\n */\nsap.ui.define(['jquery.sap.global','sap/ui/comp/library','sap/m/MessageBox','sap/ui/core/Control','sap/ui/layout/form/Form','sap/ui/layout/form/ResponsiveLayout','sap/ui/fl/Utils','sap/ui/fl/registry/Settings','sap/m/Label','sap/m/Title','sap/m/Button','sap/m/ButtonType','sap/m/Panel','sap/m/OverflowToolbar','sap/m/ToolbarSpacer','sap/m/ToolbarSeparator'],function(q,l,a,C,F,R,U,b,c,T,B,d,P,O,e,f){'use strict';var g=C.extend('sap.ui.comp.smartform.SmartForm',{metadata:{library:'sap.ui.comp',designTime:true,properties:{title:{type:'string',group:'Misc',defaultValue:null},useHorizontalLayout:{type:'boolean',group:'Misc',defaultValue:null},horizontalLayoutGroupElementMinWidth:{type:'int',group:'Misc',defaultValue:null},checkButton:{type:'boolean',group:'Misc',defaultValue:false},entityType:{type:'string',group:'Misc',defaultValue:null},expandable:{type:'boolean',group:'Misc',defaultValue:false},expanded:{type:'boolean',group:'Misc',defaultValue:null},editTogglable:{type:'boolean',group:'Misc',defaultValue:false},editable:{type:'boolean',group:'Misc',defaultValue:false},ignoredFields:{type:'string',group:'Misc',defaultValue:null},flexEnabled:{type:'boolean',group:'Misc',defaultValue:true}},defaultAggregation:'groups',aggregations:{groups:{type:'sap.ui.comp.smartform.Group',multiple:true,singularName:'group'},content:{type:'sap.ui.core.Control',multiple:false,visibility:'hidden'},layout:{type:'sap.ui.comp.smartform.Layout',multiple:false},semanticObjectController:{type:'sap.ui.comp.navpopover.SemanticObjectController',multiple:false},customToolbar:{type:'sap.m.Toolbar',multiple:false},toolbar:{type:'sap.m.Toolbar',multiple:false,visibility:'hidden'}},events:{editToggled:{},checked:{}}},renderer:function(r,o){var t=o._getCustomToolbar()||o._oToolbar;r.write('<div');r.writeControlData(o);r.addClass('sapUiCompSmartForm');r.writeClasses();r.write('>');if(o.mProperties['expandable']){r.renderControl(o._oPanel);}else{if(t){r.renderControl(t);}r.renderControl(o._oForm);}r.write('</div>');}});g.prototype.init=function(){this._bisLayoutCreated=false;this._oForm=null;this._oPanel=null;this._oTitle=new T(this.getId()+'-title-sfmain').addStyleClass('title');this._bUpdateToolbar=true;this._sResizeListenerId='';this._oRb=sap.ui.getCore().getLibraryResourceBundle('sap.ui.comp');};g.prototype._resizeHandlerRegId='';g.prototype.onBeforeRendering=function(){this._updateToolbar();this._createLayout();this._updatePanel();if(this.getUseHorizontalLayout()&&this.getLayout()&&this.getLayout().getGridDataSpan()){this._propagateGridDataSpan();this._registerResizeHandler();}};g.prototype.addGroup=function(G){this.addAggregation('groups',G,true);};g.prototype.addAggregation=function(A,o){if(A==='groups'){this._insertGroup(o);}else{C.prototype.addAggregation.apply(this,arguments);}};g.prototype.getGroups=function(){var G=this.getAggregation('groups');return((G===null)?[]:G);};g.prototype.getAggregation=function(A){var r=null;if(A==='groups'){r=this._oForm?this._oForm.getFormContainers():[];}else{r=C.prototype.getAggregation.apply(this,arguments);}return r;};g.prototype._getLayout=function(){var L=this.getLayout();var o=null;var G=this.getGroups();if(L){o=new sap.ui.layout.form.ResponsiveGridLayout({'labelSpanXL':L.mProperties['labelSpanXL']?L.mProperties['labelSpanXL']:-1,'labelSpanL':L.mProperties['labelSpanL']?L.mProperties['labelSpanL']:4,'labelSpanM':L.mProperties['labelSpanM']?L.mProperties['labelSpanM']:4,'labelSpanS':L.mProperties['labelSpanS']?L.mProperties['labelSpanS']:12,'emptySpanXL':L.mProperties['emptySpanXL']?L.mProperties['emptySpanXL']:-1,'emptySpanL':L.mProperties['emptySpanL']?L.mProperties['emptySpanL']:0,'emptySpanM':L.mProperties['emptySpanM']?L.mProperties['emptySpanM']:0,'columnsXL':L.mProperties['columnsXL']?L.mProperties['columnsXL']:-1,'columnsL':L.mProperties['columnsL']?L.mProperties['columnsL']:3,'columnsM':L.mProperties['columnsM']?L.mProperties['columnsM']:2,'singleContainerFullSize':L.mProperties['singleGroupFullSize'],'breakpointXL':L.mProperties['breakpointXL']?L.mProperties['breakpointXL']:1440,'breakpointL':L.mProperties['breakpointL']?L.mProperties['breakpointL']:1024,'breakpointM':L.mProperties['breakpointL']?L.mProperties['breakpointL']:600});}else{o=new sap.ui.layout.form.ResponsiveGridLayout({'labelSpanL':4,'labelSpanM':4,'emptySpanL':0,'emptySpanM':0,'columnsL':3,'columnsM':2,'breakpointL':1024,'breakpointM':600});}if(G&&G.length>0&&G.length<o.getColumnsL()&&o.mProperties['singleContainerFullSize']){o.setColumnsL(G.length);}return o;};g.prototype._createToolbar=function(){if(this._oToolbar){var o=this._oToolbar.removeContent(this._oToolbar.getId()+'-button-sfmain-editToggle');if(o){o.destroy();this._oEditToggleButton=null;}o=this._oToolbar.removeContent(this.getId()+'-'+this._oToolbar.getId()+'-button-sfmain-check');if(o){o.destroy();}o=this._oToolbar.removeContent(this.getId()+'-'+this._oToolbar.getId()+'-AdaptationButton');if(o){o.destroy();}this._oToolbar.removeContent(this.getId()+'-title-sfmain');this._oToolbar.destroy();}this._oToolbar=new O(this.getId()+'-toolbar-sfmain',{'height':'3rem','design':sap.m.ToolbarDesign.Transparent});this.setAggregation('toolbar',this._oToolbar);};g.prototype._updateToolbar=function(){var o=this._getCustomToolbar();if(this._bUpdateToolbar){if(o){this._cleanToolbar();this._addHeaderToToolbar();this._addSeparatorToToolbar();this._addEditTogglableToToolbar();this._addCheckToToolbar();this._addChangeModeToToolbar();this._removeSeparatorFromToolbar();}else{this._createToolbar();this._addHeaderToToolbar();this._addEditTogglableToToolbar();this._addCheckToToolbar();this._addChangeModeToToolbar();if(this._oToolbar.getContent().length===1&&!this.getExpandable()){this._oToolbar.destroy();this._oToolbar=null;this.setAggregation('toolbar',null);}}this._bUpdateToolbar=false;}};g.prototype._getToolbar=function(){var o=this._getCustomToolbar();return o||this._oToolbar;};g.prototype._updatePanel=function(){var t=this._getToolbar();if(this.mProperties['expandable']){this._oPanel.setExpanded(this.mProperties['expanded']);this._oPanel.setHeaderToolbar(t);}};g.prototype._cleanToolbar=function(){var o=this._getCustomToolbar();var h=o.removeContent(o.getId()+'-button-sfmain-editToggle');if(h){h.destroy();this._oEditToggleButton=null;}h=o.removeContent(this.getId()+'-'+o.getId()+'-button-sfmain-check');if(h){h.destroy();}h=o.removeContent(this.getId()+'-'+o.getId()+'-AdaptationButton');if(h){h.destroy();}o.removeContent(this.getId()+'-title-sfmain');};g.prototype._addHeaderToToolbar=function(){var o=this._getCustomToolbar();var t=o||this._oToolbar;var h=[];var i=0;var j=null;if(this.getTitle()||this.mBindingInfos['title']){t.insertContent(this._oTitle,0);}if(this._oToolbar){t.insertContent(new e(),1);}else{h=t.getContent();for(i;i<h.length;i++){if(h[i].getMetadata().getName()==='sap.m.ToolbarSpacer'){j=h[i];}}if(!j){t.addContent(new e());}}};g.prototype._addEditTogglableToToolbar=function(){var o=this._getCustomToolbar();var t=o||this._oToolbar;var h=this;var i=this.getEditable()?'sap-icon://display':'sap-icon://edit';var s=this._oRb.getText(this.getEditable()?'FORM_TOOLTIP_DISPLAY':'FORM_TOOLTIP_EDIT');if(this.getEditTogglable()){if(!this._oEditToggleButton){this._oEditToggleButton=new B(t.getId()+'-button-sfmain-editToggle',{type:d.Default,icon:i,tooltip:s,press:function(){h._toggleEditMode();}});}t.addContent(this._oEditToggleButton);}};g.prototype._propagateGridDataSpan=function(){var G,s='',L=this.getLayout(),v;if(L){s=L.getGridDataSpan();}G=this.getGroups();G.forEach(function(o){var E=o.getGroupElements();E.forEach(function(h){var L=h.getFields()[0].getLayoutData();if(L){if(L instanceof sap.m.FlexItemData){v=new sap.ui.core.VariantLayoutData({multipleLayoutData:[L,new sap.ui.layout.GridData({span:s})]});h.getFields()[0].setLayoutData(v);}else if(L instanceof sap.ui.layout.GridData){L.setSpan(s);}else if(L instanceof sap.ui.core.VariantLayoutData){L.getMultipleLayoutData().forEach(function(L){if(L instanceof sap.ui.layout.GridData){L.setSpan(s);}});}}else{L=new sap.ui.layout.GridData({span:s});h.getFields()[0].setLayoutData(L);}if(h.getFields()[0]instanceof sap.m.VBox){var S=h.getFields()[0].getItems()[1];if(S&&S.setControlContext){S.setControlContext(sap.ui.comp.smartfield.ControlContextType.SmartFormGrid);}}});});};g.prototype.propagateGridDataSpan=function(){this._propagateGridDataSpan();return this;};g.prototype._registerResizeHandler=function(){if(this._resizeHandlerRegId){return;}var t=this;var r=function(){var G=t.getGroups();G.forEach(function(o){o._updateLineBreaks();});};this._resizeHandlerRegId=sap.ui.core.ResizeHandler.register(this._oForm,r);};g.prototype._getCurrentSpan=function(){var s=this.getLayout().getGridDataSpan();var i=0;var r=[];if(this.getDomRef()&&this._oForm){if(this.getDomRef().clientWidth>this._oForm.getLayout().getBreakpointL()){var L=/L([1-9]|1[0-2])/i;r=L.exec(s);i=r[1];}else if(this.getDomRef().clientWidth>this._oForm.getLayout().getBreakpointM()){var M=/M([1-9]|1[0-2])/i;r=M.exec(s);i=r[1];}else{var S=/S([1-9]|1[0-2])/i;r=S.exec(s);i=r[1];}}return i;};g.prototype._toggleEditMode=function(){var E=this.getEditable();this.setEditable(!E);};g.prototype._addChangeModeToToolbar=function(){if(!b.isFlexChangeMode()){return Promise.resolve();}var i=!!this._getContainingDialog(this);if(i||b.isFlexibilityAdaptationButtonAllowed()){return this._getAddChangeModelToToolbarPromise();}};g.prototype._getAddChangeModelToToolbarPromise=function(){var t=this;var i=this.getFlexEnabled();if(i){var s=U.getComponentClassName(this);var p={appDescriptor:U.getAppDescriptor(this),siteId:U.getSiteId(this)};return b.getInstance(s,p).then(function(S){if(S.isKeyUser()&&U.checkControlId(t)){t._setToolbarAndAddContent();}});}else{return Promise.resolve();}};g.prototype._setToolbarAndAddContent=function(){var o=this._getCustomToolbar();var t=o||this._oToolbar;if(!t||t.bIsDestroyed){this._createToolbar();this._oToolbar.addStyleClass('titleBar');this._addHeaderToToolbar();t=this._oToolbar;this.invalidate();}t.addContent(new B(this.getId()+'-'+t.getId()+'-AdaptationButton',{type:d.Default,icon:'sap-icon://wrench',tooltip:this._oRb.getText('FORM_TOOLTIP_SETTINGS'),press:this._handleAdaptationButtonPress.bind(this)}));};g.prototype._handleAdaptationButtonPress=function(E){var A=E.getSource();A.setEnabled(false);q.sap.require('sap.ui.rta.RuntimeAuthoring');var r=new sap.ui.rta.RuntimeAuthoring({rootControl:this._getContainingDialog(this)});r.attachStop(function(A){A.setEnabled(true);}.bind(this,A));r.start();};g.prototype._getContainingDialog=function(o){if(!o){return undefined;}if(o.getMetadata&&o.getMetadata().getName()==='sap.m.Dialog'){return o;}return this._getContainingDialog(o.getParent());};g.prototype._addCheckToToolbar=function(){if(!this.getEditable()){return;}var o=this._getCustomToolbar();var t=o||this._oToolbar;var h=this;if(this.getCheckButton()){t.addContent(new B(this.getId()+'-'+t.getId()+'-button-sfmain-check',{type:d.Default,text:this._oRb.getText('SMART_FORM_CHECK'),press:function(){var E=[];E=h.check();h.fireChecked({erroneousFields:E});}}));}};g.prototype.check=function(h){if(h===undefined){h=true;}var E=this._checkClientError(h);return E;};g.prototype._checkClientError=function(h){if(h===undefined){h=true;}var i=this.getSmartFields(h);var E=[];var G=null;i.forEach(function(o){if(o.checkClientError()){if(h&&o.getVisible){if(!o.getVisible()){return;}}G=o.getParent();while(G.getParent){G=G.getParent();if(G instanceof sap.ui.comp.smartform.Group){if(!G.getExpanded()){G.setExpanded(true);}break;}}E.push(o.getId());}});return E;};g.prototype._addSeparatorToToolbar=function(){var o=this._getCustomToolbar();var t=o||this._oToolbar;t.addContent(new f());};g.prototype._removeSeparatorFromToolbar=function(){var o=this._getCustomToolbar();var t=o||this._oToolbar;var h=t.getContent();var L=null;var r=[];var i=0;L=h[h.length-1];if(L.getMetadata().getName()==='sap.m.ToolbarSeparator'){t.removeContent(L);}L=null;for(i;i<h.length;i++){if(h[i].getMetadata().getName()==='sap.m.ToolbarSeparator'&&L.getMetadata().getName()!='sap.m.Button'){r.push(h[i]);}L=h[i];}for(i=0;i<r.length;i++){t.removeContent(r[i]);}};g.prototype._displayError=function(E){var s,h;h=this._oRb.getText('FORM_CLIENT_CHECK_ERROR_TITLE');s=this._oRb.getText('FORM_CLIENT_CHECK_ERROR');a.show(s,{icon:a.Icon.ERROR,title:h,styleClass:(this.$()&&this.$().closest('.sapUiSizeCompact').length)?'sapUiSizeCompact':''});};g.prototype.setEditable=function(E){var t;var o=this.getEditable();if(o===E){return this;}if(!E&&this.hasListeners('editToggled')){var h=[];h=this.check(true);if(h&&h.length>0){this._displayError(h);return this;}}this.setProperty('editable',E);if(this._oForm){this._oForm.setEditable(E);}this.fireEditToggled({editable:E});if(this._oEditToggleButton){this._oEditToggleButton.setIcon(E?'sap-icon://display':'sap-icon://edit');t=this._oRb.getText(E?'FORM_TOOLTIP_DISPLAY':'FORM_TOOLTIP_EDIT');this._oEditToggleButton.setTooltip(t);}var G=this.getGroups();G.forEach(function(i){i.setEditMode(E);});this._bUpdateToolbar=true;return this;};g.prototype.setEditTogglable=function(t){this.setProperty('editTogglable',t);this._bUpdateToolbar=true;return this;};g.prototype.setTitle=function(t){C.prototype.setProperty.apply(this,['title',t]);this._oTitle.setText(t);return this;};g.prototype.setUseHorizontalLayout=function(u){var o=this.getProperty('useHorizontalLayout');if(o!==u){this.setProperty('useHorizontalLayout',u);if(u){this.addStyleClass('sapUiCompSmartFormHorizontalLayout');}else{this.removeStyleClass('sapUiCompSmartFormHorizontalLayout');}var G=this.getGroups();if(G){G.forEach(function(h){h.setUseHorizontalLayout(u);});}this._bisLayoutCreated=false;}return this;};g.prototype.setHorizontalLayoutGroupElementMinWidth=function(n){this.setProperty('horizontalLayoutGroupElementMinWidth',n);var G=this.getGroups();if(G){G.forEach(function(o){o.setHorizontalLayoutGroupElementMinWidth(n);});}return this;};g.prototype.getVisibleProperties=function(){var p=[];var G=this.getGroups();if(G){G.forEach(function(o){var h=o.getGroupElements();if(h){h.forEach(function(i){var j=i.getFields();if(j){j.forEach(function(k){if(k.getVisible()){var s=k.getBindingPath('value');if(s){p.push(s);}}});}});}});}return p;};g.prototype.setCustomToolbar=function(o){if(o){o.data('bIsSmartFormCustomToolbar',true);}this.setAggregation('customToolbar',o);if(o){this._bUpdateToolbar=true;}return this;};g.prototype.getCustomToolbar=function(){var o=this._getCustomToolbar();return o;};g.prototype._getCustomToolbar=function(){var o=this.getAggregation('customToolbar');if(!o&&this._oPanel){o=this._oPanel.getHeaderToolbar();if(o&&!o.data('bIsSmartFormCustomToolbar')){o=null;}}return o;};g.prototype.insertGroup=function(G,i){this.insertAggregation('groups',G,i);return this;};g.prototype.insertAggregation=function(A,o,i){if(A==='groups'){this._insertGroup(o,i);}else{C.prototype.insertAggregation.apply(this,arguments);}};g.prototype.removeGroup=function(G){this.removeAggregation('groups',G);return this;};g.prototype.removeAggregation=function(A,o){if(A==='groups'){return this._oForm.removeFormContainer(o);}else{return C.prototype.removeAggregation.apply(this,arguments);}};g.prototype.removeAllAggregation=function(A){if(A==='groups'){return this.removeAllGroups();}else{return C.prototype.removeAllAggregation.apply(this,arguments);}};g.prototype.destroyGroups=function(){this.destroyAggregation('groups');return this;};g.prototype.destroyAggregation=function(A){if(A==='groups'){this._oForm.destroyFormContainers();}else{C.prototype.destroyAggregation.apply(this,arguments);}};g.prototype._createForm=function(){if(!this._oForm){this._oForm=new F({'editable':this.getEditable()});if(this.mProperties['expandable']){if(!this._oPanel){this._oPanel=new P({'expanded':this.mProperties['expanded'],'expandable':true,'headerText':this.getTitle()});this.setAggregation('content',this._oPanel);this._oPanel.attachExpand(function(E){this.setProperty('expanded',E.getParameters()['expand'],false);}.bind(this));}this._oPanel.addContent(this._oForm);}else{this.setAggregation('content',this._oForm);}}};g.prototype._createLayout=function(){var L=null;this._createForm();if(!this._bisLayoutCreated&&this._oForm){L=this._oForm.getLayout();if(L){L.destroy();}if(this.mProperties['useHorizontalLayout']){if(this.getLayout()&&this.getLayout().getGridDataSpan()){L=new sap.ui.layout.form.ResponsiveGridLayout({columnsL:1,columnsM:1});if(this.getLayout().getBreakpointM()>0){L.setBreakpointM(this.getLayout().getBreakpointM());}if(this.getLayout().getBreakpointL()>0){L.setBreakpointM(this.getLayout().getBreakpointL());}}else{L=new sap.ui.layout.form.ResponsiveLayout();}}else{L=this._getLayout();}this._oForm.setLayout(L);this._bisLayoutCreated=true;}};g.prototype._addCustomData=function(G){var h=null;if(G){h=this.getCustomData();if(h&&h.length>0){h.forEach(function(o){G.addCustomData(o.clone());});}}};g.prototype._delegateEditMode=function(G){if(G){G.setEditMode(this.mProperties['editable']);}};g.prototype._insertGroup=function(G,i){this._createForm();if(i===undefined||i===null){i=this._oForm.getFormContainers().length;}else if(i===-1){i=0;}G.setHorizontalLayoutGroupElementMinWidth(this.getHorizontalLayoutGroupElementMinWidth());G.setUseHorizontalLayout(this.getUseHorizontalLayout());this._addCustomData(G);this._delegateEditMode(G);this._oForm.insertFormContainer(G,i);};g.prototype.removeAllGroups=function(){if(this._oForm){return this._oForm.removeAllFormContainers();}};g.prototype.updateAggregation=function(A){C.prototype.updateAggregation.apply(this,arguments);if(A==='groups'){this._updateClonedElements(this);}};g.prototype.getSmartFields=function(h){var G=[];var i=[];var E=[];var j=[];var s=[];if(h===undefined){h=true;}G=this.getGroups();G.forEach(function(o){if(!h||(h&&o.getVisible())){i=o.getGroupElements();i.forEach(function(k){j=[];E=k.getElements();j=k._extractFields(E,true);j=j.filter(function(m){return m instanceof sap.ui.comp.smartfield.SmartField;});s=s.concat(j);});}});return s;};g.prototype.setFocusOnEditableControl=function(){var h=[];this.getGroups().forEach(function(G){G.getGroupElements().forEach(function(o){h=h.concat(o.getElements());});});while(h.some(function(o){return o instanceof sap.m.FlexBox;})){for(var i=0;i<h.length;i++){if(h[i]instanceof sap.m.FlexBox){Array.prototype.splice.apply(h,[i,1].concat(h[i].getItems()));}}}h.some(function(o){if(o.getEditable&&o.getEditable()&&o.focus){if(o instanceof sap.ui.comp.smartfield.SmartField){o.attachEventOnce('innerControlsCreated',function(E){q.sap.delayedCall(0,E.oSource._oControl[E.oSource._oControl.current],'focus');});}else{o.focus();}return true;}});};g.prototype.clone=function(I,L){var o=C.prototype.clone.apply(this,arguments);var A=this.getMetadata().getAggregations();var s;var h;for(s in A){h=this.getAggregation(s);if(this.getMetadata().hasAggregation(s)&&!this.isBound(s)&&((o.getAggregation(s)===null)||o.getAggregation(s).length===0)){if(h instanceof sap.ui.base.ManagedObject){o.addAggregation(s,h.clone(I,L));}else if(q.isArray(h)){for(var i=0;i<h.length;i++){o.addAggregation(s,h[i].clone(I,L));}if(s==='groups'){this._updateClonedElements(o);}}else if(h!=null){o.setAggregation(s,h.clone(I,L));}}}return o;};g.prototype._updateClonedElements=function(s){var o=null,L=null;var G=[];var E=[];var h=[];var i=s.getGroups();i.forEach(function(j){G=j.getGroupElements();G.forEach(function(k){o=k._getFieldRelevantForLabel();L=k._getLabel();if(o&&L){L.setLabelFor(o);}E=k.getElements();h=[];h=k._extractFields(E,true);h.forEach(function(o){if(o.getEditable){if(!o.getEditable()){o.data('editable',false);}}if(o.attachVisibleChanged){o.attachVisibleChanged(function(m){k._updateFormElementVisibility();});}if(o.attachContextEditableChanged){o.attachContextEditableChanged(function(m){k._updateFormElementEditable(m);});}if(o.attachInnerControlsCreated){o.attachInnerControlsCreated(function(m){k._updateFormElementLabel(m);});}});});});};g.prototype.exit=function(){if(this._oForm){this._oForm.destroy();}if(this._oPanel){this._oPanel.destroy();}if(this._oTitle){this._oTitle.destroy();}if(this._oToolbar){this._oToolbar.destroy();}if(this._oEditToggleButton){this._oEditToggleButton.destroy();}this._oForm=null;this._oPanel=null;this._oTitle=null;this._bUpdateToolbar=true;this._sResizeListenerId='';this._oRb=null;this._oToolbar=null;this._oEditToggleButton=null;if(this._resizeHandlerRegId){sap.ui.core.ResizeHandler.deregister(this._resizeHandlerRegId);this._resizeHandlerRegId='';}};return g;},true);\n",
	"sap/ui/comp/smartform/flexibility/changes/AddField.js":"/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n\n(c) Copyright 2009-2016 SAP SE. All rights reserved\n */\nsap.ui.define(['jquery.sap.global','sap/ui/fl/Utils','sap/ui/fl/changeHandler/Base','sap/ui/fl/changeHandler/JsControlTreeModifier'],function(q,U,B,J){'use strict';var A={};A.applyChange=function(c,g,p){var C=c.getDefinition();var f=function(C){var M=C.texts&&C.texts.fieldLabel&&C.texts.fieldLabel.value;var b=C.content;var d=false;if(b){d=C.content.field&&(C.content.field.selector||C.content.field.id)&&C.content.field.jsType&&C.content.field.value&&C.content.field.valueProperty;}return M&&b&&d;};var m=p.modifier;var v=p.view;if(f(C)){var o=C.content;var F=o.field.selector;var s=o.field.id;var l=C.texts.fieldLabel.value;var j=o.field.jsType;var P=o.field.valueProperty;var a=o.field.value;var e=o.field.entitySet;var i=o.field.index;var G=m.createControl('sap.ui.comp.smartform.GroupElement',p.appComponent,v,F||s);m.setProperty(G,'label',l);m.insertAggregation(g,'groupElements',G,i,v);this.addElementIntoGroupElement(m,v,G,l,j,P,a,e,i,p.appComponent);return true;}else{U.log.error('Change does not contain sufficient information to be applied: ['+C.layer+']'+C.namespace+'/'+C.fileName+'.'+C.fileType);}};A.addElementIntoGroupElement=function(m,v,g,l,j,p,P,e,i,a){var V=m.createControl(j,a,v);m.bindProperty(V,p,P);m.insertAggregation(g,'elements',V,i,v,true);if(e){m.setProperty(V,'entitySet',e);}};A.completeChangeContent=function(c,s,p){var a=p.appComponent;var C=c.getDefinition();if(s.fieldLabel){B.setTextInChange(C,'fieldLabel',s.fieldLabel,'XFLD');}else{throw new Error('oSpecificChangeInfo.fieldLabel attribute required');}if(!C.content){C.content={};}if(!C.content.field){C.content.field={};}if(s.fieldValue){C.content.field.value=s.fieldValue;}else{throw new Error('oSpecificChangeInfo.fieldValue attribute required');}if(s.valueProperty){C.content.field.valueProperty=s.valueProperty;}else{throw new Error('oSpecificChangeInfo.valueProperty attribute required');}if(s.newControlId){C.content.field.selector=J.getSelector(s.newControlId,a,{index:s.index});}else{throw new Error('oSpecificChangeInfo.newControlId attribute required');}if(s.jsType){C.content.field.jsType=s.jsType;}else{throw new Error('oSpecificChangeInfo.jsType attribute required');}if(s.index===undefined){throw new Error('oSpecificChangeInfo.index attribute required');}else{C.content.field.index=s.index;}if(s.entitySet){C.content.field.entitySet=s.entitySet;}};return A;},true);\n",
	"sap/ui/comp/smartform/flexibility/changes/AddFields.js":"/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n\n(c) Copyright 2009-2016 SAP SE. All rights reserved\n */\nsap.ui.define(['jquery.sap.global','./AddField','sap/ui/fl/Utils','sap/ui/fl/changeHandler/Base','sap/ui/fl/changeHandler/JsControlTreeModifier'],function(q,A,U,B,J){'use strict';var a={};a.applyChange=function(c,g,p){var C=c.getDefinition();var f=function(C){var M=C.texts;var h=C.content;var k=false;if(h){k=C.content.field&&(C.content.field.selector||C.content.field.id)&&C.content.field.jsTypes&&C.content.field.value&&C.content.field.valueProperty;}return M&&h&&k;};var m=p.modifier;var v=p.view;if(f(C)){var F=C.content.field.selector;var s=C.content.field.id;var l;var L;var P;for(var j=0;j<C.content.field.jsTypes.length;j++){L='fieldLabel'+j;if(C.texts[L].value!==P){l=(l)?l+'/'+C.texts[L].value:C.texts[L].value;P=C.texts[L].value;}}var b=C.content.field.index;var G=m.createControl('sap.ui.comp.smartform.GroupElement',p.appComponent,v,F||s);for(var i=0;i<C.content.field.jsTypes.length;i++){var d=C.content.field.jsTypes[i];var e=C.content.field.valueProperty[i];var o=C.content.field.value[i];var E=C.content.field.entitySet;A.addElementIntoGroupElement(m,v,G,l,d,e,o,E,i,p.appComponent);}m.setProperty(G,'label',l);m.insertAggregation(g,'groupElements',G,b);return true;}else{U.log.error('Change does not contain sufficient information to be applied: ['+C.layer+']'+C.namespace+'/'+C.fileName+'.'+C.fileType);}};a.completeChangeContent=function(c,s,p){var o=p.appComponent;var C=c.getDefinition();if(s.fieldLabels){for(var i=0;i<s.fieldLabels.length;i++){var f='fieldLabel'+i;B.setTextInChange(C,f,s.fieldLabels[i],'XFLD');}}else if(s.label){B.setTextInChange(C,'fieldLabel0',s.label,'XFLD');}else{throw new Error('oSpecificChangeInfo.fieldLabels or label attribute required');}if(!C.content){C.content={};}if(!C.content.field){C.content.field={};}if(s.fieldValues){C.content.field.value=s.fieldValues;}else if(s.bindingPath){C.content.field.value=[s.bindingPath];}else{throw new Error('oSpecificChangeInfo.fieldValue or bindingPath attribute required');}if(s.valueProperty){C.content.field.valueProperty=s.valueProperty;}else if(s.bindingPath){C.content.field.valueProperty=['value'];}else{throw new Error('oSpecificChangeInfo.valueProperty or bindingPath attribute required');}if(s.newControlId){C.content.field.selector=J.getSelector(s.newControlId,o);}else{throw new Error('oSpecificChangeInfo.newControlId attribute required');}if(s.jsTypes){C.content.field.jsTypes=s.jsTypes;}else if(s.bindingPath){C.content.field.jsTypes=['sap.ui.comp.smartfield.SmartField'];}else{throw new Error('oSpecificChangeInfo.jsTypes or bindingPath attribute required');}if(s.index===undefined){throw new Error('oSpecificChangeInfo.index attribute required');}else{C.content.field.index=s.index;}if(s.entitySet){C.content.field.entitySet=s.entitySet;}};return a;},true);\n",
	"sap/ui/comp/smartform/flexibility/changes/AddGroup.js":"/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n\n(c) Copyright 2009-2016 SAP SE. All rights reserved\n */\nsap.ui.define(['sap/ui/fl/Utils','jquery.sap.global','sap/ui/fl/changeHandler/Base','sap/ui/fl/changeHandler/JsControlTreeModifier'],function(U,q,B,J){'use strict';var A={};A.applyChange=function(c,f,p){var m=p.modifier;var a=p.appComponent;var v=p.modifier.view;var C=c.getDefinition();if(C.texts&&C.texts.groupLabel&&C.texts.groupLabel.value&&C.content&&C.content.group&&(C.content.group.selector||C.content.group.id)){var l=C.texts.groupLabel.value;var i=C.content.group.index;var g=m.createControl('sap.ui.comp.smartform.Group',a,v,C.content.group.selector||C.content.group.id);m.setProperty(g,'label',l);m.insertAggregation(f,'groups',g,i,v);}else{U.log.error('Change does not contain sufficient information to be applied: ['+C.layer+']'+C.namespace+'/'+C.fileName+'.'+C.fileType);}};A.completeChangeContent=function(c,s,p){var C=c.getDefinition();var a=p.appComponent;if(s.newLabel){B.setTextInChange(C,'groupLabel',s.newLabel,'XFLD');}else{throw new Error('oSpecificChangeInfo.groupLabel attribute required');}if(!C.content){C.content={};}if(!C.content.group){C.content.group={};}if(s.index===undefined){throw new Error('oSpecificChangeInfo.index attribute required');}else{C.content.group.index=s.index;}if(s.newControlId){C.content.group.selector=J.getSelector(s.newControlId,a);}else{throw new Error('oSpecificChangeInfo.newControlId attribute required');}};return A;},true);\n",
	"sap/ui/comp/smartform/flexibility/changes/MoveFields.js":"/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n\n(c) Copyright 2009-2016 SAP SE. All rights reserved\n */\nsap.ui.define(['jquery.sap.global','sap/ui/fl/changeHandler/Base','sap/ui/fl/Utils','sap/ui/fl/changeHandler/JsControlTreeModifier'],function(q,B,F,J){'use strict';var M={};M.applyChange=function(c,g,p){function a(c,m){if(!c){throw new Error('No change instance');}var C=c.getContent();if(!m.getAggregation(g,'groupElements')){F.log.error('Object has no group elements aggregation',m.getId(g));}if(!C||!C.moveFields||C.moveFields.length===0){throw new Error('Change format invalid');}}function b(o,m,A,v){if(!o.selector&&!o.id){throw new Error('Change format invalid - moveFields element has no id attribute');}if(typeof(o.index)!=='number'){throw new Error('Change format invalid - moveFields element index attribute is no number');}return m.bySelector(o.selector||o.id,A,v);}var m=p.modifier;var v=p.view;var A=p.appComponent;a(c,m);var C=c.getContent();var t=g;if(C.targetSelector||C.targetId){t=m.bySelector(C.targetSelector||C.targetId,A,v);}C.moveFields.forEach(function(o){var f=b(o,m,A,v);if(!f){F.log.warning('Field to move not found');return;}m.removeAggregation(g,'groupElements',f,v);m.insertAggregation(t,'groupElements',f,o.index);});return true;};M.completeChangeContent=function(c,s,p){function a(){if(!s.moveFields){throw new Error('oSpecificChangeInfo.moveFields attribute required');}if(s.moveFields.length===0){throw new Error('MoveFields array is empty');}s.moveFields.forEach(function(m){if(!m.id){throw new Error('MoveFields element has no id attribute');}if(typeof(m.index)!=='number'){throw new Error('Index attribute at MoveFields element is no number');}});}a();var C=c.getDefinition();var A=p.appComponent;if(!C.content){C.content={};}if(!C.content.moveFields){C.content.moveFields=[];}s.moveFields.forEach(function(f){var o=J.bySelector(f.id,A);var S=J.getSelector(o,A);C.content.moveFields.push({selector:S,index:f.index});});if(s.targetId){var t=J.bySelector(s.targetId,A);C.content.targetSelector=J.getSelector(t,A);}};M.buildStableChangeInfo=function(m){var s=m.source.id;var t=m.target.id;var c={changeType:m.changeType,selector:{id:s},targetId:t!==s?t:null};c[m.changeType]=[];m.movedElements.forEach(function(a){c[m.changeType].push({id:a.id,index:a.targetIndex});});return c;};return M;},true);\n",
	"sap/ui/comp/smartform/flexibility/changes/MoveGroups.js":"/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n\n(c) Copyright 2009-2016 SAP SE. All rights reserved\n */\nsap.ui.define(['jquery.sap.global','sap/ui/fl/changeHandler/Base','sap/ui/fl/Utils','sap/ui/fl/changeHandler/JsControlTreeModifier'],function(q,B,F,J){'use strict';var M={};M.applyChange=function(c,s,p){function a(c,m){if(!c){throw new Error('No change instance');}var C=c.getContent();if(!m.getAggregation(s,'groups')){F.log.error('Object has no smartform elements aggregation',m.getId(s));}if(!C||!C.moveGroups||C.moveGroups.length===0){throw new Error('Change format invalid');}}function g(o,m,A,v){if(!o.selector&&!o.id){throw new Error('Change format invalid - moveGroups element has no id attribute');}if(typeof(o.index)!=='number'){throw new Error('Change format invalid - moveGroups element index attribute is no number');}return m.bySelector(o.selector||o.id,A,v);}var m=p.modifier;var v=p.view;var A=p.appComponent;a(c,m);var C=c.getContent();C.moveGroups.forEach(function(o){var G=g(o,m,A,v);if(!G){F.log.warning('Group to move not found');return;}m.removeAggregation(s,'groups',G,v);m.insertAggregation(s,'groups',G,o.index);});return true;};M.completeChangeContent=function(c,s,p){function a(){if(!s.moveGroups){throw new Error('oSpecificChangeInfo.moveGroups attribute required');}if(s.moveGroups.length===0){throw new Error('MoveGroups array is empty');}s.moveGroups.forEach(function(m){if(!m.id){throw new Error('MoveGroups element has no id attribute');}if(typeof(m.index)!=='number'){throw new Error('Index attribute at MoveGroups element is no number');}});}a();var C=c.getDefinition();if(!C.content){C.content={};}if(!C.content.moveGroups){C.content.moveGroups=[];}s.moveGroups.forEach(function(g){var G=sap.ui.getCore().byId(g.id);var S=J.getSelector(G,p.appComponent);C.content.moveGroups.push({selector:S,index:g.index});});};M.buildStableChangeInfo=function(m){var s=m.source.id;var t=m.target.id;var c={changeType:m.changeType,selector:{id:s},targetId:t!==s?t:null};c[m.changeType]=[];m.movedElements.forEach(function(a){c[m.changeType].push({id:a.id,index:a.targetIndex});});return c;};return M;},true);\n",
	"sap/ui/comp/smartform/flexibility/changes/RemoveField.js":"/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n\n(c) Copyright 2009-2016 SAP SE. All rights reserved\n */\nsap.ui.define(['jquery.sap.global','sap/ui/fl/changeHandler/Base'],function(q,B){'use strict';var R={};R.applyChange=function(c,f,p){var m=p.modifier;var v=p.view;var g=m.getParent(f);if(g){m.removeAggregation(g,'groupElements',f,v);}return true;};R.completeChangeContent=function(c,s){var C=c.getDefinition();if(!C.content){C.content={};}};return R;},true);\n",
	"sap/ui/comp/smartform/flexibility/changes/RemoveGroup.js":"/*\n * ! SAP UI development toolkit for HTML5 (SAPUI5)\n\n(c) Copyright 2009-2016 SAP SE. All rights reserved\n */\nsap.ui.define(['jquery.sap.global','sap/ui/fl/changeHandler/Base'],function(q,B){'use strict';var R={};R.applyChange=function(c,g,p){var m=p.modifier;var v=p.view;var f=m.getParent(g);if(m.getControlType(f)==='sap.ui.layout.form.Form'){m.removeAggregation(f,'formContainers',g,v);}else{m.removeAggregation(f,'groups',g,v);}return true;};R.completeChangeContent=function(c,s){var C=c.getDefinition();if(!C.content){C.content={};}};return R;},true);\n",
	"sap/ui/comp/smartform/flexibility/changes/RenameField.js":"/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n\n(c) Copyright 2009-2016 SAP SE. All rights reserved\n */\nsap.ui.define(['sap/ui/fl/Utils','jquery.sap.global','sap/ui/fl/changeHandler/Base'],function(U,q,B){'use strict';var R={};R.applyChange=function(c,C,p){var m=p.modifier;var c=c.getDefinition();var P=c.content.labelProperty;if(!P&&m.targets==='xmlTree'){return false;}if(c.texts&&c.texts.fieldLabel&&this._isProvided(c.texts.fieldLabel.value)){if(!C){throw new Error('no Control provided for renaming');}var f=c.texts.fieldLabel.value;if(!P){if(typeof C.setLabel==='function'){P='label';}else if(typeof C.setTitle==='function'){P='title';}else{throw new Error('Control does not support \"renameField\" change');}}if(U.isBinding(f)){m.setPropertyBinding(C,P,f);}else{m.setProperty(C,P,f);}return true;}else{U.log.error('Change does not contain sufficient information to be applied: ['+c.layer+']'+c.namespace+'/'+c.fileName+'.'+c.fileType);}};R.completeChangeContent=function(c,s){var C=c.getDefinition();if(this._isProvided(s.value)){B.setTextInChange(C,'fieldLabel',s.value,'XFLD');}else{throw new Error('oSpecificChangeInfo.value attribute required');}};R._isProvided=function(s){return typeof(s)==='string';};return R;},true);\n",
	"sap/ui/comp/smartform/flexibility/changes/RenameGroup.js":"/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n\n(c) Copyright 2009-2016 SAP SE. All rights reserved\n */\nsap.ui.define(['sap/ui/fl/Utils','jquery.sap.global','sap/ui/fl/changeHandler/Base'],function(U,q,B){'use strict';var R={};R.applyChange=function(c,C,p){var m=p.modifier;var c=c.getDefinition();if(c.texts&&c.texts.groupLabel&&this._isProvided(c.texts.groupLabel.value)){if(!C){throw new Error('no Control provided for renaming');}var g=c.texts.groupLabel.value;if(U.isBinding(g)){m.setPropertyBinding(C,'label',g);}else{m.setProperty(C,'label',g);}return true;}else{U.log.error('Change does not contain sufficient information to be applied: ['+c.layer+']'+c.namespace+'/'+c.fileName+'.'+c.fileType);}};R.completeChangeContent=function(c,s){var C=c.getDefinition();if(this._isProvided(s.value)){B.setTextInChange(C,'groupLabel',s.value,'XFLD');}else{throw new Error('oSpecificChangeInfo.value attribute required');}};R._isProvided=function(s){return typeof(s)==='string';};return R;},true);\n",
	"sap/ui/comp/smartmicrochart/SmartAreaMicroChart.designtime.js":"/*\n * ! SAP UI development toolkit for HTML5 (SAPUI5)\n\n(c) Copyright 2009-2016 SAP SE. All rights reserved\n */\nsap.ui.define([],function(){'use strict';return{annotations:{},customData:{chartQualifier:{type:'string',defaultValue:null,group:['Appearance'],since:'1.42.0'}}};},false);\n",
	"sap/ui/comp/smartmicrochart/SmartAreaMicroChart.js":"/*\n * ! SAP UI development toolkit for HTML5 (SAPUI5)\n\n(c) Copyright 2009-2016 SAP SE. All rights reserved\n */\nsap.ui.define(['jquery.sap.global','sap/ui/comp/library','sap/suite/ui/microchart/library','sap/ui/core/Control','sap/ui/comp/providers/ChartProvider','sap/m/ValueColor','sap/ui/core/CustomData','sap/ui/model/odata/CountMode','sap/ui/comp/smartmicrochart/SmartMicroChartCommons','sap/ui/core/format/DateFormat'],function(q,C,M,a,b,V,c,d,S,D){'use strict';var e=a.extend('sap.ui.comp.smartmicrochart.SmartAreaMicroChart',{metadata:{library:'sap.ui.comp',properties:{entitySet:{type:'string',group:'Misc',defaultValue:null},showLabel:{type:'boolean',group:'Appearance',defaultValue:true},chartType:{type:'string',group:'Misc',defaultValue:null},enableAutoBinding:{type:'boolean',group:'Misc',defaultValue:true},chartBindingPath:{type:'string',group:'Misc',defaultValue:null},width:{type:'sap.ui.core.CSSSize',group:'Misc',defaultValue:'164px'},height:{type:'sap.ui.core.CSSSize',group:'Misc',defaultValue:'74px'},isResponsive:{type:'boolean',group:'Appearance',defaultValue:false}},defaultAggregation:'_chart',aggregations:{_chart:{type:'sap.suite.ui.microchart.AreaMicroChart',multiple:false,visibility:'hidden'},_chartTexts:{type:'sap.m.ListBase',multiple:false,visibility:'hidden'}},associations:{chartTitle:{type:'sap.m.Label',group:'Misc',multiple:false},chartDescription:{type:'sap.m.Label',group:'Misc',multiple:false},unitOfMeasure:{type:'sap.m.Label',group:'Misc',multiple:false}},events:{initialize:{}}}});e.prototype.init=function(){this._bIsInitialized=false;this._bMetaModelLoadAttached=false;this.setProperty('chartType','Area',true);this.setAggregation('_chart',new M.AreaMicroChart(),true);};e.prototype.onBeforeRendering=function(){var o=this.getAggregation('_chart');o.setProperty('width',this.getWidth(),true);o.setProperty('height',this.getHeight(),true);if(o.getMetadata().hasProperty('isResponsive')){o.setProperty('isResponsive',this.getIsResponsive(),true);M._passParentContextToChild(this,o);}};e.prototype.destroy=function(){S._cleanup.call(this);a.prototype.destroy.apply(this,arguments);};e.prototype.setEntitySet=function(E){if(this.getProperty('entitySet')!==E){this.setProperty('entitySet',E,true);S._initializeMetadata.call(this);}return this;};e.prototype.setShowLabel=function(s){if(this.getShowLabel()!==s){this.setProperty('showLabel',s,true);this.getAggregation('_chart').setProperty('showLabel',s,true);this.invalidate();}return this;};e.prototype.setEnableAutoBinding=function(){return this.setProperty('enableAutoBinding',true,true);};e.prototype.setChartType=function(){return this;};e.prototype.propagateProperties=function(){if(a.prototype.propagateProperties){a.prototype.propagateProperties.apply(this,arguments);}S._initializeMetadata.call(this);};e.prototype._getBindingPath=function(){if(this.getChartBindingPath()){return this.getChartBindingPath();}else if(this.getEntitySet()){return'/'+this.getEntitySet();}else{return'';}};e.prototype.bindElement=function(){return this;};e.prototype._createAndBindInnerChart=function(){this._createChartLabels();this._createChartItem('chart',this._oDataPointAnnotations.Value.Path);this._createChartItem('target',this._oDataPointAnnotations.TargetValue.Path);this._buildThreshold();};e.prototype._buildThreshold=function(){var o=this._oDataPointAnnotations.CriticalityCalculation;if(S._hasMember(o,'ImprovementDirection.EnumMember')){switch(o.ImprovementDirection.EnumMember){case S._MINIMIZE:this._createChartItem('minThreshold',o.ToleranceRangeHighValue.Path,V.Good);this._createChartItem('maxThreshold',o.DeviationRangeHighValue.Path,V.Error);break;case S._MAXIMIZE:this._createChartItem('minThreshold',o.DeviationRangeLowValue.Path,V.Error);this._createChartItem('maxThreshold',o.ToleranceRangeLowValue.Path,V.Good);break;case S._TARGET:this._createChartItem('minThreshold',o.DeviationRangeLowValue.Path,V.Error);this._createChartItem('maxThreshold',o.DeviationRangeHighValue.Path,V.Error);this._createChartItem('innerMinThreshold',o.ToleranceRangeLowValue.Path,V.Good);this._createChartItem('innerMaxThreshold',o.ToleranceRangeHighValue.Path,V.Good);break;}}};e.prototype._createChartLabels=function(){var l,m=this._getLabelsMap();for(var k in m){l=new M.AreaMicroChartLabel();this.getAggregation('_chart').setAggregation(m[k],l,true);}};e.prototype._formatDimension=function(v){if(typeof v==='string'){var A=S._getPropertyAnnotation.call(this,this._oChartViewMetadata.dimensionFields[0]),p=S._getSemanticsPattern.call(this,A);if(p){v=D.getInstance({pattern:p}).parse(v);}}if(v instanceof Date){return parseFloat(v.getTime());}else if(!isNaN(v)){return parseFloat(v);}else{this.getAggregation('_chart').enableXIndexing(true);return 0;}};e.prototype._createChartItem=function(f,p,g){var P,i;P=new M.AreaMicroChartPoint({x:{path:this._oChartViewMetadata.dimensionFields[0],formatter:this._formatDimension.bind(this)},y:{path:p,type:'sap.ui.model.odata.type.Decimal'}});i=new M.AreaMicroChartItem({points:{path:this._getBindingPath(),template:P,parameters:{countMode:d.None},events:{change:this._onBindingDataChange.bind(this)}},color:g});this.getAggregation('_chart').setAggregation(f,i,true);};e.prototype._onBindingDataChange=function(){var p=this.getAggregation('_chart').getAggregation('chart').getBinding('points');this._updateAssociations(p);this._updateChartLabels(p);};e.prototype._updateAssociations=function(p){var o=p.getContexts(0,1)[0],f=o&&o.getObject();S._updateAssociations.call(this,f);};e.prototype._updateChartLabels=function(p){var o,l,f,L,F,g;o=p.getContexts();l=o.length;if(l>0){f=o[0];L=o[l-1];F=f&&f.getObject();g=L&&L.getObject();S._updateChartLabels.call(this,F,'first');S._updateChartLabels.call(this,g,'last');}};e.prototype._getLabelsMap=function(){return{'leftTop':'firstYLabel','rightTop':'lastYLabel','leftBottom':'firstXLabel','rightBottom':'lastXLabel'};};return e;});\n",
	"sap/ui/comp/smartmicrochart/SmartAreaMicroChartRenderer.js":"/*!\n* SAP UI development toolkit for HTML5 (SAPUI5)\n\n(c) Copyright 2009-2016 SAP SE. All rights reserved\n*/\nsap.ui.define(['jquery.sap.global'],function(q){'use strict';var S={};S.render=function(r,c){if(c._bIsInitialized){r.write('<div');r.writeControlData(c);r.writeClasses();r.write('>');r.renderControl(c.getAggregation('_chart'));r.write('</div>');}};return S;},true);\n",
	"sap/ui/comp/smartmicrochart/SmartBulletMicroChart.designtime.js":"/*\n * ! SAP UI development toolkit for HTML5 (SAPUI5)\n\n(c) Copyright 2009-2016 SAP SE. All rights reserved\n */\nsap.ui.define([],function(){'use strict';return{annotations:{},customData:{chartQualifier:{type:'string',defaultValue:null,group:['Appearance'],since:'1.42.0'}}};},false);\n",
	"sap/ui/comp/smartmicrochart/SmartBulletMicroChart.js":"/*\n * ! SAP UI development toolkit for HTML5 (SAPUI5)\n\n(c) Copyright 2009-2016 SAP SE. All rights reserved\n */\nsap.ui.define(['jquery.sap.global','sap/ui/comp/library','sap/ui/comp/providers/ChartProvider','sap/ui/core/Control','sap/suite/ui/microchart/library','sap/ui/core/CustomData','sap/m/ValueColor','sap/ui/comp/smartmicrochart/SmartMicroChartCommons'],function(q,l,C,a,M,b,V,S){'use strict';var c=a.extend('sap.ui.comp.smartmicrochart.SmartBulletMicroChart',{metadata:{library:'sap.ui.comp',properties:{entitySet:{type:'string',group:'Misc',defaultValue:null},showLabel:{type:'boolean',group:'Appearance',defaultValue:true},chartType:{type:'string',group:'Misc',defaultValue:'Bullet'},enableAutoBinding:{type:'boolean',group:'Misc',defaultValue:false},chartBindingPath:{type:'string',group:'Misc',defaultValue:null},width:{type:'sap.ui.core.CSSSize',group:'Misc',defaultValue:'164px'},isResponsive:{type:'boolean',group:'Appearance',defaultValue:false}},defaultAggregation:'_chart',aggregations:{_criticalityThresholds:{type:'sap.ui.core.CustomData',multiple:true,visibility:'hidden'},_chart:{type:'sap.suite.ui.microchart.BulletMicroChart',multiple:false,visibility:'hidden'}},associations:{chartTitle:{type:'sap.m.Label',group:'Misc',multiple:false},chartDescription:{type:'sap.m.Label',group:'Misc',multiple:false},unitOfMeasure:{type:'sap.m.Label',group:'Misc',multiple:false}},events:{initialize:{}}}});c._CRITICAL_COLOR=V.Critical;c._ERROR_COLOR=V.Error;c.prototype.init=function(){this._bIsInitialized=false;this._bMetaModelLoadAttached=false;this._bBarColorSet=false;this.setProperty('chartType','Bullet',true);this.setAggregation('_chart',new M.BulletMicroChart(),true);};c.prototype.setChartType=function(){return this;};c.prototype.setEntitySet=function(e){if(this.getProperty('entitySet')!==e){this.setProperty('entitySet',e,true);S._initializeMetadata.call(this);}return this;};c.prototype.setShowLabel=function(s){if(this.getShowLabel()!==s){this.setProperty('showLabel',s,true);var o=this.getAggregation('_chart');o.setProperty('showActualValue',s,true);o.setProperty('showTargetValue',s,true);o.setProperty('showDeltaValue',s,true);o.setProperty('showValueMarker',s,true);this.invalidate();}return this;};c.prototype.propagateProperties=function(){if(a.prototype.propagateProperties){a.prototype.propagateProperties.apply(this,arguments);}S._initializeMetadata.call(this);};c.prototype.onBeforeRendering=function(){var o=this.getAggregation('_chart');o.setProperty('width',this.getWidth(),true);if(o.getMetadata().hasProperty('isResponsive')){o.setProperty('isResponsive',this.getIsResponsive(),true);M._passParentContextToChild(this,o);}};c.prototype.destroy=function(){S._cleanup.call(this);a.prototype.destroy.apply(this,arguments);};c.prototype._createAndBindInnerChart=function(){this._bindValueProperties();this._bindActualValue();this._bindChartThresholds();S._updateAssociations.call(this);};c.prototype._bindValueProperties=function(){var m,f,i=this.getAggregation('_chart');if(S._hasMember(this,'_oDataPointAnnotations.TargetValue.Path')){i.bindProperty('targetValue',{path:this._oDataPointAnnotations.TargetValue.Path,type:'sap.ui.model.odata.type.Decimal'});var F=S._getLabelNumberFormatter.call(this,this._oDataPointAnnotations.TargetValue.Path);i.bindProperty('targetValueLabel',{path:this._oDataPointAnnotations.TargetValue.Path,formatter:F.format.bind(F)});}if(S._hasMember(this,'_oDataPointAnnotations.ForecastValue.Path')){i.bindProperty('forecastValue',{path:this._oDataPointAnnotations.ForecastValue.Path,type:'sap.ui.model.odata.type.Decimal'});}if(this._oDataPointAnnotations.MaximumValue){if(this._oDataPointAnnotations.MaximumValue.hasOwnProperty('Path')){i.bindProperty('maxValue',{path:this._oDataPointAnnotations.MaximumValue.Path,type:'sap.ui.model.odata.type.Decimal'});}else if(this._oDataPointAnnotations.MaximumValue.hasOwnProperty('Decimal')){m=parseFloat(this._oDataPointAnnotations.MaximumValue.Decimal);i.setMaxValue(m,true);}}if(this._oDataPointAnnotations.MinimumValue){if(this._oDataPointAnnotations.MinimumValue.hasOwnProperty('Path')){i.bindProperty('minValue',{path:this._oDataPointAnnotations.MinimumValue.Path,type:'sap.ui.model.odata.type.Decimal'});}else if(this._oDataPointAnnotations.MinimumValue.hasOwnProperty('Decimal')){f=parseFloat(this._oDataPointAnnotations.MinimumValue.Decimal);i.setMinValue(f,true);}}};c.prototype._bindActualValue=function(){var i=this.getAggregation('_chart'),f=S._getLabelNumberFormatter.call(this,this._oDataPointAnnotations.Value.Path);var o=new M.BulletMicroChartData({value:{path:this._oDataPointAnnotations.Value.Path,type:'sap.ui.model.odata.type.Decimal'},color:{parts:[this._oDataPointAnnotations.Value&&this._oDataPointAnnotations.Value.Path||'',this._oDataPointAnnotations.Criticality&&this._oDataPointAnnotations.Criticality.Path||''],formatter:S._getValueColor.bind(this)}});i.setAggregation('actual',o,true);i.bindProperty('actualValueLabel',{path:this._oDataPointAnnotations.Value.Path,formatter:f.format.bind(f)});};c.prototype._bindChartThresholds=function(){var d,o;if(S._hasMember(this._oDataPointAnnotations,'CriticalityCalculation.ImprovementDirection.EnumMember')){o=this._oDataPointAnnotations.CriticalityCalculation;d=o.ImprovementDirection.EnumMember;if(d!==S._MINIMIZE&&o.DeviationRangeLowValue&&o.DeviationRangeLowValue.Path){this._bindThresholdAggregation(o.DeviationRangeLowValue.Path,c._ERROR_COLOR);}if(d!==S._MINIMIZE&&o.ToleranceRangeLowValue&&o.ToleranceRangeLowValue.Path){this._bindThresholdAggregation(o.ToleranceRangeLowValue.Path,c._CRITICAL_COLOR);}if(d!==S._MAXIMIZE&&o.ToleranceRangeHighValue&&o.ToleranceRangeHighValue.Path){this._bindThresholdAggregation(o.ToleranceRangeHighValue.Path,c._CRITICAL_COLOR);}if(d!==S._MAXIMIZE&&o.DeviationRangeHighValue&&o.DeviationRangeHighValue.Path){this._bindThresholdAggregation(o.DeviationRangeHighValue.Path,c._ERROR_COLOR);}}};c.prototype._bindThresholdAggregation=function(p,s){var t=new M.BulletMicroChartData({value:{path:p,type:'sap.ui.model.odata.type.Decimal'},color:s});this.getAggregation('_chart').addAggregation('thresholds',t,true);};c.prototype.setAssociation=function(A,i,s){if(a.prototype.setAssociation){a.prototype.setAssociation.apply(this,arguments);}S._updateAssociation.call(this,A);return this;};return c;});\n",
	"sap/ui/comp/smartmicrochart/SmartBulletMicroChartRenderer.js":"/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n\n(c) Copyright 2009-2016 SAP SE. All rights reserved\n */\nsap.ui.define(['jquery.sap.global'],function(q){'use strict';var S={};S.render=function(r,c){if(c._bIsInitialized){r.write('<div');r.writeControlData(c);r.writeClasses();r.write('>');r.renderControl(c.getAggregation('_chart'));r.write('</div>');}};return S;},true);\n",
	"sap/ui/comp/smartmicrochart/SmartMicroChart.designtime.js":"/*\n * ! SAP UI development toolkit for HTML5 (SAPUI5)\n\n(c) Copyright 2009-2016 SAP SE. All rights reserved\n */\nsap.ui.define([],function(){'use strict';return{annotations:{},customData:{chartQualifier:{type:'string',defaultValue:null,group:['Appearance'],since:'1.42.0'}}};},false);\n",
	"sap/ui/comp/smartmicrochart/SmartMicroChart.js":"/*\n * ! SAP UI development toolkit for HTML5 (SAPUI5)\n\n(c) Copyright 2009-2016 SAP SE. All rights reserved\n */\nsap.ui.define(['jquery.sap.global','sap/ui/comp/library','sap/ui/core/Control','sap/ui/comp/providers/ChartProvider','sap/suite/ui/microchart/library','sap/ui/core/CustomData'],function(q,C,a,b,M,c){'use strict';var S=a.extend('sap.ui.comp.smartmicrochart.SmartMicroChart',{metadata:{library:'sap.ui.comp',properties:{entitySet:{type:'string',group:'Misc',defaultValue:null},showLabel:{type:'boolean',group:'Appearance',defaultValue:true},enableAutoBinding:{type:'boolean',group:'Misc',defaultValue:false},chartBindingPath:{type:'string',group:'Misc',defaultValue:null},chartType:{type:'string',group:'Misc',defaultValue:null},width:{type:'sap.ui.core.CSSSize',group:'Misc',defaultValue:'164px'},height:{type:'sap.ui.core.CSSSize',group:'Misc',defaultValue:'74px'},isResponsive:{type:'boolean',group:'Appearance',defaultValue:false}},defaultAggregation:'_chart',aggregations:{_chart:{type:'sap.ui.core.Control',multiple:false,visibility:'hidden'}},associations:{chartTitle:{type:'sap.m.Label',group:'Misc',multiple:false},chartDescription:{type:'sap.m.Label',group:'Misc',multiple:false},unitOfMeasure:{type:'sap.m.Label',group:'Misc',multiple:false},freeText:{type:'sap.m.Label',group:'Misc',multiple:false}},events:{initialize:{}}}});S.prototype.init=function(){this._bIsinitialized=false;this._bMetaModelLoadAttached=false;};S.prototype.setChartType=function(){return this;};S.prototype.getChartType=function(){return this.getAggregation('_chart').getChartType();};S.prototype.propagateProperties=function(){if(a.prototype.propagateProperties){a.prototype.propagateProperties.apply(this,arguments);}this._initializeMetadata();};S.prototype.onBeforeRendering=function(){var o=this.getAggregation('_chart');if(o){if(o.getMetadata().hasProperty('height')){o.setProperty('height',this.getHeight(),true);}if(o.getMetadata().hasProperty('width')){o.setProperty('width',this.getWidth(),true);}if(o.getMetadata().hasProperty('isResponsive')){o.setProperty('isResponsive',this.getIsResponsive(),true);M._passParentContextToChild(this,o);}if(o.getMetadata().hasProperty('showLabel')){o.setProperty('showLabel',this.getShowLabel(),true);}if(o.getMetadata().hasAssociation('chartTitle')){o.setAssociation('chartTitle',this.getChartTitle(),true);}if(o.getMetadata().hasAssociation('chartDescription')){o.setAssociation('chartDescription',this.getChartDescription(),true);}if(o.getMetadata().hasAssociation('unitOfMeasure')){o.setAssociation('unitOfMeasure',this.getUnitOfMeasure(),true);}if(o.getMetadata().hasAssociation('freeText')){o.setAssociation('freeText',this.getFreeText(),true);}}};S.prototype._initializeMetadata=function(){if(!this._bIsinitialized){var m=this.getModel();if(m&&(m instanceof sap.ui.model.odata.v2.ODataModel||m instanceof sap.ui.model.odata.ODataModel)){if(!this._bMetaModelLoadAttached){m.getMetaModel().loaded().then(this._onMetadataInitialized.bind(this));this._bMetaModelLoadAttached=true;}}else if(m){this._onMetadataInitialized();}}};S.prototype._createChartProvider=function(){var e=this.getEntitySet(),m=this.getModel();if(m&&e){this._oChartProvider=new b({entitySet:e,model:m,chartQualifier:this.data('chartQualifier')});}};S.prototype._onMetadataInitialized=function(){this._bMetaModelLoadAttached=false;if(!this._bIsinitialized){this._createChartProvider();if(this._oChartProvider){this._oChartViewMetadata=this._oChartProvider.getChartViewMetadata();if(this._oChartViewMetadata){this._bIsinitialized=true;this._createInnerChart();this.invalidate();}}}};S.prototype._createInnerChart=function(){if(!this._checkChartMetadata()){q.sap.log.error('Created annotations not valid. Please review the annotations and metadata.');return;}var s=this._oChartViewMetadata.chartType;switch(s){case'line':case'area':if(this._oChartViewMetadata.annotation.ChartType.EnumMember.split('/').pop().toLowerCase()==='area'){this._buildSmartAreaMicroChart();}else{q.sap.log.error('Not supported chart type used.');}break;case'bullet':this._buildSmartBulletMicroChart();break;case'donut':this._buildSmartRadialMicroChart();break;default:q.sap.log.error('Not supported chart type used.');break;}};S.prototype._buildSmartAreaMicroChart=function(){this.setAggregation('_chart',new C.smartmicrochart.SmartAreaMicroChart({entitySet:this.getEntitySet(),chartBindingPath:this.getChartBindingPath(),enableAutoBinding:this.getEnableAutoBinding(),showLabel:this.getShowLabel(),initialize:[this._onChartInitialized,this],customData:[new c({key:'chartQualifier',value:this.data('chartQualifier')})]}),true);};S.prototype._buildSmartBulletMicroChart=function(){this.setAggregation('_chart',new C.smartmicrochart.SmartBulletMicroChart({entitySet:this.getEntitySet(),chartBindingPath:this.getChartBindingPath(),enableAutoBinding:this.getEnableAutoBinding(),showLabel:this.getShowLabel(),initialize:[this._onChartInitialized,this],customData:[new c({key:'chartQualifier',value:this.data('chartQualifier')})]}),true);};S.prototype._buildSmartRadialMicroChart=function(){this.setAggregation('_chart',new C.smartmicrochart.SmartRadialMicroChart({entitySet:this.getEntitySet(),chartBindingPath:this.getChartBindingPath(),enableAutoBinding:this.getEnableAutoBinding(),initialize:[this._onChartInitialized,this],customData:[new c({key:'chartQualifier',value:this.data('chartQualifier')})]}),true);};S.prototype._onChartInitialized=function(){this.fireInitialize();};S.prototype._checkChartMetadata=function(){if(this._oChartViewMetadata.chartType&&this._oChartViewMetadata.annotation&&this._oChartViewMetadata.annotation.ChartType&&this._oChartViewMetadata.annotation.ChartType.EnumMember&&this._oChartViewMetadata.annotation.ChartType.EnumMember.length>0){return true;}else{return false;}};return S;});\n",
	"sap/ui/comp/smartmicrochart/SmartMicroChartCommons.js":"/*\n * ! SAP UI development toolkit for HTML5 (SAPUI5)\n\n(c) Copyright 2009-2016 SAP SE. All rights reserved\n */\nsap.ui.define('sap/ui/comp/smartmicrochart/SmartMicroChartCommons',['jquery.sap.global','sap/ui/comp/library','sap/ui/comp/providers/ChartProvider','sap/m/ValueColor','sap/ui/core/format/NumberFormat','sap/ui/core/format/DateFormat','sap/ui/model/type/Date'],function(q,l,C,V,N,D,a){'use strict';var b={};b._MINIMIZE='com.sap.vocabularies.UI.v1.ImprovementDirectionType/Minimize';b._MAXIMIZE='com.sap.vocabularies.UI.v1.ImprovementDirectionType/Maximize';b._TARGET='com.sap.vocabularies.UI.v1.ImprovementDirectionType/Target';b._initializeMetadata=function(){if(!this._bIsInitialized){var m=this.getModel();if(m&&(m instanceof sap.ui.model.odata.v2.ODataModel||m instanceof sap.ui.model.odata.ODataModel)){if(!this._bMetaModelLoadAttached){m.getMetaModel().loaded().then(b._onMetadataInitialized.bind(this));this._bMetaModelLoadAttached=true;}}else if(m){b._onMetadataInitialized.call(this);}}};b._onMetadataInitialized=function(){this._bMetaModelLoadAttached=false;if(this._bIsInitialized){return;}b._createChartProvider.call(this);this._oChartViewMetadata=this._oChartProvider.getChartViewMetadata();this._oDataPointMetadata=this._oChartProvider.getChartDataPointMetadata();this._bIsInitialized=true;this.fireInitialize();if(this.getEnableAutoBinding()){if(this.getChartBindingPath()){this.bindElement(this.getChartBindingPath());}else{q.sap.log.error('The property chartBindingPath needs to be set in order for property enableAutoBinding to be applied.');}}if(b._checkChartMetadata.call(this)){var Q=b._getDataPointQualifier.call(this);if(Q){this._oDataPointAnnotations=this._oDataPointMetadata.additionalAnnotations[Q];}else{this._oDataPointAnnotations=this._oDataPointMetadata.primaryAnnotation;}if(b._checkDataPointAnnotation(this._oDataPointAnnotations)){this._createAndBindInnerChart();}}else{q.sap.log.error('Created annotations not valid. Please review the annotations and metadata.');}};b._cleanup=function(){if(this._oDateType){this._oDateType.destroy();this._oDateType=null;}};b._createChartProvider=function(){var m,e;e=this.getEntitySet();m=this.getModel();if(m&&e){this._oChartProvider=new C({entitySet:e,model:m,chartQualifier:this.data('chartQualifier')});}else{q.sap.log.error('Property entitySet is not set or no model has been attached to the control.');}};b._checkChartMetadata=function(){if(q.isEmptyObject(this._oChartViewMetadata)&&q.isEmptyObject(this._oDataPointMetadata)){q.sap.log.error('The Chart or DataPoint annotation is empty.');return false;}if(!this._oChartViewMetadata.fields||this._oChartViewMetadata.fields.length===0){q.sap.log.error('No fields exist in the metadata.');return false;}if(b._hasMember(this,'_oChartViewMetadata.annotation.ChartType')){var c=this.getChartType();if(this._oChartViewMetadata.annotation.ChartType.EnumMember==='com.sap.vocabularies.UI.v1.ChartType/'+c){return true;}else{q.sap.log.error(\"The ChartType property in the Chart annotation is not \\\"\"+c+\"\\\".\");return false;}}else{q.sap.log.error('The Chart annotation is invalid.');return false;}};b._getDataPointQualifier=function(){var m;if(!b._hasMember(this,'_oChartViewMetadata.annotation.MeasureAttributes.length')||!this._oChartViewMetadata.annotation.MeasureAttributes.length){return'';}m=this._oChartViewMetadata.annotation.MeasureAttributes[0];if(b._hasMember(m,'DataPoint.AnnotationPath')){return(m.DataPoint.AnnotationPath.match(/\\#([^\\#]*)$/)||[])[1]||'';}};b._checkDataPointAnnotation=function(d){if(q.isEmptyObject(d)){q.sap.log.error('The DataPoint annotation is empty. Please check it!');return false;}if(b._hasMember(d,'Value.Path')){if(q.isEmptyObject(d.Criticality)){b._checkCriticalityMetadata(d.CriticalityCalculation);}return true;}else{q.sap.log.error('The Value property does not exist in the DataPoint annotation. This property is essential for creating the smart chart.');return false;}};b._checkCriticalityMetadata=function(c){if(q.isEmptyObject(c)){q.sap.log.warning('The CriticalityCalculation property in DataPoint annotation is not provided.');return false;}if(b._hasMember(c,'ImprovementDirection.EnumMember')){var i=c.ImprovementDirection.EnumMember;switch(i){case b._MINIMIZE:return b._checkCriticalityMetadataForMinimize(c);case b._MAXIMIZE:return b._checkCriticalityMetadataForMaximize(c);case b._TARGET:return b._checkCriticalityMetadataForTarget(c);default:q.sap.log.warning('The improvement direction in DataPoint annotation must be either Minimize, Maximize or Target.');}}else{q.sap.log.warning('The ImprovementDirection property in DataPoint annotation is not provided.');}return false;};b._checkCriticalityMetadataForMinimize=function(c){if(!b._hasMember(c,'ToleranceRangeHighValue.Path')){q.sap.log.warning('The ToleranceRangeHighValue property in DataPoint annotation is missing for Minimize improvement direction.');return false;}if(!b._hasMember(c,'DeviationRangeHighValue.Path')){q.sap.log.warning('The DeviationRangeHighValue property in DataPoint annotation is missing for Minimize improvement direction.');return false;}return true;};b._checkCriticalityMetadataForMaximize=function(c){if(!b._hasMember(c,'ToleranceRangeLowValue.Path')){q.sap.log.warning('The ToleranceRangeLowValue property in DataPoint annotation is missing for Minimize improvement direction.');return false;}if(!b._hasMember(c,'DeviationRangeLowValue.Path')){q.sap.log.warning('The DeviationRangeLowValue property in DataPoint annotation is missing for Minimize improvement direction.');return false;}return true;};b._checkCriticalityMetadataForTarget=function(c){if(!b._hasMember(c,'ToleranceRangeLowValue.Path')){q.sap.log.warning('The DeviationRangeLowValue property in DataPoint annotation is missing for Target improvement direction.');return false;}if(!b._hasMember(c,'ToleranceRangeHighValue.Path')){q.sap.log.warning('The ToleranceRangeHighValue property in DataPoint annotation is missing for Target improvement direction.');return false;}if(!b._hasMember(c,'DeviationRangeLowValue.Path')){q.sap.log.warning('The ToleranceRangeLowValue property in DataPoint annotation is missing for Target improvement direction.');return false;}if(!b._hasMember(c,'DeviationRangeHighValue.Path')){q.sap.log.warning('The DeviationRangeHighValue property in DataPoint annotation is missing for Target improvement direction.');return false;}return true;};b._mapCriticalityTypeWithColor=function(t){var T;if(!t){return V.Neutral;}else{T=t.toString();}T=(T.match(/(?:CriticalityType\\/)?([^\\/]*)$/)||[])[1]||'';switch(T){case'Negative':case'1':return V.Error;case'Critical':case'2':return V.Critical;case'Positive':case'3':return V.Good;default:return V.Neutral;}};b._getThresholdValues=function(c){var t={},o=this.getBindingContext();for(var k in c){if(c.hasOwnProperty(k)&&k!=='ImprovementDirection'){t[k]=c[k].Path&&o&&o.getProperty(c[k].Path)||c[k].Decimal||0;}}return t;};b._getValueColorForMinimize=function(v,t,d){if(v<=t){return b._mapCriticalityTypeWithColor('Positive');}else if(v>t&&v<=d){return b._mapCriticalityTypeWithColor('Critical');}else if(v>d){return b._mapCriticalityTypeWithColor('Negative');}};b._getValueColorForMaximize=function(v,t,d){if(v>=t){return b._mapCriticalityTypeWithColor('Positive');}else if(v<t&&v>=d){return b._mapCriticalityTypeWithColor('Critical');}else if(v<d){return b._mapCriticalityTypeWithColor('Negative');}};b._getValueColorForTarget=function(v,t,d,T,i){if(v>=t&&v<=T){return b._mapCriticalityTypeWithColor('Positive');}else if((v>=d&&v<t)||(v>T&&v<=i)){return b._mapCriticalityTypeWithColor('Critical');}else if(v<d||v>i){return b._mapCriticalityTypeWithColor('Negative');}};b._getValueColor=function(v,c){var o=this._oDataPointAnnotations.CriticalityCalculation,t,s;v=parseFloat(v)||0;if(typeof c==='string'){s=b._mapCriticalityTypeWithColor(c);}else if(o&&typeof v!=='undefined'&&v!==null){t=b._getThresholdValues.call(this,o);s=b._criticalityCalculation(v,o.ImprovementDirection.EnumMember,t);}return s||b._mapCriticalityTypeWithColor();};b._getTopLabelColor=function(v,d){var c=this._oDataPointAnnotations.CriticalityCalculation,i=parseFloat(v)||0,t={},s;for(var k in c){if(c.hasOwnProperty(k)&&k!=='ImprovementDirection'){t[k]=d[c[k].Path];}}if(c&&typeof i!=='undefined'&&i!==null){s=b._criticalityCalculation(i,c.ImprovementDirection.EnumMember,t);}return s;};b._criticalityCalculation=function(v,i,t){var c;switch(i){case b._MINIMIZE:c=b._getValueColorForMinimize(v,t.ToleranceRangeHighValue,t.DeviationRangeHighValue);break;case b._MAXIMIZE:c=b._getValueColorForMaximize(v,t.ToleranceRangeLowValue,t.DeviationRangeLowValue);break;case b._TARGET:c=b._getValueColorForTarget(v,t.ToleranceRangeLowValue,t.DeviationRangeLowValue,t.ToleranceRangeHighValue,t.DeviationRangeHighValue);break;default:q.sap.log.warning('The improvement direction in DataPoint annotation must be either Minimize, Maximize or Target.');}return c;};b._ASSOCIATIONS=['chartTitle','chartDescription','unitOfMeasure','freeText'];b._ASSOCIATIONS_ANNOTATIONS_MAP={'chartDescription':'Description','chartTitle':'Title','unitOfMeasure':{propertyAnnotationPath:'Value',propertyAnnotationProperties:['ISOCurrency','Unit']},'freeText':{propertyAnnotationPath:'Value',propertyAnnotationProperties:['Label']}};b._getAnnotation=function(c){var A=b._ASSOCIATIONS_ANNOTATIONS_MAP[c];if(!A){q.sap.log.warning(\"No annotation connected to association \\\"\"+c+\"\\\".\");return{};}if(!q.isEmptyObject(this._oChartViewMetadata)&&typeof A==='string'){return this._oChartViewMetadata.annotation[A];}if(!q.isEmptyObject(this._oDataPointAnnotations)&&b._hasMember(A,'propertyAnnotationPath')&&b._hasMember(A,'propertyAnnotationProperties')){var p;if(b._hasMember(this._oDataPointAnnotations,A.propertyAnnotationPath+'.Path')){p=b._getPropertyAnnotation.call(this,this._oDataPointAnnotations[A.propertyAnnotationPath].Path);}if(p){return b._getValueFromPropertyAnnotation(p,A.propertyAnnotationProperties);}}return{};};b._getValueFromPropertyAnnotation=function(p,P){for(var s in p){for(var i=0;i<P.length;i++){if(s.indexOf(P[i])>-1){return p[s];}}}return{};};b._updateAssociation=function(c,d){var A,o;if(this.getMetadata().hasAssociation(c)){A=sap.ui.getCore().byId(this.getAssociation(c));if(A&&A.getMetadata().hasProperty('text')){o=b._getAnnotation.call(this,c);b._setAssociationText(A,o,d);}}};b._updateAssociations=function(d){var n=b._ASSOCIATIONS.length;for(var i=0;i<n;i++){b._updateAssociation.call(this,b._ASSOCIATIONS[i],d);}};b._updateChartLabels=function(d,p){switch(p){case'first':b._updateTopLabel.call(this,this._getLabelsMap()['leftTop'],d);b._updateBottomLabel.call(this,this._getLabelsMap()['leftBottom'],d);break;case'last':b._updateTopLabel.call(this,this._getLabelsMap()['rightTop'],d);b._updateBottomLabel.call(this,this._getLabelsMap()['rightBottom'],d);break;}};b._updateTopLabel=function(c,d){var L=this.getAggregation('_chart').getAggregation(c),v=d[this._oDataPointAnnotations.Value.Path],s=b._getTopLabelColor.call(this,v,d),f=b._getLabelNumberFormatter.call(this,this._oDataPointAnnotations.Value.Path),F;F=f.format(v);L.setProperty('label',F,true);L.setProperty('color',s,true);};b._updateBottomLabel=function(c,d){var A,o,L,v,f;A=this._oChartViewMetadata.dimensionFields[0];if(A){v=d[A];L=this.getAggregation('_chart').getAggregation(c);o=b._getPropertyAnnotation.call(this,this._oChartViewMetadata.dimensionFields[0]);if(o.hasOwnProperty('sap:text')||o.hasOwnProperty('com.sap.vocabularies.Common.v1.Text')){var p=o['sap:text']||o['com.sap.vocabularies.Common.v1.Text'].Path;f=d[p];}else{f=b._formatBottomLabel.call(this,v,o);}if(f){L.setProperty('label',f,true);}}};b._formatBottomLabel=function(v,c){var p=b._getSemanticsPattern.call(this,c);if(p){return b._formatSemanticsValue.call(this,v,p);}p=b._getCalendarPattern.call(this,c);if(p){return b._formatSemanticsValue.call(this,v,p);}return b._formatDateAndNumberValue.call(this,v);};b._formatSemanticsValue=function(v,p){if(p){if(this._oDateType){this._oDateType.setFormatOptions({style:'short',source:{pattern:p}});}else{this._oDateType=new a({style:'short',source:{pattern:p}});}return this._oDateType.formatValue(v,'string');}return null;};b._formatDateAndNumberValue=function(v){if(v instanceof Date){return b._getLabelDateFormatter.call(this).format(v);}else if(!isNaN(v)){return b._getLabelNumberFormatter.call(this,this._oChartViewMetadata.dimensionFields[0]).format(v);}else{return null;}};b._getSemanticsPattern=function(c){if(c.hasOwnProperty('sap:semantics')){switch(c['sap:semantics']){case'yearmonthday':return'yyyyMMdd';case'yearmonth':return'yyyyMM';case'year':return'yyyy';default:return null;}}return null;};b._CALENDAR_TERMS_PATTERNS={'com.sap.vocabularies.Common.v1.IsCalendarYear':'yyyy','com.sap.vocabularies.Common.v1.IsCalendarQuarter':'Q','com.sap.vocabularies.Common.v1.IsCalendarMonth':'MM','com.sap.vocabularies.Common.v1.IsCalendarWeek':'ww','com.sap.vocabularies.Common.v1.IsCalendarDate':'yyyyMMdd','com.sap.vocabularies.Common.v1.IsCalendarYearMonth':'yyyyMM'};b._getCalendarPattern=function(c){for(var s in b._CALENDAR_TERMS_PATTERNS){if(c.hasOwnProperty(s)){return b._CALENDAR_TERMS_PATTERNS[s];}}return null;};b._getLabelNumberFormatter=function(p){var P=b._getPropertyAnnotation.call(this,p).precision||null;return N.getInstance({style:'short',showScale:true,precision:P});};b._getLabelDateFormatter=function(){return D.getInstance({style:'short'});};b._setAssociationText=function(c,d,e){if(!d){return;}if(d.Path&&e){c.setProperty('text',e[d.Path],false);}else if(d.Path){c.bindProperty('text',{path:d.Path});}else if(d.String){if(d.String.indexOf('{')===0){var p=d.String.split('>');c.bindProperty('text',{path:p[1].substr(0,p[1].length-1),model:p[0].substr(1)});}else{c.setProperty('text',d.String,false);}}};b._getPropertyAnnotation=function(p){var m,e,E,P;m=this.getModel().getMetaModel();e=this._oChartProvider._oMetadataAnalyser.getEntityTypeNameFromEntitySetName(this.getEntitySet());E=m.getODataEntityType(e);P=m.getODataProperty(E,p);return P;};b._hasMember=function(o,p){var d='.',P=p.split(d),m=P.shift();return!!o&&((P.length>0)?b._hasMember(o[m],P.join(d)):o.hasOwnProperty(m));};return b;},true);\n",
	"sap/ui/comp/smartmicrochart/SmartMicroChartRenderer.js":"/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n\n(c) Copyright 2009-2016 SAP SE. All rights reserved\n */\nsap.ui.define(['jquery.sap.global'],function(q){'use strict';var S={};S.render=function(r,c){if(c._bIsinitialized){r.write('<div');r.writeControlData(c);r.writeClasses();r.write('>');r.renderControl(c.getAggregation('_chart'));r.write('</div>');}};return S;},true);\n",
	"sap/ui/comp/smartmicrochart/SmartRadialMicroChart.js":"/*\n * ! SAP UI development toolkit for HTML5 (SAPUI5)\n\n(c) Copyright 2009-2016 SAP SE. All rights reserved\n */\nsap.ui.define(['jquery.sap.global','sap/ui/comp/library','sap/ui/core/Control','sap/suite/ui/microchart/library','sap/ui/core/CustomData','sap/ui/comp/smartmicrochart/SmartMicroChartCommons'],function(q,l,C,M,a,S){'use strict';var b=C.extend('sap.ui.comp.smartmicrochart.SmartRadialMicroChart',{metadata:{library:'sap.ui.comp',properties:{entitySet:{type:'string',group:'Misc',defaultValue:null},chartType:{type:'string',group:'Misc',defaultValue:'Donut'},enableAutoBinding:{type:'boolean',group:'Misc',defaultValue:false},chartBindingPath:{type:'string',group:'Misc',defaultValue:null}},defaultAggregation:'_chart',aggregations:{_chart:{type:'sap.suite.ui.microchart.RadialMicroChart',multiple:false,visibility:'hidden'}},associations:{chartTitle:{type:'sap.m.Label',group:'Misc',multiple:false},chartDescription:{type:'sap.m.Label',group:'Misc',multiple:false},unitOfMeasure:{type:'sap.m.Label',group:'Misc',multiple:false},freeText:{type:'sap.m.Label',group:'Misc',multiple:false}},events:{initialize:{}}}});b.prototype.init=function(){this._bIsInitialized=false;this._bMetaModelLoadAttached=false;this.setAggregation('_chart',new M.RadialMicroChart(),true);};b.prototype.destroy=function(){S._cleanup.call(this);C.prototype.destroy.apply(this,arguments);};b.prototype.setChartType=function(){return this;};b.prototype.setEntitySet=function(e){if(this.getProperty('entitySet')!==e){this.setProperty('entitySet',e,true);S._initializeMetadata.call(this);}return this;};b.prototype.propagateProperties=function(){if(C.prototype.propagateProperties){C.prototype.propagateProperties.apply(this,arguments);}S._initializeMetadata.call(this);};b.prototype._createAndBindInnerChart=function(){this._bindProperties();S._updateAssociations.call(this);};b.prototype._bindProperties=function(){var i=this.getAggregation('_chart');if(this._oDataPointAnnotations.Value&&!this._oDataPointAnnotations.TargetValue){if(S._hasMember(this._oDataPointAnnotations.Value,'Path')){i.bindProperty('percentage',{path:this._oDataPointAnnotations.Value.Path,type:'sap.ui.model.odata.type.Decimal'});}}else if(S._hasMember(this,'_oDataPointAnnotations.TargetValue.Path')&&S._hasMember(this,'_oDataPointAnnotations.Value.Path')){i.bindProperty('total',{path:this._oDataPointAnnotations.TargetValue.Path,type:'sap.ui.model.odata.type.Decimal'});i.bindProperty('fraction',{path:this._oDataPointAnnotations.Value.Path,type:'sap.ui.model.odata.type.Decimal'});}i.bindProperty('valueColor',{parts:[this._oDataPointAnnotations.Value&&this._oDataPointAnnotations.Value.Path||'',this._oDataPointAnnotations.Criticality&&this._oDataPointAnnotations.Criticality.Path||''],formatter:S._getValueColor.bind(this)});};b.prototype.setAssociation=function(A,i,s){if(C.prototype.setAssociation){C.prototype.setAssociation.apply(this,arguments);}S._updateAssociation.call(this,A);return this;};return b;});\n",
	"sap/ui/comp/smartmicrochart/SmartRadialMicroChartRenderer.js":"/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n\n(c) Copyright 2009-2016 SAP SE. All rights reserved\n */\nsap.ui.define(['jquery.sap.global'],function(q){'use strict';var S={};S.render=function(r,c){if(c._bIsInitialized){r.write('<div');r.writeControlData(c);r.writeClasses();r.write('>');r.renderControl(c.getAggregation('_chart'));r.write('</div>');}};return S;},true);\n",
	"sap/ui/comp/smarttable/SmartTable.designtime.js":"/*\n * ! SAP UI development toolkit for HTML5 (SAPUI5)\n\n(c) Copyright 2009-2016 SAP SE. All rights reserved\n */\nsap.ui.define([],function(){'use strict';return{aggregations:{customToolbar:{ignore:true},semanticObjectController:{ignore:true},noData:{ignore:true}},annotations:{sortable:{namespace:'Org.OData.Capabilities.V1',annotation:'SortRestrictions/NonSortableProperties',target:['EntitySet'],defaultValue:true,interpretation:'exclude',appliesTo:['columns/#'],group:['Behavior'],since:'1.28.1'},filterable:{namespace:'Org.OData.Capabilities.V1',annotation:'FilterRestrictions/NonFilterableProperties',target:['EntitySet'],defaultValue:true,interpretation:'exclude',appliesTo:['columns/#'],group:['Behavior'],since:'1.28.1'},columnLabelOnProperty:{namespace:'com.sap.vocabularies.Common.v1',annotation:'Label',target:['Property','PropertyPath'],defaultValue:null,appliesTo:['columns/#/label'],group:['Appearance','Behavior'],since:'1.28.1'},columnLabelOnLineItem:{namespace:'com.sap.vocabularies.UI.v1',annotation:'LineItem/Label',target:['Property','Parameter'],defaultValue:null,appliesTo:['columns/#/label'],group:['Behavior'],since:'1.28.1'},columnVisible:{namespace:'com.sap.vocabularies.Common.v1',annotation:'FieldControlType/Hidden',target:['Property'],defaultValue:false,appliesTo:['columns/#/visible'],group:['Behavior'],since:'1.28.1'},columnCurrencyCode:{namespace:'Org.OData.Measures.V1',annotation:'ISOCurrency',target:['Property'],defaultValue:null,appliesTo:['columns/#/cellContent'],group:['Behavior'],since:'1.28.1'},columnUnitOfMeasure:{namespace:'Org.OData.Measures.V1',annotation:'Unit',target:['Property'],defaultValue:null,appliesTo:['columns/#/cellContent'],group:['Behavior'],since:'1.28.1'},columnUpperCase:{namespace:'com.sap.vocabularies.Common.v1',annotation:'IsUpperCase',target:['Property','Parameter'],defaultValue:true,appliesTo:['columns/#','columns/#/cellContent'],group:['Behavior'],since:'1.28.1'},lineItem:{namespace:'com.sap.vocabularies.UI.v1',annotation:'LineItem',target:['EntityType'],defaultValue:null,appliesTo:['columns'],group:['Behavior'],since:'1.28.1'},presentationVariant:{namespace:'com.sap.vocabularies.UI.v1',annotation:'PresentationVariant',target:['EntitySet','EntityType'],defaultValue:null,appliesTo:['columns'],group:['Behavior'],since:'1.28.1'},columnImportance:{namespace:'com.sap.vocabularies.UI.v1',annotation:'Importance',target:['Record','Annotation'],defaultValue:null,appliesTo:['columns/#/visible'],group:['Behavior'],since:'1.28.1'},columnDataField:{namespace:'com.sap.vocabularies.UI.v1',annotation:'LineItem/DataField',target:['Record'],defaultValue:null,appliesTo:['columns/cellContent'],group:['Behavior'],since:'1.28.1'},columnDataFieldWithUrl:{namespace:'com.sap.vocabularies.UI.v1',annotation:'LineItem/DataFieldWithUrl',target:['Record'],defaultValue:null,appliesTo:['columns/cellContent'],group:['Behavior'],since:'1.38.1'},columnCriticality:{namespace:'com.sap.vocabularies.UI.v1',annotation:'CriticalityType',target:['PropertyPath'],defaultValue:null,appliesTo:['columns/criticality'],group:['Behavior'],since:'1.38.1'},columnCriticalityRepresentationType:{namespace:'com.sap.vocabularies.UI.v1',annotation:'CriticalityRepresentationType/WithoutIcon',target:['Property'],interpretation:'excludeIcon',defaultValue:null,appliesTo:['columns/criticalityIcon'],group:['Behavior'],since:'1.38.1'},semanticKey:{namespace:'com.sap.vocabularies.Common.v1',annotation:'SemanticKey',target:['EntityType'],defaultValue:null,appliesTo:['columns/cellContent'],group:['Behavior'],since:'1.38.1'},columnIsImageUrl:{namespace:'com.sap.vocabularies.Common.v1',annotation:'IsImageUrl',target:['Property'],defaultValue:true,appliesTo:['columns/image'],group:['Behavior'],since:'1.38.1'}},customData:{useSmartField:{type:'boolean',defaultValue:false,group:['Appearance','Behavior'],since:'1.28.1'},dateFormatSettings:{type:'string',defaultValue:'{ UTC : true }',group:['Appearance'],since:'1.28.1'},currencyFormatSettings:{type:'string',defaultValue:null,appliesTo:['cellContent'],since:'1.28.1'},columnKey:{type:'string',defaultValue:null,group:['Behavior'],since:'1.28.1'},sortProperty:{type:'string',defaultValue:null,group:['Behavior'],since:'1.28.1'},filterProperty:{type:'string',defaultValue:null,group:['Behavior'],since:'1.28.1'},type:{type:'string',defaultValue:null,group:['Behavior'],since:'1.28.1'},maxLength:{type:'string',defaultValue:null,group:['Appearance'],since:'1.28.1'},precision:{type:'string',defaultValue:null,group:['Appearance'],since:'1.28.1'},scale:{type:'string',defaultValue:null,group:['Appearance'],since:'1.28.1'}},properties:{entitySet:{ignore:true},smartFilterId:{ignore:true},ignoredFields:{ignore:true},initiallyVisibleFields:{ignore:true},requestAtLeastFields:{ignore:true},ignoreFromPersonalisation:{ignore:true},tableType:{ignore:true},useVariantManagement:{ignore:true},showVariantManagement:{ignore:false},useExportToExcel:{ignore:false},useTablePersonalisation:{ignore:true},showTablePersonalisation:{ignore:false},showRowCount:{ignore:false},header:{ignore:false},toolbarStyleClass:{ignore:true},enableCustomFilter:{ignore:true},persistencyKey:{ignore:true},useOnlyOneSolidToolbar:{ignore:true},currentVariantId:{ignore:true},editable:{ignore:false},enableAutoBinding:{ignore:true},tableBindingPath:{ignore:true},editTogglable:{ignore:true},demandPopin:{ignore:false},showFullScreenButton:{ignore:true}}};},false);\n",
	"sap/ui/comp/smarttable/SmartTable.js":"/*\n * ! SAP UI development toolkit for HTML5 (SAPUI5)\n\n(c) Copyright 2009-2016 SAP SE. All rights reserved\n */\nsap.ui.define(['jquery.sap.global','sap/m/VBoxRenderer','sap/m/Column','sap/m/Label','sap/m/MessageBox','sap/m/Table','sap/m/Text','sap/m/Title','sap/m/OverflowToolbar','sap/m/ToolbarDesign','sap/m/OverflowToolbarButton','sap/m/ToolbarSeparator','sap/m/VBox','sap/ui/comp/library','sap/ui/comp/providers/TableProvider','sap/ui/comp/smartfilterbar/FilterProvider','sap/ui/comp/smartvariants/SmartVariantManagement','sap/ui/model/FilterOperator','sap/ui/model/json/JSONModel','sap/ui/table/AnalyticalColumn','sap/ui/table/AnalyticalTable','sap/ui/table/Column','sap/ui/table/Table','sap/ui/table/TreeTable','sap/ui/comp/personalization/Util','sap/ui/comp/util/FormatUtil','sap/ui/comp/odata/ODataModelUtil'],function(q,V,C,L,M,R,T,a,O,b,c,d,f,l,g,F,S,h,J,A,j,k,m,n,P,o,p){'use strict';var r=f.extend('sap.ui.comp.smarttable.SmartTable',{metadata:{library:'sap.ui.comp',designTime:true,properties:{entitySet:{type:'string',group:'Misc',defaultValue:null},smartFilterId:{type:'string',group:'Misc',defaultValue:null},ignoredFields:{type:'string',group:'Misc',defaultValue:null},initiallyVisibleFields:{type:'string',group:'Misc',defaultValue:null},requestAtLeastFields:{type:'string',group:'Misc',defaultValue:null},ignoreFromPersonalisation:{type:'string',group:'Misc',defaultValue:null},tableType:{type:'sap.ui.comp.smarttable.TableType',group:'Misc',defaultValue:null},useVariantManagement:{type:'boolean',group:'Misc',defaultValue:true},showVariantManagement:{type:'boolean',group:'Misc',defaultValue:true},useExportToExcel:{type:'boolean',group:'Misc',defaultValue:true},useTablePersonalisation:{type:'boolean',group:'Misc',defaultValue:true},showTablePersonalisation:{type:'boolean',group:'Misc',defaultValue:true},showRowCount:{type:'boolean',group:'Misc',defaultValue:true},header:{type:'string',group:'Misc',defaultValue:null},toolbarStyleClass:{type:'string',group:'Misc',defaultValue:null},enableCustomFilter:{type:'boolean',group:'Misc',defaultValue:true},persistencyKey:{type:'string',group:'Misc',defaultValue:null},useOnlyOneSolidToolbar:{type:'boolean',group:'Misc',defaultValue:false},currentVariantId:{type:'string',group:'Misc',defaultValue:null},editable:{type:'boolean',group:'Misc',defaultValue:false},enableAutoBinding:{type:'boolean',group:'Misc',defaultValue:false},tableBindingPath:{type:'string',group:'Misc',defaultValue:null},editTogglable:{type:'boolean',group:'Misc',defaultValue:false},demandPopin:{type:'boolean',group:'Misc',defaultValue:false},showFullScreenButton:{type:'boolean',group:'Misc',defaultValue:false}},associations:{smartVariant:{type:'sap.ui.core.Control',multiple:false}},aggregations:{customToolbar:{type:'sap.m.Toolbar',multiple:false},semanticObjectController:{type:'sap.ui.comp.navpopover.SemanticObjectController',multiple:false},noData:{type:'sap.ui.core.Control',altTypes:['string'],multiple:false},semanticKeyAdditionalControl:{type:'sap.ui.core.Control',multiple:false}},events:{initialise:{},beforeRebindTable:{},editToggled:{},dataReceived:{},afterVariantInitialise:{},afterVariantSave:{},afterVariantApply:{},showOverlay:{},fieldChange:{}}},renderer:V.render,constructor:function(){f.apply(this,arguments);this._aExistingColumns=[];this._aAlwaysSelect=[];this._oTemplate=null;this._createToolbar();this._oP13nDialogSettings=this.data('p13nDialogSettings');if(typeof this._oP13nDialogSettings==='string'){try{this._oP13nDialogSettings=JSON.parse(this._oP13nDialogSettings);}catch(e){this._oP13nDialogSettings=null;}}this._bIsFilterPanelEnabled=(this._oP13nDialogSettings&&this._oP13nDialogSettings.filter)?this._oP13nDialogSettings.filter.visible!==false:true;this._createTable();}});r.prototype.init=function(){sap.m.FlexBox.prototype.init.call(this);this.addStyleClass('sapUiCompSmartTable');this.setFitContainer(true);this.setHeight('100%');this._aColumnKeys=[];this._mLazyColumnMap={};};r.prototype._getVariantManagementControl=function(s){var e=null;if(s){if(typeof s==='string'){e=sap.ui.getCore().byId(s);}else{e=s;}if(e){if(!(e instanceof S)){q.sap.log.error('Control with the id='+s.getId?s.getId():s+' not of expected type');return null;}}}return e;};r.prototype._createVariantManagementControl=function(){if(this._oVariantManagement||(!this.getUseVariantManagement()&&!this.getUseTablePersonalisation())||!this.getPersistencyKey()){return;}var e=new sap.ui.comp.smartvariants.PersonalizableInfo({type:'table',keyName:'persistencyKey',dataSource:'TODO'});e.setControl(this);var s=this.getSmartVariant();if(s){this._oVariantManagement=this._getVariantManagementControl(s);}else if(this._oSmartFilter&&this._oSmartFilter.data('pageVariantPersistencyKey')){s=this._oSmartFilter.getSmartVariant();if(s){this._oVariantManagement=this._getVariantManagementControl(s);}}else{this._oVariantManagement=new S(this.getId()+'-variant',{showShare:true});}if(this._oVariantManagement){this._oVariantManagement.addPersonalizableControl(e);this._oVariantManagement.attachAfterSave(this._variantAfterSave,this);this._oVariantManagement.initialise(this._variantInitialised,this);}};r.prototype._variantInitialised=function(){if(!this._oCurrentVariant){this._oCurrentVariant='STANDARD';}this.fireAfterVariantInitialise();if(this._oVariantManagement&&!this._oVariantManagement.getEnabled()){this._checkAndTriggerBinding();}};r.prototype._variantAfterSave=function(){this.fireAfterVariantSave({currentVariantId:this.getCurrentVariantId()});};r.prototype.setUseExportToExcel=function(u){if(u===this.getUseExportToExcel()){return;}this.setProperty('useExportToExcel',u,true);if(this.bIsInitialised&&this._oToolbar){this._createToolbarContent();}};r.prototype.setUseTablePersonalisation=function(u){this.setProperty('useTablePersonalisation',u,true);};r.prototype.setShowTablePersonalisation=function(s){this.setProperty('showTablePersonalisation',s,true);if(this._oTablePersonalisationButton){this._oTablePersonalisationButton.setVisible(s);}};r.prototype.setUseVariantManagement=function(u){this.setProperty('useVariantManagement',u,true);if(this._oPersController){this._oPersController.setResetToInitialTableState(!u);}};r.prototype.setShowVariantManagement=function(s){this.setProperty('showVariantManagement',s,true);if(this._oVariantManagement&&!this._oVariantManagement.isPageVariant()){this._oVariantManagement.setVisible(s);if(this._oSeparator){this._oSeparator.setVisible(s);}}};r.prototype.setToolbarStyleClass=function(s){this.setProperty('toolbarStyleClass',s,true);};r.prototype.setCustomToolbar=function(e){if(this._oCustomToolbar){this.removeItem(this._oCustomToolbar);}this._oCustomToolbar=e;};r.prototype.getCustomToolbar=function(){return this._oCustomToolbar;};r.prototype.setHeader=function(t){this.setProperty('header',t,true);this._refreshHeaderText();};r.prototype.setShowRowCount=function(s){this.setProperty('showRowCount',s,true);this._refreshHeaderText();};r.prototype.setShowFullScreenButton=function(s){this.setProperty('showFullScreenButton',s,true);if(this._oFullScreenButton){this._oFullScreenButton.setVisible(s);}};r.prototype.setEditTogglable=function(e){this.setProperty('editTogglable',e,true);if(this._oEditButton){this._oEditButton.setVisible(e);}};r.prototype.setEditable=function(e){this.setProperty('editable',e,true);if(this._oEditModel){this._oEditModel.setProperty('/editable',e);}if(this._oEditButton){this._oEditButton.setIcon(e?'sap-icon://display':'sap-icon://edit');}if(this._isMobileTable&&this._oTable.setKeyboardMode){this._oTable.setKeyboardMode(e?'Edit':'Navigation');}};r.prototype.setDemandPopin=function(D){var e=this.getDemandPopin();if(e===D){return;}this.setProperty('demandPopin',D,true);if(this.bIsInitialised){if(D){this._updateColumnsPopinFeature();}else{this._deactivateColumnsPopinFeature();}}};r.prototype._refreshHeaderText=function(){if(!this._headerText){return;}var t=this.getHeader();this._headerText.setVisible(!!t);if(this.getShowRowCount()){var i=parseInt(this._getRowCount(),10);q.sap.require('sap.ui.core.format.NumberFormat');var v=sap.ui.core.format.NumberFormat.getFloatInstance().format(i);t+=' ('+v+')';}this._headerText.setText(t);};r.prototype._addFullScreenButton=function(){if(this._oFullScreenButton){this._oToolbar.removeContent(this._oFullScreenButton);}if(this.getShowFullScreenButton()){if(!this._oFullScreenButton){this._oFullScreenButton=new c(this.getId()+'-btnFullScreen',{press:function(){this._toggleFullScreen(!this.bFullScreen);}.bind(this)});}this._toggleFullScreen(this.bFullScreen,true);this._oToolbar.addContent(this._oFullScreenButton);}};r.prototype._createToolbar=function(){var e=null;if(!this._oToolbar){e=this.getCustomToolbar();if(e){this._oToolbar=e;}else{this._oToolbar=new O({design:sap.m.ToolbarDesign.Transparent});this._oToolbar.addStyleClass('sapUiCompSmartTableToolbar');if(this.getToolbarStyleClass()){this._oToolbar.addStyleClass(this.getToolbarStyleClass());}}this._oToolbar.setLayoutData(new sap.m.FlexItemData({shrinkFactor:0}));this.insertItem(this._oToolbar,0);}};r.prototype._toggleFullScreen=function(v,e){var i=sap.ui.getCore().getLibraryResourceBundle('sap.ui.comp'),t;if(!this._oFullScreenButton||(v===this.bFullScreen&&!e)){return;}this.bFullScreen=v;if(!this._oFullScreenUtil){this._oFullScreenUtil=sap.ui.requireSync('sap/ui/comp/util/FullScreenUtil');}this._oFullScreenUtil.toggleFullScreen(this,this.bFullScreen,this._oFullScreenButton);t=this.bFullScreen?i.getText('CHART_MINIMIZEBTN_TOOLTIP'):i.getText('CHART_MAXIMIZEBTN_TOOLTIP');this._oFullScreenButton.setTooltip(t);this._oFullScreenButton.setText(t);this._oFullScreenButton.setIcon(this.bFullScreen?'sap-icon://exit-full-screen':'sap-icon://full-screen');};r.prototype._createToolbarContent=function(){if(!this._oToolbar){this._createToolbar();}this._addVariantManagementToToolbar();this._addSeparatorToToolbar();this._addHeaderToToolbar();this._addSpacerToToolbar();this._addEditTogglableToToolbar();this._addTablePersonalisationToToolbar();this._addExportToExcelToToolbar();this._addFullScreenButton();if(this._oToolbar&&(this._oToolbar.getContent().length===0||(this._oToolbar.getContent().length===1&&this._oToolbar.getContent()[0]instanceof sap.m.ToolbarSpacer))){this.removeItem(this._oToolbar);this._oToolbar.destroy();this._oToolbar=null;}};r.prototype._addEditTogglableToToolbar=function(){var B;if(this._oEditButton){this._oToolbar.removeContent(this._oEditButton);}if(this.getEditTogglable()){if(!this._oEditButton){B=sap.ui.getCore().getLibraryResourceBundle('sap.ui.comp').getText('TABLE_EDITTOGGLE_TOOLTIP');this._oEditButton=new sap.m.OverflowToolbarButton(this.getId()+'-btnEditToggle',{icon:this.getEditable()?'sap-icon://display':'sap-icon://edit',text:B,tooltip:B,press:function(){var e=this.getEditable();e=!e;this.setEditable(e,true);this.fireEditToggled({editable:e});}.bind(this)});}this._oToolbar.addContent(this._oEditButton);}};r.prototype._addHeaderToToolbar=function(){if(this._headerText){this._oToolbar.removeContent(this._headerText);}if(!this._headerText){this._headerText=new a(this.getId()+'-header');this._headerText.addStyleClass('sapMH4Style');this._headerText.addStyleClass('sapUiCompSmartTableHeader');}this._refreshHeaderText();this._oToolbar.insertContent(this._headerText,0);};r.prototype._addSeparatorToToolbar=function(){if(this._oSeparator){this._oToolbar.removeContent(this._oSeparator);}if(this.getHeader()&&this.getUseVariantManagement()&&this._oVariantManagement&&!this._oVariantManagement.isPageVariant()){if(!this._oSeparator){this._oSeparator=new d(this.getId()+'-toolbarSeperator');if(!this.getShowVariantManagement()){this._oSeparator.setVisible(false);}}this._oToolbar.insertContent(this._oSeparator,0);if(!this._oToolbar.getHeight()){this._oToolbar.addStyleClass('sapUiCompSmartTableToolbarHeight');}}};r.prototype._addVariantManagementToToolbar=function(){if(this._oVariantManagement&&!this._oVariantManagement.isPageVariant()){this._oToolbar.removeContent(this._oVariantManagement);if(this.getUseVariantManagement()){this._oToolbar.insertContent(this._oVariantManagement,0);if(!this._oVariantManagement.isPageVariant()){this._oVariantManagement.setVisible(this.getShowVariantManagement());}}}};r.prototype._addSpacerToToolbar=function(){var e=false,I=this._oToolbar.getContent(),i,s;if(I){s=I.length;i=0;for(i;i<s;i++){if(I[i]instanceof sap.m.ToolbarSpacer){e=true;break;}}}if(!e){this._oToolbar.addContent(new sap.m.ToolbarSpacer(this.getId()+'-toolbarSpacer'));}};r.prototype._addTablePersonalisationToToolbar=function(){var B;if(this._oTablePersonalisationButton){this._oToolbar.removeContent(this._oTablePersonalisationButton);}if(this.getUseTablePersonalisation()){if(!this._oTablePersonalisationButton){B=sap.ui.getCore().getLibraryResourceBundle('sap.ui.comp').getText('TABLE_PERSOBTN_TOOLTIP');this._oTablePersonalisationButton=new sap.m.OverflowToolbarButton(this.getId()+'-btnPersonalisation',{icon:'sap-icon://action-settings',text:B,tooltip:B,press:function(e){this._oPersController.openDialog();}.bind(this)});this._oTablePersonalisationButton.setVisible(this.getShowTablePersonalisation());}this._oToolbar.addContent(this._oTablePersonalisationButton);}};r.prototype._addExportToExcelToToolbar=function(){if(this._oUseExportToExcel){this._oToolbar.removeContent(this._oUseExportToExcel);}if(this.getUseExportToExcel()&&this._bTableSupportsExcelExport){var B;if(!this._oUseExportToExcel){B=sap.ui.getCore().getLibraryResourceBundle('sap.ui.comp').getText('TABLE_EXPORT_TEXT');this._oUseExportToExcel=new sap.m.OverflowToolbarButton(this.getId()+'-btnExcelExport',{icon:'sap-icon://excel-attachment',text:B,tooltip:B,press:function(e){var D=function(){var s=this._getRowBinding();var u=s.getDownloadUrl('xlsx');u=this._removeExpandParameter(u);if(u&&u.length>2048&&sap.ui.Device.browser.msie){M.error(sap.ui.getCore().getLibraryResourceBundle('sap.ui.comp').getText('DOWNLOAD_TOO_COMPLEX_TEXT'));return;}window.open(u);}.bind(this);var i=this._getRowCount();if(i>10000){M.confirm(sap.ui.getCore().getLibraryResourceBundle('sap.ui.comp').getText('DOWNLOAD_CONFIRMATION_TEXT',i),{actions:[M.Action.YES,M.Action.NO],onClose:function(s){if(s===M.Action.YES){D();}}});}else{D();}}.bind(this)});this._setExcelExportEnableState();}this._oToolbar.addContent(this._oUseExportToExcel);}};r.prototype._adjustUrlToVisibleColumns=function(u){var v=this._getVisibleColumnPaths().select;var s=u.replace(new RegExp('([\\\\?&]\\\\$select=)[^&]+'),function(e,i){if(v&&v.length){return i+q.sap.encodeURL(v.join(','));}else{return'';}});return s;};r.prototype._removeExpandParameter=function(u){var s=u.replace(new RegExp('([\\\\?&]\\\\$expand=[^&]+)(&?)'),function(e,i,t){return t?i.substring(0,1):'';});return s;};r.prototype._getRowCount=function(){var e=this._getRowBinding();if(!e){return 0;}var i=0;if(e.getTotalSize){i=e.getTotalSize();}else{i=e.getLength();}if(i<0||i==='0'){i=0;}return i;};r.prototype._setExcelExportEnableState=function(){if(this._oUseExportToExcel){var i=this._getRowCount();if(i>0){this._oUseExportToExcel.setEnabled(true);}else{var e;if(this._isMobileTable){e=this._oTable.getItems();}else{e=this._oTable.getRows();}var E=e!=null&&e.length>0&&e[0].getBindingContext()!=null;this._oUseExportToExcel.setEnabled(E);}}};r.prototype._createPersonalizationController=function(){if(this._oPersController||!this.getUseTablePersonalisation()){return;}var s=this._oP13nDialogSettings;s=this._setIgnoreFromPersonalisationToSettings(s);q.sap.require('sap.ui.comp.personalization.Controller');this._oPersController=new sap.ui.comp.personalization.Controller({table:this._oTable,columnKeys:this._aColumnKeys,setting:s,resetToInitialTableState:!this.getUseVariantManagement(),beforePotentialTableChange:this._beforePersonalisationModelDataChange.bind(this),afterPotentialTableChange:this._afterPersonalisationModelDataChange.bind(this),afterP13nModelDataChange:this._personalisationModelDataChange.bind(this),requestColumns:this._personalisationRequestColumns.bind(this)});};r.prototype._setIgnoreFromPersonalisationToSettings=function(s){var i=P.createArrayFromString(this.getIgnoreFromPersonalisation());if(i.length){if(!s){s={};}var e=function(t){if(!s[t]){s[t]={};}s[t].ignoreColumnKeys=i;};e('filter');e('sort');e('group');e('columns');}return s;};r.prototype._getRowBinding=function(){if(this._oTable){return this._oTable.getBinding(this._sAggregation);}};r.prototype.setEntitySet=function(e){this.setProperty('entitySet',e);this._initialiseMetadata();};r.prototype.propagateProperties=function(){f.prototype.propagateProperties.apply(this,arguments);this._initialiseMetadata();};r.prototype._initialiseMetadata=function(){if(!this.bIsInitialised){p.handleModelInit(this,this._onMetadataInitialised);}};r.prototype._onMetadataInitialised=function(){this._bMetaModelLoadAttached=false;if(!this.bIsInitialised){this._createTableProvider();if(this._oTableProvider){this._aTableViewMetadata=this._oTableProvider.getTableViewMetadata();if(this._aTableViewMetadata){if(!this._isMobileTable&&this.getDemandPopin()){this.setDemandPopin(false);q.sap.log.error(\"use SmartTable property 'demandPopin' only  with responsive table, property has been set to false\");}this.bIsInitialised=true;this._bTableSupportsExcelExport=this._oTableProvider.getSupportsExcelExport();this._listenToSmartFilter();this._createVariantManagementControl();this._createToolbarContent();this._createContent();this._createPersonalizationController();this._oEditModel=new J({editable:this.getEditable()});this.setModel(this._oEditModel,'sm4rtM0d3l');this.fireInitialise();if(!this._oVariantManagement||(this._oVariantManagement&&this._bVariantInitialised)){this._checkAndTriggerBinding();}}}}};r.prototype._checkAndTriggerBinding=function(){if(!this._bAutoBindingTriggered){this._bAutoBindingTriggered=true;if(this.getEnableAutoBinding()){if(this._oSmartFilter){this._oSmartFilter.search();}else{this._reBindTable();}}}};r.prototype._createTableProvider=function(){var e,E,i;E=this.getEntitySet();i=this.getIgnoredFields();e=this.getModel();if(e&&E){if(this._aExistingColumns.length){if(i){i+=','+this._aExistingColumns.toString();}else{i=this._aExistingColumns.toString();}}this._oTableProvider=new sap.ui.comp.providers.TableProvider({entitySet:E,ignoredFields:i,initiallyVisibleFields:this.getInitiallyVisibleFields(),isEditableTable:this.getEditable(),isAnalyticalTable:!!this._isAnalyticalTable,isMobileTable:!!this._isMobileTable,dateFormatSettings:this.data('dateFormatSettings'),currencyFormatSettings:this.data('currencyFormatSettings'),defaultDropDownDisplayBehaviour:this.data('defaultDropDownDisplayBehaviour'),useSmartField:this.data('useSmartField'),useSmartToggle:this.data('useSmartToggle'),skipAnnotationParse:this.data('skipAnnotationParse'),lineItemQualifier:this.data('lineItemQualifier'),presentationVariantQualifier:this.data('presentationVariantQualifier'),enableInResultForLineItem:this.data('enableInResultForLineItem'),_semanticKeyAdditionalControl:this.getAggregation('semanticKeyAdditionalControl'),model:e,semanticObjectController:this.getSemanticObjectController()});}};r.prototype._listenToSmartFilter=function(){var s=null;s=this.getSmartFilterId();this._oSmartFilter=this._findControl(s);if(this._oSmartFilter){this._oSmartFilter.attachSearch(this._reBindTable,this);this._oSmartFilter.attachFilterChange(this._filterChangeEvent,this);this._oSmartFilter.attachCancel(this._cancelEvent,this);this._setNoDataText(sap.ui.getCore().getLibraryResourceBundle('sap.ui.comp').getText('SMARTTABLE_NO_DATA'));}};r.prototype._filterChangeEvent=function(){if(this._isTableBound()&&this._oSmartFilter&&!this._oSmartFilter.getLiveMode()){this._showOverlay(true);}};r.prototype._cancelEvent=function(){if(this._oSmartFilter&&!this._oSmartFilter.getLiveMode()){this._showOverlay(false);}};r.prototype._showOverlay=function(s){if(s){var e={show:true};this.fireShowOverlay({overlay:e});s=e.show;}this._oTable.setShowOverlay(s);};r.prototype._findControl=function(i){var e,v;if(i){e=sap.ui.getCore().byId(i);if(!e){v=this._getView();if(v){e=v.byId(i);}}}return e;};r.prototype._getView=function(){if(!this._oView){var e=this.getParent();while(e){if(e instanceof sap.ui.core.mvc.View){this._oView=e;break;}e=e.getParent();}}return this._oView;};r.prototype.rebindTable=function(e){this._reBindTable(null,e);};r.prototype._reBindTable=function(e,s){var t,u,v,i,w,x,y=[],z,E,B,D,G,H,I,K,N={},Q={preventTableBind:false};v=this._getTablePersonalisationData()||{};z=v.filters;E=v.excludeFilters;K=v.sorters;if(this._oSmartFilter){x=this._oSmartFilter.getFilters();N=this._oSmartFilter.getParameters()||{};}if(x&&x.length){if(E){y=[new sap.ui.model.Filter([x[0],E],true)];}else{y=x;}}else if(E){y=[E];}if(z){z=y.concat(z);}else{z=y;}B=this.getRequestAtLeastFields();if(B){D=B.split(',');}else{D=[];}D=D.concat(this._aAlwaysSelect);H=this._getVisibleColumnPaths();G=H['select'];if(!G||!G.length){G=D;}else{w=D.length;for(i=0;i<w;i++){if(G.indexOf(D[i])<0){G.push(D[i]);}}}if(this._sSelectForGroup&&G.indexOf(this._sSelectForGroup)<0){G.push(this._sSelectForGroup);}if(G.length){N['select']=G.toString();I=H['expand'];if(I.length){N['expand']=I.join(',');}}N['useBatchRequests']=true;if(!K){K=[];}Q.filters=z;Q.sorter=K;Q.parameters=N;Q.length=undefined;Q.startIndex=undefined;this.fireBeforeRebindTable({bindingParams:Q});if(!Q.preventTableBind){K=Q.sorter;z=Q.filters;N=Q.parameters;G=Q.parameters['select'];if(!G||!G.length){M.error(sap.ui.getCore().getLibraryResourceBundle('sap.ui.comp').getText('SMARTTABLE_NO_COLS'),{styleClass:(this.$()&&this.$().closest('.sapUiSizeCompact').length)?'sapUiSizeCompact':''});return;}u=this.getTableBindingPath()||('/'+this.getEntitySet());this._oTable.setEnableBusyIndicator(false);this._oTable.setBusy(true);if(this._oTable.resumeUpdateAnalyticalInfo){this._oTable.resumeUpdateAnalyticalInfo(true,false);}this._bDataLoadPending=true;if(this._bForceTableUpdate){s=true;this._bForceTableUpdate=false;}if(!s){t=this._oTable.getBinding(this._sAggregation);if(t&&t.mParameters){s=!(q.sap.equal(N,t.mParameters,true)&&q.sap.equal(N.custom,t.mParameters.custom)&&!Q.length&&!Q.startIndex&&u===t.getPath());}}if(!t||!this._bIsTableBound||s){this._oTable.bindRows({path:u,filters:z,sorter:K,parameters:N,length:Q.length,startIndex:Q.startIndex,template:this._oTemplate,events:{dataRequested:function(){this._bIgnoreChange=true;}.bind(this),dataReceived:function(e){if(e&&e.getParameter&&!e.getParameter('data')){return;}this._bIgnoreChange=false;this._onDataLoadComplete(e,true);this.fireDataReceived(e);}.bind(this),change:function(e){if(this._bIgnoreChange){return;}var U,W=false;U=(e&&e.getParameter)?e.getParameter('reason'):undefined;if(!U||U==='filter'||U==='context'){W=true;}if(U==='change'||W){this._onDataLoadComplete(e,W);}}.bind(this)}});this._bIsTableBound=true;}else{if(Object.keys(z).length===0){z=[];}t.sort(K);t.filter(z,'Application');}this._showOverlay(false);}};r.prototype._onDataLoadComplete=function(e,i){if(this._bDataLoadPending||i){if(this._bDataLoadPending){this._oTable.setBusy(false);this._oTable.setEnableBusyIndicator(true);}this._bDataLoadPending=false;if(!this._bNoDataUpdated&&!this._getRowCount()){this._bNoDataUpdated=true;this._setNoDataText();}this.updateTableHeaderState();}};r.prototype._isTableBound=function(){if(this._bIsTableBound){return true;}if(this._oTable){return this._oTable.isBound(this._sAggregation);}return false;};r.prototype.setNoData=function(N){this._oNoData=N;};r.prototype.getNoData=function(){return this._oNoData;};r.prototype._setNoDataText=function(s){var e=this._oTable.setNoData;if(!e){e=this._oTable.setNoDataText;}if(!e){return;}var N=s;if(!N){N=this.getNoData();}if(!N){N=sap.ui.getCore().getLibraryResourceBundle('sap.ui.comp').getText('SMARTTABLE_NO_RESULTS');}e.call(this._oTable,N,true);};r.prototype.updateTableHeaderState=function(){this._refreshHeaderText();this._setExcelExportEnableState();};r.prototype._createContent=function(){var i,e=0,s,I,t;if(this._aExistingColumns&&this._aExistingColumns.length){this._aColumnKeys=this._aExistingColumns.reverse();}I=this._parseIndexedColumns();e=this._aTableViewMetadata.length;for(i=0;i<e;i++){s=this._aTableViewMetadata[i];if(s.inResult){this._aAlwaysSelect.push(s.name);}this._aColumnKeys.push(s.name);if(!(s.isInitiallyVisible||s.inResult)){this._mLazyColumnMap[s.name]=s;}else{t=this._createColumnForField(s);this._oTable.addColumn(t);}}this._insertIndexedColumns(I);this._updateColumnsPopinFeature();this._storeInitialColumnSettings();};r.prototype._createColumnForField=function(e){var i,I;I=this.getId()+'-'+e.name.replace(/[^A-Za-z0-9_.:-]+/g,'_');i=this._createColumn(e,I);e.isColumnCreated=true;i.data('p13nData',{columnKey:e.name,leadingProperty:e.name,additionalProperty:e.additionalProperty,navigationProperty:e.navigationProperty,sortProperty:e.sortable?e.name:undefined,filterProperty:e.filterable?e.name:undefined,fullName:e.hasValueListAnnotation?e.fullName:null,type:e.filterType,maxLength:e.maxLength,precision:e.precision,scale:e.scale,aggregationRole:e.aggregationRole});if(e.filterable&&i.setFilterProperty){i.setFilterProperty(e.name);}if(e.sortable&&i.setSortProperty){i.setSortProperty(e.name);}this._registerContentTemplateEvents(e.template);return i;};r.prototype._parseIndexedColumns=function(){var i,e,s,I,t,u,v,w,x;var y=this._oTable.getColumns();var z=null;if(this._oTemplate&&this._oTemplate.getCells){z=this._oTemplate.getCells();}if(!y){return null;}I=[];e=y.length;for(i=0;i<e;i++){s=y[i];t=s.data('p13nData');u=null;v=null;if(t){u=t.columnIndex;v=t.columnKey;}w=-1;if(u!==null&&u!==undefined){w=parseInt(u,10);}if(!isNaN(w)&&w>-1){if(z){x=z[i];this._oTemplate.removeCell(x);}else{x=null;}this._aColumnKeys.splice(i-I.length,1);I.push({index:w,columnKey:v,column:s,template:x});this._oTable.removeColumn(s);}}I.sort(function(B,D){return B.index-D.index;});return I;};r.prototype._insertIndexedColumns=function(I){var i,e,s;if(!I){return;}e=I.length;for(i=0;i<e;i++){s=I[i];this._aColumnKeys.splice(s.index,0,s.columnKey);this._oTable.insertColumn(s.column,s.index);if(s.template){this._oTemplate.insertCell(s.template,s.index);}}};r.prototype._updateColumnsPopinFeature=function(){if(!this._isMobileTable||!this.getDemandPopin()){return;}var e=this._oTable.getColumns();if(!e){return;}e=e.filter(function(u){return u.getVisible();});e.sort(function(u,v){return u.getOrder()-v.getOrder();});var s,t=e.length;for(var i=0;i<t;i++){s=e[i];if(i<2){s.setDemandPopin(false);s.setMinScreenWidth('1px');}else{s.setDemandPopin(true);s.setPopinDisplay(sap.m.PopinDisplay.Inline);s.setMinScreenWidth((i+1)*10+'rem');}}};r.prototype._storeInitialColumnSettings=function(){this._aInitialSorters=[];P.createSort2Json(this._oTable,this._aInitialSorters,P.createArrayFromString(this.getIgnoreFromPersonalisation()));};r.prototype._deactivateColumnsPopinFeature=function(){if(!this._isMobileTable){return;}var e=this._oTable.getColumns();if(!e){return;}var s,t=e.length;for(var i=0;i<t;i++){s=e[i];s.setDemandPopin(false);s.setMinScreenWidth('1px');}};r.prototype._registerContentTemplateEvents=function(t){if(t&&t.attachChange){t.attachChange(function(e){this.fireFieldChange({changeEvent:e});}.bind(this));}};r.prototype._updateInitialColumns=function(){var i=this._oTable.getColumns(),s=i?i.length:0,t,u,v;while(s--){v=null;t=i[s];if(t){u=t.data('p13nData');if(typeof u==='string'){try{u=JSON.parse(u);}catch(e){}if(u){t.data('p13nData',u);}}if(u){v=u['columnKey'];}if(v){this._aExistingColumns.push(v);}}}};r.prototype._getVisibleColumnPaths=function(){var e={},s=[],E=[],t=this._oTable.getColumns(),i,u=t?t.length:0,v,w,x,y,z;var B=function(x,D){var G,H;if(x){H=x.split(',');G=H.length;while(G--){x=H[G];if(x&&D.indexOf(x)<0){D.push(x);}}}};for(i=0;i<u;i++){v=t[i];x=null;if(v.getVisible()){if(v.getLeadingProperty){x=v.getLeadingProperty();}w=v.data('p13nData');if(w){if(!x){x=w['leadingProperty'];}y=w['additionalProperty'];z=w['navigationProperty'];}if(x&&s.indexOf(x)<0){s.push(x);}B(y,s);B(z,E);}}e['select']=s;e['expand']=E;return e;};r.prototype._createTable=function(){var e=this.getItems(),i=e?e.length:0,t,I;this._sAggregation='rows';while(i--){t=e[i];if(t instanceof m||t instanceof R){break;}t=null;}if(t){this._oTable=t;if(t instanceof j){this._isAnalyticalTable=true;}else if(t instanceof R){this._isMobileTable=true;this._oTemplate=(t.getItems()&&t.getItems().length>0)?t.getItems()[0]:new sap.m.ColumnListItem();t.removeAllItems();}else if(t instanceof n){this._isTreeTable=true;}this._updateInitialColumns();}else{I=this.getId()+'-ui5table';if(this.getTableType()==='AnalyticalTable'){this._isAnalyticalTable=true;this._oTable=new j(I,{enableCustomFilter:true});}else if(this.getTableType()==='ResponsiveTable'){this._isMobileTable=true;this._oTable=new R(I,{growing:true});this._oTemplate=new sap.m.ColumnListItem();}else if(this.getTableType()==='TreeTable'){this._isTreeTable=true;this._oTable=new n(I,{selectionMode:sap.ui.table.SelectionMode.MultiToggle});}else{this._oTable=new m(I,{selectionMode:sap.ui.table.SelectionMode.MultiToggle});}if(this._oTable.setVisibleRowCountMode){this._oTable.setVisibleRowCountMode(sap.ui.table.VisibleRowCountMode.Auto);}this.insertItem(this._oTable,2);}if(!this._oTable.getLayoutData()){if(this._oTable instanceof sap.m.Table||(this._oTable.getVisibleRowCountMode&&this._oTable.getVisibleRowCountMode()!==sap.ui.table.VisibleRowCountMode.Auto)){this._oTable.setLayoutData(new sap.m.FlexItemData({growFactor:1,baseSize:'auto'}));}else{this._oTable.setLayoutData(new sap.m.FlexItemData({growFactor:1,baseSize:'0%'}));}}if(this._oTable.addAriaLabelledBy){this._oTable.addAriaLabelledBy(this.getId()+'-header');}this._oTable.addStyleClass('sapUiCompSmartTableInnerTable');this._oTable.setEnableBusyIndicator(true);this._oTable.setBusyIndicatorDelay(100);if(this._oTable.setEnableCustomFilter){this._oTable.setEnableCustomFilter(this.getEnableCustomFilter());}if(this._oTable.setShowColumnVisibilityMenu){this._oTable.setShowColumnVisibilityMenu(false);}if(this._oTable.getEnableCustomFilter&&this._oTable.getEnableCustomFilter()&&this._bIsFilterPanelEnabled){if(this._oTable.setEnableCellFilter){this._oTable.setEnableCellFilter(false);}if(this._oTable.attachCustomFilter){this._oTable.attachCustomFilter(this._showTableFilterDialog.bind(this));}}if(this._isAnalyticalTable){this._createColumn=this._createAnalyticalColumn;}else if(this._isMobileTable){this._sAggregation='items';this._createColumn=this._createMobileColumn;this._oTable.bindRows=this._oTable.bindItems;}if(!this._isMobileTable){this._oTable.attachEvent('_rowsUpdated',function(){this._setExcelExportEnableState();},this);}if(this._oTable._setLargeDataScrolling){this._oTable._setLargeDataScrolling(true);}};r.prototype.getTable=function(){return this._oTable;};r.prototype._showTableFilterDialog=function(e){if(this._oPersController){this._oPersController.openDialog({filter:{visible:true,payload:{column:e.getParameter('column')}}});}};r.prototype._createColumn=function(e,i){var s;s=new k(i,{autoResizable:true,hAlign:e.align,width:e.width,visible:e.isInitiallyVisible,label:new L(i+'-header',{textAlign:e.align,text:e.label}),sorted:e.sorted,sortOrder:e.sortOrder,tooltip:e.quickInfo,showSortMenuEntry:e.sortable,showFilterMenuEntry:e.filterable&&this._bIsFilterPanelEnabled,name:e.fieldName,template:e.template});return s;};r.prototype._createAnalyticalColumn=function(e,i){var s;if(e.isCurrencyField&&e.template.addStyleClass){e.template.addStyleClass('sapUiCompCurrencyBold');}s=new A(i,{autoResizable:true,hAlign:e.align,width:e.width,visible:e.isInitiallyVisible,inResult:e.inResult,label:new L(i+'-header',{textAlign:e.align,text:e.label}),tooltip:e.quickInfo,sorted:e.sorted,sortOrder:e.sortOrder,grouped:e.grouped,showIfGrouped:e.grouped,showSortMenuEntry:e.sortable,showFilterMenuEntry:e.filterable&&this._bIsFilterPanelEnabled,summed:e.summed,leadingProperty:e.name,template:e.template});return s;};r.prototype._createMobileColumn=function(e,i){var s;s=new C(i,{hAlign:e.align,visible:e.isInitiallyVisible,header:new T(i+'-header',{textAlign:e.align,text:e.label,tooltip:e.quickInfo}),tooltip:e.quickInfo,width:e.isImageURL?'3em':undefined});if(this._oTemplate){this._oTemplate.addCell(e.template);}return s;};r.prototype.fetchVariant=function(){if(this._oCurrentVariant==='STANDARD'||this._oCurrentVariant===null){return{};}return this._oCurrentVariant;};r.prototype.applyVariant=function(v,s){this._oCurrentVariant=v;if(this._oCurrentVariant==='STANDARD'){this._oCurrentVariant=null;}P.recoverPersonalisationDateData(this._oCurrentVariant,this._oTable);if(s==='STANDARD'){this._oApplicationDefaultVariant=this._oCurrentVariant;}if(this._oApplicationDefaultVariant&&!s){this._oCurrentVariant=q.extend(true,{},this._oApplicationDefaultVariant,v);}this._bApplyingVariant=true;if(this._oTable._setSuppressRefresh){this._oTable._setSuppressRefresh(true);}if(this._oPersController){if(this._oCurrentVariant===null||q.isEmptyObject(this._oCurrentVariant)){this._oPersController.resetPersonalization(sap.ui.comp.personalization.ResetType.ResetFull);}else{this._oPersController.setPersonalizationData(this._oCurrentVariant);}}this._bApplyingVariant=false;this.fireAfterVariantApply({currentVariantId:this.getCurrentVariantId()});};r.prototype.variantsInitialized=function(){this._bVariantInitialised=true;this._checkAndTriggerBinding();};r.prototype._personalisationRequestColumns=function(e){var s=e.getParameter('columnKeys'),t,i,u,v,w,x={};u=s.length;for(i=0;i<u;i++){t=s[i];v=this._mLazyColumnMap[t];if(v){w=this._createColumnForField(v);if(this._isMobileTable){this._oTable.addColumn(w);}x[v.name]=w;}}this._oPersController.addColumns(x);};r.prototype._beforePersonalisationModelDataChange=function(e){if(this._oTable.suspendUpdateAnalyticalInfo){this._oTable.suspendUpdateAnalyticalInfo();}};r.prototype._afterPersonalisationModelDataChange=function(e){this._updateColumnsPopinFeature();};r.prototype._personalisationModelDataChange=function(e){this._oCurrentVariant=e.getParameter('persistentData');var i=e.getParameter('changeType');var s=this._getChangeStatus(i);if(s===sap.ui.comp.personalization.ChangeType.Unchanged){return;}if(!this._bApplyingVariant){if(!this.getUseVariantManagement()){this._persistPersonalisation();}else if(this._oVariantManagement){this._oVariantManagement.currentVariantSetModified(true);}}if(s===sap.ui.comp.personalization.ChangeType.ModelChanged&&this._isTableBound()){if(i&&i.columns===sap.ui.comp.personalization.ChangeType.ModelChanged){this._bForceTableUpdate=true;}if(this._oSmartFilter){this._oSmartFilter.search();}else{this._reBindTable(null);}}};r.prototype._getChangeStatus=function(e){if(!e){return sap.ui.comp.personalization.ChangeType.ModelChanged;}if(e.sort===sap.ui.comp.personalization.ChangeType.ModelChanged||e.filter===sap.ui.comp.personalization.ChangeType.ModelChanged||e.columns===sap.ui.comp.personalization.ChangeType.ModelChanged||e.group===sap.ui.comp.personalization.ChangeType.ModelChanged){return sap.ui.comp.personalization.ChangeType.ModelChanged;}if(e.sort===sap.ui.comp.personalization.ChangeType.TableChanged||e.filter===sap.ui.comp.personalization.ChangeType.TableChanged||e.columns===sap.ui.comp.personalization.ChangeType.TableChanged||e.group===sap.ui.comp.personalization.ChangeType.TableChanged){return sap.ui.comp.personalization.ChangeType.TableChanged;}return sap.ui.comp.personalization.ChangeType.Unchanged;};r.prototype._getTablePersonalisationData=function(){if(!this._oCurrentVariant){return null;}var s=[],e=[],E=[],i,G,t,u,v,w,x,y,z='',I;this._sSelectForGroup=null;if(this._isMobileTable&&this._oCurrentVariant.group&&this._oCurrentVariant.group.groupItems){G=this._oCurrentVariant.group.groupItems[0];v=this._getColumnByKey(G.columnKey);if(v){z=v.getHeader().getText();}y=this._getPathFromColumnKeyAndProperty(G.columnKey,'sortProperty');x=y;t=new sap.ui.model.Sorter(x,G.operation==='GroupDescending',function(B){var K=B.getProperty(x);return{key:K,text:z?z+' : '+K:K};});this._sSelectForGroup=x;s.push(t);}if(this._oCurrentVariant.sort){u=this._oCurrentVariant.sort.sortItems;}else{u=this._aInitialSorters;}if(u){u.forEach(function(B){var D=B.operation==='Descending';y=this._getPathFromColumnKeyAndProperty(B.columnKey,'sortProperty');if(t&&t.sPath===y){t.bDescending=D;}else{s.push(new sap.ui.model.Sorter(y,D));}},this);}if(this._oCurrentVariant.filter){this._oCurrentVariant.filter.filterItems.forEach(function(B){var D=B.value1,H=B.value2;y=null;I=false;v=this._getColumnByKey(B.columnKey);if(v){if(v.getFilterProperty){y=v.getFilterProperty();}w=v.data('p13nData');if(w){I=w.type==='time';if(!y){y=w['filterProperty'];}}}if(I){if(D instanceof Date){D=o.getEdmTimeFromDate(D);}if(H instanceof Date){H=o.getEdmTimeFromDate(H);}}else if(D instanceof Date&&this._oTableProvider&&this._oTableProvider.getIsUTCDateHandlingEnabled()){D=F.getDateInUTCOffset(D);H=H?F.getDateInUTCOffset(H):H;}if(B.exclude){E.push(new sap.ui.model.Filter(y,h.NE,D));}else{e.push(new sap.ui.model.Filter(y,B.operation,D,H));}},this);if(E.length){i=new sap.ui.model.Filter(E,true);}}return{filters:e,excludeFilters:i,sorters:s};};r.prototype._getColumnByKey=function(s){var e,t,u,i,v;if(this._oTable){e=this._oTable.getColumns();u=e.length;for(i=0;i<u;i++){t=e[i];v=t.data('p13nData');if(v&&v.columnKey===s){return t;}}}return null;};r.prototype._getPathFromColumnKeyAndProperty=function(s,e){var i=null,t,u;t=this._getColumnByKey(s);if(t){if(e=='sortProperty'&&t.getSortProperty){i=t.getSortProperty();}else if(e=='filterProperty'&&t.getFilterProperty){i=t.getFilterProperty();}else if(e=='leadingProperty'&&t.getLeadingProperty){i=t.getLeadingProperty();}if(!i){u=t.data('p13nData');if(u){i=u[e];}}}return i;};r.prototype._persistPersonalisation=function(){if(this._oVariantManagement&&!this._oVariantManagement.isPageVariant()){this._oVariantManagement.getVariantsInfo(function(v){var e,s=null;if(v&&v.length>0){s=v[0].key;}e=s!==null;this._oVariantManagement.fireSave({name:'Personalisation',global:false,overwrite:e,key:s,def:true});}.bind(this));}};r.prototype.getCurrentVariantId=function(){var K='';if(this._oVariantManagement){K=this._oVariantManagement.getCurrentVariantId();}return K;};r.prototype.setCurrentVariantId=function(v){if(this._oVariantManagement&&!this._oVariantManagement.isPageVariant()){this._oVariantManagement.setCurrentVariantId(v);}else{q.sap.log.error('sap.ui.comp.smarttable.SmartTable.prototype.setCurrentVariantId: VariantManagement does not exist, or is a page variant');}};r.prototype.isInitialised=function(){return!!this.bIsInitialised;};r.prototype.exit=function(){var i,e;if(this._oSmartFilter){this._oSmartFilter.detachSearch(this._reBindTable,this);this._oSmartFilter.detachFilterChange(this._filterChangeEvent,this);this._oSmartFilter.detachCancel(this._cancelEvent,this);this._oSmartFilter=null;}if(this._oTableProvider&&this._oTableProvider.destroy){this._oTableProvider.destroy();}this._oTableProvider=null;if(this._oPersController&&this._oPersController.destroy){this._oPersController.destroy();}this._oPersController=null;if(this._oVariantManagement){this._oVariantManagement.detachAfterSave(this._variantAfterSave,this);if(!this._oVariantManagement.isPageVariant()&&this._oVariantManagement.destroy){this._oVariantManagement.destroy();}}if(this._oFullScreenUtil){this._oFullScreenUtil.cleanUpFullScreen(this);this._oFullScreenUtil=null;}if(this._oEditModel){this._oEditModel.destroy();}if(this._oNoData&&this._oNoData.destroy){this._oNoData.destroy();}this.oNoData=null;if(this._aTableViewMetadata){i=this._aTableViewMetadata.length;while(i--){e=this._aTableViewMetadata[i];if(e&&!e.isColumnCreated&&e.template){e.template.destroy();}}}this._aTableViewMetadata=null;this._oEditModel=null;this._oVariantManagement=null;this._oCurrentVariant=null;this._oApplicationDefaultVariant=null;this._aExistingColumns=null;this._mLazyColumnMap=null;this._aColumnKeys=null;this._aAlwaysSelect=null;this._oCustomToolbar=null;this._oToolbar=null;if(this._oUseExportToExcel&&!this.getUseExportToExcel()){this._oUseExportToExcel.destroy();}this._oUseExportToExcel=null;this._oTablePersonalisationButton=null;this._oP13nDialogSettings=null;if(!this._bIsTableBound&&this._oTemplate){this._oTemplate.destroy();}this._oTemplate=null;this._oView=null;this._oTable=null;};return r;},true);\n",
	"sap/ui/comp/smartvariants/PersonalizableInfo.js":"/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n\n(c) Copyright 2009-2016 SAP SE. All rights reserved\n */\nsap.ui.define(['jquery.sap.global','sap/ui/comp/library','sap/ui/core/Element'],function(q,l,E){'use strict';var P=E.extend('sap.ui.comp.smartvariants.PersonalizableInfo',{metadata:{library:'sap.ui.comp',properties:{type:{type:'string',group:'Misc',defaultValue:null},dataSource:{type:'string',group:'Misc',defaultValue:null},keyName:{type:'string',group:'Misc',defaultValue:null}},associations:{control:{type:'sap.ui.core.Control',multiple:false}}}});P.prototype.addControl=function(c){this.addAssociation('control',c,true);};return P;},true);\n",
	"sap/ui/comp/smartvariants/SmartVariantManagement.designtime.js":"/*\n * ! SAP UI development toolkit for HTML5 (SAPUI5)\n\n(c) Copyright 2009-2016 SAP SE. All rights reserved\n */\nsap.ui.define([],function(){'use strict';return{annotations:{},properties:{persistencyKey:{ignore:true}},customData:{}};},false);\n",
	"sap/ui/comp/smartvariants/SmartVariantManagement.js":"/*\n * ! SAP UI development toolkit for HTML5 (SAPUI5)\n\n(c) Copyright 2009-2016 SAP SE. All rights reserved\n */\nsap.ui.define(['jquery.sap.global','sap/ui/comp/library','./PersonalizableInfo','sap/ui/comp/variants/VariantItem','sap/ui/comp/variants/VariantManagement','sap/ui/fl/Change','sap/ui/fl/Persistence','sap/ui/fl/Utils'],function(q,l,P,V,a,C,b,F){'use strict';var S=a.extend('sap.ui.comp.smartvariants.SmartVariantManagement',{metadata:{library:'sap.ui.comp',designTime:true,properties:{persistencyKey:{type:'string',group:'Misc',defaultValue:null}},aggregations:{personalizableControls:{type:'sap.ui.comp.smartvariants.PersonalizableInfo',multiple:true,singularName:'personalizableControl'}},events:{initialise:{},afterSave:{}}},renderer:function(r,c){a.getMetadata().getRenderer().render(r,c);}});S.prototype.init=function(){a.prototype.init.apply(this);this._bIsInitialized=false;this._oStandardVariant=null;this._oControlPersistence=null;this._oControlPromise=null;this._oPersoControl=null;this._sAppStandardVariantKey=null;this._oAppStdContent=null;this._aPersonalizableControls=[];if(this.setLifecycleSupport){this.setLifecycleSupport(true);}this._setBackwardCompatibility(false);this.setSupportExecuteOnSelectOnSandardVariant(true);};S.prototype._createControlWrapper=function(c){var o=null;var d=sap.ui.getCore().byId(c.getControl());if(d){o={control:d,type:c.getType(),dataSource:c.getDataSource(),keyName:c.getKeyName(),loaded:q.Deferred()};}return o;};S.prototype._getControlWrapper=function(c){var d=this._getAllPersonalizableControls();if(d&&d.length){for(var i=0;i<d.length;i++){if(d[i].control===c){return d[i];}}}return null;};S.prototype.addPersonalizableControl=function(c){var o,d=null,s=c.getControl();d=sap.ui.getCore().byId(s);if(!d){q.sap.log.error(\"couldn't obtain the control with the id=\"+s);return;}this.addAggregation('personalizableControls',c,true);o=this._createControlWrapper(c);if(o){this._aPersonalizableControls.push(o);}if(this.isPageVariant()){return;}this._setPersControler(d);};S.prototype._setPersControler=function(c){if(!this._oPersoControl&&F.getComponentClassName(c)){this._oPersoControl=c;this._addPersistenceController(c);}};S.prototype.setPersistencyKey=function(k){this.setProperty('persistencyKey',k);this._setPersControler(this);};S.prototype._addPersistenceController=function(c){if(c){this._oControlPersistence=new b(c,'persistencyKey');this._handleGetChanges(c);}};S.prototype.isPageVariant=function(){if(this.getPersistencyKey()){return true;}return false;};S.prototype._handleGetChanges=function(c){var t=this;if(c&&this._oControlPersistence){this._oControlPromise={};this._oControlPromise=new Promise(function(r,d){t._oControlPersistence.getChanges().then(function(v){r(v);},function(e){d(e);});});}};S.prototype.getVariantContent=function(c,k){var p,o=this._getChangeContent(k);if(o&&this.isPageVariant()){p=this._getControlPersKey(c);if(p){o=this._retrieveContent(o,p);}}return o;};S.prototype._getChangeContent=function(k){var c=null;if(k===this.STANDARDVARIANTKEY){c=this.getStandardVariant();}else{c=this._getChange(k);if(c){c=c.getContent();if(c){c=q.extend(true,{},c);}}}return c;};S.prototype._getChange=function(i){var c=null;if(this._oControlPersistence){c=this._oControlPersistence.getChange(i);}return c;};S.prototype._getAllPersonalizableControls=function(){return this._aPersonalizableControls;};S.prototype._createVariantEntries=function(v){var n=null;var s,u,c=null;var o,d;var e=[];this.removeAllItems();if(v){for(n in v){if(n){o=v[n];if(o.isVariant()){u=this._getUser(o);d=new V({key:o.getId(),text:o.getText('variantName'),global:!o.isUserDependent(),executeOnSelection:this._getExecuteOnSelection(o),lifecycleTransportId:o.getRequest(),lifecyclePackage:o.getPackage(),namespace:o.getNamespace(),readOnly:o.isReadOnly(),labelReadOnly:o.isLabelReadOnly(),author:u});if(this._hasStoredStandardVariant(o)){c=o.getId();}this.addVariantItem(d);e.push(o.getId());}}}}if(this._oPersoControl){s=this._getDefaultVariantKey();if(s){this.setInitialSelectionKey(s);}var f=this._isApplicationVariant(this._oPersoControl);if(f){this.setIndustrySolutionMode(f);f=F.isVendorLayer();this._setVendorLayer(f);}if(this.getIndustrySolutionMode()){if(c){this._sAppStandardVariantKey=c;this.setStandardVariantKey(c);}}if(this._oControlPersistence&&this._oControlPersistence.isVariantDownport()){this._enableManualVariantKey(true);}}return e;};S.prototype.getVariantsInfo=function(c){if(!c){q.sap.log.error(\"'getVariantsInfo' failed. Expecting callBack not passed.\");return;}var n=null;var v;var d=[];var t=this;try{if(this._oControlPersistence){this._oControlPersistence.getChanges().then(function(m){if(m){for(n in m){if(n){v=m[n];if(v.isVariant()){d.push({key:v.getId(),text:v.getText('variantName')});}}}}c(d);},function(f){var E=\"'getChanges' failed:\";if(f&&f[0]&&f[0].messages&&f[0].messages[0]){E+=(' '+f[0].messages[0]);}t._setErrorValueState(t.oResourceBundle.getText('VARIANT_MANAGEMENT_READ_FAILED'),E);c(d);});}}catch(e){this._setErrorValueState(this.oResourceBundle.getText('VARIANT_MANAGEMENT_READ_FAILED'),\"'getChanges' throws an exception\");}};S.prototype.getCurrentVariantId=function(){var k='';var i=this._getSelectedItem();if(i){k=i.getKey();if(k===this.STANDARDVARIANTKEY){k='';}}return k;};a.prototype.setCurrentVariantId=function(v,d){var i=this._determineVariantId(v);if(this._oPersoControl){if(!this._oStandardVariant){this._setSelectionByKey(i);}else{this._applyCurrentVariantId(i,d);}}};S.prototype._applyCurrentVariantId=function(v,d){var c;if(this._oPersoControl){c=this._getChangeContent(v);if(c){this._setSelectionByKey(v);if(!d){if(this.isPageVariant()){this._applyVariants(c,'SET_VM_ID');}else{this._applyVariant(this._oPersoControl,c,'SET_VM_ID');}}}}};S.prototype._determineVariantId=function(v){var i=v;if(!i){i=this.getStandardVariantKey();}else{if(!this.getItemByKey(i)){i=this.getStandardVariantKey();}}return i;};S.prototype.initialise=function(c,p){var o=null,d,t=this,k,f;var e={variantKeys:[]};try{if(p&&c){o=this._getControlWrapper(p);if(!o){q.sap.log.error('initialise on an unknown control.');return;}if(o.bInitialized){q.sap.log.error('initialise on '+p.getId()+' already executed');return;}o.fInitCallback=c;}else if(!this.isPageVariant()){o=this._getControlWrapper(this._oPersoControl);}if(this._oControlPromise&&this._oPersoControl&&o){this._oControlPromise.then(function(v){if(!t._bIsInitialized){t._bIsInitialized=true;e.variantKeys=t._createVariantEntries(v);f=t._getExecuteOnSelectOnStandardVariant();if(f!==null){t._executeOnSelectForStandardVariantByUser(f);}k=t._getDefaultVariantKey();if(k){d=t._getChangeContent(k);if(d){t.setDefaultVariantKey(k);t.setInitialSelectionKey(k);}}if(t._sAppStandardVariantKey){t._oAppStdContent=t._getChangeContent(t._sAppStandardVariantKey);}}t._initialize(e,o);},function(h){var E=\"'getChanges' failed:\";if(h&&h.messages&&h.messages[0]){E+=(' '+h.messages[0]);}t._setErrorValueState(t.oResourceBundle.getText('VARIANT_MANAGEMENT_READ_FAILED'),E);if(c&&p){c.call(p);}else{t.fireEvent('initialise',e);}});}else{this._setErrorValueState(this.oResourceBundle.getText('VARIANT_MANAGEMENT_READ_FAILED'),\"'initialise' no personalizable component available\");if(c&&p){c.call(p);}else{t.fireEvent('initialise',e);}}}catch(g){this._setErrorValueState(this.oResourceBundle.getText('VARIANT_MANAGEMENT_READ_FAILED'),\"'getChanges' throws an exception\");if(c&&p){c.call(p);}else{t.fireEvent('initialise',e);}}};S.prototype._initialize=function(p,c){var k,o=null,i=this.isPageVariant();if(this._oAppStdContent){if((c.type==='table')||(c.type==='chart')){if(i){this._applyControlVariant(c.control,this._oAppStdContent,'STANDARD',true);}else{this._applyVariant(c.control,this._oAppStdContent,'STANDARD',true);}}}if(c.fInitCallback){c.fInitCallback.call(c.control);delete c.fInitCallback;c.bInitialized=true;}else{this.fireEvent('initialise',p);}c.loaded.resolve();k=this.getSelectionKey();if(k&&(k!==this.getStandardVariantKey())){o=this._getChangeContent(k);}else if(this._oAppStdContent){o=this._oAppStdContent;}if(this._sAppStandardVariantKey){this._updateStandardVariant(c,this._oAppStdContent);}else{this._setStandardVariant(c);}if(o){if(i){this._applyControlVariant(c.control,o,'INIT',true);}else{this._applyVariant(c.control,o,'INIT',true);}}if(c.control.variantsInitialized){c.control.variantsInitialized();}if(this.getStandardVariantKey()&&this.getExecuteOnSelectForStandardVariant()){if(c.control.search){c.control.search();}}};S.prototype._updateVariant=function(v){if(this._isIndustrySolutionModeAndVendorLayer()||(v.key!==this.getStandardVariantKey())){if(v){var c=this._getChange(v.key);if(c){try{if((v.lifecycleTransportId!==null)&&(v.lifecycleTransportId!==undefined)){c.setRequest(v.lifecycleTransportId);}var o=this._fetchContent();if(o){var i=this.getItemByKey(v.key);if(i){o.executeOnSelection=i.getExecuteOnSelection();}if(o.standardvariant!==undefined){delete o.standardvariant;}if(this._isIndustrySolutionModeAndVendorLayer()&&(v.key===this.getStandardVariantKey())){o.standardvariant=true;}c.setContent(o);}}catch(e){q.sap.log.error(\"'_updateVariant' throws an exception\");}}}}};S.prototype._createChangeHeader=function(){if(this.isPageVariant()){return{type:'page',dataService:'n/a'};}var c=this._getAllPersonalizableControls();if(c&&c.length>0){return{type:c[0].type,dataService:c[0].dataSource};}};S.prototype._newVariant=function(v){var i,c,o;if(v&&this._oControlPersistence){var t=this._createChangeHeader();var u=!v.global;var p='';if((v.lifecyclePackage!==null)&&(v.lifecyclePackage!==undefined)){p=v.lifecyclePackage;}var T='';if((v.lifecycleTransportId!==null)&&(v.lifecycleTransportId!==undefined)){T=v.lifecycleTransportId;}c=this._fetchContent();if(c){if(v.exe){c.executeOnSelection=v.exe;}if(v.tile){c.tile=v.tile;}if(c.standardvariant!==undefined){delete c.standardvariant;}if(this._isIndustrySolutionModeAndVendorLayer()&&v.key===this.STANDARDVARIANTKEY){c.standardvariant=true;}}i=this._isVariantDownport()?v.key:null;var m={type:t.type,ODataService:t.dataSource,texts:{variantName:v.name},content:c,isVariant:true,packageName:p,isUserDependent:u,id:i};i=this._oControlPersistence.addChange(m);this.replaceKey(v.key,i);this.setInitialSelectionKey(i);if(this.getIndustrySolutionMode()&&v.key===this.STANDARDVARIANTKEY){this.setStandardVariantKey(i);}o=this._getChange(i);if(o){o.setRequest(T);var I=this.getItemByKey(i);if(I){I.setNamespace(o.getNamespace());}}if(v.def===true){this._setDefaultVariantKey(i);}}};S.prototype._fetchContent=function(){var c,p,o,d={};var e=this._getAllPersonalizableControls();for(var i=0;i<e.length;i++){c=e[i];if(c&&c.control&&c.control.fetchVariant){o=c.control.fetchVariant();if(o){if(o){o=q.extend(true,{},o);}if(this.isPageVariant()){p=this._getControlPersKey(c);if(p){d=this._assignContent(d,o,p);}else{q.sap.log.error('no persistancy key retrieved');}}else{d=o;break;}}}}return d;};S.prototype._getControlPersKey=function(c){var p=null;if(c.keyName){p=c.control.getProperty(c.keyName);}else{var o=this._getControlWrapper(c);if(o.keyName){p=c.getProperty(o.keyName);}}return p;};S.prototype._newVariantContent=function(c){var o=null,d,s,p;if(c&&c.control&&c.control.fetchVariant){d=c.control.fetchVariant();if(d){s=JSON.stringify(d);d=JSON.parse(s);if(this.isPageVariant()){p=this._getControlPersKey(c);if(p){o={};o=this._assignContent(o,d,p);}else{q.sap.log.error('no persistancy key retrieved');}}else{o=d;}}}return o;};S.prototype._appendLifecycleInformation=function(v,i){var t;var I=this.getItemByKey(i);if(I){t=I.getLifecycleTransportId();if(t===null||t===undefined){t='';}if(v){v.setRequest(t);}}};S.prototype._renameVariant=function(v){if(v.key!==this.getStandardVariantKey()){if(v){var c=this._getChange(v.key);if(c){c.setText('variantName',v.name);this._appendLifecycleInformation(c,v.key);}}}};S.prototype._deleteVariants=function(v){var i;if(v&&v.length){var s=this._getDefaultVariantKey();for(i=0;i<v.length;i++){if(v[i]===this.getStandardVariantKey()){continue;}var c=this._getChange(v[i]);if(c){c.markForDeletion();if(s&&s===v[i]){this._setDefaultVariantKey('');}this._appendLifecycleInformation(c,v[i]);}}}};S.prototype._getDefaultVariantKey=function(){var d='';if(this._oControlPersistence){d=this._oControlPersistence.getDefaultVariantIdSync();}return d;};S.prototype._setDefaultVariantKey=function(v){if(this._oControlPersistence){this._oControlPersistence.setDefaultVariantIdSync(v);}};S.prototype._getExecuteOnSelectOnStandardVariant=function(){var e=null;if(this._oControlPersistence){e=this._oControlPersistence.getExecuteOnSelectSync();}return e;};S.prototype._setExecuteOnSelectOnStandardVariant=function(f){if(this._oControlPersistence){this._oControlPersistence.setExecuteOnSelectSync(f);}};S.prototype._isVariantDownport=function(){var d=false;if(this._oControlPersistence){d=this._oControlPersistence.isVariantDownport();}return d;};S.prototype._getExecuteOnSelection=function(v){var c;if(v){c=v.getContent();if(c&&(c.executeOnSelection!==undefined)){return c.executeOnSelection;}}return false;};S.prototype._hasStoredStandardVariant=function(v){var c;if(v){c=v.getContent();if(c&&c.standardvariant){return c.standardvariant;}}return false;};S.prototype._isComponentTemplate=function(c){var i=false;var o=F.getComponentForControl(c);if(o&&o.getAppComponent){o=o.getAppComponent();if(o){i=true;}}return i;};S.prototype._isApplicationVariant=function(c){if(F.isApplicationVariant(c)){return true;}if(this._isComponentTemplate(c)){return true;}return false;};S.prototype._setExecuteOnSelections=function(v){var i;if(v&&v.length){for(i=0;i<v.length;i++){if(v[i].key===this.STANDARDVARIANTKEY){this._setExecuteOnSelectOnStandardVariant(v[i].exe);continue;}var c=this._getChange(v[i].key);if(c){var j=c.getContent();if(j){j.executeOnSelection=v[i].exe;c.setContent(j);}this._appendLifecycleInformation(c,v[i].key);}}}};S.prototype._save=function(n){var t=this;if(this._oControlPersistence){try{this._oControlPersistence.saveAll().then(function(){if(n){t._updateUser();}t.fireEvent('afterSave');},function(c){var E=\"'_save' failed:\";if(c&&c[0]&&c[0].messages&&c[0].messages[0]){E+=(' '+c[0].messages[0]);}t._setErrorValueState(t.oResourceBundle.getText('VARIANT_MANAGEMENT_SAVE_FAILED'),E);});}catch(e){this._setErrorValueState(this.oResourceBundle.getText('VARIANT_MANAGEMENT_SAVE_FAILED'),\"'_save' throws an exception\");}}};S.prototype._updateUser=function(){var i=this.getInitialSelectionKey();var u=this._getUser(this._getChange(i));if(u){this._assignUser(i,u);}};S.prototype._getUser=function(c){var u=null;if(c&&c.getDefinition()&&c.getDefinition().support){u=c.getDefinition().support.user?c.getDefinition().support.user:'';}return u;};S.prototype.fireSave=function(v){var s=false;var n=true;if(v){if(v.overwrite){if(this._isIndustrySolutionModeAndVendorLayer()||(v.key!==this.getStandardVariantKey())){this.fireEvent('save');if(v.key===this.STANDARDVARIANTKEY){this._newVariant(v);}else{this._updateVariant(v);n=false;}s=true;}}else{this.fireEvent('save');this._newVariant(v);s=true;}if(s){this._save(n);}}};S.prototype.fireManage=function(v){var i;if(v){if(v.renamed){for(i=0;i<v.renamed.length;i++){this._renameVariant(v.renamed[i]);}}if(v.deleted){this._deleteVariants(v.deleted);}if(v.exe){this._setExecuteOnSelections(v.exe);}if(v.def){var d=this._getDefaultVariantKey();if(d!==v.def){this._setDefaultVariantKey(v.def);}}if((v.deleted&&v.deleted.length>0)||(v.renamed&&v.renamed.length>0)||(v.exe&&v.exe.length>0)||v.def){this._save();}this.fireEvent('manage',v);}};S.prototype.fireSelect=function(v,c){if(this._oPersoControl&&v&&v.key){this._triggerSelectVariant(v.key,c);}};S.prototype._selectVariant=function(v,c){this.fireSelect({key:v},c);};S.prototype._triggerSelectVariant=function(v,c){var o=this._getChangeContent(v);if(o){var s=JSON.stringify(o);o=JSON.parse(s);if((v===this.STANDARDVARIANTKEY)&&this.getExecuteOnSelectForStandardVariant()){o.executeOnSelection=this.getExecuteOnSelectForStandardVariant();}if(this.isPageVariant()){this._applyVariants(o,c);}else{this._applyVariant(this._oPersoControl,o,c);}}};S.prototype._applyControlWrapperVariants=function(c,o,s){var t=this;if(c){c.loaded.then(function(){t._applyControlVariant(c.control,o,s);});}};S.prototype._applyVariants=function(c,s){var i,d=this._getAllPersonalizableControls();for(i=0;i<d.length;i++){if(d[i]&&d[i].control&&d[i].loaded){this._applyControlWrapperVariants(d[i],c,s);}}};S.prototype._setStandardVariant=function(c){var o=c.control;if(o){if(o.fireBeforeVariantSave){o.fireBeforeVariantSave(a.STANDARD_NAME);}this._assignStandardVariant(c);}};S.prototype._retrieveContent=function(c,p){var r=c;if(this.isPageVariant()&&c){r=c[p];if(!r&&(p===this.getPersistencyKey())&&this._aPersonalizableControls&&this._aPersonalizableControls.length===1){r=c;}}return r;};S.prototype._assignContent=function(t,c,p){if(this.isPageVariant()){if(!((p===this.getPersistencyKey())&&this._aPersonalizableControls&&this._aPersonalizableControls.length===1)){t[p]=c;}else{t=c;}}else{t=c;}return t;};S.prototype._updateStandardVariant=function(c,o){if(c.control){var d=o;if(this.isPageVariant()){var p=this._getControlPersKey(c);if(p){d=this._retrieveContent(o,p);}}this._assignStandardVariantForControl(c,d);}};S.prototype._assignStandardVariant=function(c){var s=null;if(c.control){if(c.control.fetchVariant){s=c.control.fetchVariant();}this._assignStandardVariantForControl(c,s);}};S.prototype._assignStandardVariantForControl=function(c,s){var o=s;if(c){if(this.isPageVariant()){var p=this._getControlPersKey(c.control);if(p){if(!this._oStandardVariant){this._oStandardVariant={};}this._oStandardVariant=this._assignContent(this._oStandardVariant,o,p);}}else{this._oStandardVariant=o;}}};S.prototype.getStandardVariant=function(c){var p,o,d=null;if(this._oStandardVariant){if(!c){d=this._oStandardVariant;}else{if(this.isPageVariant()){o=this._getControlWrapper(c);if(o){p=this._getControlPersKey(c);if(p){d=this._retrieveContent(this._oStandardVariant,p);}}}else{if((c===this._oPersoControl)){d=this._oStandardVariant;}}}}return d;};S.prototype._applyVariant=function(c,o,s,i){if(c&&c.applyVariant){c.applyVariant(o,s,i);}};S.prototype._applyControlVariant=function(c,o,s,i){var d,p;p=this._getControlPersKey(c);if(p){d=this._retrieveContent(o,p);if(d){d.executeOnSelection=o.executeOnSelection;this._applyVariant(c,d,s,i);}}};S.prototype._setErrorValueState=function(t,L){this.setEnabled(false);if(L){q.sap.log.error(L);}};S.prototype.exit=function(){a.prototype.exit.apply(this,arguments);this._aPersonalizableControls=null;this._oControlPersistence=null;this._oControlPromise=null;this._oPersoControl=null;this._oAppStdContent=null;this._sAppStandardVariantKey=null;};return S;},true);\n",
	"sap/ui/comp/smartvariants/SmartVariantManagementUi2.js":"/*\n * ! SAP UI development toolkit for HTML5 (SAPUI5)\n\n(c) Copyright 2009-2016 SAP SE. All rights reserved\n */\nsap.ui.define(['jquery.sap.global','sap/ui/comp/library','./PersonalizableInfo','sap/ui/comp/variants/VariantItem','sap/ui/comp/variants/VariantManagement'],function(q,l,P,V,a){'use strict';var S=a.extend('sap.ui.comp.smartvariants.SmartVariantManagementUi2',{metadata:{library:'sap.ui.comp',aggregations:{personalizableControl:{type:'sap.ui.comp.smartvariants.PersonalizableInfo',multiple:false}},events:{initialise:{},afterSave:{}}},renderer:function(r,c){a.getMetadata().getRenderer().render(r,c);}});S.prototype.init=function(){a.prototype.init.apply(this);this._oStandardVariant=null;this._oPersController=null;this._sKeyName=null;this._oContainer=null;this._oVariantSet=null;if(this.setLifecycleSupport){this.setLifecycleSupport(false);}this._setBackwardCompatibility(false);};S.prototype.isPageVariant=function(){return false;};S.prototype.getVariantContent=function(c,k){var C=null;if(k===this.STANDARDVARIANTKEY){C=this._getStandardVariant();}else{if(this._oVariantSet){var v=this._oVariantSet.getVariant(k);if(v){C=this._getContent(v);}}}return C;};S.prototype.getCurrentVariantId=function(){var k='';var i=this._getSelectedItem();if(i){k=i.getKey();if(k===this.STANDARDVARIANTKEY){k='';}}return k;};S.prototype.setCurrentVariantId=function(v,d){var c;var i=v;if(!i){i=this.STANDARDVARIANTKEY;}else{if(!this.getItemByKey(i)){i=this.STANDARDVARIANTKEY;}}if(this._oVariantSet){c=this.getVariantContent(this._oPersController,i);if(c){this._setSelectionByKey(i);if(d!==true){this._applyVariantContent(c);}}}};S.prototype.addPersonalizableControl=function(c){this.setAggregation('personalizableControl',c,true);if(c.getControl()){this._oPersController=sap.ui.getCore().byId(c.getControl());}this._sKeyName=c.getKeyName();};S.prototype.initialise=function(){var c=this._getPersistencyKey();if(!c){q.sap.log.warning('PersistencyKey not set');this.fireEvent('initialise');return;}if(sap.ushell&&sap.ushell.Container){var t=this;sap.ushell.Container.getService('Personalization').getContainer(c,{validity:Infinity}).fail(function(){q.sap.log.error('Loading personalization container failed');t._setErrorValueState(t.oResourceBundle.getText('VARIANT_MANAGEMENT_READ_FAILED'));t.fireEvent('initialise');}).done(function(C){t._readPersonalization(C);t.fireEvent('initialise');t._setStandardVariant();t._setSelectedVariant();});return;}q.sap.log.error('Could not obtain the personalization container');this._setErrorValueState(this.oResourceBundle.getText('VARIANT_MANAGEMENT_READ_FAILED'));this.fireEvent('initialise');};S.prototype._setSelectedVariant=function(){var v=null;if(this._oVariantSet){var k=this.getSelectionKey();if(k){v=this._oVariantSet.getVariant(k);if(v){this._applyVariant(v);}}}};S.prototype._reCreateVariantEntries=function(){var n=null;var v=null;var o,b;this.removeAllItems();if(this._oVariantSet){var m=this._oVariantSet.getVariantNamesAndKeys();if(m){for(n in m){if(n){b=new V({text:n,key:m[n]});this.addVariantItem(b);}}v=this._oVariantSet.getCurrentVariantKey();o=this._oVariantSet.getVariant(v);if(o){this.setDefaultVariantKey(v);this.setInitialSelectionKey(v);}}}};S.prototype._getVariantSetAdapter=function(){var v=null;if(this._oContainer){v=new sap.ushell.services.Personalization.VariantSetAdapter(this._oContainer);}return v;};S.prototype._createVariantEntries=function(){var v=this._getVariantSetAdapter();if(v){this._oVariantSet=v.getVariantSet('filterBarVariantSet');if(this._oVariantSet){this._reCreateVariantEntries();}else{this._oVariantSet=v.addVariantSet('filterBarVariantSet');}}};S.prototype._readPersonalization=function(c){this._oContainer=c;if(this._oContainer){this._createVariantEntries();}};S.prototype._savePersonalizationContainer=function(){var t=this;if(this._oContainer){this._oContainer.save().fail(function(){q.sap.log.error('Saving personalization data failed');t._setErrorValueState(t.oResourceBundle.getText('VARIANT_MANAGEMENT_SAVE_FAILED'));}).done(function(){q.sap.log.info('Saving personalization data succeeded');t.fireEvent('afterSave');});}};S.prototype.fireSave=function(v){var o=null,n=null;var s;if(!this._oVariantSet){return;}if(v){if(v.overwrite){if(v.key){o=this._oVariantSet.getVariant(v.key);}}else{if(v.name){o=this._oVariantSet.addVariant(v.name);n=o;s=n.getVariantKey();this.replaceKey(v.key,s);this.setInitialSelectionKey(s);}}if(o){this.fireEvent('save',v);var b=this._fetchVariant();if(b){o.setItemValue('filterBarVariant',b.filterBarVariant);o.setItemValue('filterbar',b.filterbar);o.setItemValue('basicSearch','');if(b.basicSearch){o.setItemValue('basicSearch',b.basicSearch);}s=o.getVariantKey();if(v.def){if(s){this._oVariantSet.setCurrentVariantKey(s);}}else{var d=this._oVariantSet.getCurrentVariantKey();if(s===d){this._oVariantSet.setCurrentVariantKey(null);}}}this._savePersonalizationContainer();}}};S.prototype._setStandardVariant=function(){if(this._oPersController&&this._oPersController.fireBeforeVariantSave){this._oPersController.fireBeforeVariantSave(a.STANDARD_NAME);}this._oStandardVariant=this._fetchVariant();};S.prototype._getStandardVariant=function(){return this._oStandardVariant;};S.prototype.getStandardVariant=function(){return this._getStandardVariant();};S.prototype._setVariantName=function(v,s,n){var k;var f,F;if(this._oVariantSet){var N=this._oVariantSet.addVariant(n);f=v.getItemValue('filterBarVariant');N.setItemValue('filterBarVariant',f);F=v.getItemValue('filterbar');N.setItemValue('filterbar',F);k=this._oVariantSet.getCurrentVariantKey();if(k===s){this._oVariantSet.setCurrentVariantKey(N.getVariantKey());}this._oVariantSet.delVariant(s);k=N.getVariantKey();this.replaceKey(s,k);this.setInitialSelectionKey(k);}};S.prototype.fireManage=function(v){var i;var r=null,d=null;var o;if(!this._oVariantSet){return;}if(v){r=v.renamed;d=v.deleted;if(r){for(i=0;i<r.length;i++){o=this._oVariantSet.getVariant(r[i].key);if(o){if(o.setVariantName){o.setVariantName(r[i].name);}else{this._setVariantName(o,r[i].key,r[i].name);}}}}if(d){var s=this._oVariantSet.getCurrentVariantKey();for(i=0;i<d.length;i++){o=this._oVariantSet.getVariant(d[i]);if(o){if(s&&s===o.getVariantKey()){this._oVariantSet.setCurrentVariantKey(null);}this._oVariantSet.delVariant(d[i]);}}}if(v.def){o=this._oVariantSet.getVariant(v.def);if(o||(v.def===this.STANDARDVARIANTKEY)){this._oVariantSet.setCurrentVariantKey(v.def);}}if((d&&d.length>0)||(r&&r.length>0)||(v.def)){this._savePersonalizationContainer();}}};S.prototype.fireSelect=function(v){var o=null;if(v&&v.key){if(this._oVariantSet){if(v.key===this.STANDARDVARIANTKEY){o=this._getStandardVariant();}else{o=this._oVariantSet.getVariant(v.key);}}}if(o){this._applyVariant(o);}};S.prototype._getContent=function(v){var c=null;if(v){if(v.getItemValue){c={filterbar:v.getItemValue('filterbar'),filterBarVariant:v.getItemValue('filterBarVariant')};var b=v.getItemValue('basicSearch');if(b){c.basicSearch=b;}}else{c=v;}}return c;};S.prototype._applyVariant=function(v){var c=this._getContent(v);this._applyVariantContent(c);};S.prototype._applyVariantContent=function(c){if(c&&this._oPersController&&this._oPersController.applyVariant){this._oPersController.applyVariant(c);}};S.prototype._fetchVariant=function(){if(this._oPersController&&this._oPersController.fetchVariant){return this._oPersController.fetchVariant();}return null;};S.prototype._getPersistencyKey=function(){if(this._oPersController&&this._sKeyName){return this._oPersController.getProperty(this._sKeyName);}return null;};S.prototype._setErrorValueState=function(t){this.setEnabled(false);};S.prototype.exit=function(){a.prototype.exit.apply(this,arguments);this._oStandardVariant=null;this._oPersController=null;this._sKeyName=null;this._oContainer=null;this._oVariantSet=null;};return S;},true);\n",
	"sap/ui/comp/transport/TransportDialog.js":"/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n\n(c) Copyright 2009-2016 SAP SE. All rights reserved\n */\nsap.ui.define(['sap/ui/fl/transport/TransportDialog'],function(F){'use strict';var T=F.extend('sap.ui.comp.transport.TransportDialog');return T;},true);\n",
	"sap/ui/comp/transport/TransportSelection.js":"/*\n * SAP UI development toolkit for HTML5 (SAPUI5)\n\n(c) Copyright 2009-2016 SAP SE. All rights reserved\n */\nsap.ui.define(['sap/ui/fl/transport/TransportSelection'],function(F){'use strict';return F;},true);\n",
	"sap/ui/comp/util/FormatUtil.js":"/*\n * ! SAP UI development toolkit for HTML5 (SAPUI5)\n\n(c) Copyright 2009-2016 SAP SE. All rights reserved\n */\nsap.ui.define(['jquery.sap.global','sap/ui/model/FilterOperator','sap/ui/core/format/NumberFormat'],function(q,F,N){'use strict';var a={getFormattedExpressionFromDisplayBehaviour:function(d,i,D){var t=this.getTextsFromDisplayBehaviour(d,i,D);return t.secondText?t.firstText+' ('+t.secondText+')':t.firstText;},getTextsFromDisplayBehaviour:function(d,i,D){if(!i){return{firstText:D?D:'',secondText:undefined};}switch(d){case'descriptionAndId':return{firstText:D?D:i,secondText:D?i:undefined};case'idAndDescription':return{firstText:i,secondText:D?D:undefined};case'descriptionOnly':return{firstText:D?D:i,secondText:undefined};default:return{firstText:i,secondText:undefined};}},getFormattedBindingExpressionFromDisplayBehaviour:function(d,i,D){return a.getFormattedExpressionFromDisplayBehaviour(d,'{'+i+'}','{'+D+'}');},getFormattedRangeText:function(o,v,V,e){var t;if(v){switch(o){case F.EQ:t='='+v;break;case F.GT:t='>'+v;break;case F.GE:t='>='+v;break;case F.LT:t='<'+v;break;case F.LE:t='<='+v;break;case F.Contains:t='*'+v+'*';break;case F.StartsWith:t=v+'*';break;case F.EndsWith:t='*'+v;break;case F.BT:if(V){t=v+'...'+V;}break;default:t='';break;}}if(e&&t){t='!('+t+')';}return t;},_initialiseCurrencyFormatter:function(){if(!a._oCurrencyFormatter){a._oCurrencyFormatter=N.getCurrencyInstance({showMeasure:false});}if(!a._MAX_CURRENCY_DIGITS){a._MAX_CURRENCY_DIGITS=3;}a._initialiseSpaceChars();},_initialiseSpaceChars:function(){if(!a._FIGURE_SPACE||!a._PUNCTUATION_SPACE){a._FIGURE_SPACE='\\u2007';a._PUNCTUATION_SPACE='\\u2008';}},getAmountCurrencyFormatter:function(){a._initialiseCurrencyFormatter();if(!a._fAmountCurrencyFormatter){a._fAmountCurrencyFormatter=function(A,c){var v,C,p;if(A===undefined||A===null||c==='*'){return'';}v=a._oCurrencyFormatter.format(A,c);C=a._oCurrencyFormatter.oLocaleData.getCurrencyDigits(c);if(C===0){v+=a._PUNCTUATION_SPACE;}p=a._MAX_CURRENCY_DIGITS-C;if(p){v=q.sap.padRight(v,a._FIGURE_SPACE,v.length+p);}return v;};}return a._fAmountCurrencyFormatter;},getCurrencySymbolFormatter:function(){a._initialiseCurrencyFormatter();if(!a._fCurrencySymbolFormatter){a._fCurrencySymbolFormatter=function(c){if(!c||c==='*'){return'';}return a._oCurrencyFormatter.oLocaleData.getCurrencySymbol(c);};}return a._fCurrencySymbolFormatter;},getMeasureUnitFormatter:function(){a._initialiseSpaceChars();if(!a._fMeasureFormatter){a._fMeasureFormatter=function(v,u){if(v===undefined||v===null||u==='*'){return'';}return v+a._FIGURE_SPACE;};}return a._fMeasureFormatter;},getInlineMeasureUnitFormatter:function(){a._initialiseSpaceChars();if(!a._fInlineMeasureFormatter){a._fInlineMeasureFormatter=function(v,u){if(v===undefined||v===null||u==='*'){return'';}if(!u){return v;}return v+a._FIGURE_SPACE+u;};}return a._fInlineMeasureFormatter;},getEdmTimeFromDate:function(d){if(!a._oTimeFormat){q.sap.require('sap.ui.core.format.DateFormat');a._oTimeFormat=sap.ui.core.format.DateFormat.getTimeInstance({pattern:\"'PT'HH'H'mm'M'ss'S'\"});}return a._oTimeFormat.format(d);},getWidth:function(f,m,M){var w=f.maxLength||f.precision,W;if(!m){m=30;}if(!M){M=3;}if(f.type==='Edm.DateTime'&&f.displayFormat==='Date'){w='9em';}else if(w){if(w==='Max'){w=m+'';}W=parseInt(w,10);if(!isNaN(W)){W+=0.75;if(W>m){W=m;}else if(W<M){W=M;}w=W+'em';}else{w=null;}}if(!w){if(f.type==='Edm.Boolean'){w=M+'em';}else{w=m+'em';}}return w;}};return a;},true);\n",
	"sap/ui/comp/util/FullScreenUtil.js":"/*\n * ! SAP UI development toolkit for HTML5 (SAPUI5)\n\n(c) Copyright 2009-2016 SAP SE. All rights reserved\n */\nsap.ui.define(['jquery.sap.global','sap/m/Dialog','sap/ui/core/HTML'],function(q,D,H){'use strict';var F={toggleFullScreen:function(c,e,f){if(e){c._$content=c.$();if(c._$content){if(!c._oHTML){c._oHTML=new H();}if(!c._oFullScreenDialog){c._oFullScreenDialog=new D({showHeader:false,stretch:true,content:[c._oHTML]});if(f){c._oFullScreenDialog.attachAfterOpen(function(){f.focus();});c._oFullScreenDialog.attachAfterClose(function(){f.focus();});}c._oFullScreenDialog.addStyleClass(c._$content.closest('.sapUiSizeCompact').length?'sapUiSizeCompact':'');c._oFullScreenDialog.addStyleClass('sapUiCompSmartFullScreenDialog');if(c._oFullScreenDialog.oPopup){c._oFullScreenDialog.oPopup.onsapescape=null;}}c._$placeHolder=q(document.createElement('div'));c._$content.before(c._$placeHolder);c._oHTML.setDOMContent(c._$content);}c._oFullScreenDialog.open();}else if(c._$placeHolder&&c._$content){c._$placeHolder.replaceWith(c._$content);if(c._oFullScreenDialog){c._oFullScreenDialog.close();}c._$placeHolder=null;c._$content=null;}},cleanUpFullScreen:function(c){if(c._oFullScreenDialog){c._oFullScreenDialog.destroy();c._oFullScreenDialog=null;}c._$placeHolder=null;c._$content=null;c._oHTML=null;}};return F;},true);\n",
	"sap/ui/comp/util/IdentifierUtil.js":"/*\n * ! SAP UI development toolkit for HTML5 (SAPUI5)\n\n(c) Copyright 2009-2016 SAP SE. All rights reserved\n */\nsap.ui.define(['jquery.sap.global','sap/ui/base/DataType'],function(q,D){'use strict';var I={replace:function(n){var t=D.getType('sap.ui.core.ID');if(!t.isValid(n)){n=n.replace(/[^A-Za-z0-9_.:]+/g,'_');if(!t.isValid(n)){n='A_'+n;}}return n;}};return I;},true);\n",
	"sap/ui/comp/valuehelpdialog/ItemsCollection.js":"/*\n * ! SAP UI development toolkit for HTML5 (SAPUI5)\n\n(c) Copyright 2009-2016 SAP SE. All rights reserved\n */\nsap.ui.define(['jquery.sap.global','sap/ui/comp/util/FormatUtil'],function(q,F){'use strict';var I=function(){this.items={};};I.prototype.add=function(k,o){this.items[k]=o;};I.prototype.remove=function(k){delete this.items[k];};I.prototype.removeAll=function(){this.items={};};I.prototype.getItem=function(k){return this.items[k];};I.prototype.getItems=function(){var k=[];for(var i in this.items){k.push(i);}return k;};I.prototype.getSelectedItemsTokenArray=function(k,d,D){var t=[];for(var i in this.items){var o=this.items[i];var T,s;if(typeof o==='string'){s=i;T=o;}else{s=o[k];T=o[d];if(T===undefined){T=this.items[i];}else{if(!D){D='descriptionAndId';}T=F.getFormattedExpressionFromDisplayBehaviour(D,s,T);}}var a=new sap.m.Token({key:s,text:T,tooltip:T});if(typeof o!=='string'){a.data('row',o);a.data('longKey',i);}t.push(a);}return t;};I.prototype.getModelData=function(){var m=[];for(var i in this.items){var a=this.items[i];if(typeof a==='string'){a={missing:i};}m.push(a);}return m;};return I;},true);\n",
	"sap/ui/comp/valuehelpdialog/ValueHelpDialog.js":"/*\n * ! SAP UI development toolkit for HTML5 (SAPUI5)\n\n(c) Copyright 2009-2016 SAP SE. All rights reserved\n */\nsap.ui.define(['jquery.sap.global','sap/m/Dialog','sap/m/MessageBox','sap/m/MultiInput','sap/m/Token','sap/ui/comp/library','./ItemsCollection','sap/ui/core/Control','sap/ui/core/format/DateFormat','sap/ui/core/format/NumberFormat','sap/m/VBox','sap/m/HBox','sap/m/ButtonType','sap/ui/comp/util/FormatUtil','sap/m/DialogRenderer'],function(q,D,M,a,T,l,I,C,b,N,V,H,B,F,c){'use strict';var d=D.extend('sap.ui.comp.valuehelpdialog.ValueHelpDialog',{metadata:{library:'sap.ui.comp',properties:{basicSearchText:{type:'string',group:'Misc',defaultValue:null},supportMultiselect:{type:'boolean',group:'Misc',defaultValue:true},supportRanges:{type:'boolean',group:'Misc',defaultValue:false},supportRangesOnly:{type:'boolean',group:'Misc',defaultValue:false},key:{type:'string',group:'Misc',defaultValue:null},keys:{type:'string[]',group:'Misc',defaultValue:null},descriptionKey:{type:'string',group:'Misc',defaultValue:null},maxIncludeRanges:{type:'string',group:'Misc',defaultValue:'-1'},maxExcludeRanges:{type:'string',group:'Misc',defaultValue:'-1'},displayFormat:{type:'string',group:'Misc',defaultValue:null},tokenDisplayBehaviour:{type:'string',group:'Misc',defaultValue:null},filterMode:{type:'boolean',group:'Misc',defaultValue:false}},aggregations:{filterBar:{type:'sap.ui.comp.filterbar.FilterBar',multiple:false}},events:{ok:{parameters:{tokens:{type:'sap.m.Token[]'}}},cancel:{},selectionChange:{parameters:{tableSelectionParams:{type:'object'},updateTokens:{type:'object[]'},useDefault:{type:'boolean',defaultValue:false}}},tokenRemove:{parameters:{tokenKeys:{type:'string[]'},useDefault:{type:'boolean',defaultValue:false}}},updateSelection:{parameters:{tokenKeys:{type:'string[]'},useDefault:{type:'boolean',defaultValue:false}}}}},renderer:c.render});d.prototype.setSupportMultiselect=function(e){this.setProperty('supportMultiselect',e);this._updatePropertySupportMultiselect(e);this._oTokenizerGrid.setVisible(e);this._oButtonOk.setVisible(e);return this;};d.prototype._updatePropertySupportMultiselect=function(e){if(!this._oTable){return;}if(!this._isPhone()){if(this._oTable.setSelectionMode){this._oTable.setSelectionMode(e?sap.ui.table.SelectionMode.MultiToggle:sap.ui.table.SelectionMode.Single);}}else{if(this._oTable.setMode){this._oTable.setMode(e?sap.m.ListMode.MultiSelect:sap.m.ListMode.SingleSelectLeft);}}return this;};d.prototype.setSupportRanges=function(e){this.setProperty('supportRanges',e);this._updateNavigationControl();return this;};d.prototype.setSupportRangesOnly=function(e){this.setProperty('supportRangesOnly',e);this._updateNavigationControl();return this;};d.prototype.setTitle=function(t){this.setProperty('title',t);this._updateDlgTitle();};d.prototype.setFilterBar=function(o){this.setAggregation('filterBar',o);if(this._oMainLayout&&o){if(this._isPhone()){if(this._oFilterBar){this._oVBox.removeItem(this._oFilterBar);this._oFilterBar.detachInitialise(this._handleFilterBarInitialize);}}else{if(this._oFilterBar){this._oMainLayout.removeItem(this._oFilterBar);this._oFilterBar.detachInitialise(this._handleFilterBarInitialize);}}this._oFilterBar=o;this._oFilterBar.attachInitialise(this._handleFilterBarInitialize,this);if(this._oFilterBar){this._oFilterBar.addStyleClass('compVHSearch');if(this._isPhone()){var s=sap.ui.getCore().byId(this._oFilterBar.getBasicSearch());if(s instanceof sap.m.SearchField){s.setShowSearchButton(true);s.attachSearch(q.proxy(function(E){if(E.mParameters.refreshButtonPressed!==undefined){this.getFilterBar().search();}},this));}this._oFilterBar.setShowGoOnFB(false);this._oColSearchBox.setLayoutData(new sap.m.FlexItemData({shrinkFactor:0}));this._oVBox.insertItem(this._oColSearchBox,0);this._oFilterBar.setLayoutData(new sap.m.FlexItemData({shrinkFactor:0}));this._oVBox.insertItem(this._oFilterBar,1);this._oFilterBar.attachSearch(q.proxy(function(E){this._updateView(sap.ui.comp.valuehelpdialog._ValueHelpViewMode.PHONE_LIST_VIEW);},this));if(this._currentViewMode===sap.ui.comp.valuehelpdialog._ValueHelpViewMode.PHONE_LIST_VIEW){this._oFilterBar.setVisible(true);this._oFilterBar.setFilterBarExpanded(false);this._handleFilterBarInitialize();}}else{this._oFilterBar._setCollectiveSearch(this._oColSearchBox);this._oMainLayout.insertItem(this._oFilterBar,0);}}if(this._oFilterBar._oBasicSearchField){var e=this._oFilterBar._oBasicSearchField;e.setValue(this.getBasicSearchText());this.setInitialFocus(e);}}};d.prototype._handleFilterBarInitialize=function(){if(this._currentViewMode===sap.ui.comp.valuehelpdialog._ValueHelpViewMode.PHONE_LIST_VIEW){this._oFilterBar._handleVisibilityOfToolbar();var s=this._oFilterBar&&this._oFilterBar.getFilterGroupItems()&&this._oFilterBar.getFilterGroupItems().length>0;this._oAdvancedSearchLink.setVisible(s);this._oFilterBar.setShowGoButton(!(this._oFilterBar&&this._oFilterBar.getBasicSearch()));}};d.prototype.getFilterBar=function(){return this._oFilterBar;};d.prototype.setBasicSearchText=function(t){this.setProperty('basicSearchText',t);if(this._oFilterBar&&this._oFilterBar._oBasicSearchField){this._oFilterBar._oBasicSearchField.setValue(t);}};d.prototype.setTokens=function(t){if(t.length){var n=0,k;for(var i=0;i<t.length;i++){var e=t[i];if(e.data('range')){var r=e.data('range');k=e.getKey();if(!k){k='range_'+n;n++;}var f=this._getFormatedRangeTokenText(r.operation,r.value1,r.value2,r.exclude,r.keyField);this._addToken2Tokenizer(k,f,r.exclude?this._oExcludedTokens:this._oSelectedTokens);this._oSelectedRanges[k]=r;}else{k=e.getKey();var s=e.getText();var L=e.data('longKey');var R=e.data('row');if(!L){L=k;}this._oSelectedItems.add(L,R?R:e.getText());this._oSelectedTokens.addToken(new T({key:L,text:s,tooltip:s}));}}}else{this._oSelectedItems.removeAll();this._oSelectedRanges={};}};d.prototype.open=function(){this.bCollectiveSearchActive=this.oSelectionTitle.getVisible()&&this.oSelectionButton.getVisible();if(this._oColSearchBox){this._oColSearchBox.setVisible(this.bCollectiveSearchActive);}if(!this._isPhone()){if(this.getSupportRangesOnly()||this.getFilterMode()){this._updateView(sap.ui.comp.valuehelpdialog._ValueHelpViewMode.DESKTOP_CONDITIONS_VIEW);}else{if(!this._oTable){this._createDefaultTable();}}this.setContentWidth(this._getDefaultContentWidth());}else{if(!this._oTable){this._createDefaultTable();}this._updateView(sap.ui.comp.valuehelpdialog._ValueHelpViewMode.PHONE_MAIN_VIEW);}D.prototype.open.apply(this);};d.prototype.getTable=function(){if(!this._oTable){this._createDefaultTable();}return this._oTable;};d.prototype.setTable=function(t){if(this._oTable){this._oMainLayout.removeItem(this._oTable);}this._bTableCreatedInternal=(arguments.length>1)&&(arguments[1]==true);if(t instanceof sap.ui.comp.smarttable.SmartTable){this._oTable=t.getTable();}else{this._oTable=t;}this._oTable.setLayoutData(new sap.m.FlexItemData({shrinkFactor:0,growFactor:1}));this.theTable=this._oTable;this._initializeTable();this._oMainLayout.addItem(t);};d.prototype._getDefaultContentWidth=function(){var n=0;if(this._oTable){n=this._oTable.getColumns().length;}var e=Math.max(1080,n*130);return e+'px';};d.prototype.resetTableState=function(){if(this._oTable){if(this._oTable.unbindRows){this._oTable.unbindRows();}this._updateNoDataText(this._oRb.getText('VALUEHELPDLG_TABLE_PRESSSEARCH'));}};d.prototype.TableStateSearchData=function(){this._updateNoDataText(this._oRb.getText('VALUEHELPDLG_TABLE_PRESSSEARCH'));};d.prototype._updateNoDataText=function(n){if(this._oTable){if(this._oTable.setNoData){this._oTable.setNoData(n);}else if(this._oTable.setNoDataText){this._oTable.setNoDataText(n);}}};d.prototype.TableStateDataFilled=function(){this._updateNoDataText(this._oRb.getText('VALUEHELPDLG_TABLE_NODATA'));};d.prototype.TableStateDataSearching=function(){this._updateNoDataText(this._oRb.getText('VALUEHELPDLG_TABLE_SEARCHING'));};d.prototype.init=function(){D.prototype.init.apply(this);this._bTableCreatedInternal=false;this._aIncludeRangeOperations={};this._aExcludeRangeOperations={};this.setStretch(this._isPhone());this.setResizable(!this._isPhone());this.setDraggable(!this._isPhone());this.bCollectiveSearchActive=false;this.addStyleClass('compValueHelpDialog');this._oRb=sap.ui.getCore().getLibraryResourceBundle('sap.ui.comp');this._sTableTitle1=this._oRb.getText('VALUEHELPDLG_TABLETITLE1');this._sTableTitle2=this._oRb.getText('VALUEHELPDLG_TABLETITLE2');this._sTableTitleNoCount=this._oRb.getText('VALUEHELPDLG_TABLETITLENOCOUNT');this._currentViewMode=null;this._oSelectedItems=new I();this._oSelectedRanges={};this._createHeaderBar();this._createCollectiveSearch();this._createTokenizer();this._updateTokenizer();this._oVBox=new V({fitContainer:true});this.addContent(this._oVBox);this._oMainLayout=new V({fitContainer:true,items:[this._oFilterBar],layoutData:new sap.m.FlexItemData({growFactor:1,shrinkFactor:0})});this._createNavigationControl();this._updateNavigationControl();this._oVBox.addItem(this._oMainLayout);if(this.getMaxIncludeRanges()==='-1'&&this.getMaxExcludeRanges()!=='0'&&!this.getFilterMode()){this._oVBox.addItem(this._oTokenizerGrid);}this._createFooterControls();this.setVerticalScrolling(false);this.setHorizontalScrolling(false);if(!sap.ui.Device.system.desktop){this._oVBox.attachBrowserEvent('touchmove',function(e){e.setMarked();});}if(!this._isPhone()){this._updateView(sap.ui.comp.valuehelpdialog._ValueHelpViewMode.DESKTOP_LIST_VIEW);}};d.prototype._updateView=function(n){if(this._currentViewMode===n){return;}switch(n){case sap.ui.comp.valuehelpdialog._ValueHelpViewMode.DESKTOP_LIST_VIEW:this._validateRanges(q.proxy(function(){this._oTokenizerGrid.setVisible(this.getSupportMultiselect());this._oMainLayout.removeAllItems();if(this._oTabBar&&this._oTabBar.getSelectedKey()!==sap.ui.comp.valuehelpdialog._ValueHelpViewMode.DESKTOP_LIST_VIEW){this._oTabBar.setSelectedKey(sap.ui.comp.valuehelpdialog._ValueHelpViewMode.DESKTOP_LIST_VIEW);}this._oMainLayout.addItem(this._oFilterBar);this._oMainLayout.addItem(this._oTable);this._updateDlgTitle();},this),q.proxy(function(){this._oTabBar.setSelectedKey(sap.ui.comp.valuehelpdialog._ValueHelpViewMode.DESKTOP_CONDITIONS_VIEW);this._updateView(sap.ui.comp.valuehelpdialog._ValueHelpViewMode.DESKTOP_CONDITIONS_VIEW);},this));break;case sap.ui.comp.valuehelpdialog._ValueHelpViewMode.DESKTOP_CONDITIONS_VIEW:if(this.getSupportRanges()){this.bCollectiveSearchActive=this.oSelectionTitle.getVisible()&&this.oSelectionButton.getVisible();this._oMainLayout.removeAllItems();if(this._oTabBar&&this._oTabBar.getSelectedKey()!==sap.ui.comp.valuehelpdialog._ValueHelpViewMode.DESKTOP_CONDITIONS_VIEW){this._oTabBar.setSelectedKey(sap.ui.comp.valuehelpdialog._ValueHelpViewMode.DESKTOP_CONDITIONS_VIEW);}this._oMainLayout.addItem(this._getRanges());this._oButtonOk.setVisible(this.getSupportRangesOnly()||this.getSupportMultiselect());this._oTokenizerGrid.setVisible(this.getSupportMultiselect());if(!(this.getMaxIncludeRanges()==='-1'&&this.getMaxExcludeRanges()!=='0'&&!this.getFilterMode())){this._oTokenizerGrid.setVisible(false);}}break;case sap.ui.comp.valuehelpdialog._ValueHelpViewMode.PHONE_MAIN_VIEW:this.setVerticalScrolling(false);this._oColSearchBox.setVisible(false);this._oMainListMenu.setVisible(true);this._updateNavigationControl();this._oAdvancedSearchLink.setVisible(false);if(this._oFilterBar){this._oFilterBar.setVisible(false);this._oFilterBar.setFilterBarExpanded(false);}this._oTable.setVisible(false);this._oTokenizerGrid.setVisible(this.getSupportMultiselect());if(!(this.getMaxIncludeRanges()==='-1'&&this.getMaxExcludeRanges()!=='0'&&!this.getFilterMode())){this._oTokenizerGrid.setVisible(false);}if(this._oRanges){this._oRanges.setVisible(false);}this._oButtonGo.setVisible(false);this._oButtonClear.setVisible(false);this._oButtonOk.setVisible(true);this._oButtonCancel.setVisible(true);this._oBackButton.setVisible(false);this._bNoneMainView=false;if(!this._oTokenizerGrid.getVisible()&&!(this._oSelectItemLI.getVisible()&&this._oDefineConditionsLI.getVisible())){this._bNoneMainView=true;if(this._oSelectItemLI.getVisible()){this._updateView(sap.ui.comp.valuehelpdialog._ValueHelpViewMode.PHONE_LIST_VIEW);}if(this._oDefineConditionsLI.getVisible()){this._updateView(sap.ui.comp.valuehelpdialog._ValueHelpViewMode.PHONE_CONDITIONS_VIEW);}return;}break;case sap.ui.comp.valuehelpdialog._ValueHelpViewMode.PHONE_LIST_VIEW:this.setVerticalScrolling(true);this._oColSearchBox.setVisible(this.bCollectiveSearchActive);this._oMainListMenu.setVisible(false);if(this._oFilterBar){var s=this._oFilterBar&&this._oFilterBar.getFilterGroupItems()&&this._oFilterBar.getFilterGroupItems().length>0;this._oAdvancedSearchLink.setVisible(s);this._oFilterBar.setShowGoButton(!(this._oFilterBar&&this._oFilterBar.getBasicSearch()));this._oFilterBar.setVisible(true);this._oFilterBar.setFilterBarExpanded(false);}this._oTable.setVisible(true);this._oTokenizerGrid.setVisible(false);if(this._oRanges){this._oRanges.setVisible(false);}this._oButtonGo.setVisible(false);this._oButtonClear.setVisible(false);this._oButtonOk.setVisible(this.getSupportMultiselect());this._oButtonCancel.setVisible(true);this._oBackButton.setVisible(!this._bNoneMainView);break;case sap.ui.comp.valuehelpdialog._ValueHelpViewMode.PHONE_SEARCH_VIEW:this.setVerticalScrolling(true);this._oColSearchBox.setVisible(false);this._oMainListMenu.setVisible(false);if(this._oFilterBar){this._oFilterBar.setVisible(true);this._oFilterBar.setFilterBarExpanded(true);}this._oAdvancedSearchLink.setVisible(false);this._oTable.setVisible(false);this._oTokenizerGrid.setVisible(false);if(this._oRanges){this._oRanges.setVisible(false);}this._oButtonGo.setVisible(true);this._oButtonClear.setVisible(true);this._oButtonOk.setVisible(false);this._oButtonCancel.setVisible(true);this._oBackButton.setVisible(true);break;case sap.ui.comp.valuehelpdialog._ValueHelpViewMode.PHONE_CONDITIONS_VIEW:this.setVerticalScrolling(true);this._oColSearchBox.setVisible(false);this._oMainListMenu.setVisible(false);if(this._oFilterBar){this._oFilterBar.setVisible(false);}this._oAdvancedSearchLink.setVisible(false);this._oTable.setVisible(false);this._oTokenizerGrid.setVisible(false);if(!this._oRanges){this._oMainLayout.addItem(this._getRanges());}this._oRanges.setVisible(true);this._oButtonGo.setVisible(false);this._oButtonClear.setVisible(false);this._oButtonOk.setVisible(true);this._oButtonCancel.setVisible(true);this._oBackButton.setVisible(!this._bNoneMainView);break;default:break;}if(this._oMainListMenu&&this._oVBox){if(this._oFilterBar){this._oFilterBar._handleVisibilityOfToolbar();}this._oVBox.rerender();}this._currentViewMode=n;this._updateDlgTitle();};d.prototype._changeTableRowSelectionForKey=function(k,s){var i;var t=this._oTable;this._bIgnoreSelectionChange=true;if(sap.ui.table.Table&&t instanceof sap.ui.table.Table){var r=t.getBinding('rows');if(r){if(r.aKeys){for(i=0;i<r.aKeys.length;i++){if(r.aKeys[i]===k){if(s){t.addSelectionInterval(i,i);}else{t.removeSelectionInterval(i,i);}break;}}}else{this.oRows=t.getBinding('rows');if(this.oRows.aIndices){for(i=0;i<this.oRows.aIndices.length;i++){var o=t.getContextByIndex(this.oRows.aIndices[i]);if(o){var R=o.getObject();if(R[this.getKey()]===k){if(s){t.addSelectionInterval(i,i);}else{t.removeSelectionInterval(i,i);}break;}}}}}}}else{for(i=0;i<t.getItems().length;i++){var e=t.getItems()[i];var f=e.getBindingContext().getObject();if(f[this.getKey()]===k){t.setSelectedItem(e,s);break;}}}this._bIgnoreSelectionChange=false;};d.prototype.update=function(){var i,j,r,o;var e=this._oSelectedItems.getItems();var f={tokenKeys:e,useDefault:false};this._bIgnoreSelectionChange=true;if(this._hasListeners('updateSelection')){this.fireUpdateSelection(f);}else{f.useDefault=true;}if(f.useDefault){if(sap.ui.table.Table&&this._oTable instanceof sap.ui.table.Table){this.oRows=this._oTable.getBinding('rows');this._oTable.clearSelection();if(this.oRows.aKeys){var k=this.getKeys();var R=k&&k.length>1?this.getKey()+'=':'';for(j=0;j<e.length;j++){var K=e[j];var s=R+\"'\"+K+\"'\";for(i=0;i<this.oRows.aKeys.length;i++){var g=this.oRows.aKeys[i];var h=g===K;if(h||g.indexOf(s)>=0){if(!h){this._oSelectedItems.remove(K);var t=this._getTokenByKey(K,this._oSelectedTokens);if(t){t.setKey(g);}}o=this._oTable.getContextByIndex(i);if(o){r=o.getObject();this._oSelectedItems.add(g,r);}this._oTable.addSelectionInterval(i,i);break;}}}}else{if(this.oRows.aIndices){this._oTable.clearSelection();for(j=0;j<e.length;j++){var m=e[j];for(i=0;i<this.oRows.aIndices.length;i++){o=this._oTable.getContextByIndex(this.oRows.aIndices[i]);if(o){r=o.getObject();if(r[this.getKey()]===m){this._oSelectedItems.add(r[this.getKey()],r);this._oTable.addSelectionInterval(i,i);break;}}}}}}}else{var n=this._oTable;for(j=0;j<e.length;j++){var K=e[j];for(i=0;i<n.getItems().length;i++){var p=n.getItems()[i];var u=p.getBindingContext().getObject();if(u[this.getKey()]===K){n.setSelectedItem(p,true);break;}}}}}this._bIgnoreSelectionChange=false;this._updateTitles();};d.prototype._createHeaderBar=function(){this._oTitle=new sap.m.Title();var o=null;if(this._isPhone()){o=new sap.m.Button({visible:false,type:B.Back,press:q.proxy(function(e){if(this._currentViewMode===sap.ui.comp.valuehelpdialog._ValueHelpViewMode.PHONE_SEARCH_VIEW){this._updateView(sap.ui.comp.valuehelpdialog._ValueHelpViewMode.PHONE_LIST_VIEW);}else{this._updateView(sap.ui.comp.valuehelpdialog._ValueHelpViewMode.PHONE_MAIN_VIEW);}},this)});this._oBackButton=o;}this.setCustomHeader(new sap.m.Bar({contentLeft:o,contentMiddle:this._oTitle}));};d.prototype._createCollectiveSearch=function(){this.oSelectionTitle=new sap.m.Text({visible:false,wrapping:false}).addStyleClass('compVHColSearchText');this.oSelectionButton=new sap.m.Button({icon:'sap-icon://arrow-down',tooltip:this._oRb.getText('VALUEHELPVALDLG_SEARCHTEMPLATES_TOOLTIP'),type:sap.m.ButtonType.Transparent,visible:false,ariaLabelledBy:this.oSelectionTitle}).addStyleClass('compVHColSearchBtn');this._oColSearchBox=new H({fitContainer:true,visible:this.oSelectionButton.getVisible(),items:[this.oSelectionTitle,this.oSelectionButton]});};d.prototype._createFooterControls=function(){this._oButtonOk=new sap.m.Button({text:this._oRb.getText('VALUEHELPDLG_OK'),press:q.proxy(this._onCloseAndTakeOverValues,this),visible:this.getSupportMultiselect(),layoutData:new sap.m.OverflowToolbarLayoutData({priority:sap.m.OverflowToolbarPriority.NeverOverflow})});this._oButtonCancel=new sap.m.Button({text:this._oRb.getText('VALUEHELPDLG_CANCEL'),press:q.proxy(this._onCancel,this),layoutData:new sap.m.OverflowToolbarLayoutData({priority:sap.m.OverflowToolbarPriority.NeverOverflow})});if(this._isPhone()){this._oButtonGo=new sap.m.Button({text:this._oRb.getText('VALUEHELPDLG_GO'),type:sap.m.ButtonType.Emphasized,press:q.proxy(this._onGo,this),visible:false,layoutData:new sap.m.OverflowToolbarLayoutData({priority:sap.m.OverflowToolbarPriority.NeverOverflow})});this._oButtonClear=new sap.m.Button({text:this._oRb.getText('VALUEHELPDLG_CLEAR'),press:q.proxy(this._onClear,this),visible:false,layoutData:new sap.m.OverflowToolbarLayoutData({priority:sap.m.OverflowToolbarPriority.NeverOverflow})});this.addButton(this._oButtonGo);this.addButton(this._oButtonClear);}this.addButton(this._oButtonOk);this.addButton(this._oButtonCancel);};d.prototype._createTokenizer=function(){if(this._oTokenizerGrid){return this._oTokenizerGrid;}this._oSelectedTokenTitle=new sap.ui.core.InvisibleText();this._oSelectedTokens=new sap.m.Tokenizer({tokenChange:q.proxy(function(e){if(this._ignoreRemoveToken){return;}if(e.getParameter('type')===sap.m.MultiInput.TokenChangeType.TokensChanged){var r=e.getParameter('removedTokens');var t=[];var R=[];for(var j=0;j<r.length;j++){var f=r[j];var k=f.getKey();if(this._oSelectedRanges&&this._oSelectedRanges[k]){R.push(k);}else{t.push(k);this._oSelectedItems.remove(k);this._removeTokenFromTokenizer(k,this._oSelectedTokens);}}this._removeRangeByKey(R,false);this._updateTitles();var g={tokenKeys:t,useDefault:false};if(this._hasListeners('tokenRemove')){this._bIgnoreSelectionChange=true;this.fireTokenRemove(g);this._bIgnoreSelectionChange=false;}else{g.useDefault=true;}if(g.useDefault){t.forEach(q.proxy(function(s){this._changeTableRowSelectionForKey(s,false);},this));}if(r.length===1){setTimeout(q.proxy(function(){if(this._oSelectedTokens.getTokens()){var i=this._oSelectedTokens.getTokens().length-1;if(i>=0){this._oSelectedTokens.getTokens()[i].focus();}}},this));}this._updateTitles();}},this),ariaLabelledBy:this._oSelectedTokenTitle}).addStyleClass('compVHTokensDiv');this._oRemoveAllSelectedItemsBtn=new sap.m.Button({type:sap.m.ButtonType.Transparent,icon:sap.ui.core.IconPool.getIconURI('sys-cancel'),tooltip:this._oRb.getText('VALUEHELPVALDLG_REMOVETOKENS_TOOLTIP'),press:q.proxy(function(){this._oSelectedTokens.destroyTokens();this._removeRangeByKey(Object.keys(this._oSelectedRanges),false);this._oSelectedItems.removeAll();this._bIgnoreSelectionChange=true;if(this._oTable&&this._oTable.clearSelection){this._oTable.clearSelection();}if(this._oTable&&this._oTable.removeSelections){this._oTable.removeSelections();}this._bIgnoreSelectionChange=false;this._updateTitles();},this),ariaLabelledBy:this._oSelectedTokenTitle}).addStyleClass('compVHRemoveAllBtn');var h=new sap.ui.layout.HorizontalLayout({content:[this._oSelectedTokens,this._oRemoveAllSelectedItemsBtn]}).addStyleClass('compVHTokenizerHLayout');this._oIncludeTokenGrid=new sap.ui.layout.Grid({width:'100%',defaultSpan:'L12 M12 S12',hSpacing:0,vSpacing:0,content:[this._oSelectedTokenTitle,h]});this._oExcludedTokenTitle=new sap.m.Text().addStyleClass('compVHSelectedItemsText');this._oExcludedTokens=new sap.m.Tokenizer({tokenChange:q.proxy(function(e){if(this._ignoreRemoveToken){return;}if(e.getParameter('type')===sap.m.MultiInput.TokenChangeType.TokensChanged){var r=e.getParameter('removedTokens');var t=[];for(var j=0;j<r.length;j++){var f=r[j];var k=f.getKey();if(this._oSelectedRanges&&this._oSelectedRanges[k]){t.push(k);}}this._removeRangeByKey(t,true);this._updateTitles();}},this),ariaLabelledBy:this._oExcludedTokenTitle}).addStyleClass('compVHTokensDiv');this._oRemoveAllExcludeItemsBtn=new sap.m.Button({type:sap.m.ButtonType.Transparent,icon:sap.ui.core.IconPool.getIconURI('sys-cancel'),tooltip:this._oRb.getText('VALUEHELPVALDLG_REMOVETOKENS_TOOLTIP'),press:q.proxy(function(){this._oExcludedTokens.destroyTokens();this._removeRangeByKey(Object.keys(this._oSelectedRanges),true);this._updateTitles();},this),ariaLabelledBy:this._oExcludedTokenTitle}).addStyleClass('compVHRemoveAllBtn');var o=new sap.ui.layout.HorizontalLayout({content:[this._oExcludedTokens,this._oRemoveAllExcludeItemsBtn]}).addStyleClass('compVHTokenizerHLayout');this._oExcludeTokenGrid=new sap.ui.layout.Grid({width:'100%',defaultSpan:'L12 M12 S12',hSpacing:0,vSpacing:0,content:[this._oExcludedTokenTitle,o]});this._oTokenizerPanel=new sap.m.Panel({expanded:sap.ui.Device.system.desktop,expandable:true,expandAnimation:true,headerText:'',width:'auto',content:[this._oIncludeTokenGrid,this._oExcludeTokenGrid],expand:q.proxy(function(e){this._updateTokenizer();if(e.mParameters.expand&&!(this._oTable instanceof sap.m.Table)){var i='#'+this.getId()+'-scrollCont';var s=this.$().find(i);if(s&&s.scrollTop){s.stop().animate({scrollTop:'1000'},1000);}}},this)}).addStyleClass('compVHBackgroundTransparent').addStyleClass('compVHTokensPanel');if(this._isPhone()){this._oSelectedTokens.addStyleClass('sapMTokenizerMultiLine');this._oExcludedTokens.addStyleClass('sapMTokenizerMultiLine');}this._oTokenizerGrid=new sap.ui.layout.Grid({width:'100%',defaultSpan:'L12 M12 S12',hSpacing:0,vSpacing:0,content:this._oTokenizerPanel}).addStyleClass('compVHDarkBackground');return this._oTokenizerGrid;};d.prototype._addToken2Tokenizer=function(k,t,o){var e=this._getTokenByKey(k,o);var s=(typeof t==='string')?t:'';if(e){e.setText(t);e.setTooltip(s);}else{o.addToken(new T({key:k,text:t,tooltip:s}));this._updateTokenizer();}};d.prototype._getTokenByKey=function(k,t){var e=t.getTokens();for(var i=0;i<e.length;i++){var f=e[i];if(f.getKey()===k){return f;}}return null;};d.prototype._removeToken=function(k){if(!this._removeTokenFromTokenizer(k,this._oSelectedTokens)){this._removeTokenFromTokenizer(k,this._oExcludedTokens);}};d.prototype._removeTokenFromTokenizer=function(k,t){var e=this._getTokenByKey(k,t);if(e){this._ignoreRemoveToken=true;t.removeToken(e);this._ignoreRemoveToken=false;this._updateTokenizer();return true;}return false;};d.prototype._updateTokenizer=function(){var e=false;if(this._oTokenizerPanel){e=this._oTokenizerPanel.getExpanded();}var n=this._oSelectedTokens.getTokens().length;var f=this._oExcludedTokens.getTokens().length;var s=this._oRb.getText('VALUEHELPDLG_SELECTEDITEMS');var g=this._oRb.getText('VALUEHELPDLG_NONESELECTEDITEMS');var S=s.replace('{0}',n.toString());var E=this._oRb.getText('VALUEHELPDLG_EXCLUDEDITEMS',f.toString());var t=n===0?g:S;if(this._oTokenizerPanel){if(!e){if(this._isPhone()){S=this._oRb.getText('VALUEHELPDLG_SELECTEDITEMS_SHORT',n.toString());E=this._oRb.getText('VALUEHELPDLG_EXCLUDEDITEMS_SHORT',f.toString());}t='';if(n!==0){t=S;}if(f!==0){t+=(n!==0?' / ':'')+E;}if(t===''){t=g;}}else{if(n===0&&f!==0){t=E;E='';}}this._oTokenizerPanel.setHeaderText(t);this._oSelectedTokenTitle.setText(t);}else{this._oSelectedTokenTitle.setText(t);}this._oRemoveAllSelectedItemsBtn.setEnabled(n!==0);this._oExcludedTokenTitle.setText(E);if(n===0&&f!==0){this._oIncludeTokenGrid.addStyleClass('displayNone');if(!this._isPhone()){this._oExcludedTokenTitle.addStyleClass('displayNone');}}else{this._oIncludeTokenGrid.removeStyleClass('displayNone');this._oExcludedTokenTitle.removeStyleClass('displayNone');}if(f===0){this._oExcludeTokenGrid.addStyleClass('displayNone');}else{this._oExcludeTokenGrid.removeStyleClass('displayNone');}};d.prototype._createNavigationControl=function(){if(!this._isPhone()){this._oTabBar=new sap.m.IconTabBar({upperCase:true,expandable:false,items:[new sap.m.IconTabFilter({visible:true,text:this._oRb.getText('VALUEHELPDLG_ITEMSTABLE'),key:sap.ui.comp.valuehelpdialog._ValueHelpViewMode.DESKTOP_LIST_VIEW}),new sap.m.IconTabFilter({visible:true,text:this._oRb.getText('VALUEHELPDLG_RANGES'),key:sap.ui.comp.valuehelpdialog._ValueHelpViewMode.DESKTOP_CONDITIONS_VIEW})],select:q.proxy(function(o){this._updateView(o.getParameters().key);},this)});this._oTabBar.setLayoutData(new sap.m.FlexItemData({shrinkFactor:0}));this._oVBox.addItem(this._oTabBar);}else{this._oSelectItemLI=new sap.m.StandardListItem({type:sap.m.ListType.Navigation,title:this._oRb.getText('VALUEHELPDLG_ITEMSTABLE')}).data('key',sap.ui.comp.valuehelpdialog._ValueHelpViewMode.PHONE_LIST_VIEW);this._oDefineConditionsLI=new sap.m.StandardListItem({type:sap.m.ListType.Navigation,title:this._oRb.getText('VALUEHELPDLG_RANGES')}).data('key',sap.ui.comp.valuehelpdialog._ValueHelpViewMode.PHONE_CONDITIONS_VIEW);this._oMainListMenu=new sap.m.List({mode:sap.m.ListMode.None,items:[this._oSelectItemLI,this._oDefineConditionsLI],itemPress:q.proxy(function(e){if(e){this._updateView(e.mParameters.listItem.data('key'));}},this)});this._oMainListMenu.setLayoutData(new sap.m.FlexItemData({shrinkFactor:0}));this._oVBox.addItem(this._oMainListMenu);this._oAdvancedSearchLink=new sap.m.Link(sap.ui.comp.valuehelpdialog._ValueHelpViewMode.PHONE_SEARCH_VIEW,{text:this._oRb.getText('VALUEHELPDLG_ADVANCEDSEARCH'),press:q.proxy(function(){this._updateView(sap.ui.comp.valuehelpdialog._ValueHelpViewMode.PHONE_SEARCH_VIEW);},this)}).addStyleClass('compVHAdvancedSearchLink');this._oAdvancedSearchLink.setLayoutData(new sap.m.FlexItemData({shrinkFactor:0}));this._oVBox.addItem(this._oAdvancedSearchLink);}};d.prototype._updateNavigationControl=function(){var L=!this.getSupportRangesOnly();var r=this.getSupportRangesOnly()||this.getSupportRanges();if(this._oTabBar){var t=this._oTabBar.getItems();t[0].setVisible(L);t[1].setVisible(r);this._oTabBar.setVisible(L&&r);this._updateDlgTitle();}if(this._oMainListMenu){this._oSelectItemLI.setVisible(L);this._oDefineConditionsLI.setVisible(r);}};d.prototype._removeRangeByKey=function(k,i){var K=k;if(typeof K==='string'){K=[K];}K.forEach(function(k,e,K){var r=this._oSelectedRanges[k];if(r.exclude===i){if(!r._oGrid){delete this._oSelectedRanges[k];if(this._oFilterPanel){var o=r.exclude?this._oFilterPanel._oExcludeFilterPanel:this._oFilterPanel._oIncludeFilterPanel;if(K.length==1){o.removeCondition(k);}else{o._removeConditionFromMap(k);}}}}},this);if(K.length>1&&this._oFilterPanel){var o=i?this._oFilterPanel._oExcludeFilterPanel:this._oFilterPanel._oIncludeFilterPanel;o._clearConditions();o._fillConditions();}};d.prototype._getRanges=function(){if(!this._oRanges){this._oRanges=this._createRanges();}return this._oRanges;};d.prototype._createRanges=function(){q.sap.require('sap.m.P13nConditionPanel');q.sap.require('sap.m.P13nFilterPanel');this._oFilterPanel=new sap.m.P13nFilterPanel({maxIncludes:this.getMaxIncludeRanges(),maxExcludes:this.getMaxExcludeRanges(),containerQuery:true,addFilterItem:q.proxy(function(E){var p=E.mParameters;var o={exclude:p.filterItemData.getExclude(),keyField:p.filterItemData.getColumnKey(),operation:p.filterItemData.getOperation(),value1:p.filterItemData.getValue1(),value2:p.filterItemData.getValue2()};this._oSelectedRanges[p.key]=o;var f=this._getKeyFieldByKey(o.keyField);o.value1=this._convertValue2Object(o.value1,f.type);o.value2=this._convertValue2Object(o.value2,f.type);this._oFilterPanel.addFilterItem(p.filterItemData);var s=this._getFormatedRangeTokenText(o.operation,o.value1,o.value2,o.exclude,o.keyField);this._addToken2Tokenizer(p.key,s,o.exclude?this._oExcludedTokens:this._oSelectedTokens);this._updateTokenizer();},this),removeFilterItem:q.proxy(function(E){var p=E.mParameters;delete this._oSelectedRanges[p.key];this._removeToken(p.key);this._updateTokenizer();},this),updateFilterItem:q.proxy(function(E){var p=E.mParameters;var o=this._oSelectedRanges[p.key];o.exclude=p.filterItemData.getExclude();o.keyField=p.filterItemData.getColumnKey();o.operation=p.filterItemData.getOperation();o.value1=p.filterItemData.getValue1();o.value2=p.filterItemData.getValue2();var f=this._getKeyFieldByKey(o.keyField);o.value1=this._convertValue2Object(o.value1,f.type);o.value2=this._convertValue2Object(o.value2,f.type);var s=this._getFormatedRangeTokenText(o.operation,o.value1,o.value2,o.exclude,o.keyField);this._addToken2Tokenizer(p.key,s,o.exclude?this._oExcludedTokens:this._oSelectedTokens);this._updateTokenizer();},this)});this._oFilterPanel._oIncludeFilterPanel.setDisplayFormat(this.getDisplayFormat());this._oFilterPanel._oExcludeFilterPanel.setDisplayFormat(this.getDisplayFormat());this._oFilterPanel._oIncludeFilterPanel._fSuggestCallback=this._fSuggestCallback;this._oFilterPanel._oExcludeFilterPanel._fSuggestCallback=this._fSuggestCallback;this._oFilterPanel._oIncludeFilterPanel._sAddRemoveIconTooltipKey='CONDITION';this._oFilterPanel._oExcludeFilterPanel._sAddRemoveIconTooltipKey='CONDITION';if(this._aIncludeRangeOperations){for(var t in this._aIncludeRangeOperations){this._oFilterPanel.setIncludeOperations(this._aIncludeRangeOperations[t],t);}}if(this._aExcludeRangeOperations){for(var t in this._aExcludeRangeOperations){this._oFilterPanel.setExcludeOperations(this._aExcludeRangeOperations[t],t);}}if(this._aRangeKeyFields){this._aRangeKeyFields.forEach(function(i){this._oFilterPanel.addItem(new sap.m.P13nItem({columnKey:i.key,text:i.label,type:i.type,maxLength:i.maxLength,scale:i.scale,precision:i.precision,isDefault:i.isDefault,values:i.type==='boolean'?this._getBooleanValues():null}));},this);}if(this._oSelectedRanges){for(var r in this._oSelectedRanges){var e=this._oSelectedRanges[r];this._oFilterPanel.addFilterItem(new sap.m.P13nFilterItem({key:r,exclude:e.exclude,columnKey:e.keyField,operation:e.operation,value1:e.value1,value2:e.value2}));}}var R=new sap.ui.layout.Grid({width:'100%',defaultSpan:'L12 M12 S12',vSpacing:0,hSpacing:0,content:[this._oFilterPanel]});this._sValidationDialogTitle=this._oRb.getText('VALUEHELPVALDLG_TITLE');this._sValidationDialogMessage=this._oRb.getText('VALUEHELPVALDLG_MESSAGE');this._sValidationDialogFieldMessage=this._oRb.getText('VALUEHELPVALDLG_FIELDMESSAGE');return R;};d.prototype.suggest=function(s){this._fSuggestCallback=s;if(this._oFilterPanel){if(this._oFilterPanel._oIncludeFilterPanel){this._oFilterPanel._oIncludeFilterPanel._fSuggestCallback=this._fSuggestCallback;}if(this._oFilterPanel._oExcludeFilterPanel){this._oFilterPanel._oExcludeFilterPanel._fSuggestCallback=this._fSuggestCallback;}}};d.prototype._getBooleanValues=function(){q.sap.require('sap.ui.model.odata.type.Boolean');var o=new sap.ui.model.odata.type.Boolean();var e=null;if(o){e=['',o.formatValue(false,'string'),o.formatValue(true,'string')];}return e;};d.prototype._convertValue2Object=function(v,t){if(!v){return v;}var e=v;if(t==='date'){e=new Date(v);}if(t==='time'){e=new Date(v);}if(t==='numeric'){e=parseFloat(v);}if(t==='boolean'){if(v===''){e=null;}else{e=v=='true';}}return e;};d.prototype._getKeyFieldByKey=function(k){var o;if(this._aRangeKeyFields){this._aRangeKeyFields.some(function(e){if(typeof e!=='string'){if(e.key===k){o=e;return true;}}return false;});}return o;};d.prototype._validateRanges=function(f,e){if(this._oRanges){if(!this._oRanges.getParent()){f();return;}var i=this._oFilterPanel.validateConditions();if(!i){M.show(this._sValidationDialogMessage,{icon:M.Icon.WARNING,title:this._sValidationDialogTitle,actions:[M.Action.OK,M.Action.CANCEL],styleClass:!!this.$().closest('.sapUiSizeCompact').length?'sapUiSizeCompact':'',onClose:function(r){if(r===M.Action.OK&&f){f();}if(r===M.Action.CANCEL&&e){e();}}});return;}}f();};d.prototype.setUpdateSingleRowCallback=function(s){this.fSingleRowCallback=s;this._updateNavigationControl();};d.prototype._createDefaultTable=function(){if(!this._isPhone()){sap.ui.getCore().loadLibrary('sap.ui.table');q.sap.require('sap.ui.table.Table');this.setTable(new sap.ui.table.Table(),true);}else{this.setTable(new sap.m.Table(),true);this.TableStateSearchData();}};d.prototype._initializeTable=function(){if(sap.ui.table.Table&&this._oTable instanceof sap.ui.table.Table){this._oTable.setTitle(sap.ui.Device.system.desktop?this._sTableTitleNoCount:null);if(this._bTableCreatedInternal){this._oTable.setSelectionBehavior(sap.ui.table.SelectionBehavior.Row);}this._oTable.setSelectionMode(this.getSupportMultiselect()?sap.ui.table.SelectionMode.MultiToggle:sap.ui.table.SelectionMode.Single);this._updateNoDataText(this._oRb.getText('VALUEHELPDLG_TABLE_PRESSSEARCH'));this._oTable.setVisibleRowCountMode(sap.ui.table.VisibleRowCountMode.Fixed);this._oTable.setMinAutoRowCount(sap.ui.Device.system.desktop?5:4);this._oTable.attachRowSelectionChange(q.proxy(function(o){if(this._bIgnoreSelectionChange||!o.getParameter('userInteraction')){return;}var e={tableSelectionParams:o.mParameters,updateTokens:[],useDefault:false};if(this._hasListeners('selectionChange')){this._bIgnoreSelectionChange=true;this.fireSelectionChange(e);this._bIgnoreSelectionChange=false;e.updateTokens.forEach(q.proxy(function(j){this._addRemoveTokenByKey(j.sKey,j.oRow,j.bSelected);},this));}else{e.useDefault=true;}if(e.useDefault){var t=o.getSource();var f=o.getParameter('rowIndices');var i,n=f.length;var g;var h;var r;for(i=0;i<n;i++){g=f[i];h=t.getContextByIndex(g);r=h?h.getObject():null;if(!r){M.show(this._oRb.getText('VALUEHELPDLG_SELECTIONFAILED'),{icon:M.Icon.ERROR,title:this._oRb.getText('VALUEHELPDLG_SELECTIONFAILEDTITLE'),actions:[M.Action.OK],styleClass:!!this.$().closest('.sapUiSizeCompact').length?'sapUiSizeCompact':''});return;}}var u=false;if(t.getBinding('rows').aKeys){u=true;}for(i=0;i<n;i++){g=f[i];h=t.getContextByIndex(g);r=h?h.getObject():null;if(r){var k;if(u){k=h.sPath.substring(1);}else{k=r[this.getKey()];}this._addRemoveTokenByKey(k,r,t.isIndexSelected(g));}}}this._updateTitles();if(!this.getSupportMultiselect()){this._onCloseAndTakeOverValues();}},this));this._oTable.addStyleClass('compVHMainTable');if(!(this._oTable.getParent()instanceof sap.ui.comp.smarttable.SmartTable)){this._oTable.bindAggregation('columns','columns>/cols',q.proxy(function(i,o){var e,t;if(o.getProperty('type')==='string'){t={path:o.getProperty('template')};}if(o.getProperty('type')==='boolean'){e=new sap.m.CheckBox({enabled:false,selected:{path:o.getProperty('template')}});}else{e=new sap.m.Text({wrapping:false,text:{path:o.getProperty('template'),type:o.getProperty('oType')},tooltip:t});}if(this._oTable instanceof sap.ui.table.AnalyticalTable){return new sap.ui.table.AnalyticalColumn(i,{label:'{columns>label}',tooltip:'{columns>label}',template:e,width:'{columns>width}',hAlign:e instanceof sap.m.CheckBox?sap.ui.core.HorizontalAlign.Center:sap.ui.core.HorizontalAlign.Begin,filterProperty:o.getProperty('filter')});}else{return new sap.ui.table.Column(i,{label:'{columns>label}',tooltip:'{columns>label}',template:e,width:'{columns>width}',hAlign:e instanceof sap.m.CheckBox?sap.ui.core.HorizontalAlign.Center:sap.ui.core.HorizontalAlign.Begin,filterProperty:o.getProperty('filter')});}},this));}}else{this._oTable.setMode(this.getSupportMultiselect()?sap.m.ListMode.MultiSelect:sap.m.ListMode.SingleSelectLeft);this._oTable.setGrowing(true);this._oTable.attachSelectionChange(q.proxy(function(o){if(this._bIgnoreSelectionChange){return;}var e=o.mParameters;var f={tableSelectionParams:o.mParameters,updateTokens:[],useDefault:false};if(this._hasListeners('selectionChange')){this._bIgnoreSelectionChange=true;this.fireSelectionChange(f);this._bIgnoreSelectionChange=false;f.updateTokens.forEach(q.proxy(function(j){this._addRemoveTokenByKey(j.sKey,j.oRow,j.bSelected);},this));}else{f.useDefault=true;}if(f.useDefault){var s=e.selected;var i,n=e.listItems.length;for(i=0;i<n;i++){var g=e.listItems[i];var h=g.getBindingContext();var r=h?h.getObject():null;if(r){var k=r[this.getKey()];this._addRemoveTokenByKey(k,r,s);}}}if(!this.getSupportMultiselect()){this._onCloseAndTakeOverValues();}},this));if(!(this._oTable.getParent()instanceof sap.ui.comp.smarttable.SmartTable)){this._oTable.bindAggregation('columns','columns>/cols',q.proxy(function(i,o){var e=o.getProperty('label');var f=this._oTable.getColumns().length>=2;return new sap.m.Column({header:new sap.m.Label({text:e}),demandPopin:f,minScreenWidth:f?(this._oTable.getColumns().length+1)*10+'rem':'1px'});},this));}}};d.prototype._addRemoveTokenByKey=function(k,r,A){if(A){this._oSelectedItems.add(k,r);this._addToken2Tokenizer(k,this._getFormatedTokenText(k),this._oSelectedTokens);}else{this._oSelectedItems.remove(k);this._removeTokenFromTokenizer(k,this._oSelectedTokens);}};d.prototype._onCloseAndTakeOverValues=function(){var t=this;var f=function(){var r;var e=t._oSelectedItems.getSelectedItemsTokenArray(t.getKey(),t.getDescriptionKey(),t.getTokenDisplayBehaviour());if(t._oSelectedRanges){var i=0;for(var g in t._oSelectedRanges){r=t._oSelectedRanges[g];var s=r.tokenValue;if(!s){s=t._getFormatedRangeTokenText(r.operation,r.value1,r.value2,r.exclude,r.keyField);}if(!r._oGrid||r._oGrid.select.getSelected()){e.push(new T({key:'range_'+i,text:s,tooltip:typeof s==='string'?s:null}).data('range',{'exclude':r.exclude,'operation':r.operation,'keyField':r.keyField,'value1':r.value1,'value2':r.value2}));i++;}}}t.fireOk({'tokens':e});};this._validateRanges(f);};d.prototype._onCancel=function(){this.fireCancel();};d.prototype._onGo=function(){this._oFilterBar.search();};d.prototype._onClear=function(){this._oFilterBar.clear();};d.prototype._updateTitles=function(){this._updateTableTitle();this._updateTokenizer();};d.prototype._updateDlgTitle=function(){var m='';var s;if(this._oTitle){if(this._oTabBar&&!this._oTabBar.getVisible()&&!this.getFilterMode()){if(this._oTabBar.getSelectedKey()===sap.ui.comp.valuehelpdialog._ValueHelpViewMode.DESKTOP_LIST_VIEW){m='VALUEHELPDLG_TITLE';}else{if(this._oTabBar.getSelectedKey()===sap.ui.comp.valuehelpdialog._ValueHelpViewMode.DESKTOP_CONDITIONS_VIEW){if(this.getMaxIncludeRanges()==='1'&&this.getMaxExcludeRanges()==='0'){m='VALUEHELPDLG_SINGLECONDITION_TITLE';}else{m='VALUEHELPDLG_RANGESTITLE';}}}}else{if(this._isPhone()&&!this.getFilterMode()){switch(this._currentViewMode){case sap.ui.comp.valuehelpdialog._ValueHelpViewMode.PHONE_MAIN_VIEW:m='';break;case sap.ui.comp.valuehelpdialog._ValueHelpViewMode.PHONE_LIST_VIEW:m='VALUEHELPDLG_ITEMSTABLE';break;case sap.ui.comp.valuehelpdialog._ValueHelpViewMode.PHONE_SEARCH_VIEW:m='VALUEHELPDLG_ADVANCEDSEARCH';break;case sap.ui.comp.valuehelpdialog._ValueHelpViewMode.PHONE_CONDITIONS_VIEW:if(this.getMaxIncludeRanges()==='1'&&this.getMaxExcludeRanges()==='0'){m='VALUEHELPDLG_SINGLECONDITION_TITLE';}else{m='VALUEHELPDLG_RANGES';}break;default:break;}}}if(!s){s=this.getTitle();}if(m){s=this._oRb.getText(m,s);}if(s){this._oTitle.setText(s);}}};d.prototype._updateTableTitle=function(){if(!this._oTable){return;}var e=0;this.oRows=this._oTable.getBinding('rows');var s=false;if(s&&this.getModel()&&this.getModel().isCountSupported){s=this.getModel().isCountSupported();}if(s){if(this.oRows){e=this.oRows.getLength();}this._setTableTitle(this._sTableTitle1.replace('{0}',e));}else{this._setTableTitle(this._sTableTitleNoCount);}};d.prototype._setTableTitle=function(t){if(sap.ui.Device.system.desktop&&!(this._oTable instanceof sap.m.Table)){if(this._oTable.getTitle()){this._oTable.getTitle().setText(t);}else{this._oTable.setTitle(t);}}};d.prototype.onAfterRendering=function(){D.prototype.onAfterRendering.apply(this);if(this._oTable){this._updateTitles();}if(!this._isPhone()&&this.getContentHeight()===''){setTimeout(function(){var r=this.getDomRef('scroll');var _=r.clientHeight;this.setContentHeight(_+'px');if(sap.ui.table.Table&&this._oTable&&this._oTable instanceof sap.ui.table.Table){this._oTable.setVisibleRowCountMode(sap.ui.table.VisibleRowCountMode.Auto);}}.bind(this),0);}};d.prototype._getDialogOffset=function(w){var W=w||this._$Window.width();var s={small:600,large:1024};var r=function(e){var R=parseInt(window.getComputedStyle(document.body).fontSize,10);return(e*R)*2;};var e=1;if(W>s.small&&W<s.large){e=2;}else if(W>=s.large){e=2;}return{top:r(e),left:r(e)};};d.prototype.exit=function(){var e=function(o){if(o&&o.destroy){o.destroy();}return null;};this._oTokenizerGrid=e(this._oTokenizerGrid);this._oRanges=e(this._oRanges);this._oFilterPanel=e(this._oFilterPanel);if(this._bTableCreatedInternal){this._oTable=e(this._oTable);}this._oTable=null;this.theTable=null;this._oTabBar=e(this._oTabBar);this._oMainListMenu=e(this._oMainListMenu);this._oVBox=e(this._oVBox);this._oVarManagment=e(this._oVarManagment);this._aRangeKeyFields=e(this._aRangeKeyFields);this._aIncludeRangeOperations=e(this._aIncludeRangeOperations);this._aExcludeRangeOperations=e(this._aExcludeRangeOperations);if(this._oFilterBar){this._oFilterBar.detachInitialise(this._handleFilterBarInitialize);this._oFilterBar=e(this._oFilterBar);}this._oRb=e(this._oRb);this._sTableTitle1=e(this._sTableTitle1);this._sTableTitle2=e(this._sTableTitle2);this._sTableTitleNoCount=e(this._sTableTitleNoCount);this._sValidationDialogTitle=e(this._sValidationDialogTitle);this._sValidationDialogMessage=e(this._sValidationDialogMessage);this._sValidationDialogFieldMessage=e(this._sValidationDialogFieldMessage);this._oSelectedItems=e(this._oSelectedItems);this._oSelectedRanges=e(this._oSelectedRanges);this._oButtonOk=e(this._oButtonOk);this._oButtonCancel=e(this._oButtonCancel);if(this._oButtonGo){this._oButtonGo=e(this._oButtonGo);}if(this._oButtonClear){this._oButtonClear=e(this._oButtonClear);}};d.prototype.setRangeKeyFields=function(r){this._aRangeKeyFields=r;};d.prototype.getRangeKeyFields=function(){return this._aRangeKeyFields;};d.prototype.setIncludeRangeOperations=function(o,t){t=t||'default';this._aIncludeRangeOperations[t]=o;if(this._oFilterPanel){this._oFilterPanel.setIncludeOperations(this._aIncludeRangeOperations[t],t);}};d.prototype.setExcludeRangeOperations=function(o,t){t=t||'default';this._aExcludeRangeOperations[t]=o;if(this._oFilterPanel){this._oFilterPanel.setExcludeOperations(this._aExcludeRangeOperations[t],t);}};d.prototype._getFormatedTokenText=function(k){var i=this._oSelectedItems.getItem(k);var t=i[this.getDescriptionKey()];var s=i[this.getKey()];if(t===undefined){if(typeof i==='string'){t=i;}else{t=k;}}else{t=F.getFormattedExpressionFromDisplayBehaviour(this.getTokenDisplayBehaviour()?this.getTokenDisplayBehaviour():sap.ui.comp.smartfilterbar.DisplayBehaviour.descriptionAndId,s,t);}return t;};d.prototype._getFormatedRangeTokenText=function(o,v,s,e,k){var t='';var f;var g=this._getKeyFieldByKey(k);if(g){switch(g.type){case'numeric':var h;if(g.precision||g.scale){h={};if(g.precision){h['maxIntegerDigits']=parseInt(g.precision,10);}if(g.scale){h['maxFractionDigits']=parseInt(g.scale,10);}}f=N.getFloatInstance(h);break;case'date':f=b.getDateInstance();v=new Date(v);s=new Date(s);break;case'time':f=b.getTimeInstance();v=new Date(v);s=new Date(s);break;case'boolean':var i=this._getBooleanValues();v=i[v?2:1];s=i[s?2:1];break;}if(f){if(v){v=f.format(v);}if(s){s=f.format(s);}}}if(v!==''){switch(o){case sap.ui.comp.valuehelpdialog.ValueHelpRangeOperation.Initial:t=\"=''\";break;case sap.ui.comp.valuehelpdialog.ValueHelpRangeOperation.EQ:t='='+v;break;case sap.ui.comp.valuehelpdialog.ValueHelpRangeOperation.GT:t='>'+v;break;case sap.ui.comp.valuehelpdialog.ValueHelpRangeOperation.GE:t='>='+v;break;case sap.ui.comp.valuehelpdialog.ValueHelpRangeOperation.LT:t='<'+v;break;case sap.ui.comp.valuehelpdialog.ValueHelpRangeOperation.LE:t='<='+v;break;case sap.ui.comp.valuehelpdialog.ValueHelpRangeOperation.Contains:t='*'+v+'*';break;case sap.ui.comp.valuehelpdialog.ValueHelpRangeOperation.StartsWith:t=v+'*';break;case sap.ui.comp.valuehelpdialog.ValueHelpRangeOperation.EndsWith:t='*'+v;break;case sap.ui.comp.valuehelpdialog.ValueHelpRangeOperation.BT:if(s!==''){t=v+'...'+s;break;}}}if(e&&t!==''){t='!('+t+')';}if(this._aRangeKeyFields&&this._aRangeKeyFields.length>1&&g&&g.label&&t!==''){t=g.label+': '+t;}return t;};d.prototype._isPhone=function(){return sap.ui.Device.system.phone;};d.prototype._hasListeners=function(e){if(this._bTableCreatedInternal){return false;}return this.hasListeners(e);};sap.ui.comp.valuehelpdialog.ValueHelpRangeOperation={BT:'BT',EQ:'EQ',Contains:'Contains',StartsWith:'StartsWith',EndsWith:'EndsWith',LT:'LT',LE:'LE',GT:'GT',GE:'GE',Initial:'Initial'};sap.ui.comp.valuehelpdialog._ValueHelpViewMode={DESKTOP_LIST_VIEW:'DESKTOP_LIST_VIEW',DESKTOP_CONDITIONS_VIEW:'DESKTOP_CONDITIONS_VIEW',PHONE_MAIN_VIEW:'PHONE_MAIN_VIEW',PHONE_SEARCH_VIEW:'PHONE_SEARCH_VIEW',PHONE_LIST_VIEW:'PHONE_LIST_VIEW',PHONE_CONDITIONS_VIEW:'PHONE_CONDITIONS_VIEW'};return d;},true);\n",
	"sap/ui/comp/variants/EditableVariantItem.js":"/*\n * ! SAP UI development toolkit for HTML5 (SAPUI5)\n\n(c) Copyright 2009-2016 SAP SE. All rights reserved\n */\nsap.ui.define(['jquery.sap.global','sap/m/ColumnListItem','sap/m/ColumnListItemRenderer','sap/ui/comp/library'],function(q,C,a,l){'use strict';var E=C.extend('sap.ui.comp.variants.EditableVariantItem',{metadata:{library:'sap.ui.comp',properties:{key:{type:'string',group:'Misc',defaultValue:null},global:{type:'boolean',group:'Misc',defaultValue:null},lifecyclePackage:{type:'string',group:'Misc',defaultValue:null},lifecycleTransportId:{type:'string',group:'Misc',defaultValue:null},namespace:{type:'string',group:'Misc',defaultValue:null},readOnly:{type:'boolean',group:'Misc',defaultValue:false},accessOptions:{type:'string',group:'Misc',defaultValue:null,deprecated:true},labelReadOnly:{type:'boolean',group:'Misc',defaultValue:false},author:{type:'string',group:'Misc',defaultValue:null}}},renderer:a.render});return E;},true);\n",
	"sap/ui/comp/variants/VariantItem.js":"/*\n * ! SAP UI development toolkit for HTML5 (SAPUI5)\n\n(c) Copyright 2009-2016 SAP SE. All rights reserved\n */\nsap.ui.define(['jquery.sap.global','sap/ui/comp/library','sap/ui/core/Item'],function(q,l,I){'use strict';var V=I.extend('sap.ui.comp.variants.VariantItem',{metadata:{library:'sap.ui.comp',properties:{executeOnSelection:{type:'boolean',group:'Misc',defaultValue:false},readOnly:{type:'boolean',group:'Misc',defaultValue:false},lifecycleTransportId:{type:'string',group:'Misc',defaultValue:null},global:{type:'boolean',group:'Misc',defaultValue:null},lifecyclePackage:{type:'string',group:'Misc',defaultValue:null},namespace:{type:'string',group:'Misc',defaultValue:null},accessOptions:{type:'string',group:'Misc',defaultValue:null,deprecated:true},labelReadOnly:{type:'boolean',group:'Misc',defaultValue:false},author:{type:'string',group:'Misc',defaultValue:null}}}});return V;},true);\n",
	"sap/ui/comp/variants/VariantManagement.designtime.js":"/*\n * ! SAP UI development toolkit for HTML5 (SAPUI5)\n\n(c) Copyright 2009-2016 SAP SE. All rights reserved\n */\nsap.ui.define([],function(){'use strict';return{annotations:{},properties:{initialSelectionKey:{ignore:true},enabled:{ignore:false},defaultVariantKey:{ignore:false},selectionKey:{ignore:true},showCreateTile:{ignore:true},showExecuteOnSelection:{ignore:false},showShare:{ignore:false},showSetAsDefault:{ignore:false},lifecycleSupport:{ignore:true},standardItemText:{ignore:false},industrySolutionMode:{ignore:true}},customData:{}};},false);\n",
	"sap/ui/comp/variants/VariantManagement.js":"/*\n * ! SAP UI development toolkit for HTML5 (SAPUI5)\n\n(c) Copyright 2009-2016 SAP SE. All rights reserved\n */\nsap.ui.define(['jquery.sap.global','sap/ui/Device','sap/ui/model/json/JSONModel','sap/m/SearchField','sap/m/RadioButton','sap/ui/core/TextAlign','sap/m/ScreenSize','sap/m/PopinDisplay','sap/m/Column','sap/m/Text','sap/m/Bar','sap/m/Table','sap/m/Page','sap/m/PlacementType','sap/m/ButtonType','sap/m/Toolbar','sap/m/ToolbarSpacer','sap/m/ActionSheet','sap/m/Button','sap/m/CheckBox','sap/m/Dialog','sap/m/Input','sap/m/Label','sap/m/ResponsivePopover','sap/m/SelectList','sap/m/ObjectIdentifier','sap/ui/comp/library','sap/ui/comp/transport/TransportSelection','./EditableVariantItem','./VariantItem','sap/ui/core/InvisibleText','sap/ui/core/Control','sap/ui/core/Item','sap/ui/core/ValueState','sap/ui/core/VerticalAlign','sap/ui/layout/HorizontalLayout','sap/ui/layout/Grid'],function(q,D,J,S,R,T,a,P,C,b,B,c,d,f,g,h,j,A,k,l,m,I,L,n,o,O,p,r,E,V,s,t,u,v,w,H,G){'use strict';var x=t.extend('sap.ui.comp.variants.VariantManagement',{metadata:{library:'sap.ui.comp',designTime:true,properties:{initialSelectionKey:{type:'string',group:'Misc',defaultValue:null},enabled:{type:'boolean',group:'Misc',defaultValue:true},defaultVariantKey:{type:'string',group:'Misc',defaultValue:null},selectionKey:{type:'string',group:'Misc',defaultValue:null},showCreateTile:{type:'boolean',group:'Misc',defaultValue:false},showExecuteOnSelection:{type:'boolean',group:'Misc',defaultValue:false},showShare:{type:'boolean',group:'Misc',defaultValue:false},showSetAsDefault:{type:'boolean',group:'Misc',defaultValue:true},lifecycleSupport:{type:'boolean',group:'Misc',defaultValue:false},standardItemText:{type:'string',group:'Misc',defaultValue:null},industrySolutionMode:{type:'boolean',group:'Misc',defaultValue:false}},defaultAggregation:'items',aggregations:{items:{type:'sap.ui.core.Item',multiple:true,singularName:'item',deprecated:true},variantItems:{type:'sap.ui.comp.variants.VariantItem',multiple:true,singularName:'variantItem'}},events:{save:{parameters:{name:{type:'string'},overwrite:{type:'boolean'},key:{type:'string'},exe:{type:'boolean'},def:{type:'boolean'},global:{type:'boolean'},lifecyclePackage:{type:'string'},lifecycleTransportId:{type:'string'}}},manage:{parameters:{renamed:{type:'string[]'},deleted:{type:'string[]'},exe:{type:'object[]'},def:{type:'boolean'}}},select:{parameters:{key:{type:'string'}}}}},renderer:function(e,i){e.write('<div ');e.writeControlData(i);e.addClass('sapUiCompVarMngmt');e.writeClasses();e.write('>');e.renderControl(i.oVariantLayout);e.write('</div>');}});x.STANDARD_NAME='STANDARD';x.MAX_NAME_LEN=100;x.prototype.init=function(){var e=this;this.STANDARDVARIANTKEY='*standard*';this.setStandardVariantKey(this.STANDARDVARIANTKEY);this.aRemovedVariants=[];this.aRenamedVariants=[];this.aRemovedVariantTransports=[];this.aExeVariants=[];this.oResourceBundle=sap.ui.getCore().getLibraryResourceBundle('sap.ui.comp');this.lastSelectedVariantKey=this._sStandardVariantKey;this.bVariantItemMode=false;this.oSelectedItem=null;this.sNewDefaultKey='';this.bManagementTableInitialized=false;this.sTransport=null;this.sPackage=null;this.aEvents=[];this.bEventRunning=false;this.bPopoverOpen=false;this.oVariantSelectionPage=null;this.oActions=null;this.oActionSheet=null;this.oActionSheetManage=null;this.oActionSheetSave=null;this.oActionSheetSaveAs=null;this.bManualVariantKey=false;this.bFireSelect=false;this.bExecuteOnSelectForStandardViaXML=false;this.bExecuteOnSelectForStandardByUser=null;this.bSupportExecuteOnSelectOnSandardVariant=false;this._bInnerControlsCreated=false;this._isVendorLayer=false;this.oModel=new J({enabled:false,selectedVariant:''});this.setModel(this.oModel,'save_enablement');this.oVariantInvisbletext=new s({text:{parts:[{path:'save_enablement>/selectedVariant'},{path:'save_enablement>/enabled'}],formatter:function(i,y){if(y){i=e.oResourceBundle.getText('VARIANT_MANAGEMENT_MODIFIED',[i]);}return i;}}});this.oVariantText=new L(this.getId()+'-text',{text:'{save_enablement>/selectedVariant}'});this._setStandardText();this.oVariantText.addStyleClass('sapUICompVarMngmtText');this.oVariantText.addStyleClass('sapMH4Style');if(D.system.phone){this.oVariantText.addStyleClass('sapUICompVarMngmtTextMaxWidth');}this.oVariantModifiedText=new L(this.getId()+'-modified',{visible:'{save_enablement>/enabled}'});this.oVariantModifiedText.setText('*');this.oVariantModifiedText.addStyleClass('sapUICompVarMngmtText');this.oVariantModifiedText.addStyleClass('sapUICompVarMngmtModified');this.oVariantModifiedText.addStyleClass('sapMH4Style');this.oVariantPopoverTrigger=new k(this.getId()+'-trigger',{type:g.Transparent,icon:'sap-icon://arrow-down',press:function(){e._openVariantSelection();},tooltip:this.oResourceBundle.getText('VARIANT_MANAGEMENT_TRIGGER_TT')});this.oVariantPopoverTrigger.addStyleClass('sapUICompVarMngmtTriggerBtn');this.oVariantPopoverTrigger.addAriaLabelledBy(this.oVariantInvisbletext);this.oVariantLayout=new H({content:[this.oVariantText,this.oVariantModifiedText,this.oVariantPopoverTrigger,this.oVariantInvisbletext]});this.oVariantLayout.addStyleClass('sapUICompVarMngmtLayout');this.addDependent(this.oVariantLayout);};x.prototype._setTriggerButtonIcon=function(F){var i;if(!D.system.phone){i=sap.ui.getCore().byId(this.oVariantPopoverTrigger.$('img')[0].id);if(i){i.toggleStyleClass('sapUiCompVarMngmtImageExpand');}}};x.prototype._triggerSave=function(){var e=this._createEvent('variantSaveAs',this._handleVariantSaveAs);this._addEvent(e);};x.prototype._checkVariantNameConstraints=function(i,e,M){if(!i){return;}var y=i.getValue();y=y.trim();if(!this._checkIsDuplicate(i,y,this.oManagementTable)){if(y===''){i.setValueState(v.Error);i.setValueStateText(this.oResourceBundle.getText('VARIANT_MANAGEMENT_ERROR_EMPTY'));}else if(y.length>x.MAX_NAME_LEN){i.setValueState(v.Error);i.setValueStateText(this.oResourceBundle.getText('VARIANT_MANAGEMENT_MAX_LEN',[x.MAX_NAME_LEN]));}else{i.setValueState(v.None);i.setValueStateText(null);}}if(e){if(i.getValueState()!==v.Error){this._checkIsDuplicate(i,y,M);}if((i.getValueState()===v.Error)||this._anyInErrorState(M)){e.setEnabled(false);}else{e.setEnabled(true);}}};x.prototype._anyInErrorState=function(M,e){var y,z,i;if(M){y=M.getItems();if(y){for(i=0;i<y.length;i++){z=y[i].getCells()[0];if(e&&(e===z)){continue;}if(z&&z.getValueState&&(z.getValueState()===v.Error)){if(this._checkIsDuplicate(z,z.getValue(),M)){return true;}}}}}return false;};x.prototype._checkIsDuplicate=function(i,e,M){var F=this._isDuplicate(i,e,M);if(F){i.setValueState(v.Error);i.setValueStateText(this.oResourceBundle.getText('VARIANT_MANAGEMENT_ERROR_DUPLICATE'));}else{i.setValueState(v.None);i.setValueStateText(null);}return F;};x.prototype._isDuplicate=function(i,e,M){if(M){return this._isDuplicateManaged(i,e,M);}else{return this._isDuplicateSaveAs(e);}};x.prototype._isDuplicateManaged=function(e,y,M){var z,F,i;if(M){z=M.getItems();if(z){for(i=0;i<z.length;i++){F=z[i].getCells()[0];if(F===e){continue;}if(F){if(F.getValue&&(y===F.getValue().trim())){return true;}else if(F.getText&&(y===F.getText().trim())){return true;}}}}}return false;};x.prototype._isDuplicateSaveAs=function(e){var i=e.trim();if(!i){return true;}var y=this._determineStandardVariantName();if(y===i){return true;}var z=this._getItems();for(var F=0;F<z.length;F++){y=z[F].getText().trim();if(y===i){return true;}}return false;};x.prototype._createActionSheet=function(){if(!this.oActionSheet){this.oActionSheet=new A(this.getId()+'-actionsheet',{showCancelButton:true,buttons:[this.oActionSheetManage,this.oActionSheetSave,this.oActionSheetSaveAs],placement:f.Top});}};x.prototype._createSaveDialog=function(){var e=this;var i=this.oInputName?this.oInputName.getValue():'';this.oSaveSave.setEnabled(!this._isDuplicate(this.oInputName,i));if(!this.oSaveDialog){this.oSaveDialog=new m(this.getId()+'-savedialog',{title:this.oResourceBundle.getText('VARIANT_MANAGEMENT_SAVEDIALOG'),beginButton:this.oSaveSave,endButton:new k(this.getId()+'-variantcancel',{text:this.oResourceBundle.getText('VARIANT_MANAGEMENT_CANCEL'),press:function(){e._bSaveCanceled=true;e.oSaveDialog.close();}}),content:[this.oLabelName,this.oInputName,this.oLabelKey,this.oInputKey,this.oSaveDialogOptionsGrid],stretch:D.system.phone,afterOpen:function(){e._setTriggerButtonIcon(false);},afterClose:function(){e._setTriggerButtonIcon(true);}});this.oSaveDialog.setParent(this);this.oSaveDialog.addStyleClass('sapUiPopupWithPadding');this.oSaveDialog.addStyleClass('sapUiCompVarMngmtSaveDialog');}};x.prototype._createManagementDialog=function(){var e=this;if(!this.oManagementDialog){this.oManagementDialog=new m(this.getId()+'-managementdialog',{customHeader:new B(this.getId()+'-managementHeader',{contentMiddle:[new b(this.getId()+'-managementHeaderText',{text:this.oResourceBundle.getText('VARIANT_MANAGEMENT_MANAGEDIALOG')})]}),beginButton:this.oManagementSave,endButton:new k(this.getId()+'-managementcancel',{text:this.oResourceBundle.getText('VARIANT_MANAGEMENT_CANCEL'),press:function(){e.aRemovedVariants=[];e.oManagementDialog.close();}}),content:[this.oManagementTable],stretch:D.system.phone,afterOpen:function(){e._setTriggerButtonIcon(false);},afterClose:function(){if(e.bFireSelect==true){e.bFireSelect=false;setTimeout(function(){e._fireSelectAsync();},0);}e._setTriggerButtonIcon(true);}});this.oManagementDialog.setParent(this);}};x.prototype._handleArrowUpDown=function(i,y){var z=null;var F=this;i.attachBrowserEvent('keydown',q.proxy(function(e){if(e.which===38){if(F.oVariantSelectionPage.getShowSubHeader()){z=document.activeElement.id;}}},this));i.attachBrowserEvent('keyup',q.proxy(function(e){if(e.which===38){if(z&&(z===document.activeElement.id)){var K=i.getItems();if(K&&K.length>0){var M=sap.ui.getCore().byId(z);if(M===K[0]){y.focus();}}}z=null;}},this));y.attachBrowserEvent('keyup',q.proxy(function(e){if(e.which===40){var K=i.getItems();if(K&&K.length>0){K[0].focus();}}},this));};x.prototype._triggerSearch=function(e){if(!e){return;}var i=e.getParameters();if(!i){return;}this._restoreCompleteList();var y=i.newValue?i.newValue:'';this._triggerSearchByValue(y.toLowerCase());};x.prototype._triggerSearchByValue=function(e){var i,K,y;this.oSelectedVariantItemKey=null;y=this.oVariantList.getItemByKey(this.getStandardVariantKey());if(y&&(y.getText().toLowerCase().indexOf(e)<0)){if(this.getSelectionKey()===K){this.oSelectedVariantItemKey=K;}this.oVariantList.removeItem(y);y.destroy();}var z=this._getItems();for(var F=0;F<z.length;F++){i=z[F].getText();if(i.toLowerCase().indexOf(e)<0){K=z[F].getKey();y=this.oVariantList.getItemByKey(K);if(y){if(this.getSelectionKey()===K){this.oSelectedVariantItemKey=K;}this.oVariantList.removeItem(y);y.destroy();}}}};x.prototype._restoreCompleteList=function(){var i,e,y,z;var F=0;z=this.oVariantList.getItemByKey(this.getStandardVariantKey());if(!z){z=this._createStandardVariantListItem();if(z){this.oVariantList.insertItem(z,0);}}if(z){F=1;if(this.oSelectedVariantItemKey){if(this.oSelectedVariantItemKey===z.getKey()){this.oVariantList.setSelectedItem(z);this.oSelectedVariantItemKey=null;}}else{if(this.getSelectionKey()==z.getKey()||this.getSelectionKey()===null){this.oVariantList.setSelectedItem(z);}}}y=this._getItems();y.sort(this._compareItems);for(i=0;i<y.length;i++){e=y[i];if(e.getKey()===this.getStandardVariantKey()){continue;}z=this.oVariantList.getItemByKey(e.getKey());if(!z){z=this._createVariantListItem(e,i);this.oVariantList.insertItem(z,i+F);}if(this.oSelectedVariantItemKey){if(this.oSelectedVariantItemKey===z.getKey()){this.oVariantList.setSelectedItem(z);this.oSelectedVariantItemKey=null;}}else{if(this.getSelectionKey()==z.getKey()){this.oVariantList.setSelectedItem(z);}}}};x.prototype._determineStandardVariantName=function(){var e=this.oResourceBundle.getText('VARIANT_MANAGEMENT_STANDARD');if(this.bVariantItemMode===false){e=this.oResourceBundle.getText('VARIANT_MANAGEMENT_DEFAULT');}if(this.getStandardVariantKey()===this.STANDARDVARIANTKEY){if(this.getStandardItemText()!==null&&this.getStandardItemText()!=''){e=this.getStandardItemText();}}return e;};x.prototype._createStandardVariantListItem=function(){var i,e=null;var y=this._determineStandardVariantName();if((this.bVariantItemMode===true)||(this.bVariantItemMode===false&&(this.getSelectionKey()===this.getStandardVariantKey()||this.getSelectionKey()===null))){e=new V(this.oVariantPopoverTrigger.getId()+'-item-standard',{key:this.getStandardVariantKey(),text:y,readOnly:true,executeOnSelection:this.getExecuteOnSelectForStandardVariant()});if(this._isIndustrySolutionModeAndVendorLayer()&&this.bVariantItemMode){e.setGlobal(true);e.setReadOnly(false);}if(this.getStandardVariantKey()!==this.STANDARDVARIANTKEY){i=this.getItemByKey(this.getStandardVariantKey());if(i){this._setVariantListItemProperties(i,e);}}else{e.setAuthor('SAP');}}return e;};x.prototype._createVariantListItem=function(i,e){var y=new V(this.oVariantPopoverTrigger.getId()+'-item-'+e,{key:i.getKey(),text:i.getText()});this._setVariantListItemProperties(i,y);return y;};x.prototype._setVariantListItemProperties=function(i,e){if(i.getReadOnly){e.setReadOnly(i.getReadOnly());}if(i.getExecuteOnSelection){e.setExecuteOnSelection(i.getExecuteOnSelection());}if(i.getGlobal){e.setGlobal(i.getGlobal());}if(i.getLifecyclePackage){e.setLifecyclePackage(i.getLifecyclePackage());}if(i.getLifecycleTransportId){e.setLifecycleTransportId(i.getLifecycleTransportId());}if(i.getNamespace){e.setNamespace(i.getNamespace());}if(i.getAccessOptions){e.setAccessOptions(i.getAccessOptions());}if(i.getLabelReadOnly){e.setLabelReadOnly(i.getLabelReadOnly());}if(i.getAuthor){e.setAuthor(i.getAuthor());}};x.prototype.exit=function(){if(this.oSearchField){this.oSearchField.destroy();this.oSearchField=undefined;}if(this.oVariantManage){this.oVariantManage.destroy();this.oVariantManage=undefined;}if(this.oVariantSave){this.oVariantSave.destroy();this.oVariantSave=undefined;}if(this.oVariantList){this.oVariantList.destroy();this.oVariantList=undefined;}if(this.oInputName){this.oInputName.destroy();this.oInputName=undefined;}if(this.oLabelName){this.oLabelName.destroy();this.oLabelName=undefined;}if(this.oDefault){this.oDefault.destroy();this.oDefault=undefined;}if(this.oSaveSave){this.oSaveSave.destroy();this.oSaveSave=undefined;}if(this.oSaveDialog){this.oSaveDialog.destroy();this.oSaveDialog=undefined;}if(this.oManagementTable){this.oManagementTable.destroy();this.oManagementTable=undefined;}if(this.oManagementSave){this.oManagementSave.destroy();this.oManagementSave=undefined;}if(this.oManagementDialog){this.oManagementDialog.destroy();this.oManagementDialog=undefined;}if(this.oVariantText){this.oVariantText.destroy();this.oVariantText=undefined;}if(this.oVariantPopoverTrigger){this.oVariantPopoverTrigger.destroy();this.oVariantPopoverTrigger=undefined;}if(this.oVariantLayout){this.oVariantLayout.destroy();this.oVariantLayout=undefined;}if(this.oVariantPopOver){this.oVariantPopOver.destroy();this.oVariantPopOver=undefined;}if(this.oVariantSaveAs){this.oVariantSaveAs.destroy();this.oVariantSaveAs=undefined;}if(this.oShare){this.oShare.destroy();this.oShare=undefined;}if(this.oExecuteOnSelect){this.oExecuteOnSelect.destroy();this.oExecuteOnSelect=undefined;}if(this.oCreateTile){this.oCreateTile.destroy();this.oCreateTile=undefined;}if(this.oSaveDialogOptionsGrid){this.oSaveDialogOptionsGrid.destroy();this.oSaveDialogOptionsGrid=undefined;}if(this.oVariantSelectionPage){this.oVariantSelectionPage.destroy();this.oVariantSelectionPage=undefined;}if(this.oActions){this.oActions.destroy();this.oActions=undefined;}if(this.oActionSheetManage){this.oActionSheetManage.destroy();this.oActionSheetManage=undefined;}if(this.oActionSheetSave){this.oActionSheetSave.destroy();this.oActionSheetSave=undefined;}if(this.oActionSheetSaveAs){this.oActionSheetSaveAs.destroy();this.oActionSheetSaveAs=undefined;}if(this.oInputKey){this.oInputKey.destroy();this.oInputKey=undefined;}if(this.oLabelKey){this.oLabelKey.destroy();this.oLabelKey=undefined;}};x.prototype.addItem=function(i){i=this.validateAggregation('items',i,true);this.bVariantItemMode=false;this.addAggregation('items',i,false);var _=this.getInitialSelectionKey();this._setSelection(i,_);this._manageButtonState();this._setStandardText();return this;};x.prototype.insertItem=function(i,e){var _=e;i=this.validateAggregation('items',i,true);this.bVariantItemMode=false;this.insertAggregation('items',i,_);var y=this.getInitialSelectionKey();this._setSelection(i,y);this._manageButtonState();this._setStandardText();return this;};x.prototype.removeItem=function(i){this.removeAggregation('items',i);this._manageButtonState();return i;};x.prototype.removeAllItems=function(){var e=this.removeAllAggregation('items');this._manageButtonState();this._setSelectedItem(null);return e;};x.prototype.destroyItems=function(){this.destroyAggregation('items');this._manageButtonState();this._setSelectedItem(null);return this;};x.prototype._getItems=function(){if(this.bVariantItemMode){return this.getVariantItems();}else{return this.getItems();}};x.prototype._removeItem=function(i){if(this.bVariantItemMode){return this.removeVariantItem(i);}else{return this.removeItem(i);}};x.prototype.getItemByKey=function(K){var i=this._getItems();for(var e=0;e<i.length;e++){if(K==i[e].getKey()){return i[e];}}return null;};x.prototype.addVariantItem=function(e){e=this.validateAggregation('variantItems',e,true);this.bVariantItemMode=true;this.addAggregation('variantItems',e,false);var _=this.getInitialSelectionKey();this._setSelection(e,_);this._manageButtonState();this._setStandardText();return this;};x.prototype.insertVariantItem=function(e,i){var _=i;e=this.validateAggregation('variantItems',e,true);this.bVariantItemMode=true;this.insertAggregation('variantItems',e,_);var y=this.getInitialSelectionKey();this._setSelection(e,y);this._manageButtonState();this._setStandardText();return this;};x.prototype._setSelectedItem=function(i){this.oSelectedItem=i;if(i!=null){this._setVariantText(i.getText());}else{this._setStandardText();}};x.prototype._getSelectedItem=function(){return this.oSelectedItem;};x.prototype.setInitialSelectionKey=function(K){this.setProperty('initialSelectionKey',K,true);this._setSelectionByKey(K);};x.prototype.setEnabled=function(e){this.setProperty('enabled',e,false);if(this.oVariantPopoverTrigger){this.oVariantPopoverTrigger.setEnabled(e);}if(!e){this.oVariantText.addStyleClass('sapUICompVarMngmtDisabled');this.oVariantModifiedText.addStyleClass('sapUICompVarMngmtDisabled');}else{this.oVariantText.removeStyleClass('sapUICompVarMngmtDisabled');this.oVariantModifiedText.removeStyleClass('sapUICompVarMngmtDisabled');}};x.prototype.getFocusDomRef=function(){if(this.oVariantPopoverTrigger&&this.getEnabled()){return this.oVariantPopoverTrigger.getFocusDomRef();}return sap.ui.core.Element.prototype.getFocusDomRef.apply(this,[]);};x.prototype._setSelection=function(i,K){if(i.getKey()===K){this._setSelectedItem(i);this.fireSelect({key:K});}};x.prototype.addStyleClass=function(e){if(t.prototype.addStyleClass){t.prototype.addStyleClass.apply(this,arguments);}if(this.oVariantPopOver){this.oVariantPopOver.addStyleClass(e);}if(this.oSaveDialog){this.oSaveDialog.addStyleClass(e);}if(this.oManagementDialog){this.oManagementDialog.addStyleClass(e);}};x.prototype.removeStyleClass=function(e){if(t.prototype.addStyleClass){t.prototype.removeStyleClass.apply(this,arguments);}if(this.oVariantPopOver){this.oVariantPopOver.removeStyleClass(e);}if(this.oSaveDialog){this.oSaveDialog.removeStyleClass(e);}if(this.oManagementDialog){this.oManagementDialog.removeStyleClass(e);}};x.prototype.clearVariantSelection=function(){this.setInitialSelectionKey(this.getStandardVariantKey());this._setSelectedItem(null);};x.prototype._setDialogCompactStyle=function(e,i){if(this._checkDialogCompactStyle(e)){i.addStyleClass('sapUiSizeCompact');}else{i.removeStyleClass('sapUiSizeCompact');}};x.prototype._checkDialogCompactStyle=function(e){if(e.$().closest('.sapUiSizeCompact').length>0){return true;}else{return false;}};x.prototype._manageButtonState=function(){if(this.oActionSheetManage){this.oActionSheetManage.setEnabled(true);}};x.prototype.getSelectionKey=function(){var K=null;var i=this._getSelectedItem();if(i!==null){K=i.getKey();}else if(this.bVariantItemMode){K=this.getStandardVariantKey();}else{K=null;}return K;};x.prototype._setSelectionByKey=function(K){var i=this._getItems();var F=false;if(i.length>0){for(var e=0;e<i.length;e++){if(i[e].getKey()===K){this._setSelectedItem(i[e]);F=true;break;}}}if(!F){this._setSelectedItem(null);}};x.prototype.replaceKey=function(e,N){var i=this._getItems();if(i.length>0){for(var y=0;y<i.length;y++){if(i[y].getKey()===e){i[y].setKey(N);if(this.getDefaultVariantKey()==e){this.setDefaultVariantKey(N);}if(this._getSelectedItem()===i[y]){this._setSelectedItem(null);}break;}}}};x.prototype._assignUser=function(K,U){var i=this._getItems();if(i.length>0){for(var e=0;e<i.length;e++){if(i[e].getKey()===K){if(i[e].setAuthor&&i[e].getAuthor&&!i[e].getAuthor()){i[e].setAuthor(U);}break;}}}};x.prototype.currentVariantSetModified=function(F){this.oModel.setProperty('/enabled',F);};x.prototype.currentVariantGetModified=function(){return this.oModel.getProperty('/enabled');};x.prototype._delayedControlCreation=function(){var e=this;if(this._bInnerControlsCreated){return;}this._bInnerControlsCreated=true;this.oVariantManage=new k(this.getId()+'-manage',{text:this.oResourceBundle.getText('VARIANT_MANAGEMENT_MANAGE'),enabled:true,press:function(){e._openVariantManagementDialog();}});this.oVariantManage.addStyleClass('sapUiHideOnPhone');this.oVariantSave=new k(this.getId()+'-mainsave',{text:this.oResourceBundle.getText('VARIANT_MANAGEMENT_SAVE'),press:function(){var i=e._createEvent('variantSavePressed',e._variantSavePressed);e._addEvent(i);},enabled:false});this.oVariantSave.setModel(this.oModel);this.oVariantSave.addStyleClass('sapUiHideOnPhone');this.oVariantSaveAs=new k(this.getId()+'-saveas',{text:this.oResourceBundle.getText('VARIANT_MANAGEMENT_SAVEAS'),press:function(){e._openSaveAsDialog();}});this.oVariantSaveAs.addStyleClass('sapUiHideOnPhone');this.oVariantList=new o(this.getId()+'-list',{itemPress:function(i){var y=null;if(i&&i.getParameters()){var z=i.getParameters().item;if(z){y=z.getKey();}}if(y){e.lastSelectedVariantKey=y;e._setSelectionByKey(y);e.oVariantPopOver.close();e.oModel.setProperty('/enabled',false);e.bFireSelect=true;}}});this.oVariantList.setNoDataText(this.oResourceBundle.getText('VARIANT_MANAGEMENT_NODATA'));this.oActionSheetManage=new k({text:this.oResourceBundle.getText('VARIANT_MANAGEMENT_MANAGE'),enabled:false,press:function(i){e._openVariantManagementDialog();}});this.oActionSheetSave=new k({text:this.oResourceBundle.getText('VARIANT_MANAGEMENT_SAVE'),enabled:false,press:function(i){var y=e._createEvent('variantSavePressed',e._variantSavePressed);e._addEvent(y);}});this.oActionSheetSaveAs=new k({text:this.oResourceBundle.getText('VARIANT_MANAGEMENT_SAVEAS'),press:function(i){e._openSaveAsDialog();}});this.oActions=new k(this.getId()+'-actions',{text:this.oResourceBundle.getText('VARIANT_MANAGEMENT_ACTIONS'),press:function(){e._createActionSheet();e.oActionSheet.openBy(this);}});this.oActions.addStyleClass('sapUiVisibleOnlyOnPhone');this.oSearchField=new S();this.oSearchField.attachLiveChange(function(i){e._triggerSearch(i);});this._handleArrowUpDown(this.oVariantList,this.oSearchField);this.oVariantSelectionPage=new d(this.getId()+'selpage',{subHeader:new h({content:[this.oSearchField]}),content:[this.oVariantList],footer:new h({content:[new j(this.getId()+'-spacer'),this.oVariantManage,this.oVariantSave,this.oVariantSaveAs,this.oActions]}),showSubHeader:false,showNavButton:false,showHeader:false});this.oVariantPopOver=new n(this.getId()+'-popover',{title:this.oResourceBundle.getText('VARIANT_MANAGEMENT_VARIANTS'),contentWidth:'400px',placement:f.Bottom,content:[this.oVariantSelectionPage],afterOpen:function(){e.bPopoverOpen=true;e._markSharedVariants();e._setTriggerButtonIcon(false);},afterClose:function(){if(e.bFireSelect==true){e.bFireSelect=false;setTimeout(function(){e._fireSelectAsync();},0);}e._setTriggerButtonIcon(true);setTimeout(function(){e.bPopoverOpen=false;},300);},contentHeight:'300px'});this.oVariantPopOver.addStyleClass('sapUICompVarMngmtPopover');this.oInputName=new I(this.getId()+'-name',{liveChange:function(i){e._checkVariantNameConstraints(this,e.oSaveSave);}});this.oLabelName=new L(this.getId()+'-namelabel',{text:this.oResourceBundle.getText('VARIANT_MANAGEMENT_NAME'),required:true});this.oLabelName.setLabelFor(this.oInputName);this.oDefault=new l(this.getId()+'-default',{text:this.oResourceBundle.getText('VARIANT_MANAGEMENT_SETASDEFAULT'),enabled:true,visible:true,width:'100%'});this.oExecuteOnSelect=new l(this.getId()+'-execute',{text:this.oResourceBundle.getText('VARIANT_MANAGEMENT_EXECUTEONSELECT'),enabled:true,visible:false,width:'100%'});this.oCreateTile=new l(this.getId()+'-tile',{text:this.oResourceBundle.getText('VARIANT_MANAGEMENT_CREATETILE'),enabled:true,visible:false,width:'100%'});this.oShare=new l(this.getId()+'-share',{text:this.oResourceBundle.getText('VARIANT_MANAGEMENT_SHARE'),enabled:true,visible:false,select:function(i){var y=e._createEvent('inputfieldChange',e._handleShareSelected);y.args.push(i);e._addEvent(y);},width:'100%'});this.oInputKey=new I(this.getId()+'-key',{liveChange:function(i){e._checkVariantNameConstraints(this);}});this.oLabelKey=new L(this.getId()+'-keylabel',{text:this.oResourceBundle.getText('VARIANT_MANAGEMENT_KEY'),required:true});this.oLabelKey.setLabelFor(this.oInputKey);this.oSaveSave=new k(this.getId()+'-variantsave',{text:this.oResourceBundle.getText('VARIANT_MANAGEMENT_OK'),press:function(){e._bSaveCanceled=false;e._triggerSave();},enabled:true});this.oSaveDialogOptionsGrid=new G({defaultSpan:'L6 M6 S12'});this.oManagementTable=new c(this.getId()+'-managementTable');this.oManagementSave=new k(this.getId()+'-managementsave',{text:this.oResourceBundle.getText('VARIANT_MANAGEMENT_OK'),enabled:true,press:function(){var i=e._createEvent('managementSave',e._handleManageSavePressed);e._addEvent(i);}});this._manageButtonState();};x.prototype._openVariantSelection=function(){var i=null;this._delayedControlCreation();if(this.bPopoverOpen==true){return;}this.bPopoverOpen=true;this.oVariantList.destroyItems();this.oVariantSave.setEnabled(false);this.oActionSheetSave.setEnabled(false);if(this.bVariantItemMode===false&&this.getSelectionKey()!==null){this.oVariantSave.setEnabled(true);this.oActionSheetSave.setEnabled(true);}i=this._getItems();if(i.length<9){this.oVariantSelectionPage.setShowSubHeader(false);}else{this.oVariantSelectionPage.setShowSubHeader(true);this.oSearchField.setValue('');}this._restoreCompleteList();if(this.currentVariantGetModified()){var e=this.oVariantList.getItemByKey(this.getSelectionKey());if(e){if(!e.getReadOnly()||(this._isIndustrySolutionModeAndVendorLayer()&&(this.getStandardVariantKey()===e.getKey()))){this.oVariantSave.setEnabled(true);this.oActionSheetSave.setEnabled(true);}}}this.oVariantSaveAs.setEnabled(true);if(this._isIndustrySolutionModeAndVendorLayer()&&(this.getStandardVariantKey()===this.getSelectionKey())&&(this.getStandardVariantKey()===this.STANDARDVARIANTKEY)){this.oVariantSaveAs.setEnabled(false);}this._setDialogCompactStyle(this,this.oVariantPopOver);this._manageButtonState();this.oVariantPopOver.setInitialFocus(this.oVariantList.getSelectedItem().getId());this.oVariantPopOver.openBy(this.oVariantPopoverTrigger.$('img')[0]);};x.prototype._initalizeManagementTableColumns=function(){if(this.bManagementTableInitialized){return;}this.oManagementTable.addColumn(new C({header:new b({text:this.oResourceBundle.getText('VARIANT_MANAGEMENT_NAME')}),width:'14rem'}));this.oManagementTable.addColumn(new C({header:new b({text:this.oResourceBundle.getText('VARIANT_MANAGEMENT_VARIANTTYPE')}),width:'8rem',demandPopin:true,popinDisplay:P.Inline,minScreenWidth:a.Tablet}));if(this.getShowSetAsDefault()){this.oManagementTable.addColumn(new C({header:new b({text:this.oResourceBundle.getText('VARIANT_MANAGEMENT_DEFAULT')}),width:'4rem',demandPopin:true,popinDisplay:P.Inline,minScreenWidth:a.Tablet}));}if(this.getShowExecuteOnSelection()){this.oManagementTable.addColumn(new C({header:new b({text:this.oResourceBundle.getText('VARIANT_MANAGEMENT_EXECUTEONSELECT')}),width:'5rem',hAlign:T.Center,demandPopin:true,popinDisplay:P.Inline,minScreenWidth:'800px'}));}this.oManagementTable.addColumn(new C({header:new b({text:this.oResourceBundle.getText('VARIANT_MANAGEMENT_AUTHOR')}),width:'8rem',demandPopin:true,popinDisplay:P.Inline,minScreenWidth:'900px'}));this.oManagementTable.addColumn(new C({width:'2rem',hAlign:T.Center}));this.bManagementTableInitialized=true;};x.prototype._initalizeSaveAsDialog=function(){this.oSaveDialogOptionsGrid.removeAllContent();this.oDefault.setVisible(this.getShowSetAsDefault());this.oShare.setVisible(this.getShowShare());this.oExecuteOnSelect.setVisible(this.getShowExecuteOnSelection());this.oCreateTile.setVisible(this.getShowCreateTile());if(this.getShowSetAsDefault()){this.oSaveDialogOptionsGrid.addContent(this.oDefault);}if(this.getShowShare()){this.oSaveDialogOptionsGrid.addContent(this.oShare);}if(this.getShowExecuteOnSelection()){this.oSaveDialogOptionsGrid.addContent(this.oExecuteOnSelect);}if(this.getShowCreateTile()){this.oSaveDialogOptionsGrid.addContent(this.oCreateTile);}};x.prototype.onBeforeRendering=function(){var e=function(y){var N,Q=0;for(var i=0;i<y.length;i++){N=y[i].$().width();if(N>Q){Q=N;}}return Q;};if(this.oSaveDialogOptionsGrid&&this.oSaveDialog&&this.oSaveDialog.getVisible()){var y=this.oSaveDialogOptionsGrid.getContent();if(y&&y.length>0){var z=this.oSaveDialogOptionsGrid.$().width();var F=e(y);var K=32;var M=12;if(!this._checkDialogCompactStyle(this.oSaveDialog)){K=48;M=18;}if((K+F+M)>z/2){this.oSaveDialogOptionsGrid.setDefaultSpan('L12 M12 S12');}}}};x.prototype._markSharedVariants=function(){var e,y,z=this._getItems();for(var i=0;i<z.length;i++){y=z[i];if(y.getGlobal&&y.getGlobal()){e=this.oVariantList.getItemByKey(y.getKey());if(e){var F=e.$();if(F){F.addClass('sapUiCompVarMngmtSharedVariant');}}}}};x.prototype._variantSavePressed=function(){var i=this._getSelectedItem();if(!i){if(this.getStandardVariantKey()===this.STANDARDVARIANTKEY){i=new V({text:this._determineStandardVariantName(),key:this.STANDARDVARIANTKEY,global:this._isIndustrySolutionModeAndVendorLayer()});}else{i=this.getItemByKey(this.getStandardVariantKey());}}var e=false;if(this.getDefaultVariantKey()===i.getKey()){e=true;}if(i.getLifecyclePackage&&i.getGlobal()==true){var y=this;var z=function(K,M){y.oVariantPopOver.close();y.sPackage=K;y.sTransport=M;y.fireSave({name:i.getText(),overwrite:true,key:i.getKey(),def:e,global:(y._isIndustrySolutionModeAndVendorLayer()&&(y.getStandardVariantKey()===y.getStandardVariantKey())),lifecyclePackage:y.sPackage,lifecycleTransportId:y.sTransport});i.setLifecycleTransportId(y.sTransport);y.oModel.setProperty('/enabled',false);y._eventDone();};var F=function(K){y.sTransport=null;y.sPackage=null;y._cancelAllEvents();};this._assignTransport(i,z,F,this.oVariantText);}else{this.oVariantPopOver.close();this.fireSave({name:i.getText(),overwrite:true,key:i.getKey(),def:e});this.oModel.setProperty('/enabled',false);this._eventDone();}};x.prototype._assignTransport=function(e,i,y,z){var F={type:'variant',name:'',namespace:''};F['package']='';if(e!==null){F['package']=e.getLifecyclePackage();F['name']=e.getKey();F['namespace']=e.getNamespace();}var _=function(Q){var U;var M;M=Q.getParameters().selectedTransport;U=Q.getParameters().selectedPackage;i(U,M);};var K=function(Q){y(Q);};if(this.getLifecycleSupport()){var M=null;if(e){M=e.getLifecycleTransportId();}if(M!=null&&M.trim().length>0){i(F['package'],M);}else{var N=new r();N.selectTransport(F,_,K,this._checkDialogCompactStyle(z),z);}}else{i(F['package'],'');}};x.prototype.getDefaultVariantKey=function(){var e=this.getProperty('defaultVariantKey');if(e===''){if(this.bVariantItemMode){e=this.getStandardVariantKey();}}return e;};x.prototype._compareItems=function(e,i){var F=e.getText();var y=i.getText();var z=F.toUpperCase();var K=y.toUpperCase();if(z==K){if(F==y){return 0;}if(F<y){return-1;}if(F>y){return 1;}}if(z<K){return-1;}if(z>K){return 1;}};x.prototype._accessOptionsText=function(e){var M=null;switch(e){case'R':M=this.oResourceBundle.getText('VARIANT_MANAGEMENT_WRONG_LAYER');break;case'RD':M=this.oResourceBundle.getText('VARIANT_MANAGEMENT_WRONG_LANGUAGE');break;default:M=null;}return M;};x.prototype._openSaveAsDialog=function(){this._initalizeSaveAsDialog();if(this._getSelectedItem()){this.oInputName.setValue(this._getSelectedItem().getText());}else{this.oInputName.setValue('');}this.oInputName.setEnabled(true);this.oInputName.setValueState(v.None);this.oInputName.setValueStateText(null);this.oDefault.setSelected(false);this.oShare.setSelected(false);this.oCreateTile.setSelected(false);this.oExecuteOnSelect.setSelected(false);this._createSaveDialog();this._setDialogCompactStyle(this,this.oSaveDialog);this.oVariantPopOver.close();this.sTransport=null;this.sPackage=null;if(this.bManualVariantKey){this.oInputKey.setVisible(true);this.oInputKey.setEnabled(true);this.oInputKey.setValueState(v.None);this.oInputKey.setValueStateText(null);this.oLabelKey.setVisible(true);}else{this.oInputKey.setVisible(false);this.oLabelKey.setVisible(false);}this.oSaveDialog.open();};x.prototype._checkManageItemNameChange=function(M){var e='';var i=null;var y=this;i=M.getCells()[0];e=i.getValue();e=e.trim();var z=M;var K=z.getKey();this._checkVariantNameConstraints(i,this.oManagementSave,this.oManagementTable);if(i.getValueState()===v.Error){this._eventDone();return;}if(this.oVariantList.getItemByKey(K).getText().trim()===e){this._eventDone();return;}if(z.getGlobal()){var F=function(Q,U){z.setLifecyclePackage(Q);z.setLifecycleTransportId(U);y._eventDone();};var N=function(Q){var U=y.oVariantList.getItemByKey(K);i.setValue(U.getText());y._cancelAllEvents();};this._createManagementDialog();this._assignTransport(z,F,N,this.oManagementDialog);}else{this._eventDone();}};x.prototype._handleManageSavePressed=function(){var N=this.oManagementTable.getItems();var i;var e=false;var y='';var z=null;var F=0;for(var K=0;K<N.length;K++){i=this.oVariantList.getItemByKey(N[K].getKey());if(N[K].getCells()[0].getValue){y=N[K].getCells()[0].getValue();}if(N[K].getCells()[0].getText){y=N[K].getCells()[0].getText();}if(N[K].getCells()[0].getTitle){y=N[K].getCells()[0].getTitle();}y=y.trim();if(i.getText()!==y){this.aRenamedVariants.push({key:i.getKey(),name:y});z=this.getItemByKey(N[K].getKey());z.setText(y);if(z.setLifecyclePackage){z.setLifecyclePackage(N[K].getLifecyclePackage());z.setLifecycleTransportId(N[K].getLifecycleTransportId());}if(this.lastSelectedVariantKey===i.getKey()){this._setVariantText(y);}}if(this.getShowExecuteOnSelection()&&i.getExecuteOnSelection&&i.getExecuteOnSelection()!=N[K].getCells()[3].getSelected()){var M=N[K].getCells()[3].getSelected();var Q=this.getItemByKey(N[K].getKey());if(!Q&&(this.getSupportExecuteOnSelectOnSandardVariant()&(N[K].getKey()===this.getStandardVariantKey()))){Q=new V();}if(Q&&Q.setExecuteOnSelection){Q.setExecuteOnSelection(M);if(this.getSupportExecuteOnSelectOnSandardVariant()&(N[K].getKey()===this.getStandardVariantKey())){this._executeOnSelectForStandardVariantByUser(M);}this.aExeVariants.push({key:i.getKey(),exe:M});if(Q.setLifecyclePackage){Q.setLifecyclePackage(N[K].getLifecyclePackage());Q.setLifecycleTransportId(N[K].getLifecycleTransportId());}}}}if(this.oManagementDialog){this.oManagementDialog.close();}this._manageButtonState();if(this.bVariantItemMode===false){if(this.getDefaultVariantKey()!=this.sNewDefaultKey){var U=null;if(this.sNewDefaultKey==this.getStandardVariantKey()){U=this.getItemByKey(this.getDefaultVariantKey());this.fireSave({name:U.getText(),overwrite:true,key:U.getKey(),def:false});}else{U=this.getItemByKey(this.sNewDefaultKey);this.fireSave({name:U.getText(),overwrite:true,key:U.getKey(),def:true});}}}this.setDefaultVariantKey(this.sNewDefaultKey);for(F=0;F<this.aRemovedVariants.length;F++){i=this.getItemByKey(this.aRemovedVariants[F]);for(var W=0;W<this.aRemovedVariantTransports.length;W++){if(this.aRemovedVariants[F]===this.aRemovedVariantTransports[W].key){var X=this.aRemovedVariantTransports[W];if(i.setLifecyclePackage){i.setLifecycleTransportId(X.transport);}break;}}}this.fireManage({renamed:this.aRenamedVariants,deleted:this.aRemovedVariants,exe:this.aExeVariants,def:this.getDefaultVariantKey()});for(F=0;F<this.aRemovedVariants.length;F++){i=this.getItemByKey(this.aRemovedVariants[F]);if(i){this._removeItem(i);i.destroy();}if(this.lastSelectedVariantKey===this.aRemovedVariants[F]){e=true;this._setSelectedItem(null);this.oModel.setProperty('/enabled',false);}}if(e){this.bFireSelect=true;}this._eventDone();};x.prototype._createEvent=function(N,e){var i={name:N,fFunc:e,args:[]};return i;};x.prototype._handleNextEvent=function(){if(this.aEvents.length>0){if(!this.bEventRunning){this.bEventRunning=true;var e=this.aEvents.pop();e.fFunc.apply(this,e.args);}}};x.prototype._addEvent=function(e){this.aEvents.push(e);this._handleNextEvent();};x.prototype._cancelAllEvents=function(){this.aEvents=[];this.bEventRunning=false;};x.prototype._eventDone=function(){this.bEventRunning=false;this._handleNextEvent();};x.prototype._handleManageExecuteOnSelectionChanged=function(e){var i=this;var M=e.getParent();if(M.getGlobal()){var y=function(F,K){M.setLifecyclePackage(F);M.setLifecycleTransportId(K);i._eventDone();};var z=function(F){e.setSelected(!e.getSelected());i._cancelAllEvents();};this._createManagementDialog();this._assignTransport(M,y,z,this.oManagementDialog);}else{this._eventDone();}};x.prototype._handleManageDeletePressed=function(e){if(!this._anyInErrorState(this.oManagementTable,e.getParent().getCells()[0])){this.oManagementSave.setEnabled(true);}var i=e.getParent();if(i.getGlobal()){var y=this;var z=function(M,N){var Q=i.getKey();y.aRemovedVariants.push(Q);y.oManagementTable.removeItem(i);if(i.getKey()===y.sNewDefaultKey){y.oManagementTable.getItems()[0].getCells()[2].setSelected(true);y.sNewDefaultKey=y.getStandardVariantKey();}i.destroy();var U={key:Q,transport:N};y.aRemovedVariantTransports.push(U);y._eventDone();};var F=function(M){y._cancelAllEvents();};this._createManagementDialog();this._assignTransport(i,z,F,this.oManagementDialog);}else{this.aRemovedVariants.push(i.getKey());this.oManagementTable.removeItem(i);if(i.getKey()===this.sNewDefaultKey){this.oManagementTable.getItems()[0].getCells()[2].setSelected(true);this.sNewDefaultKey=this.getStandardVariantKey();}i.destroy();this._eventDone();}var K=sap.ui.getCore().byId(this.getId()+'-managementcancel');if(K){K.focus();}};x.prototype._handleShareSelected=function(e){var i=this;if(e.getParameters().selected){var y=function(F,K){i.sTransport=K;i.sPackage=F;i._eventDone();};var z=function(F){i.oShare.setSelected(false);i.sTransport=null;i.sPackage=null;i._cancelAllEvents();};this._createSaveDialog();this._assignTransport(null,y,z,this.oSaveDialog);}else{this.sTransport=null;this.sPackage=null;this._eventDone();}};x.prototype._handleVariantSaveAs=function(){var K='SV'+new Date().getTime();var N=this.oInputName.getValue();var M=this.oInputKey.getValue();var e='';var i='';var y=false;var z=false;var F=null;N=N.trim();if(N==''){this.oInputName.setValueState(v.Error);this.oInputName.setValueStateText(this.oResourceBundle.getText('VARIANT_MANAGEMENT_ERROR_EMPTY'));this._cancelAllEvents();return;}M=M.trim();if(this.bManualVariantKey&&M==''){this.oInputKey.setValueState(v.Error);this.oInputKey.setValueStateText(this.oResourceBundle.getText('VARIANT_MANAGEMENT_ERROR_EMPTY'));this._cancelAllEvents();return;}if(this.bManualVariantKey){K=M;}if(this.oSaveDialog){this.oSaveDialog.close();}if(this.oExecuteOnSelect!==null){y=this.oExecuteOnSelect.getSelected();}if(this.oCreateTile!==null){z=this.oCreateTile.getSelected();}if(this.bVariantItemMode){F=new V({key:K,text:N,readOnly:false,executeOnSelection:y,global:this.oShare.getSelected(),lifecycleTransportId:this.sTransport,lifecyclePackage:this.sPackage});this.addVariantItem(F);this._setSelectedItem(F);}else{F=new u({key:K,text:N});this.addItem(F);this._setSelectedItem(F);}if(this.oDefault.getSelected()){this.setDefaultVariantKey(K);}if(this.oShare.getSelected()){i=this.sPackage;e=this.sTransport;}this._manageButtonState();this.fireSave({name:N,overwrite:false,def:this.oDefault.getSelected(),key:K,exe:this.oExecuteOnSelect.getSelected(),tile:z,global:this.oShare.getSelected(),lifecyclePackage:i,lifecycleTransportId:e});this.oModel.setProperty('/enabled',false);this._eventDone();};x.prototype._setBackwardCompatibility=function(F){if(this.getItems().length===0&&this.getVariantItems().length===0){this.bVariantItemMode=!F;}this._setStandardText();};x.prototype._setStandardText=function(){var K=this.getSelectionKey();if(K===null||K===this.getStandardVariantKey()){if(this.bVariantItemMode==false){this._setVariantText(this.oResourceBundle.getText('VARIANT_MANAGEMENT_DEFAULT'));}else{this._setVariantText(this.oResourceBundle.getText('VARIANT_MANAGEMENT_STANDARD'));}if(this.getStandardItemText()!==null&&this.getStandardItemText()!=''){this._setVariantText(this.getStandardItemText());}}};x.prototype._setVariantText=function(e){this.oModel.setProperty('/selectedVariant',e);};x.prototype._updateVariantInvisibletext=function(e,i){if(i){e=this.oResourceBundle.getText('VARIANT_MANAGEMENT_MODIFIED',[e]);}return e;};x.prototype._openVariantManagementDialog=function(){var i;var e=null;var y=0;var M;var N;var z;var F;var K;var Q;var U;var W;var X;var Y;var Z;var $;var _;var a1=this;this.oManagementSave.setEnabled(true);this.oManagementTable.destroyItems();X=function(b1){a1._checkVariantNameConstraints(this,a1.oManagementSave,a1.oManagementTable);};Y=function(b1){var d1=a1._createEvent('inputfieldChange',a1._checkManageItemNameChange);d1.args.push(this.getParent());a1._addEvent(d1);};Z=function(b1){if(b1.getParameters().selected===true){var i=this.getParent();a1.sNewDefaultKey=i.getKey();}};$=function(b1){var d1=a1._createEvent('executeOnSelectionChange',a1._handleManageExecuteOnSelectionChanged);d1.args.push(this);a1._addEvent(d1);};_=function(b1){var d1=a1._createEvent('manageDeletePressed',a1._handleManageDeletePressed);d1.args.push(this);a1._addEvent(d1);};this._initalizeManagementTableColumns();this.sNewDefaultKey=this.getDefaultVariantKey();this._restoreCompleteList();if(this.oVariantList.getItems()[0].getKey()!==this.getStandardVariantKey()&&this.bVariantItemMode==false){i=new V(this.oVariantManage.getId()+'-item-standard',{key:this.getStandardVariantKey(),text:this.oResourceBundle.getText('VARIANT_MANAGEMENT_DEFAULT'),readOnly:true,executeOnSelection:false});this.oVariantList.insertItem(i,0);}e=this.oVariantList.getItems();for(var iH=0;iH<e.length;iH++){if(e[iH].getReadOnly()||e[iH].getLabelReadOnly()){var c1=e[iH].getAccessOptions();W=this._accessOptionsText(c1);}else{W=null;}if(e[iH].getReadOnly()){W=this.oResourceBundle.getText('VARIANT_MANAGEMENT_WRONG_LAYER');}else if(e[iH].getLabelReadOnly()===true){W=this.oResourceBundle.getText('VARIANT_MANAGEMENT_WRONG_LANGUAGE');}if(e[iH].getKey()===this.getStandardVariantKey()){W=null;}M=new E(this.oVariantManage.getId()+'-edit-'+y,{key:e[iH].getKey(),global:e[iH].getGlobal(),lifecyclePackage:e[iH].getLifecyclePackage(),lifecycleTransportId:e[iH].getLifecycleTransportId(),namespace:e[iH].getNamespace(),labelReadOnly:e[iH].getLabelReadOnly(),author:e[iH].getAuthor(),vAlign:w.Middle});if(e[iH].getKey()===this.getStandardVariantKey()||e[iH].getReadOnly()===true||e[iH].getLabelReadOnly()===true){N=new O(this.oVariantManage.getId()+'-text-'+y,{title:e[iH].getText()});if(W){N.setTooltip(W);}}else{N=new I(this.oVariantManage.getId()+'-input-'+y,{value:e[iH].getText(),liveChange:X,change:Y});}M.addCell(N);if(e[iH].getGlobal()){U=this.oResourceBundle.getText('VARIANT_MANAGEMENT_SHARED');}else{U=this.oResourceBundle.getText('VARIANT_MANAGEMENT_PRIVATE');}z=new b(this.oVariantManage.getId()+'-type-'+y,{text:U,wrapping:false});z.addStyleClass('sapUICompVarMngmtType');M.addCell(z);if(this.getShowSetAsDefault()){F=new R(this.oVariantManage.getId()+'-def-'+y,{groupName:this.oVariantManage.getId(),select:Z});if(this.sNewDefaultKey===e[iH].getKey()||e[iH].getKey()===this.getStandardVariantKey()&&this.sNewDefaultKey===''){F.setSelected(true);}M.addCell(F);}if(this.getShowExecuteOnSelection()){K=new l(this.oVariantManage.getId()+'-exe-'+y,{selected:false,enabled:false,select:$});if(e[iH].getExecuteOnSelection){if((e[iH].getKey()===this.getStandardVariantKey()&&this.getSupportExecuteOnSelectOnSandardVariant())){K.setEnabled(true);}else{K.setEnabled(!e[iH].getReadOnly());}K.setSelected(e[iH].getExecuteOnSelection());if(W){K.setTooltip(W);}}M.addCell(K);}z=new b(this.oVariantManage.getId()+'-author-'+y,{text:e[iH].getAuthor(),textAlign:'Begin'});M.addCell(z);Q=new k(this.oVariantManage.getId()+'-del-'+y,{icon:'sap-icon://sys-cancel',enabled:true,type:g.Transparent,press:_,tooltip:this.oResourceBundle.getText('VARIANT_MANAGEMENT_DELETE')});this._assignColumnInfoForDeleteButton(Q);if(e[iH].getReadOnly&&e[iH].getReadOnly()){Q.setEnabled(false);Q.setVisible(false);}M.addCell(Q);this.oManagementTable.addItem(M);y++;}this.aRemovedVariants=[];this.aRemovedVariantTransports=[];this.aRenamedVariants=[];this.aExeVariants=[];this._createManagementDialog();this._setDialogCompactStyle(this,this.oManagementDialog);i=this.oVariantList.getSelectedItem();if(i){this.lastSelectedVariantKey=i.getKey();}this.oVariantPopOver.close();this.oManagementDialog.open();};x.prototype._assignColumnInfoForDeleteButton=function(e){if(!this._oInvisibleDeleteColumnName){this._oInvisibleDeleteColumnName=new s({text:this.oResourceBundle.getText('VARIANT_MANAGEMENT_ACTION_COLUMN')});this._createManagementDialog();this.oManagementDialog.addContent(this._oInvisibleDeleteColumnName);}if(this._oInvisibleDeleteColumnName){e.addAriaLabelledBy(this._oInvisibleDeleteColumnName);}};x.prototype._enableManualVariantKey=function(e){this.bManualVariantKey=e;};x.prototype._fireSelectAsync=function(K){var e;if(K===undefined||K===null){var i=this._getSelectedItem();if(i===null){e=this.getStandardVariantKey();}else{e=i.getKey();}}this.fireSelect({key:e});};x.prototype.setSupportExecuteOnSelectOnSandardVariant=function(F){this.bSupportExecuteOnSelectOnSandardVariant=F;};x.prototype.getSupportExecuteOnSelectOnSandardVariant=function(){return this.bSupportExecuteOnSelectOnSandardVariant;};x.prototype._executeOnSelectForStandardVariantByXML=function(e){this.bExecuteOnSelectForStandardViaXML=e;};x.prototype._executeOnSelectForStandardVariantByUser=function(e){this.bExecuteOnSelectForStandardByUser=e;};x.prototype.getExecuteOnSelectForStandardVariant=function(){if(this.getSupportExecuteOnSelectOnSandardVariant()){if(this.bExecuteOnSelectForStandardByUser!==null){return this.bExecuteOnSelectForStandardByUser;}}return this.bExecuteOnSelectForStandardViaXML;};x.prototype.getStandardVariantKey=function(){return this._sStandardVariantKey;};x.prototype.setStandardVariantKey=function(e){this._sStandardVariantKey=e;};x.prototype._setVendorLayer=function(e){this._isVendorLayer=e;};x.prototype._isIndustrySolutionModeAndVendorLayer=function(){if(this.getIndustrySolutionMode()&&this._isVendorLayer){return true;}return false;};return x;},true);\n"
}}
