/*
 * ! SAP UI development toolkit for HTML5 (SAPUI5)

(c) Copyright 2009-2016 SAP SE. All rights reserved
 */
sap.ui.define(['jquery.sap.global','sap/ui/rta/command/FlexCommand','sap/ui/comp/smartform/flexibility/changes/RenameGroup','sap/ui/comp/smartform/flexibility/changes/RenameField','sap/ui/fl/Change'],function(q,F,R,a,C){"use strict";var b=F.extend("sap.ui.rta.command.Rename",{metadata:{library:"sap.ui.rta",properties:{renamedElement:{type:"object"},newValue:{type:"string",defaultValue:"new text"},oldValue:{type:"string",defaultValue:undefined},renameMetadata:{type:"object"}},associations:{},events:{}}});b.prototype._getSpecificChangeInfo=function(f){var s={changeType:this.getChangeType(),selector:{id:this.getElement().getId()},renamedElement:{id:this.getRenamedElement().getId()},value:f?this.getNewValue():this.getOldValue()};return s;};b.prototype._getFlexChange=function(f){var p=this.getPreparedActionData(f);if(!p){var s=this._getSpecificChangeInfo(f);p=this._completeChangeContent(s);}return p;};b.prototype.undo=function(){var s=this.getPreparedActionData(F.BACKWARD);var r=this.getRenameMetadata().restoreState;if(r){r.call(null,this.getRenamedElement(),s);}else{q.sap.log.error("No restoreState implementation found for rename action ",this.getRenamedElement().getMetadata().getName()+".designtime");}};b.prototype._getForwardActionData=function(e){return this._getFlexChange(F.FORWARD,e);};b.prototype._getBackwardActionData=function(e){var g=this.getRenameMetadata().getState;if(g){return g.call(null,this.getRenamedElement());}else{q.sap.log.error("No getState implementation found for rename action ",this.getRenamedElement().getMetadata().getName()+".designtime");}};b.prototype.serialize=function(){return this._getSpecificChangeInfo(F.FORWARD,this._getElement());};return b;},true);
