/* SAP CVOM 4.0 Â© <2012-2014> SAP SE. All rights reserved. Build Version 6.1.2, Build Context N/A */
sap.viz.extapi.env.Language.register({id:'language',value:{IDS_BASESINGLECHART:"Base Single Chart",IDS_MULTIDUALLINECHART:"Multiple Line Chart with 2 Y-Axes",IDS_HORIZONTALAREACHART:"Horizontal Area Chart",IDS_BULLETFORECASTVALUES:"Forecast Values",IDS_TRELLISPERCENTAGEHORIZONTALAREACHART:"Trellis 100% Horizontal Area Chart",IDS_ANIMATION:"animation",IDS_INVALID_DATE:"Invalid date",IDS_MULTIHORIZONTALAREACHART:"Multiple Horizontal Area Chart",IDS_GRIDVISIBLE:"gridVisible",IDS_ENABLEROUNDCORNER:"enableRoundCorner",IDS_TREECHART:"Tree",IDS_TRELLISHORIZONTALLINECHART:"Trellis Horizontal Line Chart",IDS_MULTISTACKEDBARCHART:"Multiple Stacked Bar Chart",IDS_RADARAXESVALUE:"Radar Axes Values",IDS_MULTIPIEWITHDEPTHCHART:"Multiple Pie with Depth Chart",IDS_TRELLISBARCHART:"Trellis Bar Chart",IDS_PIESECTORCOLORNAME:"Sector Color",IDS_TRELLISDUALPERCENTAGESTACKEDBARCHART:"Trellis 100% Stacked Bar Chart with 2 X-Axes",IDS_TIMEVALUEBUBBLECHART:"Time Bubble Chart",IDS_FORMAT:"Format",IDS_SECONDARYAXISLABELNAME:"Secondary Category Axis",IDS_LABEL:"Label",IDS_TRELLISPERCENTAGESTACKEDBARCHART:"Trellis 100% Stacked Bar Chart",IDS_SECONDARYVALUES:"Secondary Values",IDS_DATA_FRAME:"Data Frame",IDS_SEMANTIC_DEFAULT_TITLE:"Semantic Rules",IDS_TIMEBUBBLECHART:"Time Bubble Chart",IDS_NETLINK:"Network Link",IDS_MULTIPIECHART:"Multiple Pie Chart",IDS_VARIANTBARCHART:"Variant Bar Chart (POC)",IDS_MULTISTACKEDVERTICALBARCHART:"Multiple Stacked Column Chart",IDS_TRELLISAREACHART:"Trellis Area Chart",IDS_MULTIVERTICALBARCHART:"Multiple Column Chart",IDS_INCREASING:"Increasing",IDS_STACKEDVERTICALBARCHART:"Stacked Column Chart",IDS_MULTIPERCENTAGESTACKEDBARCHART:"Multiple 100% Stacked Bar Chart",IDS_VALUE_AXIS:"Value Axis",IDS_ABOVE_IS_GOOD:"Above is Good",IDS_TIMESERIESCOLUMNCHART:"Column Chart for Date/Time Series",IDS_MULTIDUALSTACKEDVERTICALBARCHART:"Multiple Stacked Column Chart with 2 Y-Axes",IDS_TRELLISHORIZONTALCOMBINATIONCHART:"Trellis Combined Bar Line Chart",IDS_SCATTERMATRIXCHART:"Scatter Matrix Chart",IDS_ENDCOLUMN:"endColumn",IDS_DUALSTACKEDVERTICALBARCHART:"Stacked Column Chart with 2 Y-Axes",IDS_DEFAULTMND:"All Measures",IDS_VALUE_SELECTED:"value selected",IDS_MARKERS:"Markers",IDS_TAGFAMILY:"Tags Family",IDS_PRIMARYVALUES:"Primary Values",IDS_DONUTWITHDEPTHCHART:"Donut with Depth Chart",IDS_TREENODE:"Tree Node",IDS_VERTICALBULLETCHART:"Vertical Bullet Chart",IDS_CATEGORY_AXIS2:"Category Axis 2",IDS_MULTIDUALHORIZONTALLINECHART:"Multiple Horizontal Line Chart with 2 X-Axes",IDS_TRELLISBULLETCHART:"Trellis Bullet Chart",IDS_MULTIDUALPERCENTAGESTACKEDVERTICALBARCHART:"Multiple 100% Stacked Column Chart with 2 Y-Axes",IDS_MULTIDONUTWITHDEPTHCHART:"Multiple Donut with Depth Chart",IDS_AUTOBINNINGOTHERS:"Others",IDS_PIESECTORSIZE:"Sector Size",IDS_COMBINATIONCHART:"Combined Column Line Chart",IDS_COLUMNCONFIG:"columnConfig",IDS_MULTIDUALBARCHART:"Multiple Bar Chart with 2 X-Axes",IDS_TAGNAME:"Tags Name",IDS_STARTCOLOR:"startcolor",IDS_PERCENTAGESTACKEDBARCHART:"100% Stacked Bar Chart",IDS_STARTCOLUMN:"startColumn",IDS_TYPE:"Type",IDS_DUALHORIZONTALLINECHART:"Horizontal Line Chart with 2 X-Axes",IDS_NUMBERCHART_VALUE:"Value",IDS_TRELLISSTACKEDCOLUMNCHART:"Trellis Stacked Column Chart",IDS_SHAPE:"Shape",IDS_VERTICALBOXPLOTCHART:"Box Plot",IDS_BASEHORIZONTALCHART:"Base horizontal XY Chart",IDS_TOOLTIPVISIBLE:"tooltipVisible",IDS_SCATTERCHART:"Scatter Plot",IDS_PERCENTAGEAREACHART:"100% Area Chart",IDS_WATERFALLTYPE:"Waterfall Type",IDS_SEMANTICCOLOROTHERS:"Others",IDS_REGIONCOLOR:"Region Color",IDS_HORIZONTALCOMBINATIONCHART:"Combined Bar Line Chart",IDS_BORDER:"Border",IDS_MULTIPERCENTAGEAREACHART:"Multiple 100% Area Chart",IDS_REFERENCEVALUES:"Reference Values",IDS_WATERFALLCHART:"Waterfall Chart",IDS_TRELLISHORIZONTALAREACHART:"Trellis Horizontal Area Chart",IDS_HORIZONTALSTACKEDWATERFALL:"Horizontal Stacked Waterfall Chart",IDS_STACKEDWATERFALLCHART:"Stacked Waterfall Chart",IDS_VISIBLE:"visible",IDS_GRIDLINE:"Gridline",IDS_BULLETADDITIONALVALUES:"Additional Values",IDS_SECONDARYVALUESCOLORPALETTE:"secondaryValuesColorPalette",IDS_SIZE:"size",IDS_MULTIBARCHART:"Multiple Bar Chart",IDS_DUALPERCENTAGESTACKEDVERTICALBARCHART:"100% Stacked Column Chart with 2 Y-Axes",IDS_TRELLISSCATTERCHART:"Trellis Scatter Chart",IDS_TARGET:"Target",ID_FORECAST_VALUES:"Forecast Values",IDS_TAGCLOUDCHART:"Tag Cloud",IDS_TARGETVALUES:"Target Values",IDS_LOWCOLUMN:"lowColumn",IDS_TIMESERIESBUBBLECHART:"Bubble Chart for Date/Time Series",IDS_MULTIBUBBLECHART:"Multiple Bubble Chart",IDS_FILLVISIBLE:"fillVisible",IDS_TRELLISDUALPERCENTAGESTACKEDCOLUMNCHART:"Trellis 100% Stacked Column Chart with 2 Y-Axes",IDS_STACKEDBARCHART:"Stacked Bar Chart",IDS_PIECHART:"Pie Chart",IDS_VERTICALBARCHART:"Column Chart",IDS_TIME_FROM:"From",IDS_SPARKLINECHART:"Spark Line Chart (POC)",IDS_TRELLISPERCENTAGESTACKEDCOLUMNCHART:"Trellis 100% Stacked Column Chart",IDS_ISNOVALUE:"No value",IDS_BUBBLEWIDTH:"Bubble Width",IDS_TIMESERIESSCATTERCHART:"Scatter Plot for Date/Time Series",IDS_BUBBLESIZE:"Bubble Size",IDS_HORIZONTALWATERFALLCHART:"Horizontal Waterfall Chart",IDS_VALUEFORMAT:"valueFormat",IDS_PIEWITHDEPTHCHART:"Pie with Depth Chart",IDS_BASEBUBBLECHART:"Base Scatter Chart",IDS_REFINEVISIBLE:"reflineVisible",IDS_TRELLISSTACKEDBARCHART:"Trellis Stacked Bar Chart",IDS_HEATMAPCHART:"Heat Map",IDS_BULLETACTUALVALUES:"Actual Values",IDS_DUALLINECHART:"Line Chart with 2 Y-Axes",IDS_BELOW_IS_BAD:"Below is Bad",IDS_WIDTH:"Width",IDS_HOVERLINEVISIBLE:"hoverlineVisible",IDS_MEKKOCHART:"Marimekko chart",IDS_COMBINATIONEXCHART:"Combination Chart",IDS_HORIZONTALMEKKOCHART:"Horizontal Marimekko Chart",IDS_BUBBLECHART:"Bubble Chart",IDS_BASEMULTIPLEXYCHART:"Base Multiple XY Chart",IDS_HEADERVISIBLE:"headerVisible",IDS_TRELLISVERTICALBULLETCHART:"Trellis Vertical Bullet Chart",IDS_LINECHART:"Line Chart",IDS_BUBBLEHEIGHT:"Bubble Height",IDS_NUMBERCHART:"Numeric Point",IDS_PERCENTAGEHORIZONTALMEKKOCHART:"100% Horizontal Marimekko Chart",IDS_MARKER:"Marker",IDS_PERCENTAGESTACKEDVERTICALBARCHART:"100% Stacked Column Chart",IDS_BASEVERTICALCHART:"Base Vertical XY Chart",IDS_DIUALLINECHART:"Line Chart with 2 Y-Axes",IDS_TRELLIS_COLUMN:"Trellis Column",IDS_BASEMULTIPLECHART:"Base Multiple Chart",IDS_PERCENTAGEMEKKOCHART:"100% Marimekko Chart",IDS_MULTIDUALVERTICALBARCHART:"Multiple Column Chart with 2 Y-Axes",IDS_DUALCOMBINATIONCHART:"Combined Column Line Chart with 2 Y-Axes",IDS_RADARCHART:"Radar Chart",IDS_TRELLISCOMBINATIONCHART:"Trellis Combined Column Line Chart",IDS_DUALSTACKEDBARCHART:"Stacked Bar Chart with 2 X-Axes",IDS_TRELLISPERCENTAGEAREACHART:"Trellis 100% Area Chart",IDS_TRELLISDUALSTACKEDCOLUMNCHART:"Trellis Stacked Column Chart with 2 Y-Axes",IDS_SELECTABILITY:"Selectability",IDS_AXISVISIBLE:"axisVisible",IDS_DEFAULTCHARTTITLE:"Title of Chart",IDS_MULTIPERCENTAGESTACKEDVERTICALBARCHART:"Multiple 100% Stacked Column Chart",IDS_MULTIDUALSTACKEDBARCHART:"Multiple Stacked Bar Chart with 2 X-Axes",IDS_AXISLABELS:"Axis Labels",IDS_MULTIRADARCHART:"Multiple Radar Chart",IDS_TRELLIS_ROW:"Trellis Row",IDS_MULTILINECHART:"Multiple Line Chart",IDS_BARCHART:"Bar Chart",IDS_3D_BAR:"3D Bar Chart",IDS_TRELLISCOLUMNCHART:"Trellis Column Chart",IDS_DATAUPDATING:"dataUpdating",IDS_3D_COLUMN:"3D Column Chart",IDS_TRELLISPIECHART:"Trellis Pie Chart",IDS_HORIZONTALLINECHART:"Horizontal Line Chart",IDS_NETWORKCHART:"Network Chart",IDS_DUALVERTICALBARCHART:"Column Chart with 2 Y-Axes",IDS_DECREASING:"Decreasing",IDS_RECTANGLEWEIGHT:"Rectangle Weight",IDS_PIEDEPTHSIZE:"Depth Size",IDS_MULTIHORIZONTALLINECHART:"Multiple Horizontal Line Chart",IDS_DUALHORIZONTALSTACKEDCOMBINATIONCHART:"Horizontal Combined Stacked Line Chart with 2 X-Axes",IDS_COLOR:"color",IDS_TEXT:"Text",IDS_DUALBARCHART:"Bar Chart with 2 X-Axes",IDS_TRELLISLINECHART:"Trellis Line Chart",IDS_DATALOADING:"dataLoading",IDS_BASECHART:"Base Chart",IDS_HORIZONTALBOXPLOTCHART:"Horizontal Box Plot",IDS_TRELLISDUALCOLUMNCHART:"Trellis Column Chart with 2 Y-Axes",IDS_LINECONFIG:"lineConfig",IDS_VALUES_SELECTED:"values selected",IDS_DUALHORIZONTALCOMBINATIONCHART:"Combined Bar Line Chart with 2 X-Axes",IDS_PRIMARYVALUECOLORPALETTE:"primaryValuesColorPalette",IDS_TRELLISDONUTCHART:"Trellis Donut Chart",IDS_PERCENTAGEHORIZONTALAREACHART:"100% Horizontal Area Chart",IDS_HIGHCOLUMN:"highColumn",IDS_TREEMAPCHART:"Tree Map",IDS_TIMESERIESPERCENTSTACKEDCOLUMNCHART:"100% Stacked Column Chart for Date/Time Series",IDS_MULTISCATTERCHART:"Multiple Scatter Plot",IDS_TIMELINECHART:"Line Chart for Date/Time Series",IDS_SEMANTICCOLORRANGE:"Semantic Range",IDS_MODE:"Mode",IDS_TRELLISDUALLINECHART:"Trellis Line Chart with 2 Y-Axes",IDS_TIME_TO:"To",IDS_BULLETCHART:"Bullet Chart",IDS_AREACHART:"Area Chart",IDS_FORECAST_VALUES:"Forecast Values",IDS_LINE:"Line",IDS_ENDCOLOR:"endcolor",IDS_CATEGORY_AXIS:"Category Axis",IDS_TIMESERIESSTACKEDCOLUMNCHART:"Stacked Column Chart for Date/Time Series",IDS_DUALPERCENTAGESTACKEDBARCHART:"100% Stacked Bar Chart with 2 X-Axes",IDS_VALUE_AXIS2:"Value Axis 2",IDS_WEIGHT:"weight",IDS_REGIONSHAPE:"Region Shape",IDS_DONUTCHART:"Donut Chart",IDS_TITLE:"Title",IDS_TIMESERIESWATERFALLCHART:"Waterfall Chart for Date/Time Series",IDS_CURRENT_SELECTION:"Current Selection",IDS_MULTIPERCENTAGEHORIZONTALAREACHART:"Multiple 100% Horizontal Area Chart",IDS_RECTANGLECOLOR:"Rectangle Color",IDS_CATEGORYAXIS:"Axis Labels Category",IDS_COLUMNSEQUENCE:"columnSequence",IDS_MAINLABELAXISNAME:"Main Category Axis",IDS_RADARAXES:"Radar Axes",IDS_HORIZONTALSTACKEDCOMBINATIONCHART:"Horizontal Combined Stacked Line Chart",IDS_DRAWINGEFFECT:"drawingEffect",IDS_SHOWFIRSTLINE:"showFirstLine",IDS_MULTIDUALPERCENTAGESTACKEDBARCHART:"Multiple 100% Stacked Bar Chart with 2 X-Axes",IDS_TRELLISBUBBLECHART:"Trellis Bubble Chart",IDS_TRELLISDUALBARCHART:"Trellis Bar Chart with 2 X-Axes",IDS_TRELLISDUALHORIZONTALLINECHART:"Trellis Horizontal Line Chart with 2 X-Axes",IDS_TAGWEIGHT:"Tags Weight",IDS_BAR:"Bar",IDS_STACKEDCOMBINATIONCHART:"Combined Stacked Line Chart",IDS_POSITION:"Position",IDS_TRELLISDUALSTACKEDBARCHART:"Trellis Stacked Bar Chart with 2 X-Axes",IDS_MULTIAREACHART:"Multiple Area Chart",IDS_DUALSTACKEDCOMBINATIONCHART:"Combined Stacked Line Chart with 2 Y-Axes",IDS_MULTIDONUTCHART:"Multiple Donut Chart",IDS_RECTANGLETITLE:"Rectangle Title",}});(function(){if(requirejs&&requirejs.s&&requirejs.s.contexts&&requirejs.s.contexts._){window.__sap_viz_internal_requirejs_nextTick__=requirejs.s.contexts._.nextTick;requirejs.s.contexts._.nextTick=function(f){f();};}})();(function(g){var o=Object.prototype.toString;function a(i){return o.call(i)==='[object Function]';}function b(i){return o.call(i)==='[object Array]';}function m(t,s){for(var f in s){if(s.hasOwnProperty(f)){t[f]=s[f];}}if(a(t)&&a(s)){t=s;}return t;}function e(h,j){for(var i=0,n=h.split("/"),p=g,c;c=n[i];++i){if(i<n.length-1){p[c]=p[c]||{};}else{p[c]=p[c]?m(p[c],j):j;}p=p[c];}}if(define&&define.amd&&!define.__exportNS){var d=define;define=function(n,c,h){if(typeof n!=='string'){h=c;c=n;n=null;}if(!b(c)){h=c;c=[];}var i=c.indexOf('exports')>=0;var j=i||c.indexOf('require')>=0;if(i){c.push('module');var k=h;h=function(){var l=arguments.length-1;var p=arguments[l];var r=k;if(a(k)){var q=[].slice.apply(arguments,[0,l]);r=k.apply(this,q);}e(p.id,r);return r;};}if(n&&j){define.__autoLoad.push(n);}return n?d(n,c,h):d(c,h);};for(var f in d){define[f]=d[f];}define.__exportNS=d;define.__autoLoad=[];}})(this);define('sap/viz/chart/layout/BaseLayout',['sap/viz/framework/property/PropertyManager'],function(P){function B(c){this.config=new P();this.config.add({container:c,totalWidth:0,totalHeight:0});}var p=B.prototype;p.layout=function(c){};p._dictToArray=function(d){var a=[];for(var k in d){if(d.hasOwnProperty(k)){a.push(d[k]);}}return a;};p.destroy=function(){this.config.destroy();this.config=null;};return B;});define('sap/viz/chart/layout/DockLayout',["sap/viz/framework/common/util/oo",'sap/viz/framework/common/util/Constants','sap/viz/framework/common/util/TypeUtils','sap/viz/framework/common/util/NumberUtils','sap/viz/framework/common/util/PositionUtil',"sap/viz/chart/layout/BaseLayout"],function(o,C,T,N,P,B){var D=function(){D.superclass.constructor.apply(this,arguments);this.config.add({padding:null,paddingLeft:null,paddingRight:null,paddingTop:null,paddingBottom:null,isTrellis:false});};o.extend(D,B);D.Position={top:"top",bottom:"bottom",left:"left",right:"right"};var M=108;var c=5;var d=0;function h(b,p,m,i){var a=p.minWidth||0;var f=p.minHeight||0;if(b.width<a||b.height<f){return false;}if(p.width&&p.height){if(p.width<p.minWidth||p.height<p.minHeight){return false;}}if(i===false&&m.maxWidth&&m.maxWidth<p.minWidth){return false;}if(i===true&&m.maxHeight&&m.maxHeight<p.minHeight){return false;}return true;}function g(w,a,l){var r={};if(l==null){return r;}[{d:'width',md:'maxWidth',pd:w},{d:'height',md:'maxHeight',pd:a}].forEach(function(b){var f,i;f=parseFloat(l[b.d])>=0&&N.getSizeValue(l[b.d],b.pd);i=N.getSizeValue(l[b.md],b.pd);if(f>i){r[b.md]=f;}else if(l[b.md]){r[b.md]=i;}});return r;}function e(a,w,b){var f=N.getPositiveInt;var i=C.PADDING.DEFAULT;if(i<1&&i>0){i=i*Math.min(w,b);}var p=f(a.get("padding"),i);var j=f(a.get("paddingTop"),p);var k=f(a.get("paddingRight"),p);var l=f(a.get("paddingBottom"),p);var m=f(a.get("paddingLeft"),p);if(w<=M||b<=M){j=Math.min(c,j);k=Math.min(c,k);l=Math.min(c,l);m=Math.min(c,m);a.set('paddingTop',j);a.set('paddingRight',k);a.set('paddingBottom',l);a.set('paddingLeft',m);}return{paddingTop:j,paddingRight:k,paddingBottom:l,paddingLeft:m};}function s(x){return x.option.spacing;}D.prototype.layout=function(f,j){var k=this.config;var w=k.get('totalWidth');var l=k.get('totalHeight');var m=s;var p=e(k,w,l);var n={x:p.paddingLeft,y:p.paddingTop,width:(w-(p.paddingLeft+p.paddingRight))>0?(w-(p.paddingLeft+p.paddingRight)):d,height:(l-(p.paddingTop+p.paddingBottom))>0?(l-(p.paddingTop+p.paddingBottom)):d};var q=n.width;var r=n.height;var t=this._dictToArray(f);t.sort(function(a,b){return a.option.priority-b.option.priority;});var u={};var v=k.get('isTrellis');var x=function(n){if(n.width<1){n.width=0;}if(n.height<1){n.height=0;}};for(var i=0;i<t.length;i++){var y=t[i];var z=y.option;var A=y.module;var E=g(q,r,z);var F=P.isHorizontal(z.position);var G=(F?parseFloat(z.height)>=0:parseFloat(z.width)>=0)&&y.module.properties().visible===true;if(z&&z.position){var H,I;var J=m(y);if(J){H=J.spacingWithMainToRough||0;I=J.spacingMaxInPX||0;}else{H=0;I=0;}if(G){n.maxWidth=N.getSizeValue(z.width,n.width-Math.min(H*n.width,I));n.maxHeight=N.getSizeValue(z.height,n.height-(A.alias==='title'?0:Math.min(H*n.height,I)));}var K=A.getPreferredSize(n,v,G,j);if(!G&&!h(n,K,E,F)){u[A.alias]={x:0,y:0,width:0,height:0};continue;}var L={width:G?N.getSizeValue(z.width,n.width-Math.min(H*n.width,I)):K.width,height:G?N.getSizeValue(z.height,n.height-(A.alias==='title'?0:Math.min(H*n.height,I))):K.height};if(F){if(K.maxSize&&K.maxSize.width<n.width){L.actualWidth=K.maxSize.width;}L.width=n.width;if(E.maxHeight&&E.maxHeight<L.height){L.height=E.maxHeight;}}else{if(K.maxSize&&K.maxSize.height<n.height){L.actualHeight=K.maxSize.height;}L.height=n.height;if(E.maxWidth&&E.maxWidth<L.width){L.width=E.maxWidth;}}if(!G&&(L.width===0||L.height===0)){H=0;I=0;}var O=z.position;if(D.Position[O]===undefined){if(z.defaultPosition){O=z.defaultPosition;}}var Q=0;if(O===D.Position.top){Q=G&&A.alias==='title'?0:Math.min(H*n.height,I);L.x=n.x;L.y=n.y;n.y+=(L.height+Q);n.height-=(L.height+Q);}else if(O===D.Position.bottom){Q=G&&A.alias==='title'?0:Math.min(H*n.height,I);n.height-=L.height;L.x=n.x;L.y=n.y+n.height;n.height-=Q;if(n.height<0){n.height=0;}}else if(O===D.Position.left){Q=Math.min(H*n.width,I);L.x=n.x;L.y=n.y;n.x+=L.width+Q;n.width-=(L.width+Q);}else if(O===D.Position.right){Q=Math.min(H*n.width,I);n.width-=L.width;L.x=n.x+n.width;L.y=n.y;n.width-=Q;if(n.width<0){n.width=0;}}u[A.alias]=L;if(G){x(n);if(!h(L,K,E,F)){u[A.alias]={x:u[A.alias].x?u[A.alias].x:0,y:u[A.alias].y?u[A.alias].y:0,width:0,height:0};}}}else{u[A.alias]={x:n.x,y:n.y,width:n.width,height:n.height};}}return u;};return D;});define('sap/viz/chart/layout/GridLayout',["sap/viz/framework/common/util/oo",'sap/viz/framework/common/util/Constants','sap/viz/framework/common/util/TypeUtils','sap/viz/framework/common/util/NumberUtils','sap/viz/framework/common/util/PositionUtil',"sap/viz/chart/layout/DockLayout"],function(o,C,T,N,P,D){var G=function(){G.superclass.constructor.apply(this,arguments);this.config.add({legendGroup:{layout:{respectPlotPosition:true,alignment:"topLeft",}}});};o.extend(G,D);G.prototype.layout=function(c,a){var p=D.Position;var r=G.superclass.layout.call(this,c,a);var b=this._getCenterModuleKey(c,p);if(b==null){for(var i in c){if(c.hasOwnProperty(i)){var d=c[i].module;d.setSize(r[i]);if(d.layout){d.layout();}}}return r;}var e=r[b];var f=c[b].module;f.setSize(e);if(f.layout){f.layout(a);}var g=e.x;var h=e.y;var j=e.width;var k=e.height;if(f.getPlotPosition){var l=f.getPlotPosition();g+=l.x;j=l.width;h+=l.y;k=l.height;}for(var m in c){if(c.hasOwnProperty(m)){if(m===b){continue;}var n=c[m].option;var q=n.position||n.defaultPosition;if(m!==C.LEGEND_GROUP.KEY||this.config.get("legendGroup.layout.respectPlotPosition")){if(q==="top"||q==="bottom"){r[m].x=g;r[m].width=j;}else if(q==="left"||q==="right"){r[m].y=h;r[m].height=k;}}if(m===C.LEGEND_GROUP.KEY&&this.config.get("legendGroup.layout.alignment")==="center"){if((q==="left"||q==="right")&&r[m].actualHeight&&r[m].actualHeight<r[m].height){r[m].y+=(r[m].height-r[m].actualHeight)/2;}else if((q==="top"||q==="bottom")&&r[m].actualWidth&&r[m].actualWidth<r[m].width){r[m].x+=(r[m].width-r[m].actualWidth)/2;}}if(m===C.LEGEND_GROUP.KEY&&a.isRTL&&this.config.get("legendGroup.layout.alignment")==="topLeft"&&(q==="top"||q==="bottom")){var s=r[m].width-r[m].actualWidth;if(s>0){r[m].x+=s;}}var t=c[m].module;t.setSize(r[m]);if(t.layout){t.layout();}}}return r;};G.prototype._getCenterModuleKey=function(c,p){for(var k in c){if(c.hasOwnProperty(k)){var a=c[k].option;var b=a.position||a.defaultPosition;if(p[b]==null){return k;}}}return null;};return G;});define('sap/viz/chart/components/UIComponent',["sap/viz/framework/common/util/EventDispatch","sap/viz/framework/core/Runtime","sap/viz/framework/property/PropertyManager"],function Setup(E,R,P){var U=function(r,o){o=o||{};this._options=o;this._name=o.name?o.name:null;this._eventDispatch=new E();this._data=null;this.alias=o.alias||null;this._renderTo='SVG';this._size={width:0,height:0};this._realSize={width:0,height:0};this._runtime=r?r:R._create(o);var p=o.properties||this._runtime._propertyMgr;this._properties=(this._name)?p.proxy(this._name):p;if(r==null){this._addDefaultProperties();}};U.prototype.properties=function(p){if(arguments.length===0||typeof p==='string'){return this._properties.get(p);}this._properties.set(p);};U.prototype.runtime=function(){return this._runtime;};U.prototype.isVisible=function(){return true;};U.prototype.getName=function(){return this._name;};U.prototype.setData=function(d){this._data=d;return this;};U.prototype.getData=function(){return this._data;};U.prototype.renderTo=function(d){if(arguments.length){this._renderTo=d;return this;}return this._renderTo;};U.prototype.setSize=function(s){if(s.width!=null){this._size.width=s.width;this._realSize.width=s.width;}if(s.height!=null){this._size.height=s.height;this._realSize.height=s.height;}return this;};U.prototype.getSize=function(){return{height:this._size.height,width:this._size.width};};U.prototype.clearSize=function(){this._size.height=0;this._size.width=0;return this;};U.prototype.setRealSize=function(s){if(s.width!=null){this._realSize.width=s.width;}if(s.height!=null){this._realSize.height=s.height;}return this;};U.prototype.getPreferredSize=function(m){};U.prototype.render=function(r){};U.prototype.getDispatch=function(){return this._eventDispatch;};U.prototype.destroy=function(){if(this._eventDispatch){this._eventDispatch.destroy();}this._runtime=null;this._eventDispatch=null;this._data=null;if(this._properties&&this._properties.origin!=this._properties){this._properties.destroy();}this._properties=null;this._size=null;this._name=null;this._options=null;this._renderTo=null;this._realSize=null;this.alias=null;};U.prototype._exposeMoreEvents=function(){this._eventDispatch.addEventTypes.apply(this._eventDispatch,arguments);return this;};U.prototype._addDefaultProperties=function(){};U.prototype.statusChanged=function(s){};return U;});define('sap/viz/chart/components/util/BoundUtil',[],function Setup(){var c='v-bound';var B={drawBound:function(s,w,h,a,b){var r;if(w<0||h<0){return null;}if(s.select('.'+c).node()==null){r=s.insert('rect',':first-child').attr('class',c).attr('width',w).attr('height',h);if(b){r.attr("fill","transparent");}else{r.attr('visibility','hidden');}}else{r=s.select('.'+c).attr('width',w).attr('height',h);}if(a){for(var i in a){if(a.hasOwnProperty(i)){r.attr(i,a[i]);}}}return r;}};return B;});define('sap/viz/chart/components/util/StyleUtils',[],function(){var c={color:"fill",fontFamily:"font-family",fontSize:"font-size",fontWeight:"font-weight",fontStyle:"font-style"};var s={};s.convertToCss=function(a){var r=[];for(var n in c){if(a[n]!=null){r.push(c[n]+":"+a[n]);}}return r.join(";");};s.buildParentStyle=function(a,p){var r={};var b;for(b in a){if(a.hasOwnProperty(b)){r[b]=(p&&p[b])||a[b];}}return r;};return s;});define('sap/viz/chart/components/util/TextUtils',['sap/viz/framework/common/util/TypeUtils',"sap/viz/framework/common/util/NumberUtils",'sap/viz/framework/common/util/UADetector',"sap/viz/framework/common/util/GeometryUtils",'sap/viz/chart/components/util/StyleUtils'],function Setup(T,N,U,G,S){var n="http://www.w3.org/2000/svg";var a;var b;var c;var d;var f;var g;var j=["font","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","letter-spacing","word-spacing","alignment-baseline","baseline-shift","dominant-baseline"];var t={};var k=[];var l={};var m={};var o=[];var p={};function q(){var s=document.body.appendChild(document.createElementNS(n,"svg"));s.style.cssText="position:absolute;top:-1000px;z-index:-9000;width:1px;height:1px";return s;}function u(){if(!a){if(!b){b=q();}a=b.appendChild(document.createElementNS(n,"text"));}return a;}function v(e,h){var a=u();if(!h){a.removeAttribute("style");}else{if(!T.isString(h)){var r=U.isIE()?h.ownerSVGElement.getComputedStyle(h):window.getComputedStyle(h);var y="";j.forEach(function(i){var s=r.getPropertyValue(i);if(s!==null){y+=i+":"+s+";";}});h=y;}a.style.cssText=h;}if(e===undefined||e===null){e="";}a.textContent=e;return a;}function w(a){var e=a.textContent;if(e.substr(e.length-1,1)===' '){var s='M';a.textContent=s;var h=a.getComputedTextLength();a.textContent=e+s;var i=a.getComputedTextLength();var r=i-h;a.textContent=e;return r;}else{return a.getComputedTextLength();}}function x(a,i){return(U.isIE()&&(i<=0||(a.getSubStringLength(0,(i-1))<a.getSubStringLength(0,i))));}function z(e,h,r,s,y,E){var F={};F.realLength=0;var H="..."+s;var I="";if(e){I=e.toString();}var J=0;if(r>0){if(o[H]){if(I.length>3){if(r<o[H]/3*4){if(h){h.textContent="";}F.text="";return F;}}else{if(r<o[H]/3*I.length){if(h){h.textContent="";}F.text="";return F;}}}var a,K;H=I+s;a=y?u():v(I,s||h);K=w(a);if(K<=r){if(h){h.textContent=I;}F.text=I;F.realLength=K;return F;}H="..."+s;if(!o[H]){a.textContent="...";o[H]=a.getComputedTextLength();}J=o[H];r-=J;a.textContent=I;if(r>0){var L=I.length;var i=Math.ceil(r/K*L);var M=I.substring(0,i);H=M+s;var O;var P;var Q=a.textContent.toString();if(!x(a,i)){a.textContent=Q.substring(0,i);O=w(a);}else{O=a.getSubStringLength(0,i);}var R=O;if(O<=r){while(++i<=L){M=I.substring(0,i);H=M+s;if(!x(a,i)){a.textContent=Q.substring(0,i);O=w(a);}else{O=a.getSubStringLength(0,i);}if(O>r){if(E){P="..."+I.substring(0,i-1);}else{P=I.substring(0,i-1)+"...";}if(h){h.textContent=P;h.appendChild(document.createElementNS(h.namespaceURI,"title")).textContent=I;}F.text=P;F.realLength=R+J;return F;}R=O;}}else{while(--i>0){M=I.substring(0,i);H=M+s;if(!x(a,i)){a.textContent=Q.substring(0,i);O=w(a);}else{O=a.getSubStringLength(0,i);}if(O<=r){if(E){P="..."+M;}else{P=M+"...";}if(h){h.textContent=P;h.appendChild(document.createElementNS(h.namespaceURI,"title")).textContent=I;}F.text=P;F.realLength=O+J;return F;}}}}}if(h){h.textContent="";}F.text="";return F;}function A(h){var i={};var r=[];h.forEach(function(e){if(!i[e]){i[e]=true;r.push(e);}});return r;}function B(e){if("[]\\^$.|?*+(){}".split("").indexOf(e)>-1){return"\\"+e;}else{return e;}}function C(s,e){if(s==null||s===""){return s;}var h=A(s.split(""));var r="["+h.map(B).join("")+"]+";var i=true;if(e==="start"){r="^"+r;i=false;}else if(e==="end"){r=r+"$";i=false;}return i?new RegExp(r,"g"):new RegExp(r);}function D(e){return C(e.join(""));}return{measure:function(e,s){if(e===''){return{width:0,height:0,x:0,y:0};}var h=G.getBBox(v(e,s));return{width:h.width,height:h.height,x:h.x,y:h.y};},measureInCanvas:function(e,h,i,r){if(!r||!h||!i){return;}var s=0;if(!c){c=document.createElement("canvas");c.style.cssText="position:absolute;top:-1000px;z-index:-9000;width:0px;height:0px;visibility:hidden";document.body.appendChild(c);}if(c.getContext){if(!d){d=c.getContext("2d");}var y=i+" "+h+" "+r;if(f!=y){f=y;d.font=y;}s=d.measureText(e).width;}if(!l[h]){l[h]=N.preciseSimple(parseFloat(h)*1.2);}var E=l[h];return{width:s,height:E};},fastMeasure:function(e,h,i,r,s){var y=e+h+i+r;if(s){y+=s;}var E=t[y];if(!E){var F="font-size:"+h+"; font-weight:"+i+"; font-family:"+r;if(s){F=F+'; font-style: '+s;}t[y]=this.measure(e,F);E=t[y];}return{width:E.width,height:E.height,x:E.x,y:E.y};},bestMeasureFun:function(e,h,r){if(!g){var i;var s=100;var y="Test";var E=new Date().getTime();for(i=0;i<s;i++){this.measureInCanvas(y,e,h,r);}var F=new Date().getTime();var H=F-E;var I=new Date().getTime();for(i=0;i<s;i++){this.measure(y,"font-size:"+e+"; font-weight:"+h+"; font-family:"+r);}var J=new Date().getTime();var K=J-I;if(H<K){g="C";}else{g="M";}}return g;},superFastMeasure:function(e,F,h,i){var r,s,y,E,H;if(arguments.length===2){H=this.parseStyle(F);s=H.FontSize;y=H.FontWeight;E=H.FontFamily;}else if(arguments.length===4){s=F;y=h;E=i;}r=e+s+y+E;var I=k[r];if(!I){if(this.bestMeasureFun(s,y,E)==="C"){k[r]=this.measureInCanvas(e,s,y,E);}else{k[r]=this.measure(e,"font-size:"+s+"; font-weight:"+y+"; font-family:"+E);}I=k[r];}return I;},canvasMeasure:function(e,F,h,i){var r,s,y,E,H;if(arguments.length===2){H=this.parseStyle(F);s=H.FontSize;y=H.FontWeight;E=H.FontFamily;}else if(arguments.length===4){s=F;y=h;E=i;}s=s.toString();var I=s[s.length-1];if(!isNaN(parseFloat(I))){s+="px";}r=e+s+y+E;var J=m[r];if(!J){J=(m[r]=this.measureInCanvas(e,s,y,E));}return J;},ellipsis:function(e,h,i,r,s){var y=z(e,h,i,r,false,(s&&s.reverseDots));if(s&&s.needRealLength){return y;}else{return y.text;}},ellipsisInCircle:function(e,i,r,h,s){var a=v(e,i);var y=Math.sqrt(Math.pow(r,2)-Math.pow(h+G.getBBox(a).height/2,2))*2;z(e,i,y,s,true);},verticalCentralOffset:function(e,h){var i=v(e,h);var r=G.getBBox(i);var s=-r.y;var y=parseInt(i.ownerSVGElement.getComputedStyle(i)["fontSize"],0);return(s-(r.height-y))/2;},parseStyle:function(s){var e={};var h=s.toLowerCase();e.FontSize=this.getStyleValue(h,"font-size");e.FontWeight=this.getStyleValue(h,"font-weight");e.FontFamily=this.getStyleValue(h,"font-family");return e;},getStyleValue:function(s,e){var r,i,h;i=s.indexOf(e);if(i>=0){i=s.indexOf(":",i)+1;h=s.indexOf(";",i);if(h<0){h=s.length;}r=s.substring(i,h);}return r;},getTextBaselineOffset:function(s){var e=this.fastMeasure("Tag",s['fontSize'],s['fontWeight'],s['fontFamily']);return e.height+e.y;},getTextBBox:function(e){var h;if(e.parentNode){h=G.getBBox(e);}else{if(!b){b=q();}b.appendChild(e);h=G.getBBox(e);}return h;},validateFontStyle:function(s){if(T.isNumber(s)){return s+"px";}return s;},destroy:function(){if(b&&b.parentNode){b.parentNode.removeChild(b);}b=null;a=null;t=[];k=[];l={};m={};o=[];if(c){c.parentNode.removeChild(c);}c=null;d=null;f=null;},wrapText:function(e,h,r,s,y){var E,F=false,H=0;var I=S.convertToCss(y);var J=[];var K=this.getTextLength("M...",I);if(s===1){E=this.getTextLength(e,I);if(r===undefined||r===null){F=true;H=E;}else{F=E>r;H=Math.min(E,r);}return{"lines":[e],"maxWidth":H,"beyond":F,"lineWidthArray":[H]};}var L=D(h);var M=String(e).trim();if(M===""){return{"lines":[e],"maxWidth":H,"beyond":F,"lineWidthArray":[H]};}var O=[];var P=M.split(L);var Q=P.length;if(Q<=1){O=[e];H=this.getTextLength(e,I);if(r===undefined||r===null){F=true;}else{F=H>r;H=Math.min(H,r);}J=[H];}else{var R;if(L===""){R=Array.apply(null,new Array(Q-1)).map(String.prototype.valueOf,"");}else{R=M.match(L);}var V=R.length;var W=0;var X="";var Y;for(var i=0;i<Q;++i){if(F){X=X+(i<V?P[i]+R[i]:P[i]);}else{var Z=X+(i<V?P[i]+R[i]:P[i]);Y=E;E=this.getTextLength(Z,I);++W;if(E>r){if(W===1||O.length===s-1){F=true;H=r>K?r:K;X=Z;continue;}else{O.push(X);J.push(Y);--i;W=0;X="";}}else{H=Math.max(H,E);X=Z;if(i===Q-1){O.push(X);J.push(E);}}}}if(F){O.push(X);J.push(H);}}return{"lines":O,"maxWidth":H,"beyond":F,"lineWidthArray":J};},drawWrappedText:function(e,h,r,s,E,F,H,I){var J;var K;var L=true;if(I){J=I.isRTL;K=I.ellipsisOptions;L=I.middleText;}if(T.isString(h)){h=this.wrapText(h,r,E,s,H);}e.selectAll('tspan').remove();e.selectAll('title').remove();var M=h.lines;var O=M.length;var y=0;for(var i=0;i<O;++i){var P=e.append("tspan").attr('aria-hidden',true);if(h.beyond){this.ellipsis(M[i],P.node(),E,S.convertToCss(H),K);P.selectAll('title').remove();}else{P.node().textContent=M[i];}P.attr("y",y).attr("x",0).attr('font-weight',H['fontWeight']).attr('font-family',H['fontFamily']).attr('font-size',H['fontSize']).attr('font-style',H['fontStyle']);y+=F;var Q;if(L){Q=h.lineWidthArray[i];P.attr("x",(E-Q)/2);}else if(J){Q=h.beyond?P.node().getComputedTextLength():h.maxWidth;P.attr("x",E-Q);}}e.attr("height",F*O);if(h.beyond){e.append("title").node().textContent=h.lines.join("");}var R=0;if(h&&h.maxWidth){R=h.maxWidth;}return R;},getTextLength:function(e,h){var i=e+h;var r=p[i];if(!r){var a=v(e,h);p[i]=w(a);r=p[i];}return r;}};});define('sap/viz/chart/components/title/Title',['sap/viz/framework/common/util/oo','sap/viz/chart/components/UIComponent','sap/viz/framework/common/lang/LangManager','sap/viz/chart/components/util/BoundUtil','sap/viz/chart/components/util/TextUtils','sap/viz/chart/components/util/StyleUtils','sap/viz/framework/common/util/UADetector','sap/viz/framework/common/util/PropertyZoneUtil'],function(o,U,l,B,T,S,a,P){var b=function(r,c){b.superclass.constructor.apply(this,arguments);this._wrapper=null;this._height=0;this._width=0;this._pfSize={maxWidth:0,maxHeight:0,minWidth:0,minHeight:0,width:0,height:0};var t=this;r.zoneManager().add({tempPropertyZone:{title:{value:[],readonly:true,serializable:false,get:function(){var d=[],e,f;if(t.isVisible()){e=t._wrapper.node().getBoundingClientRect();f=[[]];f[0].push([e.left,e.top]);f[0].push([e.right,e.top]);f[0].push([e.right,e.bottom]);f[0].push([e.left,e.bottom]);d.push({"name":'title',"bound":f});if(t._wrapper&&t._wrapper.node()){var h=t._wrapper.node().ownerSVGElement;P.calcOffsetFromChart(h,d);}}return d;}}}});var p=this._properties;['height'].forEach(function(e){var d={set:function(v,h){if(v===null||parseFloat(v)>=0){return v;}else{return h.value;}}},f={layout:{}};f.layout[e]=d;p.add(f);});var g=this.runtime().graphicModel();if(g){g.registerExposedModule(c.name);}};o.extend(b,U);b.prototype.setPosition=function(p){this._position=p;};b.prototype.setSize=function(v){this._width=v.width;this._height=v.height;};b.prototype.getSize=function(){return{width:this._width,height:this._height};};b.prototype.getPosition=function(){var p="layout.position",c=this._position||this._properties.get(p);if(["top","bottom"].indexOf(c)==-1){c=this._properties.getDefault(p);}return c||"top";};b.prototype.getPreferredSize=function(){this._pfSize={maxWidth:0,maxHeight:0,minWidth:0,minHeight:0,width:0,height:0};if(this._properties.get("visible")===true){var t=this._properties.get("text");var f=this._properties.get("style.fontSize");var c=this._properties.get("style.fontWeight");var d=this._properties.get("style.fontFamily");var e=t==null?l.get('IDS_DEFAULTCHARTTITLE'):t;var g=T.fastMeasure(e,f,c,d);this._pfSize.width=this._pfSize.maxWidth=g.width;this._pfSize.height=this._pfSize.maxHeight=g.height;var m=T.fastMeasure("...",f,c,d);this._pfSize.minWidth=m.width;this._pfSize.minHeight=m.height;this._pfSize.width=Math.max(this._pfSize.minWidth,this._pfSize.width);this._pfSize.height=Math.max(this._pfSize.minHeight,this._pfSize.height);this._pfSize.hideOversize=true;this._pfSize.maxSizeConstant=1/3;}return this._pfSize;};b.prototype.isVisible=function(){var i=this._properties.get("visible");return i===true&&this._width>0&&this._height>0;};b.prototype.render=function(r){var t=this._properties.get("text");var c=t==null?l.get('IDS_DEFAULTCHARTTITLE'):t;var w=r.selectAll('text.v-title').data([c]);this._wrapper=w;var d=this.isVisible();if(d){var e=this._width;var h=this._height;var f=this._properties.get("alignment");var s={color:this._properties.get("style.color"),fontFamily:this._properties.get("style.fontFamily"),fontSize:this._properties.get("style.fontSize"),fontWeight:this._properties.get("style.fontWeight"),fontStyle:this._properties.get("style.fontStyle")};B.drawBound(r,e,h,undefined,true);var g=f||"center";var i=null;var j=this.runtime().envManager();if(j){i=j.textAnchor();}var k={};k.reverseDots=(j&&j.reverseDots());var m=this._pfSize.width;var n=this._pfSize.width/2;if(this._pfSize.width>e){m=e;n=e/2;}var p={right:e-m,center:e/2-n,left:0}[g];if(p==null){p=e/2-n;}var x;var y;w.exit().remove();w.enter().append('text').attr('class','v-title viz-title-label');var q=this.runtime().effectManager().register({fillColor:s.color});w.attr('fill',q).attr('font-family',s.fontFamily).attr('font-size',s.fontSize).attr('font-weight',s.fontWeight).attr('font-style',s.fontStyle).attr('text-anchor',i).attr('x',p).attr('y','top'==this.getPosition()?this._pfSize.height/2:h-this._pfSize.height/2).attr('dominant-baseline','central');if(a.isIE()){w.attr('y','top'==this.getPosition()?this._pfSize.height:h).attr('dominant-baseline','auto');}T.ellipsis(c,w.node(),e,S.convertToCss(s),k);}else{r.selectAll('text.v-title').remove();}};b.prototype.destroy=function(){b.superclass.destroy.call(this);this.clear();this._wrapper=null;this._height=null;this._width=null;};b.prototype.clear=function(){if(this._wrapper){this._wrapper.remove();}};b.prototype.supportFixedLayout=true;return b;});define('sap/viz/chart/components/Background',['sap/viz/framework/common/util/oo','sap/viz/chart/components/UIComponent',"sap/viz/framework/common/util/DataGraphics"],function(o,U,D){var a=d3.dispatch;var C='v-background-border',b='viz-plot-background-border';var c='v-background-body',e='viz-plot-background';var f="v-morphable-background";function B(r,d){B.superclass.constructor.apply(this,arguments);this._eDispatch=new a('initialized');}o.extend(B,U);var p=B.prototype;p.render=function(s){var g=this._properties;if(g.get('visible')&&this._size.width>0&&this._size.height>0){var h=s.select('.'+c);if(h.empty()){h=s.append('svg:rect').attr('class',c+' '+e+' '+f);}var r=this._data&&this._data.color||g.get('color')||'transparent';D.setData(h.node(),{color:r});var i=this._size;var j=i.height;var w=i.width;var k=this.runtime().effectManager().register({graphType:'background',fillColor:r,drawingEffect:g.get('drawingEffect'),direction:g.get('gradientDirection')});h.attr('x',0).attr('y',0).attr('width',w).attr('height',j).attr('style',"fill:"+k);var n=!(this._data&&this._data.hasBorder===false);if(n){var l=[];if(g.get('border.left.visible')){l.push({x1:0,y1:0,x2:0,y2:j});}if(g.get('border.right.visible')){l.push({x1:w,y1:0,x2:w,y2:j});}if(g.get('border.top.visible')){l.push({x1:0,y1:0,x2:w,y2:0});}if(g.get('border.bottom.visible')){l.push({x1:0,y1:j,x2:w,y2:j});}var m=s.selectAll("."+C).data(l);m.enter().append('svg:line').attr('class',C+' '+b);m.exit().remove();m.attr('x1',function(d){return d.x1;}).attr('y1',function(d){return d.y1;}).attr('x2',function(d){return d.x2;}).attr('y2',function(d){return d.y2;});m.style("stroke",g.get('border.stroke')).style("stroke-width",g.get('border.strokeWidth'));}}else{var t=s.node();while(t.hasChildNodes()){t.removeChild(t.firstChild);}}this._eDispatch.initialized();return this;};p.adjustPosition=function(s,d){if(!s||!d){return;}var g=this._properties;if(g.get('visible')&&this._size.width>0&&this._size.height>0){var h=s.select("."+c);h.attr("x",d.x);h.attr("y",d.y);h.attr("width",d.width);h.attr("height",d.height);var j=s.selectAll("."+C)[0];var k,x,y,l;for(var i=0;i<j.length;i++){k=j[i];x=Number(k.getAttribute("x1"));y=Number(k.getAttribute("y1"));l=Number(k.getAttribute("x2"));if(x===0&&y===0&&l===0){k.setAttribute("x1",d.x);k.setAttribute("y1",d.y);k.setAttribute("x2",d.x);k.setAttribute("y2",d.y+d.height);}else if(x>0&&y===0&&l>0){k.setAttribute("x1",d.x+d.width);k.setAttribute("y1",d.y);k.setAttribute("x2",d.x+d.width);k.setAttribute("y2",d.y+d.height);}else if(x===0&&y===0&&l>0){k.setAttribute("x1",d.x);k.setAttribute("y1",d.y);k.setAttribute("x2",d.x+d.width);k.setAttribute("y2",d.y);}else if(x===0&&y>0&&l>0){k.setAttribute("x1",d.x);k.setAttribute("y1",d.y+d.height);k.setAttribute("x2",d.x+d.width);k.setAttribute("y2",d.y+d.height);}}}};p.destroy=function(){B.superclass.destroy.call(this);this._eDispatch.on('initialized',null);this._eDispatch=null;};return B;});define('sap/viz/chart/components/scrollbar/Scrollbar',["sap/viz/framework/common/util/Constants",'sap/viz/framework/common/util/oo','sap/viz/chart/components/UIComponent','sap/viz/framework/common/util/ObjectUtils','sap/viz/framework/common/util/TypeUtils','sap/viz/framework/common/util/UADetector','sap/viz/framework/common/util/PositionUtil'],function Setup(C,o,U,O,T,a,P){var S="v-m-scrollbarThumb";var b="v-m-scrollbarTrack";var c=function(r,f){c.superclass.constructor.apply(this,arguments);this._exposeMoreEvents("scroll");this._thumbSpace=c.getThumbSpace(f.location);this._thumbSize=0;this._trackSize=0;this._contentSize=0;this._borderWidth=0;this._spacingPadding=0;this._thumbPosition=0;this._minThumbPosition=0;this._maxThumbPosition=0;this._isExist=true;this._isVisible=true;this._position="bottom";this._selection=null;this._wrapper=null;this._thumbNode=null;this._trackNode=null;};o.extend(c,U);c.getThumbSpace=function(l){if(a.isMobile()){return 7;}else{if(l==="legend"){return 8;}return 12;}};c.prototype._notNeedDesktopInteraction=function(){return a.isMobile()||this.runtime().effectManager().ghostEffect();};c.prototype._initSetting=function(){var p=this._properties;if(!a.isMobile()){this._borderWidth=p.get("border.width")||p.getDefault("border.width");this._borderWidth=parseFloat(this._borderWidth);this._borderWidth=Math.min(this._borderWidth,4);this._borderWidth=Math.max(this._borderWidth,0);}this._spacingPadding=p.get("spacing")||p.getDefault("spacing");this._spacingPadding=parseFloat(this._spacingPadding);this._spacingPadding=Math.min(this._spacingPadding,4);this._spacingPadding=Math.max(this._spacingPadding,0);};c.prototype.render=function(f){c.superclass.render.apply(this,arguments);if(f){this._selection=f;this._wrapper=this._selection.selectAll('g');if(this._wrapper.empty()){this._wrapper=this._selection.append('g');}}if(!this._selection){return;}if(this._isExist){var i=this._isVertical();var g=i?"height":"width";var t=this._trackSize||this._size[g];t=parseFloat(t);this._trackSize=t;var h=this._contentSize||this._realSize[g];h=parseFloat(h);if(h<t){h=t;}this._contentSize=h;this._thumbSpace=parseFloat(this._thumbSpace);var j=this._thumbSpace;var p=this._properties;this.getThumbRatio();var k=parseFloat(this._borderWidth);var l=a.isMobile()?p.getDefault("border.color"):p.get("border.color");var m=this._spacingPadding;var w=this._wrapper;var v=this._isVisible?"visible":"hidden";var n=w.select("rect."+b);if(n.empty()){n=w.append('rect').attr('class',b);}n.attr("visibility",v).attr("fill",p.get("track.fill"));n.attr("stroke-width",k).attr("stroke",l);if(i){n.attr('width',j).attr('height',t);}else{n.attr('width',t).attr('height',j);}this._trackNode=n;var q=w.select("rect."+S);if(q.empty()){q=w.append('rect').attr('class',S);}q.attr("visibility",v).attr("fill",p.get("thumb.fill"));var r=this._thumbSize;var u=m+k;if(i){q.attr('width',j-u*2).attr('height',r).attr('transform','translate('+u+', '+(this._thumbPosition+u)+')');}else{q.attr('width',r).attr('height',j-u*2).attr('transform','translate('+(this._thumbPosition+u)+', '+u+')');}this._thumbNode=q;this.show(1600);if(this._notNeedDesktopInteraction()){return;}(function handleMouseEvent(x,y,z){function A(L){return L.bind(z);}var B=A(function(L){this._startPos=undefined;var M=this._thumbSize;var N=this._trackNode.node().getBoundingClientRect();if(this._isVertical()){if(L.clientY<(N.top+this._thumbPosition)){M=-M;}}else{if(L.clientX<(N.left+this._thumbPosition)){M=-M;}}this._scroll(M);var Q=this.runtime();if(Q){Q.fireInteractionEvent("scrollbarReleased");}return false;});var D=A(function(L){if(this._isVertical()){this._startPos=L.clientY;}else{this._startPos=L.clientX;}this._thumbNode.attr('fill',this._properties.get('thumb.hoverFill'));this._isPressed=true;s(L);});var E=A(function(L){this._startPos=undefined;this._isPressed=false;if(this._thumbNode&&L.target!==this._thumbNode.node()){this._thumbNode.attr('fill',this._properties.get('thumb.fill'));}var M=this.runtime();if(M){M.fireInteractionEvent("scrollbarReleased");}});var F=A(function(L){if(this._startPos!==undefined){if(this._isVertical()){this._scroll(L.clientY-this._startPos);this._startPos=L.clientY;}else{this._scroll(L.clientX-this._startPos);this._startPos=L.clientX;}}});var G=A(function(){this._thumbNode.attr('fill',this._properties.get('thumb.hoverFill'));});var H=A(function(){if(!this._isPressed){if(this._thumbNode){this._thumbNode.attr('fill',this._properties.get('thumb.fill'));}}});function I(){var L=window;if(L.addEventListener===undefined){L=document.body;}return L;}function J(L){F(L);L.preventDefault();s(L);return false;}function K(L){E(L);var M=I();M.removeEventListener("mousemove",J,true);M.removeEventListener("mouseup",K,true);return false;}x.on('mouseover',G).on('mouseleave',H).on('mousedown',function(){var L=d3.event;D(L);var M=I();M.addEventListener('mousemove',J,true);M.addEventListener('mouseup',K,true);s(L);return false;});y.on('click',function(){return B(d3.event);});})(q,n,this);}else{if(this._wrapper){this._wrapper.remove();this._wrapper=null;this._thumbNode=null;this._trackNode=null;}}};var s=function(f){if(f&&f.stopPropagation){f.stopPropagation();}};c.prototype._isFull=function(){return this._trackSize>=this._contentSize;};c.prototype.destroy=function(){this._eventDispatch.on("scroll",null);c.superclass.destroy.call(this);this._thumbSpace=0;this._thumbSize=0;this._trackSize=0;this._contentSize=0;this._borderWidth=0;this._spacingPadding=0;this._thumbPosition=0;this._maxThumbPosition=0;this._minThumbPosition=0;this._isExist=true;this._isVisible=true;this._position="bottom";this._selection=null;this._wrapper=null;this._thumbNode=null;this._trackNode=null;};c.prototype.getPreferredSize=function(){var r={maxWidth:0,maxHeight:0,minWidth:0,minHeight:0,width:0,height:0,spacings:[{"interval":0,"type":C.SPACING_TYPE.STEP}]};if(this._isExist){var t=this._thumbSpace;if(this._isVertical()){r.maxWidth=r.width=t;}else{r.maxHeight=r.height=t;}r.spacings[0].interval=t;}return r;};c.prototype.setPosition=function(p){this._position=p;return this;};c.prototype._isVertical=function(){return P.isVertical(this._position);};c.prototype._isHorizontal=function(){return P.isHorizontal(this._position);};c.prototype.isExist=function(_){if(!arguments.length){return this._isExist;}this._isExist=!!_;return this;};c.prototype.isVisible=function(_){if(!arguments.length){return this._isVisible;}this._isVisible=!!_;return this;};c.prototype.setTrackSize=function(_){this._trackSize=+_;return this;};c.prototype.getTrackSize=function(){return this._trackSize;};c.prototype.getContentSize=function(){return this._contentSize;};c.prototype.setContentSize=function(_){this._contentSize=+_;return this;};c.prototype.getThumbSize=function(){return this._thumbSize;};c.prototype.isThumbOverTrack=function(f){var i=false;var t=this._thumbPosition;var m=this._minThumbPosition;var g=this._maxThumbPosition;if(t===m&&(t+f)<m){i=true;}if(Math.floor(t)===Math.floor(g)&&(t+f)>g){i=true;}return i;};c.prototype.getThumbRatio=function(){this._initSetting();var t=this._trackSize;var f=this._contentSize;var g=this._borderWidth;var h=this._spacingPadding;var i=this._thumbSpace;var j=2*(h+g);if(t<=0||f<=0){return null;}if(f<t){f=t;}var k=0;if(f!==0){k=(t-g)*t/f;}var m=i*2;if(m>t){m=t;}if(k<m){k=m;}this._thumbSize=k;this._maxThumbPosition=t-k-j;this._minThumbPosition=0;this._offsetRatio=(f-t)/(t-j-k);return this._offsetRatio;};c.prototype._scroll=function(f,g){var h=Math.min(this._maxThumbPosition,Math.max(this._minThumbPosition,this._thumbPosition+f));if(g||this._thumbPosition!==h){this.setThumbPosition(h);var i=-Math.ceil(h*this._offsetRatio);this._eventDispatch.scroll({offset:i,reachMax:h===this._maxThumbPosition});}};c.prototype.getThumbPosition=function(){return this._thumbPosition;};c.prototype.setThumbPosition=function(p){if(!this._isExist){return;}var f=+p;var t=this._thumbSpace;var g=this._spacingPadding;var h=this._borderWidth;var i=g+h;this._thumbPosition=Math.min(this._maxThumbPosition,f);if(this._thumbNode){if(this._isVertical()){this._thumbNode.attr('transform','translate('+i+', '+(this._thumbPosition+i)+')');}else{this._thumbNode.attr('transform','translate('+(this._thumbPosition+i)+', '+i+')');}}return this;};function d(){if(this._thumbNode){this._thumbNode.attr("visibility","visible");}if(this._trackNode){this._trackNode.attr("visibility","visible");}}function e(){if(this._thumbNode){this._thumbNode.attr("visibility","hidden");}if(this._trackNode){this._trackNode.attr("visibility","hidden");}}c.prototype.show=function(t,f){var g=d.bind(this),h=e.bind(this);if(!f&&(this._isFull()||!this.isVisible())){h();return;}g();if(a.isMobile()){if(!t){t=800;}if(this._timeoutId){window.clearTimeout(this._timeoutId);}this._timeoutId=window.setTimeout(h,t);}};return c;});define('sap/viz/chart/components/scrollbar/PaginationScrollbar',['sap/viz/framework/common/util/oo','sap/viz/chart/components/scrollbar/Scrollbar'],function Setup(o,S){var a="scroll";var P=function(r,b){P.superclass.constructor.apply(this,arguments);var p=b.properties||this._runtime._propertyMgr;this._properties=p.proxy("plotArea.scrollbar");this._thumbRatio=0;};o.extend(P,S);P.prototype._scroll=function(d,f){P.superclass._scroll.apply(this,arguments);var s={};this._thumbRatio=this._thumbPosition/this._maxThumbPosition;s.position=this._thumbRatio;if(this.runtime()){this.runtime().eventDispatcher().fire(a,s);}};return P;});define('sap/viz/chart/components/legend/BaseLegend',['sap/viz/framework/common/util/oo','sap/viz/chart/components/UIComponent','sap/viz/chart/components/util/BoundUtil',"sap/viz/framework/common/util/TypeUtils",'sap/viz/chart/components/util/TextUtils','sap/viz/framework/common/util/PropertyZoneUtil','sap/viz/framework/common/util/FeedingZoneUtil','sap/viz/framework/common/lang/LangManager',"sap/viz/framework/common/util/Constants",'sap/viz/framework/common/util/ObjectUtils','sap/viz/chart/components/util/StyleUtils',"sap/viz/framework/interaction/Constants"],function(a,U,B,T,b,P,F,l,C,O,S,I){var M="measureNames";var c=3;var d=function(r,o){d.superclass.constructor.apply(this,arguments);this._type="BaseLegend";this._title=undefined;this._bindingFields=null;this._parent=null;this._pos={x:0,y:0};this._titleMarginBottom=0.5;this._width=0;this._height=0;this._position=null;var t=this;var f={},g={};f[this._name]={value:[],readonly:true,serializable:false,get:function(){var i=[],z,j,k,m,q,s,u;if(e(t._type)){z='sizeLegend';}else{z='legend';}if(t.isVisible()&&t._properties.get('title.visible')&&t._parent){var v=t._parent.select(".viz-legend-title.v-title").node();j=v?v.getBoundingClientRect():null;if(j&&j.width>1.5&&j.height>1.5){m=[[]];m[0].push([j.left,j.top]);m[0].push([j.right,j.top]);m[0].push([j.right,j.bottom]);m[0].push([j.left,j.bottom]);i.push({"name":z+' title',"bound":m});}}if(t._parent&&t._parent.select(".v-bound").node()){s=t._parent.select(".v-bound").node().getBoundingClientRect();if(s.width>1.5&&s.height>1.5){k={left:s.left,right:s.right,top:s.top,bottom:s.bottom};if(i.length>0){k.top=i[0].bound[0][3][1]+1;}q=[[]];q[0].push([k.left,k.top]);q[0].push([k.right,k.top]);q[0].push([k.right,k.bottom]);q[0].push([k.left,k.bottom]);i.push({"name":z,"bound":q});}u=t._parent.node().ownerSVGElement;}P.calcOffsetFromChart(u,i);return i;}};var n=o&&o.options&&o.options.noFeeding;if(!n){g[this._name]={value:[],readonly:true,serializable:false,get:function(){var i,z,j;if(t._parent&&!t._isDedicated){var k=d3.select(t._parent.node().ownerSVGElement);if(e(t._type)){z='sizeLegend';}else{z='legend';}i=F.buildRes(z,j,k,true);}return i;}};this.runtime().zoneManager().add({tempPropertyZone:f,tempFeedingZone:g});}else{this.runtime().zoneManager().add({tempPropertyZone:f,});}var p=this._properties;this._orientation=null;this._titleFont={'fontFamily':p.get('title.style.fontFamily'),'fontSize':p.get('title.style.fontSize'),'fontWeight':p.get('title.style.fontWeight'),'color':p.get('title.style.color'),'fontStyle':p.get('title.style.fontStyle')};var h=this.runtime().graphicModel();if(h){h.registerExposedModule(o.name);}};a.extend(d,U);d.prototype.getType=function(){return this._type;};d.prototype._addDefaultProperties=function(){this._properties.add({'visible':true,'title':{'visible':false,'text':null,'style':{'color':'#000000','fontFamily':"'Open Sans', Arial, Helvetica, sans-serif",'fontSize':'14px','fontWeight':'bold','fontStyle':'normal'}},'label':{'style':{'color':'#000000','fontFamily':"'Open Sans', Arial, Helvetica, sans-serif",'fontSize':'12px','fontWeight':'normal','fontStyle':'normal'}}});};d.prototype.visible=function(){return this._properties.get("visible");};d.prototype.setPosition=function(p){this._position=p;};d.prototype.getPosition=function(){return this._position;};d.prototype.setOrientation=function(o){this._orientation=o;};d.prototype.setDedicated=function(_){this._isDedicated=_;};d.prototype.isHorizontal=function(){return(this._orientation==='top')||(this._orientation==='bottom');};d.prototype.render=function(s,f){this._pos={x:0,y:0};var g;var t=s.selectAll('text.v-title');if(this.isVisible()||this._isDedicated){var p=this._properties;g=B.drawBound(s,this._width,this._height,undefined,true);g.attr("x",null);g.attr("y",null);if(!f){g.attr("stroke",null).attr("stroke-width",null);}if(this._properties.get("title.visible")===true){if(t.empty()){t=s.append('text').attr('class','v-title viz-legend-title');}else{t.html("");}var h=null;var i=this.runtime().envManager();if(i){h=i.textAnchor();}t.attr("text-anchor",h);var j;j={"fill":p.get('title.style.color'),"font-family":p.get('title.style.fontFamily'),"font-size":p.get('title.style.fontSize'),"font-weight":p.get('title.style.fontWeight'),"font-style":p.get('title.style.fontStyle')};var k=this._getWrapText();k=(k&&k>1)?k:1;var m=parseInt(this._titleFont.fontSize,10);var o={};o.isRTL=i&&i.isRTL();o.ellipsisOptions={};o.middleText=false;o.ellipsisOptions.reverseDots=(i&&i.reverseDots());b.drawWrappedText(t,this._titleText,[" "],k,this._width,m,this._titleFont,o);var n=parseInt(t.attr("height"));this._pos.y=this._pos.y+n;t.attr('font-weight',j['font-weight']).attr('fill',j.fill).attr('font-family',j['font-family']).attr('font-size',j['font-size']).attr('font-style',j['font-style']).attr('x',this._pos.x).attr('y',this._pos.y).attr('visibility','inherit');t.selectAll("tspan").attr("dy","1em");this._pos.y=this._pos.y+m*this._titleMarginBottom;}else{t.remove();}}else{var q;if(this._properties._props['legendGroup.layout.width']&&this._properties._props['legendGroup.layout.height']){q={width:this._properties._props['legendGroup.layout.width'].value,height:this._properties._props['legendGroup.layout.height'].value};}if(this.visible()&&q&&(q.width||q.height)){g=B.drawBound(s,q.width||this._originWidth,q.height||this._originHeight);}else{g=B.drawBound(s,0,0);}t.remove();}if(this._properties.origin.get("legendGroup.layout.alignment")==="center"&&(this._properties.origin.get("legendGroup.layout.position")==="top"||this._properties.origin.get("legendGroup.layout.position")==="bottom")){this._renderedWidth=0;var r=t.node();if(r){this._renderedWidth=r.getBoundingClientRect().width;}if(g){this._bound=g.node();}}return this;};d.prototype.width=function(w){if(!arguments.length){return this._width;}this._width=w;if(w>0){this._originWidth=w;}return this;};d.prototype.height=function(h){if(!arguments.length){return this._height;}this._height=h;if(h>0){this._originHeight=h;}return this;};d.prototype.setSize=function(s){this._width=s.width;this._height=s.height;if(s.width>0){this._originWidth=s.width;}if(s.height>0){this._originHeight=s.height;}};d.prototype.setBindingFields=function(_){this._bindingFields=_;return this;};d.prototype.parent=function(p){if(!arguments.length){return this._parent;}this._parent=p;return this;};d.prototype.getParent=function(){return this._parent;};d.prototype._getTitleText=function(){var t="";var u=this._properties.get("title.text");if(T.isString(u)){t=u;}else if(this._bindingFields){t=this._constructTitle(this._bindingFields);}else{t=l.get('IDS_ISNOVALUE');}return t;};d.prototype.getLegendTitleText=function(){return this._getTitleText();};d.prototype._constructTitle=function(h){var t=h.filter(function(g){return!g.hidden;}).map(function(o){if(o.id===M){return o.name||l.get("IDS_DEFAULTMND")||o.id;}return o.name||o.id;});var f=[];for(var i=0;i<t.length;i++){if(h&&h.length>1&&h[i].id===M&&h[i].values.length===1){continue;}f.push(t[i]);}return f.join(" / ");};d.prototype._getTitlePreferredSize=function(f){this._getThemeStyleDef();var p={maxWidth:0,maxHeight:0,minWidth:0,minHeight:0};if(this._properties.get("title.visible")){var t=parseInt(this._titleFont.fontSize,10);var g=S.convertToCss(this._titleFont);var h=this._getTitleText();var i=this._getWrapText();h=b.wrapText(h,[" "],f.maxWidth,i,this._properties.get("title.style"));var j=h.lines.length;p={maxHeight:t*(j+this._titleMarginBottom),minWidth:b.getTextLength("M...",g),minHeight:t*(j+this._titleMarginBottom),maxWidth:h.maxWidth};this._titleText=h;}return p;};d.prototype.getData=function(){return this._data;};d.prototype.setData=function(v){this._data=v;return this;};d.prototype.data=function(v){if(!arguments.length){return this.getData();}return this.setData(v);};d.prototype.destroy=function(){this._properties=null;this._title=null;this._parent=null;this._bindingFields=null;this._pos=null;this._titleMarginBottom=null;this._width=null;this._height=null;this._titleFont=null;this._orientation=null;this._isDedicated=null;this._wrap=null;d.superclass.destroy.call(this);};d.prototype.getPreferredSize=function(f){this._pos={x:0,y:0};var g=O.extend(false,f);g.maxWidth=g.maxWidth||g.width;g.maxHeight=g.maxHeight||g.height;var r={width:0,height:0,maxWidth:0,maxHeight:0,minWidth:0,minHeight:0};if(this.visible()||this._isDedicated){var t=this._getTitlePreferredSize(g);g.height-=t.maxHeight;var h=this._getBodyPreferredSize(g);r={width:(t.maxWidth>h.maxWidth?t.maxWidth:h.maxWidth),height:t.maxHeight+h.maxHeight,maxWidth:(t.maxWidth>h.maxWidth?t.maxWidth:h.maxWidth),maxHeight:t.maxHeight+h.maxHeight,minWidth:(t.minWidth>h.minWidth?t.minWidth:h.minWidth),minHeight:t.minHeight+h.minHeight};if(this._isDedicated){this._width=r.maxWidth;this._height=r.maxHeight;}}return r;};d.prototype.isVisible=function(){return this.visible()&&this._width>0&&this._height>0;};d.prototype.isSelectable=function(){var p=this._properties.origin,s=(p.get('interaction.selectability.mode')||"").toUpperCase(),f=(p.get("interaction.selectability.behavior")||"").toUpperCase();return!((s===I.SELECTION_MODE.NONE)||(p.get('interaction.selectability.legendSelection')===false)||(s===I.SELECTION_MODE.SINGLE&&f!==I.SELECTION_BEHAVIOR.SERIES));};d.prototype._getThemeStyleDef=function(){var p=this._properties.proxy('title.style');var t;t={"fill":p.get('color'),"font-family":p.get('fontFamily'),"font-size":p.get('fontSize'),"font-weight":p.get('fontWeight'),"font-style":p.get('fontStyle')};if(t){if(t.fill){this._titleFont.color=t.fill;}if(t['font-family']){this._titleFont.fontFamily=t['font-family'];}if(t['font-size']){this._titleFont.fontSize=t['font-size'];}if(t['font-weight']){this._titleFont.fontWeight=t['font-weight'];}if(t['font-style']){this._titleFont.fontStyle=t['font-style'];}}};d.prototype._adjustRendererOption=function(r){};d.prototype._getWrapText=function(){var f=1;var i=false;var g=this.runtime().envManager();if(g){i=g.isRTL();}if(!i){var h=this._properties.origin.get('legendGroup.layout.position');if(h==="left"||h==="right"){f=this._properties.origin.get('legendGroup.linesOfWrap');if(isNaN(f)||f<1){f=1;}else if(f>c){f=c;}}}return f;};var e=function(f){var r=false;if(f==='SizeLegend'){r=true;}return r;};return d;});define('sap/viz/chart/components/util/DrawUtil',['sap/viz/framework/common/util/TypeUtils','sap/viz/framework/common/util/SVG'],function Setup(T,S){var s={};var p={};var B=2;function g(a){var b="_";return a.type+b+a.rx+b+a.ry;}var D={};D.createMarkerData=function(a){return S.generateMarkerPath(a);};D.createElements=function(d,a){return d.append("path").attr("class",a.className);};D.createElement=function(d,a,e){var b=d.append("path").attr("class",a.className);a.node=b;D.drawGraph(a,e);return b;};D.drawGraph=function(a,e){return D.updateGraph(a,e,D.createGraph(a));};D.createGraph=function(a){var b={type:a.graphType,rx:Math.round(a.rx),ry:Math.round(a.ry),borderWidth:Math.round(a.borderWidth),innerBorder:a.dpPattern==='noFill'};var r=D.createMarkerData(b);if(!r&&a.defaultShape){b.type=a.defaultShape;r=D.createMarkerData(b);}return r;};D.updateGraph=function(a,e,d){var o=a.opacity;if(!o){o=1;}var f=e?e.register(a):a.fillColor;var b=a.borderColor;if(a.dpPattern==='noFill'){b=f;f=a.bgColor;}if(e&&b){b=e.register({fillColor:b});}var n=a.node;n.setAttribute("class",a.className);n.setAttribute("fill",f);if(f!=="transparent"||b!=="transparent"){n.setAttribute("stroke-width",a.borderWidth);n.setAttribute("stroke",b);n.setAttribute("opacity",o);var c=a.fillOpacity;if(c!=null){n.setAttribute("fill-opacity",c);}}n.setAttribute("stroke-opacity",a.strokeOpacity);if(d){n.setAttribute("d",d);}return n;};D.rgb2Hex=function(r){return"#"+((1<<24)+(r.r<<16)+(r.g<<8)+r.b).toString(16).slice(1);};D.colorLinerTransform=function(r,l,c){var o=r.color2rgba(c);var f=1,a=0;f=l.factor;a=l.constant;return{r:Math.min(255,Math.round(o.r*f+a)),g:Math.min(255,Math.round(o.g*f+a)),b:Math.min(255,Math.round(o.b*f+a))};};D.barUpdate=function(n,c,a){var b=c.graphic;var w=a.width;var h=a.height;var m=a.minSize;var r=n.querySelector("rect");if(r){r.setAttribute("width",w);r.setAttribute("height",h);if(b.stroke){var d=m>b.strokeWidth+B?b.strokeWidth:m-B;if(d>=1){r.setAttribute('stroke',b.stroke);r.setAttribute('stroke-width',b.strokeWidth);}else{r.removeAttribute('stroke');r.removeAttribute('stroke-width');}}}if(b.pattern==="noFill"&&c.path){var e=n.querySelector("path");if(e){e.setAttribute("d",c.path);}}};return D;});define('sap/viz/chart/components/util/ColorUtil',["sap/viz/framework/common/util/DataGraphics"],function(D){var a="#000000";var L="#ffffff";var b="#333333";var c=116;var S=1.2;var d=0.7;var C={};var g=function(e){var r=e;r=r.toLowerCase();r=d3.rgb(r);return r;};C.getMixedColor=function(f,e,h){var m=f;if(h!==1){if(e.toLowerCase()==="transparent"){e="#ffffff";}var r=g(f);var i=g(e);var j=d3.rgb(r.r*h+i.r*(1-h),r.g*h+i.g*(1-h),r.b*h+i.b*(1-h));m=j.toString();}return m;};C.getReferenceColorValue=function(r){var e=g(r);var f=((e.r*299)+(e.g*587)+(e.b*114))/1000;return f;};C.getDataLabelColor=function(e,i){var l=a;if(i){l=b;}else{if(e){if(e.toLowerCase()==="transparent"){e="#ffffff";}var r=C.getReferenceColorValue(e);if(r<=c){l=L;}}}return l;};C.getStrokeColorAdjustValue=function(r){var e=C.getBackgroundColor(r);if(e.toLowerCase()==="transparent"){e="#ffffff";}var f=C.getReferenceColorValue(e);var h=d;if(f<=c){h=S;}return h;};C.getBackgroundColor=function(r){var e="transparent";var f="v-background-body";var p;var t;for(t=r;t;t=t.parentNode){if(!d3.select(t).select("."+f).empty()){p=t;break;}}if(p){var h=d3.select(p).select("."+f).node();var i;if(h){i=D.getData(h);if(i){e=i.color;}}if(!e||e.toLowerCase()==="transparent"){var j;if(p.parentNode&&p.parentNode.parentNode){j=d3.select(p.parentNode.parentNode).select("."+f).node();}if(j){i=D.getData(j);if(i){e=i.color;}}}if(!e){e="transparent";}}return e;};C.getBgColor=function(p,e){var f="#ffffff";for(var i=0;i<e.length;++i){var t=p.get(e[i]);if(t&&t!=="transparent"){f=t;break;}}return f;};return C;});define('sap/viz/chart/components/legend/ColorLegend',['sap/viz/framework/common/util/oo','sap/viz/chart/components/legend/BaseLegend','sap/viz/chart/components/util/TextUtils','sap/viz/chart/components/util/DrawUtil','sap/viz/framework/common/util/NameColorUtils','sap/viz/chart/components/scrollbar/Scrollbar','sap/viz/framework/common/util/TypeUtils','sap/viz/framework/common/util/ObjectUtils','sap/viz/framework/common/util/Constants','sap/viz/framework/common/util/DataUtils','sap/viz/framework/chartmodel/DataSelector','sap/viz/framework/common/util/NumberUtils','sap/viz/framework/scale/ColorShapeScaleMerger','sap/viz/chart/components/util/StyleUtils','sap/viz/framework/common/util/GeometryUtils','sap/viz/chart/components/util/ColorUtil'],function(o,B,T,D,N,S,c,O,C,f,g,h,l,p,G,q){var H=C.LEGEND.HORIZONTAL_OFFSET;var I=C.CSS.CLASS.LEGENDITEM,r="v-legend-element";function s(a,b){s.superclass.constructor.apply(this,arguments);this._labelFont={'fontFamily':null,'fontSize':null,'fontWeight':null,'color':null,'fontStyle':null};var d=this.runtime().semanticManager();d.addDataPointChangeCallback(this._onDataPointChange.bind(this));this._defaultItemMargin=this._properties.getDefault("itemMargin");this._colorLabelSize=1;this._markerMargin={right:0.5,bottom:0.5,left:1,top:0};this._maxItemsNum=12;this._maxItemTextWidth=80;this._colorScale=null;this._shapeScale=null;this._colorShapeScale=null;this._scrollBar=undefined;this._type="ColorLegend";this._noFillSupport=b&&b.options&&b.options.noFillSupport;this._scrollThumbSpace=S.getThumbSpace("legend");this._contentSize=0;this._pageCount=2;this._domID=O.guid();this._isOverflow=false;this._overflowOffset=0;this._lastRowOffset=0;this._markerSize=0;this._cDomain=null;this._offset={x:0,y:0};this.BGCOLORPROPS=["general.background.color"];}o.extend(s,B);function t(a,d){var b=[];var k=Object.keys(d).sort();for(var i=0;i<k.length;i++){var e=d[k[i]];var j=e&&e.scale&&e.scale._type;if(j==="color"){b.push(e);}else if(j==="shape"){a.setShapeScale(e);}}a.setColorScale(b);}s.prototype._addDefaultProperties=function(){s.superclass._addDefaultProperties.call(this);this._properties.add({'drawingEffect':'normal','formatString':null,'hoverShadow':{'color':"#cccccc"},'isScrollable':false,'itemMargin':0.5,'marker':{'size':null,'shape':"squareWithRadius"},'mouseDownShadow':{'color':"#808080"},'scrollbar':{'thumb':{'fill':"#e5e5e5",'hoverFill':"#dedede"},'track':{'fill':"f7f7f7"}}});};s.prototype._onDataPointChange=function(){this._colorShapeScale=null;};s.prototype.setData=function(a){this._data=a;t(this,a);return this;};s.prototype.setColorScale=function(a){this._colorScale=c.isArray(a)?a:[a];this._colorShapeScale=null;return this;};s.prototype.setShapeScale=function(a){this._shapeScale=a;return this;};s.prototype.isVisible=function(){return s.superclass.isVisible.apply(this,arguments)&&this.hasContent();};s.prototype.getScrollbar=function(){return this._scrollBar;};s.prototype.scroll=function(a){if(this._scrollBar){this._scrollBar._scroll(a,true);this._scrollBar.show();}};s.prototype._scroll=function(a){if(a.reachMax){this.loadMore();}var b=a.offset;if(this.isHorizontal()){this._offset.x=b;this._offset.y=0;}else{this._offset.x=0;this._offset.y=b;}this._setTranslate();};s.prototype.loadMore=function(n){n=+n;if(isNaN(n)){n=2;}this._pageCount+=n;this.render(this._parent,true);};s.prototype._setTranslate=function(){if(!this._cDomain.isRTL){this._parent.select(".v-groups").attr('transform','translate('+this._offset.x+', '+this._offset.y+')');}else{var a=this._parent.select(".v-groups");var b=G.getBBox(a.node());if(this._cDomain.width>b.width){if(this._scrollBar&&this._scrollBar._isVisible){a.attr('transform','translate('+(this._offset.x+this._cDomain.width-b.width+H-this._scrollThumbSpace+(this._lastRowOffset?0:this._overflowOffset))+', '+this._offset.y+')');}else{a.attr('transform','translate('+(this._offset.x+this._cDomain.width-b.width+H+this._cDomain.markerMarginRight-this._scrollThumbSpace+(this._lastRowOffset?0:this._overflowOffset))+', '+this._offset.y+')');}}else{a.attr('transform','translate('+(this._offset.x+this._cDomain.markerMarginRight)+', '+this._offset.y+')');}}};var u=function(a,x,y,b,i){var d=a.select(".v-split-lines");if(d.empty()){d=a.append("g").classed('v-split-lines',true);}var e=d.select("line");if(e.empty()){e=d.append("line");}e=e.node();e.setAttribute("stroke","#d8d8d8");e.setAttribute("stroke-width",1);e.setAttribute("shape-rendering","crispEdges");e.setAttribute("x1",x);e.setAttribute("y1",y);if(i){e.setAttribute("x2",x);e.setAttribute("y2",y+b);}else{e.setAttribute("x2",x+b);e.setAttribute("y2",y);}};s.prototype._drawSplitLine=function(a,b){var i=false;if(b._intervalIndex>=0&&b._intervalLen>0&&(b.length-1)>b._intervalIndex){i=true;}if(i){if(!this.isHorizontal()){var d=b[b._intervalIndex+1].pos.y;d-=(b._intervalLen/2);var e=this._isScrollable()?b.width-this._scrollThumbSpace:b.width;u(a,0,d,e,false);}else{var j=b[b._intervalIndex+1].pos.x;j-=b._intervalLen;u(a,j,0,b.eachRowHeight,true);}}else{a.selectAll(".v-split-lines").remove();}};s.prototype._createLegendContent=function(a,b,d){var e=this._labelFont;var i=a.selectAll('g.v-content').data(['content']);i.enter().append('g').classed('v-content',true);i.exit().remove();i.attr('transform','translate(0, '+this._pos.y+')').attr('font-size',e.fontSize).attr('font-family',e.fontFamily).attr('font-weight',e.fontWeight).attr('fill',e.color).attr('font-style',e.fontStyle);var j=i.selectAll("rect.v-legend-body-bound").data(['bound']);j.enter().append('rect').classed('v-legend-body-bound',true).attr("fill","transparent");j.exit().remove();j.attr("x",b.isRTL?0:-H);j.attr("width",this._width+H).attr("height",this._height-this._pos.y);var k=i.selectAll('g.v-groups').data(['groups']);k.enter().append('g').classed('v-groups',true).classed('v-label',true).classed('viz-legend-valueLabel',true).attr('role','listbox');k.exit().remove();k.attr('transform','translate(0, 0)');this._createGroupItems(k,b);this._handleOverflow(i,b,d);this._drawSplitLine(k,b);if(this._properties.origin.get("legendGroup.layout.alignment")==="center"&&(this._position==="top"||this._position==="bottom")){var m=k.node();if(m){var n=m.getBoundingClientRect().width;if(this._width+H>n){j.attr("width",parseFloat(n));}}}else{if(b.isRTL){var w=G.getBBox(k.node());if(b.width>w.width){if(this._scrollBar&&this._scrollBar._isVisible){k.attr('transform','translate('+(b.width-w.width+H-this._scrollThumbSpace+(this._lastRowOffset?0:this._overflowOffset))+', 0)');}else{k.attr('transform','translate('+(b.width-w.width+H+b.markerMarginRight+(this._lastRowOffset?0:this._overflowOffset))+', 0)');}}else{k.attr('transform','translate('+b.markerMarginRight+', 0)');}}}return i;};var P=["noFill","solid"];s.prototype._getGroupItemInfo=function(a){var b=this;var w=a.width;var e=a.textHeight;var m=a.markerSize;var i=this._getMarkerWidth(m);var j=this._isScrollable();var k=this.isHorizontal();var n=this._markerMargin;var x=this.runtime().propertyManager();var y=this._properties.get("drawingEffect");var z=this._properties.get('showFullLabel');var A=this._options&&this._options.options?this._options.options.defaultMarkerShape:null;var E=a.eachItemWidth;if(!this.isHorizontal()||(!j&&E>w)){E=w;if(j){E-=this._scrollThumbSpace;}}var F=E-a.miscWidth;if(k){F=Math.min(F,w);}var J=k&&a.length===1&&a.columnCount===2;var K=this.runtime().semanticManager();return a.map(function(d){if(k){if(j&&b._isOverflow){F=d.labelWidth;}else if(z){F=Math.min(d.labelWidth,w-m-n.right*e);}if(J){F=Math.min(F,w-a.miscWidth-a.ellipsisWidth);}}var L=0;if(k){if(!j&&z){L=F+i+n.right*e+H;}else{var M=E+H-n.right*e;if(b._isOverflow||j){var Q=H+d.labelWidth+i+(n.right+n.left/2)*e;if(!j&&M<Q){Q=M;}L=Q;if(J){L=Math.min(L,F+a.miscWidth);}}else{L=M;}}}else{L=E+H;}var R={drawingEffect:y,borderWidth:0,rx:m/2,ry:m/2,direction:'vertical',fillColor:d.color,graphType:d.shape,defaultShape:A,borderColor:"transparent"};R.dpPattern=d.pattern;if(!d.isSemantic){var U=b._getSereisStyle(d.ctx,b._data,K,"dataPoint");if(U&&U.dataPoint&&U.dataPoint.pattern){var V=U.dataPoint.pattern;if(d.seriesShape==="line"&&P.indexOf(V)===-1){V=null;}R.patternEffect=R.dpPattern=V;}}if(R.dpPattern==='noFill'&&!b._noFillSupport){R.patternEffect=R.dpPattern=null;}if(R.dpPattern==='noFill'){R.borderColor=x.get("plotArea.background.color");if(!R.borderColor||R.borderColor==='transparent'){R.borderColor=x.get("general.background.color");}R.borderWidth=1;if(x.get("plotArea.dataPoint.stroke.visible")){R.borderColor=x.get("plotArea.dataPoint.stroke.color");}}var W=b.runtime().semanticManager().isUseSemanticPattern();if(W&&d.pattern){R.patternEffect=d.pattern;}return{eventLayerWidth:L,shapeOptions:R,expectedWidth:F};});};s.prototype._getSereisStyle=function(a,d,b,e){var i=false;var j=d&&d.valueAxis;if(a&&!a["measureNames"]&&j&&j.metaData&&j.metaData.length===1){a["measureNames"]=j.metaData[0].id;i=true;}var k=b.analyzeSeriesStyle(a,e);if(i){delete a["measureNames"];}return k;};s.prototype._createGroupItems=function(a,b){var e=this._labelFont;var k=this._getGroupItemInfo(b);var m=a.selectAll('g.'+r).data(b);m.enter().append('g').classed(r,true).classed(I,true);m.exit().remove();m.attr('transform',function(d){return'translate ('+(d.pos.x-H)+','+d.pos.y+')';});m.attr('legendlabel-id',function(d){return d.id;});if(this.isSelectable()){var n=this._colorShapeScale.getLength();m.attr('aria-posinset',function(d){return d.id+1;}).attr('aria-setsize',n);}var w=m.selectAll('rect').data(['rect']);w.enter().append('rect');w.exit().remove();w.attr('height',function(d,i,j){return c.isArray(b[j].text)?((b[j].line||b[j].text.length)*b.eachRowHeight):b.eachRowHeight;}).attr('fill','transparent').attr('width',function(d,i,j){return k[j].eventLayerWidth;});this._createShapeItems(m,b,k);var x,y;var z=m.selectAll('text').data(['text']);z.enter().append('text');z.exit().remove();var A=null;var E=this.runtime().envManager();if(E){A=E.textAnchor();}z.attr("text-anchor",A);var F=this;z.each(function(d,i,j){var J=d3.select(this);if(b.isRTL){J.attr("transform","translate("+0+", "+b.textY+")");}else{J.attr("transform","translate("+b.textX+", "+b.textY+")");}if(c.isArray(b[j].text)){x=b[j].text.join("");y=b[j].line||b[j].text.length;}else if(c.isString(b[j].text)){x=b[j].text;y=1;}else{x=String(b[j].text);y=1;}var K={};K.isRTL=b.isRTL;K.ellipsisOptions=b.ellipsisOptions;T.drawWrappedText(J,x,[" "],y,b.isRTL?(k[j].eventLayerWidth-H-F._markerSize-b.markerMarginRight):k[j].expectedWidth,b.eachRowHeight,e,K);J.selectAll("tspan").attr("dy","0.85em");});w.each(function(){var z=this.parentNode.getElementsByTagName("text")[0];if(z){while(this.childNodes.length!==0){this.removeChild(this.childNodes[0]);}var d=z.getElementsByTagName("title")[0];if(d!==undefined&&d.textContent!==""){z.appendChild(d);}}});};s.prototype._cleanLegendItemsWithLine=function(a){a.selectAll('line').remove();a.selectAll('g').remove();};s.prototype._getBGColor=function(){var a=this.runtime().propertyManager();var b="plotArea.dataPoint.stroke.color";var d="plotArea.dataPoint.stroke.visible";return q.getBgColor(a,a.get(d)?this.BGCOLORPROPS.concat(b):this.BGCOLORPROPS);};s.prototype._createShapeItems=function(a,b,e){var k=this.runtime().effectManager();var m=this.runtime().propertyManager();this._cleanLegendItemsWithLine(a);var n=a.selectAll('path').data(['shape']);n.enter().append('path');n.exit().remove();if(!b.isRTL){n.attr('transform','translate('+b.shapeX+','+b.shapeY+')');}var w=this._getBGColor();n.each(function(d,i,j){var x=e[j].shapeOptions;x.node=this;x.bgColor=w;D.drawGraph(x,k);if(b.isRTL){this.setAttribute('transform','translate('+(e[j].eventLayerWidth-H-b.markerSize/2)+','+b.shapeY+')');}});n.attr("class","v-legend-marker");};function v(i,a,b){var n=b.querySelector('[legendlabel-id="'+a[i].id+'"]');return n.getBoundingClientRect();}s.prototype._handleOverflow=function(a,b,d){var e=a.selectAll('.v-groups').node();var i=a.selectAll('.v-overflow');if(this._isOverflow===true){var w=b.width;var j=b.height;var k=this._isScrollable();var m=this.isHorizontal();var n=b.textHeight;var z=b.colorMarkerSize;if(i.empty()){i=a.append('g').attr('class','v-overflow');}if(!k){if(!i.selectAll('g').empty()){a.selectAll('defs').remove();a.attr('clip-path',null);i.selectAll('g').remove();i.attr('transform','translate(0, 0)');}if(b.length!==0){var A=a.selectAll('.v-overflow text');if(A.empty()){A=i.append('text').text('...');A.attr('dy','');}e.appendChild(i.node());var E=e.getBoundingClientRect();var F=b[b.length-1];var J=v(b.length-1,b,e);var x=J.left-E.left;var y=F.pos.y;var K,L;var M;if(b.columnCount>1){M=0;var Q=this._getMaxNumOfItems();if(Q<this._colorShapeScale.getLength()&&b.rowCount>Math.floor(Q/b.columnCount)){if(Q%b.columnCount===0){K=b.columnCount*F.rowIndex;L=v(K,b,e);x=L.left-E.left;y+=b.eachRowHeight;}else{x=J.right-E.left+H;}}else{if(b.length>b.columnCount){K=F.rowIndex*b.columnCount-1;L=v(K,b,e);x=L.left-E.left;}else{x=J.right-E.left+H;}}}else{M=b.textX-H;if(c.isArray(F.text)){y+=(b.eachRowHeight*(F.line||F.text.length));}else{y+=b.eachRowHeight;}}if(!b.isRTL){i.attr('transform','translate('+(x-H+M)+','+y+')');}else{if(this._position==="top"||this._position==="bottom"){if(b.columnCount>1){this._overflowOffset=2*A.node().getComputedTextLength()+H+M;i.attr('transform','translate('+(-this._overflowOffset+this._lastRowOffset)+','+y+')');}else{i.attr('transform','translate('+(b.eachItemWidth-2*A.node().getComputedTextLength()-2*H-this._markerSize)+','+y+')');}}else{i.attr('transform','translate('+(b.width-2*A.node().getComputedTextLength()-H-this._markerSize)+','+y+')');}}A.attr('x',b.isRTL?0:H).attr('y',b.textY).attr('dy','0.85em');var R=null;var U=this.runtime().envManager();if(U){R=U.textAnchor();}A.attr("text-anchor",R);}}else{a.node().appendChild(i.node());if(!i.selectAll('text').empty()){i.selectAll('text').remove();}if(!d){this._scrollBar=undefined;}if(this._scrollBar===undefined){this._scrollBar=new S(this.runtime(),{name:'legend.scrollbar',location:"legend"});}if(a.selectAll('.legend-clip-rect').empty()){a.insert('svg:defs',":first-child").append('svg:clipPath').attr('id','legend_'+this._domID).append('rect').attr('class','legend-clip-rect').attr('x',m?0:-5).attr('style','stroke: blue; fill: none;');}var V=m?(w+'px'):((w+5)+'px');var W=m?((j-this._pos.y+5)+'px'):((j-this._pos.y)+'px');a.selectAll('.legend-clip-rect').attr('width',V).attr('height',W).attr('y',m?-5:0);a.attr('clip-path','url(#'+'legend_'+this._domID+')');var X,Y;var Z=this._scrollBar._properties;var $=parseFloat(Z.get("border.width"))||Z.getDefault("border.width");$=$>4?4:$;$=$<0?0:$;if(d){X=this._scrollBar.getThumbPosition();Y=this._scrollBar.getThumbRatio();}if(m){this._scrollBar.setTrackSize(w-this._pos.x-2*$);i.attr('transform','translate('+$+', '+b.eachRowHeight+')');}else{this._scrollBar.setTrackSize(j-this._pos.y-2*$);i.attr('transform','translate('+(w-this._scrollThumbSpace-$/2)+', '+''+$+')');}this._scrollBar.getDispatch().on("scroll.legend",this._scroll.bind(this));this._scrollBar.setPosition(this._orientation).setContentSize(this._contentSize).render(i);var _=this._scrollBar.getThumbRatio();if(d&&_!==Y){this._scrollBar.setThumbPosition(X/_*Y);this._setTranslate();}}}else{if(!i.empty()){a.selectAll('defs').remove();i.remove();this._scrollBar=undefined;}a.attr('clip-path',null);}};s.prototype.render=function(a,b){this._parent=a;this._overflowOffset=0;this._lastRowOffset=0;s.superclass.render.apply(this,arguments);if((!this.isVisible()&&!this._isDedicated)||!this._colorShapeScale){a.selectAll('g.v-content').remove();return this;}var d=this._getAvailableDomain();var e=this._createLegendContent(this._parent,d,b).node();if(this._properties.origin.get("legendGroup.layout.alignment")==="center"&&(this._position==="top"||this._position==="bottom")){if(e){var i=e.getBoundingClientRect().width;if(!this._renderedWidth||this._renderedWidth<i){this._renderedWidth=i;}if(this._bound){var j=this._bound.getAttribute("width");this._bound.setAttribute("x",0);if(parseFloat(j)>0){this._bound.setAttribute("width",Math.min(j,this._renderedWidth));this._bound.setAttribute("x",-H);if(d.isRTL){var k=a.select('rect.v-legend-body-bound');k.attr('x',parseFloat(k.attr('x'))+(this._lastRowOffset?0:this._overflowOffset));var m=a.selectAll('g.v-groups');var n=G.getBBox(m.node());m.attr('transform','translate('+(Math.min(j,this._renderedWidth)-n.width+(this._lastRowOffset?0:this._overflowOffset))+', 0)');if(this._properties.get("title.visible")===true){var w=a.select('.viz-legend-title');var x=w.node();w.select('tspan').attr("x",Math.min(j,this._renderedWidth)-x.getBoundingClientRect().width-this._markerSize);}}}}if(!this._isScrollable()||(this._isScrollable()&&this._width>this._renderedWidth)){this._width=this._renderedWidth;}}}this._postRenderer=this._properties.get("postRenderer");if(this._postRenderer){var y={dataModel:this._data,DataSelector:g,domain:d.slice(),effectManager:this.runtime().effectManager(),itemInfo:this._getGroupItemInfo(d)};var z={target:a,x:d.postRenderX,y:d.postRenderY,markerSize:d.markerSize};this._adjustRendererOption(z);this._postRenderer(y,z);}return this;};s.prototype._getContentDomain=function(b){var w=this._getWrapText();var a=this._colorShapeScale;var d=this._properties.origin.get("general.hideNoValueLabel");var e;if(this._isScrollable()){e=a.getLength();}else{e=Math.min(a.getLength(),this._getMaxNumOfItems());}var j=[];for(var i=0;i<e;i++){j.push(a.getItem(i));}j=this._sort(j);var k=this._calcDomain(j,d);k.width=b.width;k.height=b.height;k.maxWidth=b.maxWidth||b.width;k.maxHeight=b.maxHeight||b.height;k.wrap=w;k.len=e;this._calcMetaInfo(k);this._calcItemLayout(k);this._calcItemPosition(k);return k;};s.prototype._calcDomain=function(a,b){return a.map(function(d,i){d.id=i;var e=this._toValueString(d.data,b);var j=d.color;if(c.isString(j)&&j&&j.indexOf("url")===-1){j=N.convertColor(j);}return{id:i,val:d.data,text:e,ctx:d.context,color:j,shape:d.shape,pattern:d.pattern,isSemantic:d.isSemanticItem};},this);};s.prototype._getMarkerWidth=function(m){return m;};s.prototype._calcMetaInfo=function(a){var b=this._labelFont;var d=b.fontSize;var e=parseInt(b.fontSize,10);var m=this._markerMargin;var j=this._properties.get("marker.size");j=j&&parseFloat(j);var k=this.isHorizontal();var n=this._isScrollable();var w=m.bottom*e;var x=this._colorLabelSize*e;var y=this._getMarkerWidth(x);var z=(1+m.bottom)*e;var A=(k?m.left+m.right:m.right)*e;if(j&&j>e){w=m.bottom*j;x=j;y=this._getMarkerWidth(x);z=(1+m.bottom)*j;}this._markerSize=x;var E=a.maxWidth-A-y;if(n){E-=this._scrollThumbSpace;}var F;if(k||n){F=a.length;}else{if(!c.isNumeric(a.height)){a.height=z*a.len;}F=Math.min(Math.floor(a.height*2/z),a.length);}var J=0;for(var i=0;i<F;i++){var K=a[i].text;var L={width:T.getTextLength(K,p.convertToCss(b))};if(L.width>E&&a.wrap>1){var M=T.wrapText(a[i].text,[" "],E,a.wrap,b);a[i].text=M.lines;L={height:e*M.lines.length,width:M.maxWidth};}a[i].textSize=L;J=Math.max(J,L.width);}if(k){J=Math.min(J,this._maxItemTextWidth);}var Q=J+x+A;if(!k&&n){Q+=this._scrollThumbSpace;}if(!c.isNumeric(a.width)){a.width=Q;}var R=Math.max(x,e);var U=m.bottom*e/2;var V=x/2+H;var W=R/2+U;var X=x+m.right*e+H;var Y=((R-e)/2+U);var Z=x/2+H;var $=R/2+U;a.shapeX=V;a.shapeY=W;a.textX=X;a.textY=Y;a.postRenderX=Z;a.postRenderY=$;a.overallHeight=R;a.maxHeight=a.height-this._pos.y;a.maxTextWidth=J;a.minTextWidth=T.getTextLength("M...",p.convertToCss(b));a.ellipsisWidth=T.getTextLength("...",p.convertToCss(b));a.ellipsisItemWidth=a.ellipsisWidth+H;a.eachRowHeight=z;a.markerSize=x;a.textHeight=e;a.colorMarkerSize=j;a.paddingWidth=A;a.paddingBottom=w;a.miscWidth=x+A;a.eachItemWidth=Q;a.availableLabelCount=F;a.maxRowCount=Math.floor(a.maxHeight/a.eachRowHeight);a._intervalLen=0;var _=false;var a1={};var b1=this.runtime().envManager();if(b1){_=b1.isRTL();}a1.reverseDots=(b1&&b1.reverseDots());a.isRTL=_;a.ellipsisOptions=a1;a.markerMarginRight=m.right*e;this._cDomain=a;this._getIntervalInfo(a);if(this._maxWidth!==0){a.width=Math.min(this._maxWidth,a.width);}};s.prototype._calcHorizontalFullLegendLayout=function(d){var e=d.length;if(this._getMaxNumOfItems()<this._colorShapeScale.getLength()){e++;}var m=e;var n=1;var i,j,k,w,x;var y=[];var z=d.maxRowCount;for(m=1;m<=e;++m){var A=Math.ceil(e/m);n=Math.min(A,z);var E=Math.max(n*m,2);var F=[];for(i=0;i<m;++i){var J=0;for(j=0;j<n;++j){x=j*m+i;if(x!==E-1||E>=d.length){w=d[x];if(w){J=Math.max(J,w.textSize.width);}}}F[i]=J;}var K=0;for(j=0;j<m;++j){K+=F[j]+d.miscWidth;}if(K<=d.width||m===1){y.push({totalRowCount:A,columnCount:m,rowCount:n,actualCount:E<e?E-1:e,holeCount:e%m&&(m-e%m),columnWidths:F});}}y.sort(function(a,b){if(a.actualCount===b.actualCount){if(a.totalRowCount===b.totalRowCount){return a.holeCount-b.holeCount;}return a.totalRowCount-b.totalRowCount;}return b.actualCount-a.actualCount;});var L=y[0];for(i=d.length;i--;){if(i<L.columnCount*L.rowCount){d[i].labelWidth=L.columnWidths[i%L.columnCount];}}return{columnCount:L.columnCount,rowCount:L.rowCount};};s.prototype._calcItemLayout=function(a){var b=a.availableLabelCount;var d=1;var e=b;var j;var i,k;var m=a.eachRowHeight*C.LEGEND.SEMANTIC_ITEMS_INTERVAL;if(this.isHorizontal()){if(this._isScrollable()){d=b;e=1;}else{if(this._properties.get('showFullLabel')){var n=this._calcHorizontalFullLegendLayout(a);d=n.columnCount;e=n.rowCount;}else{var w;if(this._getMaxNumOfItems()<this._colorShapeScale.getLength()){w=1;}else{w=0;}d=Math.max(Math.floor((a.width)/a.eachItemWidth),1);e=Math.ceil((b+w)/d);if(this._maxRowCount&&e>this._maxRowCount){e=this._maxRowCount;}e=Math.min(a.maxRowCount,e);j=Math.min(a.maxTextWidth,this._maxItemTextWidth);}if(d===1&&b>1&&a.eachRowHeight*2>a.height-this._pos.y){d=2;}if(this._getMaxNumOfItems()===d&&d!=this._colorShapeScale.getLength()){e=Math.min(a.maxRowCount,2);}}if(e===1&&a._intervalIndex>=0){a._intervalLen=m;}}else{if(a._intervalIndex>=0){a._intervalLen=m;}}for(i=a.length;i--;){k=a[i];k.labelWidth=k.labelWidth||j||(k.textSize&&k.textSize.width);k.itemWidth=k.labelWidth+a.miscWidth;}if(this.isHorizontal()&&a.maxRowCount===1&&b>d){var x=a.ellipsisItemWidth;for(i=0;i<d;++i){x+=a[i].itemWidth;}if(x<=a.width-this._pos.x){d++;}}for(i=a.length;i--;){k=a[i];k.colIndex=i%d;k.rowIndex=Math.floor(i/d);}a.columnCount=d;a.rowCount=e;if(!this._maxRowCount){this._maxRowCount=e;}};s.prototype._calcItemPosition=function(a){var b=this._isScrollable();var d=this.isHorizontal();var e=this._colorShapeScale.getLength();var j=a.eachRowHeight;var k=a.columnCount,m=a.rowCount;a.lastRowIdxOffset=k*m-a.length;if(a.lastRowIdxOffset<0){a.lastRowIdxOffset=1;}var x=0;var y=0;var n=a.length;var w,z,A;this._isOverflow=Math.min(this._getMaxNumOfItems(),a.length)<this._colorShapeScale.getLength();for(var i=0;i<a.length;i++){var E=a[i];if(d){if(!b){if(E.colIndex===0&&i>0){x=0;y+=j;}if(E.colIndex===a.columnCount-1&&((e-i>1&&y+j*2>a.height-this._pos.y)||(E.colIndex>0&&x+E.itemWidth>a.width-this._pos.x))){this._isOverflow=true;n=i;if(i===0){n=1;E.pos={x:x,y:y};}break;}E.pos={x:x,y:y};if(a.isRTL){if(m>1&&a.lastRowIdxOffset>0&&E.rowIndex===m-1){var F=E.rowIndex-1,J=E.colIndex+a.lastRowIdxOffset;var K=F*k+J;E.pos.x=a[K].pos.x;E.itemWidth=a[K].itemWidth;E.labelWidth=a[K].labelWidth;if(E.colIndex===0){this._lastRowOffset=E.pos.x;}}}x+=E.itemWidth;if(a._intervalIndex>=0&&i===a._intervalIndex){x+=a._intervalLen;}}else{var L=a.width-this._pos.x;if(x+E.itemWidth>L){this._isOverflow=true;}L=a._intervalLen+a.width*this._pageCount-this._pos.x;E.pos={x:x,y:y};x+=E.itemWidth;if(a._intervalIndex>=0&&i===a._intervalIndex){x+=a._intervalLen;}if(x>L){n=i+1;break;}}}else{var M=a.height-this._pos.y;a.lines=a.lines!==undefined?a.lines:0;z=0;A=c.isArray(E.text)?E.text.length:1;if(a._intervalIndex>=0&&i>a._intervalIndex){z=a._intervalLen;}w=Math.floor((M+a.paddingBottom-z)/j);if(c.isArray(E.text)){a.lines+=A;}else{a.lines+=1;}var Q=(j*a.lines+z)-a.paddingBottom;if(Q>M){this._isOverflow=true;}if(this._isOverflow){M=b?a.height*this._pageCount-this._pos.y:M-a.textHeight;}if(w<=0){n=0;break;}if(Q>M){if(!b){if(c.isArray(E.text)&&(A>1)){if(a.lines===w+A){break;}var R=w+A-a.lines;if(i!==a.length-1){R=R-1;}else{this._isOverflow=false;}if(R===0){n=i;}else{n=i+1;}E.line=R;E.pos={x:0,y:j*(a.lines-A)+z};}else{n=i-1;}}else{a.lines=a.lines-1;n=i;}break;}else{E.pos={x:0,y:j*(a.lines-(c.isArray(E.text)?A:1))+z};if(!b&&a.lines===w&&i!==a.length-1){if(c.isArray(E.text)&&(A>1)){E.line=A-1;n=i+1;}else{n=i;}}}}}a.splice(n,a.length-n);};s.prototype._getItemCells=function(a){var b=[];var d,i,j;if(this._isScrollable()){var e=this.isHorizontal();var k=this._colorShapeScale.getLength();var m=e?1:k;var n=e?k:1;for(i=0;i<m;++i){d=[];for(j=0;j<n;++j){d.push({id:e?j:i});}b.push(d);}}else{for(i=0;i<a.length;i++){var w=a[i];var x=w.rowIndex;var y=w.colIndex;d=b[x]=b[x]||[];d[y]={id:w.id};}}return b;};s.prototype._getContentSize=function(a){var b=0;if(this._isScrollable()){if(this.isHorizontal()){var d=a[a.length-1];b=d.pos.x+d.itemWidth;}else{b=a.eachRowHeight*a.lines+a._intervalLen;}}return b;};s.prototype._getAvailableDomain=function(){var a=this._getContentDomain({height:this._height,width:this._width});this._cells=this._getItemCells(a);this._contentSize=this._getContentSize(a);return a;};s.prototype._getIntervalInfo=function(a){a._intervalLen=0;a._intervalIndex=-1;var b=[];if(this._colorShapeScale.items){b=this._colorShapeScale.items();}if(!this.getOrderByFunc()&&b.length>1){for(var i=0;i<b.length;++i){if(!b[i].isSemanticItem){a._intervalIndex=i-1;break;}}}};s.prototype.getOffset=function(){return{x:this._offset.x,y:this._offset.y};};s.prototype.getActiveLevels=function(){return this._cells;};s.prototype.getPreferredSize=function(b){if(!this.hasContent()){return{width:0,height:0,minWidth:0,minHeight:0,maxWidth:0,maxHeight:0};}return s.superclass.getPreferredSize.apply(this,arguments);};s.prototype._getMaxNumOfItems=function(){var m=this._properties.get("maxNumOfItems");var a=parseInt(m);if(m==null){a=Number.POSITIVE_INFINITY;}else{if(a.toString()!==m.toString()){a=Number.POSITIVE_INFINITY;}else if(isNaN(a)){a=Number.POSITIVE_INFINITY;}else if(a<1){a=Number.POSITIVE_INFINITY;}else{a=Math.floor(a);}}return a;};s.prototype._getBodyPreferredSize=function(b){var m=0;var a=0;var d=0;var e=0;var i;var k=this._isScrollable();var n=this.isHorizontal();this._maxWidth=0;this._getThemeStyleDef();var w=this._colorShapeScale.getLength();this._maxRowCount=0;if(w>0){var x=this._markerMargin;i=this._getContentDomain(b);var y=i.lines;y=Math.min(y,this._getMaxNumOfItems());var z=i.eachRowHeight;d=Math.min(i.minTextWidth,i.maxTextWidth)+i.miscWidth;if(n){a=b.width;if(k){m=z+this._scrollThumbSpace;e=m;}else{m=i.rowCount*z;e=z;}}else{a=i.eachItemWidth;if(k){d+=this._scrollThumbSpace;}if(!k&&y<w){y++;}m=z*y+i._intervalLen;e=z+(w>1?i.textHeight:0);}}if(k&&this._getMaxNumOfItems()<this._colorShapeScale.getLength()){var A=0;if(this._getMaxNumOfItems()-1>i._intervalIndex&&i._intervalIndex>-1){A=i.eachRowHeight*C.LEGEND.SEMANTIC_ITEMS_INTERVAL;}if(n){var E=0;for(var j=0;j<this._getMaxNumOfItems();++j){var F=i[j].textSize.width+i.markerSize+i.paddingWidth;E+=F;}a=E+A;this._maxWidth=a;if(a<d){d=a;}}else{m=this._getMaxNumOfItems()*i.eachRowHeight+A;if(m<e){e=m;}}}return{maxWidth:a,maxHeight:m,minWidth:d,minHeight:e};};s.prototype._sort=function(i){var a=this.getOrderByFunc();return a?i.sort(a):i;};s.prototype.getOrderByFunc=function(){var a=this._properties.get("order");if(typeof a==="function"){var b=this._toValueString.bind(this);return function(m,n){return a(b(m.data),b(n.data));};}return undefined;};s.prototype._initColorShapeScale=function(){if(!this._colorShapeScale&&this._colorScale){var m=this._buildColorShapeScale(this._colorScale);this._colorShapeScale=m;this.setBindingFields(m.getBindingFields());}};s.prototype._buildColorShapeScale=function(a){var b=this.runtime().semanticManager();var m=this.runtime().markManager();var d=this._getLegendMarkerShape();if(!d&&m.getMode()==="single"){d=m.getShape();}var i=this._properties.get('ignoreNoValue');if(d&&!m.locked()){m.setShape(d);}var e=new l(m);this._hasOnlyOneMeasure=false;if(b.hasDataPointColorStyle()||b.hasDataPointLineStyle()){e.setSemanticColorScale(b.getDataPointColorScale());}if(!b.isOverrideMode()||(!b.hasDataPointColorStyle()&&!b.hasDataPointLineStyle())){for(var j=0;j<a.length;j++){e.addColorScale(a[j]);}}if(this._shapeScale!==null){e.setShapeScale(this._shapeScale);}e.merge(d,i);return e;};s.prototype._getLegendMarkerShape=function(){var a=this._properties.get("marker.shape")||this._properties.origin.get('plotArea.marker.shape');if(C.LEGEND_MARKER_SHAPE.indexOf(a)===-1){a=this._properties.getDefault("marker.shape")||this._properties.origin.getDefault('plotArea.marker.shape');}return a;};s.prototype._getThemeStyleDef=function(){s.superclass._getThemeStyleDef.apply(this,arguments);var a=this._properties;this._markerMargin.bottom=h.getPositiveNumber(a.get("itemMargin"),this._defaultItemMargin);var b=this._labelFont;a=a.proxy('label.style');b.color=a.get("color");b.fontFamily=a.get("fontFamily");b.fontSize=parseFloat(a.get("fontSize"))+"px";b.fontWeight=a.get("fontWeight");b.fontStyle=a.get("fontStyle");};s.prototype._isScrollable=function(){return(this._properties.get('isScrollable')&&!this._properties.origin.get("interaction.noninteractiveMode"));};s.prototype.setBindingFields=function(_){s.superclass.setBindingFields.apply(this,arguments);this._displayTextsConverter=f.getDisplayTextsConverter(this._bindingFields,this._mndIndex);return this;};s.prototype.destroy=function(){s.superclass.destroy.apply(this,arguments);this._colorScale=null;this._shapeScale=null;this._colorShapeScale=null;this._displayTextsConverter=null;this._properties=null;this._colorLabelSize=null;this._markerMargin=null;this._maxItemsNum=null;this._maxItemTextWidth=null;if(this._scrollBar){this._scrollBar.destroy();}this._scrollBar=null;this._hasOnlyOneMeasure=null;this._labelFont=null;this._type=null;this._scrollThumbSpace=null;this._contentSize=null;this._pageCount=null;this._domID=null;this._isOverflow=null;this._panStartPos=null;this._cDomain=null;this.BGCOLORPROPS=null;};s.prototype._toValueString=function(a,b){var d=a;if(c.isArray(a)){if(b===true){d=this._displayTextsConverter(a,true).filter(function(e){return e!==undefined;});}else{d=this._displayTextsConverter(a);}d=d.join(" / ");}return d;};s.prototype.hasContent=function(){this._initColorShapeScale();return this._colorShapeScale&&this._colorShapeScale.getLength()>0;};return s;});define('sap/viz/chart/components/container/UIContainer',["sap/viz/framework/common/util/Constants","sap/viz/framework/common/util/oo","sap/viz/chart/components/UIComponent",'sap/viz/framework/common/lang/LangManager','sap/viz/framework/common/util/FunctionUtils'],function(C,o,U,L,F){var a=function(r,b){a.superclass.constructor.apply(this,arguments);this._renderType=(b&&b.renderType!=null)?b.renderType:null;this._children={};this._layoutAlgorithm=null;this._layoutResult=null;this._selections=null;};o.extend(a,U);a.prototype.setLayoutAlgorithm=function(l){this._layoutAlgorithm=l;return this;};a.prototype.addAutoLayoutProperties=function(s){var p=this._properties;var t=this;[{name:"autoWidth",key:"width"},{name:"autoHeight",key:"height"}].forEach(function(b){var c=s+".layout."+b.name;p.origin.add(c,{defaultValue:0,readonly:true,serializable:false,get:function(){var l=t._layoutResult;if(l){var m=l[s];if(m&&m[b.key]){return m[b.key];}}return 0;}});});};a.prototype.setChild=function(k,m,b){if(k&&m instanceof U){m.alias=k;var c=this._children[k]=this._children[k]||{};c.module=m;c.option=b||{};if(m.supportFixedLayout===true){this.addAutoLayoutProperties(k);}}return this;};a.prototype.getChild=function(k){if(k&&this._children&&this._children[k]){return this._children[k];}return null;};a.prototype._configLayout=function(){};a.prototype._postLayout=function(l){};a.prototype.layout=function(b){var c=this._configLayout(b);b=b||{};var i=false;var e=this.runtime().envManager();if(e){i=e.isRTL();}b.isRTL=i;if(this._layoutAlgorithm&&this._layoutAlgorithm.layout){this._layoutResult=this._layoutAlgorithm.layout(c||this._children,b);this._postLayout(this._layoutResult);return this._layoutResult;}return{};};a.prototype._initRenderBase=function(p){if(this._selections==null){this._selections={};}var n=p.node();for(var k in this._children){if(this._children.hasOwnProperty(k)){if(this._selections[k]!=null){continue;}var r=this._children[k].module.renderTo();if(r.toLowerCase()==='div'||r==='BorderDIVFlow'){if(n.tagName.toLowerCase()!=='div'){F.error(L.getLogMessage('IDS_ERROR_NODE_DIV_IN_SVG'));}this._selections[k]=p.append("div").attr('class','v-m-'+k).style('height','100%').style('width','100%');}else{if(n.tagName.toLowerCase()==='div'){this._selections[k]=p.append("svg").style({'position':'absolute','width':'100%','height':'100%'}).append("g").attr('class','v-m-'+k);}else{this._selections[k]=p.append("g").attr('class','v-m-'+k);}}}}};a.prototype.supportExportToContentType=function(b){var l=this._children.length;for(var i=0;i<l;i++){if(this._children.supportExportToContentType){return this._children.supportExportToContentType(b);}}};a.prototype.exportContent=function(b){var l=this._children.length;for(var i=0;i<l;i++){if(this._children.exportContent){return this._children.exportContent(b);}}};a.prototype.clearSize=function(k){if(!k){this._size.height=0;this._size.width=0;}for(var b in this._children){if(this._children.hasOwnProperty(b)){var c=this._children[b].module;if(c&&c.clearSize){c.clearSize();}}}return this;};a.prototype.destroy=function(){a.superclass.destroy.call(this);var k;for(k in this._selections){if(this._selections.hasOwnProperty(k)&&this._selections[k]){this._selections[k].remove();}}for(k in this._children){if(this._children.hasOwnProperty(k)){if(this._children[k]==null){continue;}var c=this._children[k].module;if(c&&c.destroy){c.destroy();}this._children[k]=null;}}this._selections=null;this._renderType=null;this._children=null;if(this._layoutAlgorithm&&this._layoutAlgorithm.destroy){this._layoutAlgorithm.destroy();}this._layoutAlgorithm=null;};a.prototype.calculatePaddingInPX=function(p,w,h){var c,b;var d,e;var f,g;var m=Math.min(w,h);c=C.PADDING.DEFAULT;if(c<1&&c>0){c=c*m;}b=p.get("general.layout.padding");if(b<1&&b>0){b=b*m;}d=p.get("general.layout.paddingTop");if(d<1&&d>0){d=d*m;}e=p.get("general.layout.paddingRight");if(e<1&&e>0){e=e*m;}f=p.get("general.layout.paddingBottom");if(f<1&&f>0){f=f*m;}g=p.get("general.layout.paddingLeft");if(g<1&&g>0){g=g*m;}return{constantPaddingInPX:c,propertyPaddingInPX:b,propertyPaddingTopInPX:d,propertyPaddingRightInPX:e,propertyPaddingBottomInPX:f,propertyPaddingLeftInPX:g};};a.prototype.statusChanged=function(s){for(var k in this._children){if(this._children.hasOwnProperty(k)){if(this._children[k].module.statusChanged){this._children[k].module.statusChanged(s);}}}};return a;});define('sap/viz/chart/layout/LegendLayout',["sap/viz/framework/common/util/oo",'sap/viz/framework/common/util/PositionUtil',"sap/viz/chart/layout/BaseLayout"],function(o,P,B){function L(){L.superclass.constructor.apply(this,arguments);this.config.add({position:'',spacing:12,legendPreferSizes:null});}o.extend(L,B);L.prototype.layout=function(c){var r={},i=false,a=this.config,w=a.get('totalWidth'),h=a.get('totalHeight'),l=a.get('legendPreferSizes'),p=a.get('position'),s=a.get('spacing'),b=P.isHorizontal(p),d=this._dictToArray(c),e=_(d,w,h,l,b);var f=0,g,j=e.availableSize,k=e.referenceSize,m=e.referenceMinSizes,n=e.maxSizes,q=e.minSizes;if(d3.sum(n)<=j){i=true;}for(var t=0,u=d.length;t<u;t++){var v=d[t].module;var x={x:0,y:0};var y=n[t];var z=q[t];if(b){x.x=f;}else{x.y=f;}if(i&&m[t]<k){f=f+y;g=y;}else{if(j<z||m[t]>k){x.width=x.height=0;r[v.alias]=x;continue;}else if(j>y){f=f+y;g=y;j=j-y-s;}else{f=f+j;g=j;j=0;}}if(b){x.width=g;x.height=h;}else{x.width=w;x.height=g;}f+=s;r[v.alias]=x;}return r;};function _(c,w,h,l,i){var a,r,m=[],b=[],d=[];if(i){a=w;r=h;c.forEach(function(e){var p=l[e.module.alias];m.push(p.maxWidth);b.push(p.minWidth);d.push(p.minHeight);});}else{a=h;r=w;c.forEach(function(e){var p=l[e.module.alias];m.push(p.maxHeight);b.push(p.minHeight);d.push(p.minWidth);});}return{'availableSize':a,'referenceSize':r,'maxSizes':m,'minSizes':b,'referenceMinSizes':d};}return L;});define('sap/viz/chart/components/legend/LegendGroup',['sap/viz/framework/common/util/oo','sap/viz/chart/components/container/UIContainer','sap/viz/framework/common/util/TypeUtils','sap/viz/framework/common/util/DOM','sap/viz/framework/common/util/PositionUtil','sap/viz/chart/layout/LegendLayout','sap/viz/framework/common/util/Constants',"sap/viz/framework/common/util/NumberUtils",'sap/viz/framework/common/util/ObjectUtils'],function(o,U,T,D,P,L,C,N,O){var a=function(r,b){a.superclass.constructor.apply(this,arguments);var t=this;this._subSelection={};this._position=null;this._defaultPosition=null;this._legendPreferSizes=null;this.setLayoutAlgorithm(new L());this._isDedicated=false;this._maxSize={width:0,height:0};this._height=0;this._width=0;this._spacing=12;var p=this._properties;['height','width'].forEach(function(e){var c={set:function(v,d){if(v===null||parseFloat(v)>=0){return v;}else{return d.value;}}};p.add('layout.'+e,c);});p.add('visible',{get:function(v,c){var d=t._children;for(var k in d){if(d.hasOwnProperty(k)){var e=d[k].module;if(e.visible()){return true;}}}return false;}});this.runtime().statusManager().add('legendGroup.isHorizontal');};o.extend(a,U);var V=["right","left","top","bottom","auto"];a.prototype.getPosition=function(){var p="layout.position",b=this._defaultPosition||this._position||this._properties.get(p);return V.indexOf(b)!==-1?b:this._properties.getDefault(p);};a.prototype.setPosition=function(p){this._position=p;};a.prototype.setDefaultPosition=function(p){this._defaultPosition=p;};a.prototype.visible=function(){var c=this._children;for(var k in c){if(c.hasOwnProperty(k)){var b=c[k].module;if(b.visible()){return true;}}}return false;};a.prototype._isPropVisible=function(){var c=this._children;for(var k in c){if(c.hasOwnProperty(k)){var b=c[k].module;if(b.properties('visible')){return true;}}}return false;};a.prototype.isVisible=function(){var c=this._children;for(var k in c){if(c.hasOwnProperty(k)){var b=c[k].module;if(b.isVisible()){return true;}}}return false;};a.prototype._configLayout=function(){var c={};if(this._isPropVisible()){var b=this._children;var s;if(this._isDedicated){s={width:this._maxSize.width,height:this._maxSize.height+this._spacing};}else{s={height:this._height,width:this._width};}for(var k in b){if(b.hasOwnProperty(k)){var d=b[k];var m=d.module;if(m.visible()||this._isDedicated){c[k]=d;}}}this._layoutAlgorithm.config.set({totalWidth:s.width,totalHeight:s.height,position:this.getPosition()||this._properties.get('layout.position'),spacing:this._spacing,legendPreferSizes:this._legendPreferSizes});}return c;};a.prototype._postLayout=function(){var r=this._layoutResult;for(var k in r){if(r.hasOwnProperty(k)){var l=this._children[k].module;var s=r[k];if(s){l.width(s.width).height(s.height);}}}};function g(r,b){if(r===undefined||r===null||(T.isFunction(r)&&!r())){return b;}var c=d3.select(r());if(c.empty()){return b;}return c;}a.prototype.render=function(r){var b=this._properties.get('renderTo');r=g(b,r);var c=this._isDedicated?d3.select(b()):undefined;var d=this._children;var l=null;if(this._isPropVisible()){l=this.layout();}var w=[];var x=0;for(var k in d){if(d.hasOwnProperty(k)){var e=d[k].module;var f=null;if(c&&!c.empty()){f=c.selectAll('.v-m-'+k);if(f.empty()){f=c.append('g').attr('class','v-m-'+k);}r.selectAll('.v-m-'+k).selectAll('*').remove();}else{if(this._subSelection[k]){f=r.selectAll('.v-m-'+k);}else{this._subSelection[k]=r.append('g').attr('class','v-m-'+k);f=this._subSelection[k];}}if(this._isDedicated&&c){var h=e.height();c.attr('height',h).attr('width',this._maxSize.width);}e.render(f);if(!e.visible()){continue;}if(l&&l[k]&&l[k].x!==undefined&&l[k].y!==undefined){f.attr('transform','translate('+l[k].x+','+l[k].y+')');}if(this._properties.get("layout.alignment")==="center"&&(this._properties.get("layout.position")==="top"||this._properties.get("layout.position")==="bottom")){if(e._width<l[k].width){x+=(l[k].width-e._width)/2;}var j={};j.wrapper=f;j.layoutInfo=l[k];w.push(j);}}}for(var i=0;i<w.length;i++){var m=w[i];var n=m.layoutInfo;m.wrapper.attr('transform','translate('+(n.x+x)+','+n.y+')');}this._properties.setDefault("computedVisibility",this.isVisible(),true);};a.prototype.setSize=function(s){var c=this._children;this._height=s.height;this._width=s.width;for(var k in c){if(c.hasOwnProperty(k)){var b=c[k].module;if(b.visible()){b.setSize({height:s.height,width:s.width});}}}return this;};a.prototype.resetPreviousLimit=function(r){if(this._width&&(this._position==="left"||this._position==="right")){r.width=this._width;r.minWidth=this._width;r.maxWidth=this._width;}else if(this._height&&(this._position==="top"||this._position==="bottom")){r.height=this._height;r.minHeight=this._height;r.maxHeight=this._height;}};a.prototype.paginationOptions=function(){var d=this._runtime&&this._runtime._interaction&&this._runtime._interaction._service&&this._runtime._interaction._service.getDataModel();var p;if(d&&d.getPaginationOptions){p=d.getPaginationOptions();}return p;};a.prototype.getPreferredSize=function(b,i,c,d){var r={width:0,height:0,minWidth:0,maxWidth:0,minHeight:0,maxHeight:0};if(!this._isPropVisible()){return r;}var p=this._properties;var e=(!i&&this._properties.origin.get("legendGroup.forceToShow"));var m=b.maxHeight=N.getSizeValue(p.get('layout.maxHeight'),b.height);var f=b.maxWidth=b.maxWidth||N.getSizeValue(p.get('layout.maxWidth'),b.width);var l=p.get('layout.position');var h=[],j=[],k=[],n=[];var q=this._children;var s=0;var t=0;this._legendPreferSizes={};var u=p.get('renderTo');if(u!==undefined&&u!==null&&T.isFunction(u)&&u()){this._isDedicated=true;}else{this._isDedicated=false;}for(var v in q){if(q.hasOwnProperty(v)){var w=q[v].module;w.setDedicated(this._isDedicated);w.setPosition(this.getPosition());if(w.visible()||this._isDedicated){if(this._isDedicated){w.setOrientation('right');}else{w.setOrientation(this.getPosition()||l);}var x=w.getPreferredSize(b);this._legendPreferSizes[v]=x;if(!this._isDedicated&&!e){if(w.isHorizontal()){if(x.minHeight>m||x.minWidth>b.width){continue;}}else{if(x.minWidth>f||x.minHeight>b.height){continue;}}}h.push(x.minWidth);k.push(x.minHeight);j.push(x.maxWidth);n.push(x.maxHeight);}}}var y;if(e){y={width:d3.max(h),height:d3.max(k)};}else{y={width:d3.min(h),height:d3.min(k)};}var z={width:d3.max(j),height:d3.max(n)};if(y.width>0||y.height>0||z.width>0||z.height>0){if(this.isHorizontal()){t=b.maxHeight>z.height?z.height:b.maxHeight;s=z.width;this._maxSize.width=d3.sum(j);this._maxSize.height=z.height;}else{s=b.maxWidth>z.width?z.width:b.maxWidth;t=z.height;this._maxSize.height=d3.sum(n);this._maxSize.width=z.width;}}if(!this._isDedicated){if(e){if(s<y.width){s=y.width;}if(t<y.height){t=y.height;}}r={width:s,height:t,minWidth:y.width,maxWidth:z.width,minHeight:y.height,maxHeight:z.height};var A=false;var B=this.runtime().envManager();if(B){A=B.isRTL();}if(A||this._properties.get("layout.alignment")==="center"){r.maxSize=O.clone(this._maxSize);}}var E=d.pagination;if((d.dataChanged&&E&&E.mode===C.PAGINATION_MODE.UPDATE)||(!d.isSizeChanged&&d.propertiesChanged===false&&E&&E.mode===C.PAGINATION_MODE.UPDATE&&!c)){this.resetPreviousLimit(r);}return r;};a.prototype.isHorizontal=function(){var p=this.getPosition();if(!p){p=this._properties.get("layout.position");}var i=P.isHorizontal(p);this.runtime().statusManager().set('legendGroup.isHorizontal',i);return i;};a.prototype.setData=function(){var c=this._children;for(var k in c){if(c.hasOwnProperty(k)){var b=c[k].module;b.setData.apply(b,arguments);}}};a.prototype.destroy=function(){a.superclass.destroy.call(this);this.clear();this._position=null;this._subSelection=null;this._legendPreferSizes=null;this._isDedicated=null;this._maxSize=null;this._height=null;this._width=null;};a.prototype.clear=function(){for(var k in this._subSelection){if(this._subSelection.hasOwnProperty(k)&&this._subSelection[k]){this._subSelection[k].remove();this._subSelection[k]=null;}}};a.prototype.supportFixedLayout=true;return a;});define('propertyDefs',[],function(){return{"":{"general.accDescription":null,"general.background.border.bottom.visible":false,"general.background.border.left.visible":false,"general.background.border.right.visible":false,"general.background.border.stroke":"#d8d8d8","general.background.border.strokeWidth":1,"general.background.border.top.visible":false,"general.background.color":"transparent","general.background.drawingEffect":"normal","general.background.gradientDirection":"vertical","general.background.visible":true,"general.layout.padding":24,"general.layout.paddingBottom":null,"general.layout.paddingLeft":null,"general.layout.paddingRight":null,"general.layout.paddingTop":null,"general.tabIndex":0,"legend.drawingEffect":"normal","legend.label.style.color":"#000000","legend.label.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","legend.label.style.fontSize":"12px","legend.label.style.fontStyle":"normal","legend.label.style.fontWeight":"normal","legend.postRenderer":null,"legend.title.style.color":"#000000","legend.title.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","legend.title.style.fontSize":"14px","legend.title.style.fontStyle":"normal","legend.title.style.fontWeight":"bold","legend.title.text":null,"legend.title.visible":false,"legend.visible":true,"legendGroup.computedVisibility":{"defaultValue":true,"readonly":true,"serializable":false},"legendGroup.forceToShow":false,"legendGroup.layout.alignment":"topLeft","legendGroup.layout.height":null,"legendGroup.layout.maxHeight":0.25,"legendGroup.layout.maxWidth":0.25,"legendGroup.layout.position":"right","legendGroup.layout.width":null,"legendGroup.linesOfWrap":1,"legendGroup.renderTo":{"defaultValue":null,"serializable":false},"plotArea.dataPoint.stroke.color":"#000000","plotArea.dataPoint.stroke.visible":false,"title.alignment":"center","title.layout.height":null,"title.layout.maxHeight":0.2,"title.style.color":"#333333","title.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","title.style.fontSize":"16px","title.style.fontStyle":"normal","title.style.fontWeight":"bold","title.text":null,"title.visible":false,"tooltip.background.borderColor":"#cccccc","tooltip.background.color":"#ffffff","tooltip.bodyDimensionLabel.color":"#666666","tooltip.bodyDimensionValue.color":"#666666","tooltip.bodyMeasureLabel.color":"#666666","tooltip.bodyMeasureValue.color":"#000000","tooltip.closeButton.backgroundColor":"#ffffff","tooltip.closeButton.borderColor":"#cccccc","tooltip.footerLabel.color":"#000000","tooltip.formatString":null,"tooltip.layinChart":true,"tooltip.postRender":null,"tooltip.preRender":{"defaultValue":null,"serializable":false},"tooltip.separationLine.color":"#a7a9ac","tooltip.unitFormatType":"FinancialUnits","tooltip.visible":true},"_bullet":{"feedingZone":{"defaultValue":[{"bindDef":[{"id":null}],"bound":[[[0,0],[0,0],[0,0],[0,0]]],"name":null}],"readonly":true,"serializable":false},"interaction.behaviorType":null,"interaction.decorations":{"defaultValue":null,"serializable":false},"interaction.deselected.opacity":0.4,"interaction.deselected.stroke.color":"darken(20%)","interaction.deselected.stroke.visible":false,"interaction.deselected.stroke.width":"1px","interaction.enableDeselectAll":true,"interaction.enableKeyboard":false,"interaction.extraEventInfo":false,"interaction.hover.opacity":1,"interaction.hover.stroke.color":"darken(20%)","interaction.hover.stroke.visible":true,"interaction.hover.stroke.width":"2px","interaction.noninteractiveMode":false,"interaction.selectability.axisLabelSelection":true,"interaction.selectability.behavior":{"defaultValue":"DATAPOINT","serializable":false},"interaction.selectability.mode":"INCLUSIVE","interaction.selectability.plotLassoSelection":true,"interaction.selectability.plotStdSelection":true,"interaction.selected.stroke.color":"darken(20%)","interaction.selected.stroke.visible":true,"interaction.selected.stroke.width":"1px","interaction.zoom.direction":"all","interaction.zoom.enablement":"auto","legend.isScrollable":false,"legend.itemMargin":0.5,"legend.label.text.target":null,"legend.marker.size":null,"legend.maxNumOfItems":null,"legend.order":{"defaultValue":null,"serializable":false},"legend.scrollbar.border.color":"white","legend.scrollbar.border.width":0,"legend.scrollbar.spacing":0,"legend.scrollbar.thumb.fill":"#e5e5e5","legend.scrollbar.thumb.hoverFill":"#dedede","legend.scrollbar.track.fill":"#f7f7f7","legend.showFullLabel":true,"legendGroup.layout.respectPlotPosition":true,"plotArea.actualColor":["#748CB2","#9CC677","#EACF5E","#F9AD79","#D16A7C","#8873A2","#3A95B3","#B6D949","#FDD36C","#F47958","#A65084","#0063B1","#0DA841","#FCB71D","#F05620","#B22D6E","#3C368E"],"plotArea.additionalColor":["#A7BFE5","#CFF9AA","#FFFF91","#FFE0AC","#FF9DAF","#BBA6D5","#6DC8E6","#E9FF7C","#FFFF9F","#FFAC8B","#D983B7","#3396E4","#40DB74","#FFEA50","#FF8953","#E560A1","#6F69C1"],"plotArea.background.border.bottom.visible":false,"plotArea.background.border.left.visible":true,"plotArea.background.border.right.visible":false,"plotArea.background.border.stroke":"#d8d8d8","plotArea.background.border.strokeWidth":1,"plotArea.background.border.top.visible":false,"plotArea.background.color":"transparent","plotArea.background.drawingEffect":"normal","plotArea.background.gradientDirection":"vertical","plotArea.background.visible":true,"plotArea.dataPoint.stroke.color":"#ffffff","plotArea.dataPoint.stroke.visible":true,"plotArea.dataPointSize.max":96,"plotArea.dataPointSize.min":24,"plotArea.dataPointStyle":null,"plotArea.dataPointStyleMode":"update","plotArea.defaultOthersStyle.color":"#000000","plotArea.gridline.color":"#d8d8d8","plotArea.gridline.size":1,"plotArea.gridline.type":"solid","plotArea.gridline.visible":false,"plotArea.isFixedDataPointSize":false,"plotArea.markerRenderer":null,"plotArea.primaryScale.autoMaxValue":{"defaultValue":null,"readonly":true,"serializable":false},"plotArea.primaryScale.autoMinValue":{"defaultValue":null,"readonly":true,"serializable":false},"plotArea.primaryScale.maxValue":{"defaultValue":null,"serializable":false},"plotArea.primaryScale.minValue":{"defaultValue":null,"serializable":false},"plotArea.scrollbar.border.color":"white","plotArea.scrollbar.border.width":0,"plotArea.scrollbar.spacing":0,"plotArea.scrollbar.thumb.fill":"#e5e5e5","plotArea.scrollbar.thumb.hoverFill":"#dedede","plotArea.scrollbar.track.fill":"#f7f7f7","plotArea.target.shadowColor":"","plotArea.target.valueColor":"#333333","plotArea.window.end":null,"plotArea.window.start":null,"propertyZone":{"defaultValue":null,"readonly":true,"serializable":false},"valueAxis.axisLine.size":1,"valueAxis.axisLine.visible":true,"valueAxis.axisTick.visible":true,"valueAxis.color":"#6c6c6c","valueAxis.label.formatString":null,"valueAxis.label.style.color":"#333333","valueAxis.label.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","valueAxis.label.style.fontSize":"12px","valueAxis.label.style.fontStyle":"normal","valueAxis.label.style.fontWeight":"normal","valueAxis.label.unitFormatType":"FinancialUnits","valueAxis.label.visible":true,"valueAxis.layout.autoHeight":{"defaultValue":null,"readonly":true},"valueAxis.layout.autoWidth":{"defaultValue":null,"readonly":true},"valueAxis.layout.height":null,"valueAxis.layout.maxHeight":0.25,"valueAxis.layout.maxWidth":0.25,"valueAxis.layout.width":null,"valueAxis.title.applyAxislineColor":false,"valueAxis.title.style.color":"#000000","valueAxis.title.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","valueAxis.title.style.fontSize":"14px","valueAxis.title.style.fontStyle":"normal","valueAxis.title.style.fontWeight":"bold","valueAxis.title.text":null,"valueAxis.title.visible":false,"valueAxis.visible":true},"_dual":{"feedingZone":{"defaultValue":[{"bindDef":[{"id":null}],"bound":[[[0,0],[0,0],[0,0],[0,0]]],"name":null}],"readonly":true,"serializable":false},"interaction.behaviorType":null,"interaction.decorations":{"defaultValue":null,"serializable":false},"interaction.deselected.color":null,"interaction.deselected.opacity":0.4,"interaction.deselected.stroke.color":"darken(20%)","interaction.deselected.stroke.visible":false,"interaction.deselected.stroke.width":"1px","interaction.enableDeselectAll":true,"interaction.enableKeyboard":false,"interaction.extraEventInfo":false,"interaction.hover.color":null,"interaction.hover.opacity":1,"interaction.hover.stroke.color":"darken(20%)","interaction.hover.stroke.visible":true,"interaction.hover.stroke.width":"2px","interaction.noninteractiveMode":false,"interaction.selectability.axisLabelSelection":true,"interaction.selectability.behavior":{"defaultValue":"DATAPOINT","serializable":false},"interaction.selectability.legendSelection":true,"interaction.selectability.mode":"INCLUSIVE","interaction.selectability.plotLassoSelection":true,"interaction.selectability.plotStdSelection":true,"interaction.selected.color":null,"interaction.selected.stroke.color":"darken(20%)","interaction.selected.stroke.visible":true,"interaction.selected.stroke.width":"1px","interaction.zoom.direction":"all","interaction.zoom.enablement":"auto","legend.hoverShadow.color":"#cccccc","legend.isScrollable":false,"legend.itemMargin":0.5,"legend.marker.size":null,"legend.maxNumOfItems":null,"legend.mouseDownShadow.color":"#808080","legend.order":{"defaultValue":null,"serializable":false},"legend.scrollbar.border.color":"white","legend.scrollbar.border.width":0,"legend.scrollbar.spacing":0,"legend.scrollbar.thumb.fill":"#e5e5e5","legend.scrollbar.thumb.hoverFill":"#dedede","legend.scrollbar.track.fill":"#f7f7f7","legend.showFullLabel":true,"legendGroup.layout.respectPlotPosition":true,"plotArea.background.border.bottom.visible":true,"plotArea.background.border.left.visible":true,"plotArea.background.border.right.visible":true,"plotArea.background.border.stroke":"#d8d8d8","plotArea.background.border.strokeWidth":1,"plotArea.background.border.top.visible":true,"plotArea.background.color":"transparent","plotArea.background.drawingEffect":"normal","plotArea.background.gradientDirection":"vertical","plotArea.background.visible":true,"plotArea.dataLabel.formatString":null,"plotArea.dataLabel.hideWhenOverlap":false,"plotArea.dataLabel.renderer":null,"plotArea.dataLabel.style.color":"#333333","plotArea.dataLabel.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","plotArea.dataLabel.style.fontSize":"12px","plotArea.dataLabel.style.fontStyle":"normal","plotArea.dataLabel.style.fontWeight":"normal","plotArea.dataLabel.unitFormatType":"FinancialUnits","plotArea.dataLabel.visible":false,"plotArea.dataPointStyle":null,"plotArea.dataPointStyleMode":"update","plotArea.defaultOthersStyle.color":"#000000","plotArea.drawingEffect":"normal","plotArea.gridline.color":"#d8d8d8","plotArea.gridline.size":1,"plotArea.gridline.type":"solid","plotArea.gridline.visible":true,"plotArea.gridline.zeroLine.color":null,"plotArea.gridline.zeroLine.highlight":true,"plotArea.gridline.zeroLine.unhighlightAxis":true,"plotArea.isFixedDataPointSize":false,"plotArea.markerRenderer":null,"plotArea.primaryValuesColorPalette":{"defaultValue":["#8FBADD","#B8D4E9","#7AAED6","#A3C7E3","#3D88C4","#66A1D0","#297CBE","#5295CA","#005BA3","#146FB7","#005395","#0063B1"],"serializable":false},"plotArea.referenceLine.defaultStyle.color":"#666666","plotArea.referenceLine.defaultStyle.label.background":"#ffffff","plotArea.referenceLine.defaultStyle.label.color":"#333333","plotArea.referenceLine.defaultStyle.label.fontFamily":"\"Open Sans\", Arial, Helvetica, sans-serif","plotArea.referenceLine.defaultStyle.label.fontSize":"12px","plotArea.referenceLine.defaultStyle.label.fontStyle":"normal","plotArea.referenceLine.defaultStyle.label.fontWeight":"normal","plotArea.referenceLine.defaultStyle.size":1,"plotArea.referenceLine.defaultStyle.type":"dash","plotArea.referenceLine.line":null,"plotArea.scrollbar.border.color":"white","plotArea.scrollbar.border.width":0,"plotArea.scrollbar.spacing":0,"plotArea.scrollbar.thumb.fill":"#e5e5e5","plotArea.scrollbar.thumb.hoverFill":"#dedede","plotArea.scrollbar.track.fill":"#f7f7f7","plotArea.secondaryValuesColorPalette":{"defaultValue":["#F6A09B","#F9C3C0","#F58E88","#F8B1AD","#F05B52","#F37D76","#EE4A40","#F16C64","#D92419","#ED382D","#C52117","#EB271B"],"serializable":false},"plotArea.seriesStyle":null,"plotArea.window.end":null,"plotArea.window.start":null,"propertyZone":{"defaultValue":null,"readonly":true,"serializable":false},"valueAxis.axisLine.size":1,"valueAxis.axisLine.visible":true,"valueAxis.axisTick.visible":true,"valueAxis.color":"#8FBADD","valueAxis.label.formatString":null,"valueAxis.label.style.color":"#333333","valueAxis.label.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","valueAxis.label.style.fontSize":"12px","valueAxis.label.style.fontStyle":"normal","valueAxis.label.style.fontWeight":"normal","valueAxis.label.unitFormatType":"FinancialUnits","valueAxis.label.visible":true,"valueAxis.layout.autoHeight":{"defaultValue":null,"readonly":true},"valueAxis.layout.autoWidth":{"defaultValue":null,"readonly":true},"valueAxis.layout.height":null,"valueAxis.layout.maxHeight":0.25,"valueAxis.layout.maxWidth":0.25,"valueAxis.layout.width":null,"valueAxis.title.applyAxislineColor":true,"valueAxis.title.style.color":"#000000","valueAxis.title.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","valueAxis.title.style.fontSize":"14px","valueAxis.title.style.fontStyle":"normal","valueAxis.title.style.fontWeight":"bold","valueAxis.title.text":null,"valueAxis.title.visible":false,"valueAxis.visible":true,"valueAxis2.axisLine.size":1,"valueAxis2.axisLine.visible":true,"valueAxis2.axisTick.visible":true,"valueAxis2.color":"#F6A09B","valueAxis2.label.formatString":null,"valueAxis2.label.style.color":"#333333","valueAxis2.label.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","valueAxis2.label.style.fontSize":"12px","valueAxis2.label.style.fontStyle":"normal","valueAxis2.label.style.fontWeight":"normal","valueAxis2.label.unitFormatType":"FinancialUnits","valueAxis2.label.visible":true,"valueAxis2.layout.autoHeight":{"defaultValue":null,"readonly":true},"valueAxis2.layout.autoWidth":{"defaultValue":null,"readonly":true},"valueAxis2.layout.height":null,"valueAxis2.layout.maxHeight":0.25,"valueAxis2.layout.maxWidth":0.25,"valueAxis2.layout.width":null,"valueAxis2.title.applyAxislineColor":true,"valueAxis2.title.style.color":"#000000","valueAxis2.title.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","valueAxis2.title.style.fontSize":"14px","valueAxis2.title.style.fontStyle":"normal","valueAxis2.title.style.fontWeight":"bold","valueAxis2.title.text":null,"valueAxis2.title.visible":false,"valueAxis2.visible":true},"_pie":{"feedingZone":{"defaultValue":[{"bindDef":[{"id":null}],"bound":[[[0,0],[0,0],[0,0],[0,0]]],"name":null}],"readonly":true,"serializable":false},"general.groupData":false,"interaction.behaviorType":null,"interaction.decorations":{"defaultValue":null,"serializable":false},"interaction.deselected.color":null,"interaction.deselected.opacity":0.4,"interaction.deselected.stroke.color":"darken(20%)","interaction.deselected.stroke.visible":false,"interaction.deselected.stroke.width":"1px","interaction.enableDeselectAll":true,"interaction.enableKeyboard":false,"interaction.extraEventInfo":false,"interaction.hover.color":null,"interaction.hover.opacity":1,"interaction.hover.stroke.color":"darken(20%)","interaction.hover.stroke.visible":true,"interaction.hover.stroke.width":"2px","interaction.noninteractiveMode":false,"interaction.selectability.behavior":{"defaultValue":"DATAPOINT","serializable":false},"interaction.selectability.legendSelection":true,"interaction.selectability.mode":"INCLUSIVE","interaction.selectability.plotLassoSelection":true,"interaction.selectability.plotStdSelection":true,"interaction.selected.color":null,"interaction.selected.stroke.color":"darken(20%)","interaction.selected.stroke.visible":true,"interaction.selected.stroke.width":"1px","legend.hoverShadow.color":"#cccccc","legend.isScrollable":false,"legend.itemMargin":0.5,"legend.marker.shape":"squareWithRadius","legend.marker.size":null,"legend.maxNumOfItems":null,"legend.mouseDownShadow.color":"#808080","legend.order":{"defaultValue":null,"serializable":false},"legend.scrollbar.border.color":"white","legend.scrollbar.border.width":0,"legend.scrollbar.spacing":0,"legend.scrollbar.thumb.fill":"#e5e5e5","legend.scrollbar.thumb.hoverFill":"#dedede","legend.scrollbar.track.fill":"#f7f7f7","legend.showFullLabel":true,"plotArea.background.border.bottom.visible":false,"plotArea.background.border.left.visible":false,"plotArea.background.border.right.visible":false,"plotArea.background.border.stroke":"#d8d8d8","plotArea.background.border.strokeWidth":1,"plotArea.background.border.top.visible":false,"plotArea.background.color":"transparent","plotArea.background.drawingEffect":"normal","plotArea.background.gradientDirection":"vertical","plotArea.background.visible":true,"plotArea.colorPalette":{"defaultValue":["#748CB2","#9CC677","#EACF5E","#F9AD79","#D16A7C","#8873A2","#3A95B3","#B6D949","#FDD36C","#F47958","#A65084","#0063B1","#0DA841","#FCB71D","#F05620","#B22D6E","#3C368E","#8FB2CF","#95D4AB","#EAE98F","#F9BE92","#EC9A99","#BC98BD","#1EB7B2","#73C03C","#F48323","#EB271B","#D9B5CA","#AED1DA","#DFECB2","#FCDAB0","#F5BCB4"],"serializable":false},"plotArea.dataLabel.distance":0.1,"plotArea.dataLabel.formatString":null,"plotArea.dataLabel.hideWhenOverlap":false,"plotArea.dataLabel.line.color":"#a8a8a8","plotArea.dataLabel.line.visible":true,"plotArea.dataLabel.renderer":null,"plotArea.dataLabel.style.color":"#333333","plotArea.dataLabel.style.colorRange":"all","plotArea.dataLabel.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","plotArea.dataLabel.style.fontSize":"12px","plotArea.dataLabel.style.fontStyle":"normal","plotArea.dataLabel.style.fontWeight":"normal","plotArea.dataLabel.type":"colorAndPercentage","plotArea.dataLabel.unitFormatType":"FinancialUnits","plotArea.dataLabel.visible":false,"plotArea.dataPointStyle":null,"plotArea.dataPointStyleMode":"update","plotArea.defaultOthersStyle.color":"#000000","plotArea.drawingEffect":"normal","plotArea.highlight.contextInfos":[],"plotArea.radius":0.38,"plotArea.sliceRenderer":null,"propertyZone":{"defaultValue":null,"readonly":true,"serializable":false},"tooltip.bodyMeasureValue.type":"value"},"_scatter":{"feedingZone":{"defaultValue":[{"bindDef":[{"id":null}],"bound":[[[0,0],[0,0],[0,0],[0,0]]],"name":null}],"readonly":true,"serializable":false},"general.groupData":false,"interaction.behaviorType":null,"interaction.decorations":{"defaultValue":null,"serializable":false},"interaction.deselected.color":null,"interaction.deselected.opacity":0.4,"interaction.deselected.stroke.color":"darken(20%)","interaction.deselected.stroke.visible":false,"interaction.deselected.stroke.width":"1px","interaction.enableDeselectAll":true,"interaction.enableKeyboard":false,"interaction.extraEventInfo":false,"interaction.hover.color":null,"interaction.hover.opacity":1,"interaction.hover.stroke.color":"darken(20%)","interaction.hover.stroke.visible":true,"interaction.hover.stroke.width":"2px","interaction.noninteractiveMode":false,"interaction.selectability.axisLabelSelection":true,"interaction.selectability.behavior":{"defaultValue":"DATAPOINT","serializable":false},"interaction.selectability.legendSelection":true,"interaction.selectability.mode":"INCLUSIVE","interaction.selectability.plotLassoSelection":true,"interaction.selectability.plotStdSelection":true,"interaction.selected.color":null,"interaction.selected.stroke.color":"darken(20%)","interaction.selected.stroke.visible":true,"interaction.selected.stroke.width":"1px","interaction.zoom.enablement":"auto","legend.hoverShadow.color":"#cccccc","legend.isScrollable":false,"legend.itemMargin":0.5,"legend.marker.size":null,"legend.maxNumOfItems":null,"legend.mouseDownShadow.color":"#808080","legend.order":{"defaultValue":null,"serializable":false},"legend.scrollbar.border.color":"white","legend.scrollbar.border.width":0,"legend.scrollbar.spacing":0,"legend.scrollbar.thumb.fill":"#e5e5e5","legend.scrollbar.thumb.hoverFill":"#dedede","legend.scrollbar.track.fill":"#f7f7f7","legend.showFullLabel":true,"legendGroup.layout.respectPlotPosition":true,"plotArea.adjustScale":false,"plotArea.background.border.bottom.visible":true,"plotArea.background.border.left.visible":true,"plotArea.background.border.right.visible":true,"plotArea.background.border.stroke":"#d8d8d8","plotArea.background.border.strokeWidth":1,"plotArea.background.border.top.visible":true,"plotArea.background.color":"transparent","plotArea.background.drawingEffect":"normal","plotArea.background.gradientDirection":"vertical","plotArea.background.visible":true,"plotArea.colorDepth":1,"plotArea.colorPalette":{"defaultValue":["#748CB2","#9CC677","#EACF5E","#F9AD79","#D16A7C","#8873A2","#3A95B3","#B6D949","#FDD36C","#F47958","#A65084","#0063B1","#0DA841","#FCB71D","#F05620","#B22D6E","#3C368E","#8FB2CF","#95D4AB","#EAE98F","#F9BE92","#EC9A99","#BC98BD","#1EB7B2","#73C03C","#F48323","#EB271B","#D9B5CA","#AED1DA","#DFECB2","#FCDAB0","#F5BCB4"],"serializable":false},"plotArea.dataLabel.formatString":null,"plotArea.dataLabel.hideWhenOverlap":false,"plotArea.dataLabel.renderer":null,"plotArea.dataLabel.style.color":"#333333","plotArea.dataLabel.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","plotArea.dataLabel.style.fontSize":"12px","plotArea.dataLabel.style.fontStyle":"normal","plotArea.dataLabel.style.fontWeight":"normal","plotArea.dataLabel.unitFormatType":"FinancialUnits","plotArea.dataLabel.visible":false,"plotArea.dataPoint.opacity":0.8,"plotArea.dataPointStyle":null,"plotArea.dataPointStyleMode":"update","plotArea.defaultOthersStyle.color":"#000000","plotArea.drawingEffect":"normal","plotArea.gridline.color":"#d8d8d8","plotArea.gridline.size":1,"plotArea.gridline.type":"solid","plotArea.gridline.visible":true,"plotArea.markerRenderer":null,"plotArea.primaryScale.autoMaxValue":{"defaultValue":null,"readonly":true,"serializable":false},"plotArea.primaryScale.autoMinValue":{"defaultValue":null,"readonly":true,"serializable":false},"plotArea.primaryScale.fixedRange":{"defaultValue":false,"serializable":false},"plotArea.primaryScale.maxValue":{"defaultValue":null,"serializable":false},"plotArea.primaryScale.minValue":{"defaultValue":null,"serializable":false},"plotArea.referenceLine.defaultStyle.color":"#666666","plotArea.referenceLine.defaultStyle.label.background":"#ffffff","plotArea.referenceLine.defaultStyle.label.color":"#333333","plotArea.referenceLine.defaultStyle.label.fontFamily":"\"Open Sans\", Arial, Helvetica, sans-serif","plotArea.referenceLine.defaultStyle.label.fontSize":"12px","plotArea.referenceLine.defaultStyle.label.fontStyle":"normal","plotArea.referenceLine.defaultStyle.label.fontWeight":"normal","plotArea.referenceLine.defaultStyle.size":1,"plotArea.referenceLine.defaultStyle.type":"dash","plotArea.referenceLine.line":null,"plotArea.scrollbar.border.color":"white","plotArea.scrollbar.border.width":0,"plotArea.scrollbar.spacing":0,"plotArea.scrollbar.thumb.fill":"#e5e5e5","plotArea.scrollbar.thumb.hoverFill":"#dedede","plotArea.scrollbar.track.fill":"#f7f7f7","plotArea.shapeDepth":1,"plotArea.shapePalette":{"defaultValue":["circle","square","diamond","triangleUp","triangleDown","triangleLeft","triangleRight","cross","intersection"],"serializable":false},"plotArea.window.end":null,"plotArea.window.start":null,"propertyZone":{"defaultValue":null,"readonly":true,"serializable":false},"valueAxis.axisLine.size":1,"valueAxis.axisLine.visible":true,"valueAxis.axisTick.visible":true,"valueAxis.color":"#6c6c6c","valueAxis.label.style.color":"#333333","valueAxis.label.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","valueAxis.label.style.fontSize":"12px","valueAxis.label.style.fontStyle":"normal","valueAxis.label.style.fontWeight":"normal","valueAxis.label.visible":true,"valueAxis.layout.autoHeight":{"defaultValue":null,"readonly":true},"valueAxis.layout.autoWidth":{"defaultValue":null,"readonly":true},"valueAxis.layout.height":null,"valueAxis.layout.maxHeight":0.25,"valueAxis.layout.maxWidth":0.25,"valueAxis.layout.width":null,"valueAxis.title.applyAxislineColor":false,"valueAxis.title.style.color":"#000000","valueAxis.title.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","valueAxis.title.style.fontSize":"14px","valueAxis.title.style.fontStyle":"normal","valueAxis.title.style.fontWeight":"bold","valueAxis.title.text":null,"valueAxis.title.visible":false,"valueAxis.visible":true},"_trellis":{},"_xy":{"feedingZone":{"defaultValue":[{"bindDef":[{"id":null}],"bound":[[[0,0],[0,0],[0,0],[0,0]]],"name":null}],"readonly":true,"serializable":false},"interaction.behaviorType":null,"interaction.decorations":{"defaultValue":null,"serializable":false},"interaction.deselected.color":null,"interaction.deselected.opacity":0.4,"interaction.deselected.stroke.color":"darken(20%)","interaction.deselected.stroke.visible":false,"interaction.deselected.stroke.width":"1px","interaction.enableDeselectAll":true,"interaction.enableKeyboard":false,"interaction.extraEventInfo":false,"interaction.hover.color":null,"interaction.hover.opacity":1,"interaction.hover.stroke.color":"darken(20%)","interaction.hover.stroke.visible":true,"interaction.hover.stroke.width":"2px","interaction.noninteractiveMode":false,"interaction.selectability.axisLabelSelection":true,"interaction.selectability.behavior":{"defaultValue":"DATAPOINT","serializable":false},"interaction.selectability.legendSelection":true,"interaction.selectability.mode":"INCLUSIVE","interaction.selectability.plotLassoSelection":true,"interaction.selectability.plotStdSelection":true,"interaction.selected.color":null,"interaction.selected.stroke.color":"darken(20%)","interaction.selected.stroke.visible":true,"interaction.selected.stroke.width":"1px","interaction.zoom.direction":"all","interaction.zoom.enablement":"auto","legend.hoverShadow.color":"#cccccc","legend.isScrollable":false,"legend.itemMargin":0.5,"legend.marker.size":null,"legend.maxNumOfItems":null,"legend.mouseDownShadow.color":"#808080","legend.order":{"defaultValue":null,"serializable":false},"legend.scrollbar.border.color":"white","legend.scrollbar.border.width":0,"legend.scrollbar.spacing":0,"legend.scrollbar.thumb.fill":"#e5e5e5","legend.scrollbar.thumb.hoverFill":"#dedede","legend.scrollbar.track.fill":"#f7f7f7","legend.showFullLabel":true,"legendGroup.layout.respectPlotPosition":true,"plotArea.background.border.bottom.visible":true,"plotArea.background.border.left.visible":true,"plotArea.background.border.right.visible":true,"plotArea.background.border.stroke":"#d8d8d8","plotArea.background.border.strokeWidth":1,"plotArea.background.border.top.visible":true,"plotArea.background.color":"transparent","plotArea.background.drawingEffect":"normal","plotArea.background.gradientDirection":"vertical","plotArea.background.visible":true,"plotArea.colorPalette":{"defaultValue":["#748CB2","#9CC677","#EACF5E","#F9AD79","#D16A7C","#8873A2","#3A95B3","#B6D949","#FDD36C","#F47958","#A65084","#0063B1","#0DA841","#FCB71D","#F05620","#B22D6E","#3C368E","#8FB2CF","#95D4AB","#EAE98F","#F9BE92","#EC9A99","#BC98BD","#1EB7B2","#73C03C","#F48323","#EB271B","#D9B5CA","#AED1DA","#DFECB2","#FCDAB0","#F5BCB4"],"serializable":false},"plotArea.dataLabel.formatString":null,"plotArea.dataLabel.hideWhenOverlap":false,"plotArea.dataLabel.renderer":null,"plotArea.dataLabel.style.color":"#333333","plotArea.dataLabel.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","plotArea.dataLabel.style.fontSize":"12px","plotArea.dataLabel.style.fontStyle":"normal","plotArea.dataLabel.style.fontWeight":"normal","plotArea.dataLabel.unitFormatType":"FinancialUnits","plotArea.dataLabel.visible":false,"plotArea.dataPointStyle":null,"plotArea.dataPointStyleMode":"update","plotArea.defaultOthersStyle.color":"#000000","plotArea.drawingEffect":"normal","plotArea.gridline.color":"#d8d8d8","plotArea.gridline.size":1,"plotArea.gridline.type":"solid","plotArea.gridline.visible":true,"plotArea.gridline.zeroLine.color":null,"plotArea.gridline.zeroLine.highlight":true,"plotArea.gridline.zeroLine.unhighlightAxis":true,"plotArea.markerRenderer":null,"plotArea.referenceLine.defaultStyle.color":"#666666","plotArea.referenceLine.defaultStyle.label.background":"#ffffff","plotArea.referenceLine.defaultStyle.label.color":"#333333","plotArea.referenceLine.defaultStyle.label.fontFamily":"\"Open Sans\", Arial, Helvetica, sans-serif","plotArea.referenceLine.defaultStyle.label.fontSize":"12px","plotArea.referenceLine.defaultStyle.label.fontStyle":"normal","plotArea.referenceLine.defaultStyle.label.fontWeight":"normal","plotArea.referenceLine.defaultStyle.size":1,"plotArea.referenceLine.defaultStyle.type":"dash","plotArea.referenceLine.line":null,"plotArea.scrollbar.border.color":"white","plotArea.scrollbar.border.width":0,"plotArea.scrollbar.spacing":0,"plotArea.scrollbar.thumb.fill":"#e5e5e5","plotArea.scrollbar.thumb.hoverFill":"#dedede","plotArea.scrollbar.track.fill":"#f7f7f7","plotArea.seriesStyle":null,"plotArea.window.end":null,"plotArea.window.start":null,"propertyZone":{"defaultValue":null,"readonly":true,"serializable":false},"valueAxis.axisLine.size":1,"valueAxis.axisLine.visible":true,"valueAxis.axisTick.visible":true,"valueAxis.color":"#6c6c6c","valueAxis.label.formatString":null,"valueAxis.label.style.color":"#333333","valueAxis.label.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","valueAxis.label.style.fontSize":"12px","valueAxis.label.style.fontStyle":"normal","valueAxis.label.style.fontWeight":"normal","valueAxis.label.unitFormatType":"FinancialUnits","valueAxis.label.visible":true,"valueAxis.layout.autoHeight":{"defaultValue":null,"readonly":true},"valueAxis.layout.autoWidth":{"defaultValue":null,"readonly":true},"valueAxis.layout.height":null,"valueAxis.layout.maxHeight":0.25,"valueAxis.layout.maxWidth":0.25,"valueAxis.layout.width":null,"valueAxis.title.applyAxislineColor":false,"valueAxis.title.style.color":"#000000","valueAxis.title.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","valueAxis.title.style.fontSize":"14px","valueAxis.title.style.fontStyle":"normal","valueAxis.title.style.fontWeight":"bold","valueAxis.title.text":null,"valueAxis.title.visible":false,"valueAxis.visible":true},"_xySimple":{},"info/100_dual_stacked_bar":{"categoryAxis.axisLine.size":1,"categoryAxis.axisLine.visible":true,"categoryAxis.axisTick.shortTickVisible":null,"categoryAxis.axisTick.visible":true,"categoryAxis.color":"#6c6c6c","categoryAxis.hoverShadow.color":"#cccccc","categoryAxis.label.alignment":"top","categoryAxis.label.hideSubLevels":false,"categoryAxis.label.parentStyle.color":null,"categoryAxis.label.parentStyle.fontFamily":null,"categoryAxis.label.parentStyle.fontSize":null,"categoryAxis.label.parentStyle.fontStyle":null,"categoryAxis.label.parentStyle.fontWeight":null,"categoryAxis.label.style.color":"#333333","categoryAxis.label.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","categoryAxis.label.style.fontSize":"12px","categoryAxis.label.style.fontStyle":"normal","categoryAxis.label.style.fontWeight":"normal","categoryAxis.label.visible":true,"categoryAxis.labelRenderer":null,"categoryAxis.layout.autoHeight":{"defaultValue":null,"readonly":true},"categoryAxis.layout.autoWidth":{"defaultValue":null,"readonly":true},"categoryAxis.layout.height":null,"categoryAxis.layout.maxHeight":0.3,"categoryAxis.layout.maxWidth":0.3,"categoryAxis.layout.width":null,"categoryAxis.mouseDownShadow.color":"#808080","categoryAxis.title.applyAxislineColor":false,"categoryAxis.title.style.color":"#000000","categoryAxis.title.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","categoryAxis.title.style.fontSize":"14px","categoryAxis.title.style.fontStyle":"normal","categoryAxis.title.style.fontWeight":"bold","categoryAxis.title.text":null,"categoryAxis.title.visible":false,"categoryAxis.visible":true,"general.groupData":false,"legend.marker.shape":"squareWithRadius","plotArea.background.gradientDirection":"horizontal","plotArea.dataLabel.style.colorRange":"all","plotArea.dataLabel.type":"value","plotArea.dataPointSize.max":96,"plotArea.dataPointSize.min":24,"plotArea.gap.groupSpacing":1,"plotArea.gap.innerGroupSpacing":0.125,"tooltip.bodyMeasureValue.type":"percentage"},"info/100_dual_stacked_column":{"categoryAxis.axisLine.size":1,"categoryAxis.axisLine.visible":true,"categoryAxis.axisTick.shortTickVisible":null,"categoryAxis.axisTick.visible":true,"categoryAxis.color":"#6c6c6c","categoryAxis.hoverShadow.color":"#cccccc","categoryAxis.label.angle":90,"categoryAxis.label.hideSubLevels":false,"categoryAxis.label.linesOfWrap":1,"categoryAxis.label.overlapBehavior":"auto","categoryAxis.label.parentStyle.color":null,"categoryAxis.label.parentStyle.fontFamily":null,"categoryAxis.label.parentStyle.fontSize":null,"categoryAxis.label.parentStyle.fontStyle":null,"categoryAxis.label.parentStyle.fontWeight":null,"categoryAxis.label.rotation":"auto","categoryAxis.label.style.color":"#333333","categoryAxis.label.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","categoryAxis.label.style.fontSize":"12px","categoryAxis.label.style.fontStyle":"normal","categoryAxis.label.style.fontWeight":"normal","categoryAxis.label.truncatedLabelRatio":0.2,"categoryAxis.label.visible":true,"categoryAxis.labelRenderer":null,"categoryAxis.layout.autoHeight":{"defaultValue":null,"readonly":true},"categoryAxis.layout.autoWidth":{"defaultValue":null,"readonly":true},"categoryAxis.layout.categoryWidth":{"defaultValue":null,"readonly":true},"categoryAxis.layout.height":null,"categoryAxis.layout.maxHeight":0.3,"categoryAxis.layout.maxWidth":0.3,"categoryAxis.layout.offsetToChart":{"defaultValue":null,"readonly":true},"categoryAxis.layout.width":null,"categoryAxis.mouseDownShadow.color":"#808080","categoryAxis.title.applyAxislineColor":false,"categoryAxis.title.style.color":"#000000","categoryAxis.title.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","categoryAxis.title.style.fontSize":"14px","categoryAxis.title.style.fontStyle":"normal","categoryAxis.title.style.fontWeight":"bold","categoryAxis.title.text":null,"categoryAxis.title.visible":false,"categoryAxis.visible":true,"general.groupData":false,"legend.marker.shape":"squareWithRadius","plotArea.dataLabel.overlapBehavior":"hideExceededLabels","plotArea.dataLabel.style.colorRange":"all","plotArea.dataLabel.type":"value","plotArea.dataPointSize.max":96,"plotArea.dataPointSize.min":24,"plotArea.gap.groupSpacing":1,"plotArea.gap.innerGroupSpacing":0.125,"tooltip.bodyMeasureValue.type":"percentage"},"info/100_stacked_bar":{"categoryAxis.axisLine.size":1,"categoryAxis.axisLine.visible":true,"categoryAxis.axisTick.shortTickVisible":null,"categoryAxis.axisTick.visible":true,"categoryAxis.color":"#6c6c6c","categoryAxis.hoverShadow.color":"#cccccc","categoryAxis.label.alignment":"top","categoryAxis.label.hideSubLevels":false,"categoryAxis.label.parentStyle.color":null,"categoryAxis.label.parentStyle.fontFamily":null,"categoryAxis.label.parentStyle.fontSize":null,"categoryAxis.label.parentStyle.fontStyle":null,"categoryAxis.label.parentStyle.fontWeight":null,"categoryAxis.label.style.color":"#333333","categoryAxis.label.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","categoryAxis.label.style.fontSize":"12px","categoryAxis.label.style.fontStyle":"normal","categoryAxis.label.style.fontWeight":"normal","categoryAxis.label.visible":true,"categoryAxis.labelRenderer":null,"categoryAxis.layout.autoHeight":{"defaultValue":null,"readonly":true},"categoryAxis.layout.autoWidth":{"defaultValue":null,"readonly":true},"categoryAxis.layout.height":null,"categoryAxis.layout.maxHeight":0.3,"categoryAxis.layout.maxWidth":0.3,"categoryAxis.layout.width":null,"categoryAxis.mouseDownShadow.color":"#808080","categoryAxis.title.applyAxislineColor":false,"categoryAxis.title.style.color":"#000000","categoryAxis.title.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","categoryAxis.title.style.fontSize":"14px","categoryAxis.title.style.fontStyle":"normal","categoryAxis.title.style.fontWeight":"bold","categoryAxis.title.text":null,"categoryAxis.title.visible":false,"categoryAxis.visible":true,"general.groupData":false,"legend.marker.shape":"squareWithRadius","plotArea.background.gradientDirection":"horizontal","plotArea.dataLabel.style.colorRange":"all","plotArea.dataLabel.type":"value","plotArea.dataPointSize.max":96,"plotArea.dataPointSize.min":24,"plotArea.gap.barSpacing":1,"plotArea.isFixedDataPointSize":false,"tooltip.bodyMeasureValue.type":"percentage"},"info/100_stacked_column":{"categoryAxis.axisLine.size":1,"categoryAxis.axisLine.visible":true,"categoryAxis.axisTick.shortTickVisible":null,"categoryAxis.axisTick.visible":true,"categoryAxis.color":"#6c6c6c","categoryAxis.hoverShadow.color":"#cccccc","categoryAxis.label.angle":90,"categoryAxis.label.hideSubLevels":false,"categoryAxis.label.linesOfWrap":1,"categoryAxis.label.overlapBehavior":"auto","categoryAxis.label.parentStyle.color":null,"categoryAxis.label.parentStyle.fontFamily":null,"categoryAxis.label.parentStyle.fontSize":null,"categoryAxis.label.parentStyle.fontStyle":null,"categoryAxis.label.parentStyle.fontWeight":null,"categoryAxis.label.rotation":"auto","categoryAxis.label.style.color":"#333333","categoryAxis.label.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","categoryAxis.label.style.fontSize":"12px","categoryAxis.label.style.fontStyle":"normal","categoryAxis.label.style.fontWeight":"normal","categoryAxis.label.truncatedLabelRatio":0.2,"categoryAxis.label.visible":true,"categoryAxis.labelRenderer":null,"categoryAxis.layout.autoHeight":{"defaultValue":null,"readonly":true},"categoryAxis.layout.autoWidth":{"defaultValue":null,"readonly":true},"categoryAxis.layout.categoryWidth":{"defaultValue":null,"readonly":true},"categoryAxis.layout.height":null,"categoryAxis.layout.maxHeight":0.3,"categoryAxis.layout.maxWidth":0.3,"categoryAxis.layout.offsetToChart":{"defaultValue":null,"readonly":true},"categoryAxis.layout.width":null,"categoryAxis.mouseDownShadow.color":"#808080","categoryAxis.title.applyAxislineColor":false,"categoryAxis.title.style.color":"#000000","categoryAxis.title.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","categoryAxis.title.style.fontSize":"14px","categoryAxis.title.style.fontStyle":"normal","categoryAxis.title.style.fontWeight":"bold","categoryAxis.title.text":null,"categoryAxis.title.visible":false,"categoryAxis.visible":true,"general.groupData":false,"legend.marker.shape":"squareWithRadius","plotArea.dataLabel.overlapBehavior":"hideExceededLabels","plotArea.dataLabel.style.colorRange":"all","plotArea.dataLabel.type":"value","plotArea.dataPointSize.max":96,"plotArea.dataPointSize.min":24,"plotArea.gap.barSpacing":1,"plotArea.isFixedDataPointSize":false,"tooltip.bodyMeasureValue.type":"percentage"},"info/DEFAULT":{"legend.hoverShadow.color":"#cccccc","legend.isScrollable":false,"legend.itemMargin":0.5,"legend.marker.size":null,"legend.maxNumOfItems":null,"legend.mouseDownShadow.color":"#808080","legend.order":{"defaultValue":null,"serializable":false},"legend.scrollbar.border.color":"white","legend.scrollbar.border.width":0,"legend.scrollbar.spacing":0,"legend.scrollbar.thumb.fill":"#e5e5e5","legend.scrollbar.thumb.hoverFill":"#dedede","legend.scrollbar.track.fill":"#f7f7f7","legend.showFullLabel":true,"legendGroup.layout.respectPlotPosition":true,"plotArea.colorPalette":{"defaultValue":["#748CB2","#9CC677","#EACF5E","#F9AD79","#D16A7C","#8873A2","#3A95B3","#B6D949","#FDD36C","#F47958","#A65084","#0063B1","#0DA841","#FCB71D","#F05620","#B22D6E","#3C368E","#8FB2CF","#95D4AB","#EAE98F","#F9BE92","#EC9A99","#BC98BD","#1EB7B2","#73C03C","#F48323","#EB271B","#D9B5CA","#AED1DA","#DFECB2","#FCDAB0","#F5BCB4"],"serializable":false}},"info/bar":{"categoryAxis.axisLine.size":1,"categoryAxis.axisLine.visible":true,"categoryAxis.axisTick.shortTickVisible":null,"categoryAxis.axisTick.visible":true,"categoryAxis.color":"#6c6c6c","categoryAxis.hoverShadow.color":"#cccccc","categoryAxis.label.alignment":"top","categoryAxis.label.hideSubLevels":false,"categoryAxis.label.parentStyle.color":null,"categoryAxis.label.parentStyle.fontFamily":null,"categoryAxis.label.parentStyle.fontSize":null,"categoryAxis.label.parentStyle.fontStyle":null,"categoryAxis.label.parentStyle.fontWeight":null,"categoryAxis.label.style.color":"#333333","categoryAxis.label.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","categoryAxis.label.style.fontSize":"12px","categoryAxis.label.style.fontStyle":"normal","categoryAxis.label.style.fontWeight":"normal","categoryAxis.label.visible":true,"categoryAxis.labelRenderer":null,"categoryAxis.layout.autoHeight":{"defaultValue":null,"readonly":true},"categoryAxis.layout.autoWidth":{"defaultValue":null,"readonly":true},"categoryAxis.layout.height":null,"categoryAxis.layout.maxHeight":0.3,"categoryAxis.layout.maxWidth":0.3,"categoryAxis.layout.width":null,"categoryAxis.mouseDownShadow.color":"#808080","categoryAxis.title.applyAxislineColor":false,"categoryAxis.title.style.color":"#000000","categoryAxis.title.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","categoryAxis.title.style.fontSize":"14px","categoryAxis.title.style.fontStyle":"normal","categoryAxis.title.style.fontWeight":"bold","categoryAxis.title.text":null,"categoryAxis.title.visible":false,"categoryAxis.visible":true,"general.groupData":false,"legend.marker.shape":"squareWithRadius","plotArea.background.gradientDirection":"horizontal","plotArea.dataLabel.position":"outsideFirst","plotArea.dataLabel.style.colorRange":"all","plotArea.dataLabel.type":"value","plotArea.dataPoint.savingMode":true,"plotArea.dataPointSize.max":96,"plotArea.dataPointSize.min":24,"plotArea.gap.barSpacing":1,"plotArea.gap.groupSpacing":1,"plotArea.gap.innerGroupSpacing":0.125,"plotArea.isFixedDataPointSize":false,"plotArea.primaryScale.autoMaxValue":{"defaultValue":null,"readonly":true,"serializable":false},"plotArea.primaryScale.autoMinValue":{"defaultValue":null,"readonly":true,"serializable":false},"plotArea.primaryScale.fixedRange":{"defaultValue":false,"serializable":false},"plotArea.primaryScale.maxValue":{"defaultValue":null,"serializable":false},"plotArea.primaryScale.minValue":{"defaultValue":null,"serializable":false}},"info/bubble":{"plotArea.dataLabel.respectShapeWidth":false,"plotArea.dataLabel.style.colorRange":"all","plotArea.dataLabel.type":"bubbleWidth","plotArea.minMarkerSize":null,"plotArea.secondaryScale.autoMaxValue":{"defaultValue":null,"readonly":true,"serializable":false},"plotArea.secondaryScale.autoMinValue":{"defaultValue":null,"readonly":true,"serializable":false},"plotArea.secondaryScale.fixedRange":false,"plotArea.secondaryScale.maxValue":null,"plotArea.secondaryScale.minValue":null,"plotArea.showNegativeValues":true,"sizeLegend.drawingEffect":"normal","sizeLegend.formatString":null,"sizeLegend.label.style.color":"#000000","sizeLegend.label.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","sizeLegend.label.style.fontSize":"12px","sizeLegend.label.style.fontStyle":"normal","sizeLegend.label.style.fontWeight":"normal","sizeLegend.title.style.color":"#000000","sizeLegend.title.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","sizeLegend.title.style.fontSize":"14px","sizeLegend.title.style.fontStyle":"normal","sizeLegend.title.style.fontWeight":"bold","sizeLegend.title.text":null,"sizeLegend.title.visible":false,"sizeLegend.unitFormatType":"FinancialUnits","sizeLegend.visible":true,"valueAxis.label.formatString":null,"valueAxis.label.unitFormatType":"FinancialUnits","valueAxis2.axisLine.size":1,"valueAxis2.axisLine.visible":true,"valueAxis2.axisTick.visible":true,"valueAxis2.color":"#6c6c6c","valueAxis2.label.formatString":null,"valueAxis2.label.style.color":"#333333","valueAxis2.label.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","valueAxis2.label.style.fontSize":"12px","valueAxis2.label.style.fontStyle":"normal","valueAxis2.label.style.fontWeight":"normal","valueAxis2.label.unitFormatType":"FinancialUnits","valueAxis2.label.visible":true,"valueAxis2.layout.autoHeight":{"defaultValue":null,"readonly":true},"valueAxis2.layout.autoWidth":{"defaultValue":null,"readonly":true},"valueAxis2.layout.height":null,"valueAxis2.layout.maxHeight":0.25,"valueAxis2.layout.maxWidth":0.25,"valueAxis2.layout.width":null,"valueAxis2.title.applyAxislineColor":false,"valueAxis2.title.style.color":"#000000","valueAxis2.title.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","valueAxis2.title.style.fontSize":"14px","valueAxis2.title.style.fontStyle":"normal","valueAxis2.title.style.fontWeight":"bold","valueAxis2.title.text":null,"valueAxis2.title.visible":false,"valueAxis2.visible":true},"info/bullet":{"categoryAxis.axisLine.size":1,"categoryAxis.axisLine.visible":true,"categoryAxis.axisTick.shortTickVisible":null,"categoryAxis.axisTick.visible":true,"categoryAxis.color":"#6c6c6c","categoryAxis.hoverShadow.color":"#cccccc","categoryAxis.label.alignment":"top","categoryAxis.label.hideSubLevels":false,"categoryAxis.label.parentStyle.color":null,"categoryAxis.label.parentStyle.fontFamily":null,"categoryAxis.label.parentStyle.fontSize":null,"categoryAxis.label.parentStyle.fontStyle":null,"categoryAxis.label.parentStyle.fontWeight":null,"categoryAxis.label.style.color":"#333333","categoryAxis.label.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","categoryAxis.label.style.fontSize":"12px","categoryAxis.label.style.fontStyle":"normal","categoryAxis.label.style.fontWeight":"normal","categoryAxis.label.visible":true,"categoryAxis.labelRenderer":null,"categoryAxis.layout.autoHeight":{"defaultValue":null,"readonly":true},"categoryAxis.layout.autoWidth":{"defaultValue":null,"readonly":true},"categoryAxis.layout.height":null,"categoryAxis.layout.maxHeight":0.3,"categoryAxis.layout.maxWidth":0.3,"categoryAxis.layout.width":null,"categoryAxis.mouseDownShadow.color":"#808080","categoryAxis.title.applyAxislineColor":false,"categoryAxis.title.style.color":"#000000","categoryAxis.title.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","categoryAxis.title.style.fontSize":"14px","categoryAxis.title.style.fontStyle":"normal","categoryAxis.title.style.fontWeight":"bold","categoryAxis.title.text":null,"categoryAxis.title.visible":false,"categoryAxis.visible":true,"general.groupData":false,"legend.label.text.negativeGap":null,"legend.label.text.positiveGap":null,"plotArea.background.border.top.visible":true,"plotArea.forecastColor":["#D5DADC"],"plotArea.gap.negativeColor":"#e34352","plotArea.gap.positiveColor":"#87c27e","plotArea.gap.type":"both","plotArea.gap.visible":false},"info/column":{"categoryAxis.axisLine.size":1,"categoryAxis.axisLine.visible":true,"categoryAxis.axisTick.shortTickVisible":null,"categoryAxis.axisTick.visible":true,"categoryAxis.color":"#6c6c6c","categoryAxis.hoverShadow.color":"#cccccc","categoryAxis.label.angle":90,"categoryAxis.label.hideSubLevels":false,"categoryAxis.label.linesOfWrap":1,"categoryAxis.label.overlapBehavior":"auto","categoryAxis.label.parentStyle.color":null,"categoryAxis.label.parentStyle.fontFamily":null,"categoryAxis.label.parentStyle.fontSize":null,"categoryAxis.label.parentStyle.fontStyle":null,"categoryAxis.label.parentStyle.fontWeight":null,"categoryAxis.label.rotation":"auto","categoryAxis.label.style.color":"#333333","categoryAxis.label.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","categoryAxis.label.style.fontSize":"12px","categoryAxis.label.style.fontStyle":"normal","categoryAxis.label.style.fontWeight":"normal","categoryAxis.label.truncatedLabelRatio":0.2,"categoryAxis.label.visible":true,"categoryAxis.labelRenderer":null,"categoryAxis.layout.autoHeight":{"defaultValue":null,"readonly":true},"categoryAxis.layout.autoWidth":{"defaultValue":null,"readonly":true},"categoryAxis.layout.categoryWidth":{"defaultValue":null,"readonly":true},"categoryAxis.layout.height":null,"categoryAxis.layout.maxHeight":0.3,"categoryAxis.layout.maxWidth":0.3,"categoryAxis.layout.offsetToChart":{"defaultValue":null,"readonly":true},"categoryAxis.layout.width":null,"categoryAxis.mouseDownShadow.color":"#808080","categoryAxis.title.applyAxislineColor":false,"categoryAxis.title.style.color":"#000000","categoryAxis.title.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","categoryAxis.title.style.fontSize":"14px","categoryAxis.title.style.fontStyle":"normal","categoryAxis.title.style.fontWeight":"bold","categoryAxis.title.text":null,"categoryAxis.title.visible":false,"categoryAxis.visible":true,"general.groupData":false,"legend.marker.shape":"squareWithRadius","plotArea.dataLabel.position":"outside","plotArea.dataLabel.style.colorRange":"all","plotArea.dataPoint.savingMode":true,"plotArea.dataPointSize.max":96,"plotArea.dataPointSize.min":24,"plotArea.gap.barSpacing":1,"plotArea.gap.groupSpacing":1,"plotArea.gap.innerGroupSpacing":0.125,"plotArea.isFixedDataPointSize":false,"plotArea.primaryScale.autoMaxValue":{"defaultValue":null,"readonly":true,"serializable":false},"plotArea.primaryScale.autoMinValue":{"defaultValue":null,"readonly":true,"serializable":false},"plotArea.primaryScale.fixedRange":{"defaultValue":false,"serializable":false},"plotArea.primaryScale.maxValue":{"defaultValue":null,"serializable":false},"plotArea.primaryScale.minValue":{"defaultValue":null,"serializable":false}},"info/combination":{"categoryAxis.axisLine.size":1,"categoryAxis.axisLine.visible":true,"categoryAxis.axisTick.shortTickVisible":null,"categoryAxis.axisTick.visible":true,"categoryAxis.color":"#6c6c6c","categoryAxis.hoverShadow.color":"#cccccc","categoryAxis.label.angle":90,"categoryAxis.label.hideSubLevels":false,"categoryAxis.label.linesOfWrap":1,"categoryAxis.label.overlapBehavior":"auto","categoryAxis.label.parentStyle.color":null,"categoryAxis.label.parentStyle.fontFamily":null,"categoryAxis.label.parentStyle.fontSize":null,"categoryAxis.label.parentStyle.fontStyle":null,"categoryAxis.label.parentStyle.fontWeight":null,"categoryAxis.label.rotation":"auto","categoryAxis.label.style.color":"#333333","categoryAxis.label.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","categoryAxis.label.style.fontSize":"12px","categoryAxis.label.style.fontStyle":"normal","categoryAxis.label.style.fontWeight":"normal","categoryAxis.label.truncatedLabelRatio":0.2,"categoryAxis.label.visible":true,"categoryAxis.labelRenderer":null,"categoryAxis.layout.autoHeight":{"defaultValue":null,"readonly":true},"categoryAxis.layout.autoWidth":{"defaultValue":null,"readonly":true},"categoryAxis.layout.categoryWidth":{"defaultValue":null,"readonly":true},"categoryAxis.layout.height":null,"categoryAxis.layout.maxHeight":0.3,"categoryAxis.layout.maxWidth":0.3,"categoryAxis.layout.offsetToChart":{"defaultValue":null,"readonly":true},"categoryAxis.layout.width":null,"categoryAxis.mouseDownShadow.color":"#808080","categoryAxis.title.applyAxislineColor":false,"categoryAxis.title.style.color":"#000000","categoryAxis.title.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","categoryAxis.title.style.fontSize":"14px","categoryAxis.title.style.fontStyle":"normal","categoryAxis.title.style.fontWeight":"bold","categoryAxis.title.text":null,"categoryAxis.title.visible":false,"categoryAxis.visible":true,"general.groupData":false,"general.hideNoValueLabel":false,"legend.groupByShape":false,"legend.ignoreNoValue":false,"legend.marker.shape":"squareWithRadius","legend.marker.showLine":false,"plotArea.dataPointSize.max":96,"plotArea.dataPointSize.min":24,"plotArea.dataShape.primaryAxis":["bar","line","line"],"plotArea.gap.barSpacing":1,"plotArea.gap.groupSpacing":1,"plotArea.gap.innerGroupSpacing":0.125,"plotArea.isFixedDataPointSize":false,"plotArea.line.isSmoothed":false,"plotArea.line.lineRenderer":null,"plotArea.line.marker.shape":"circle","plotArea.line.marker.size":6,"plotArea.line.marker.visible":true,"plotArea.line.style":null,"plotArea.line.visible":true,"plotArea.line.width":2,"plotArea.primaryScale.autoMaxValue":{"defaultValue":null,"readonly":true,"serializable":false},"plotArea.primaryScale.autoMinValue":{"defaultValue":null,"readonly":true,"serializable":false},"plotArea.primaryScale.fixedRange":{"defaultValue":false,"serializable":false},"plotArea.primaryScale.maxValue":{"defaultValue":null,"serializable":false},"plotArea.primaryScale.minValue":{"defaultValue":null,"serializable":false}},"info/donut":{"plotArea.highlight.centerName.style.color":null,"plotArea.highlight.centerName.style.fontFamily":"Arial, Helvetica, sans-serif","plotArea.highlight.centerName.style.fontSize":"14px","plotArea.highlight.centerName.style.fontStyle":"normal","plotArea.highlight.centerName.style.fontWeight":"normal","plotArea.highlight.centerName.visible":true,"plotArea.highlight.centerValue.style.color":null,"plotArea.highlight.centerValue.style.fontFamily":"Arial, Helvetica, sans-serif","plotArea.highlight.centerValue.style.fontSize":"22px","plotArea.highlight.centerValue.style.fontStyle":"normal","plotArea.highlight.centerValue.style.fontWeight":"normal","plotArea.highlight.centerValue.visible":true,"plotArea.highlight.highlightContext":[],"plotArea.highlight.unhighlightSliceColor":"#dddddd","plotArea.innerRadiusRatio":0.5},"info/dual_bar":{"categoryAxis.axisLine.size":1,"categoryAxis.axisLine.visible":true,"categoryAxis.axisTick.shortTickVisible":null,"categoryAxis.axisTick.visible":true,"categoryAxis.color":"#6c6c6c","categoryAxis.hoverShadow.color":"#cccccc","categoryAxis.label.alignment":"top","categoryAxis.label.hideSubLevels":false,"categoryAxis.label.parentStyle.color":null,"categoryAxis.label.parentStyle.fontFamily":null,"categoryAxis.label.parentStyle.fontSize":null,"categoryAxis.label.parentStyle.fontStyle":null,"categoryAxis.label.parentStyle.fontWeight":null,"categoryAxis.label.style.color":"#333333","categoryAxis.label.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","categoryAxis.label.style.fontSize":"12px","categoryAxis.label.style.fontStyle":"normal","categoryAxis.label.style.fontWeight":"normal","categoryAxis.label.visible":true,"categoryAxis.labelRenderer":null,"categoryAxis.layout.autoHeight":{"defaultValue":null,"readonly":true},"categoryAxis.layout.autoWidth":{"defaultValue":null,"readonly":true},"categoryAxis.layout.height":null,"categoryAxis.layout.maxHeight":0.3,"categoryAxis.layout.maxWidth":0.3,"categoryAxis.layout.width":null,"categoryAxis.mouseDownShadow.color":"#808080","categoryAxis.title.applyAxislineColor":false,"categoryAxis.title.style.color":"#000000","categoryAxis.title.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","categoryAxis.title.style.fontSize":"14px","categoryAxis.title.style.fontStyle":"normal","categoryAxis.title.style.fontWeight":"bold","categoryAxis.title.text":null,"categoryAxis.title.visible":false,"categoryAxis.visible":true,"general.groupData":false,"legend.marker.shape":"squareWithRadius","plotArea.background.gradientDirection":"horizontal","plotArea.dataLabel.position":"outsideFirst","plotArea.dataLabel.style.colorRange":"all","plotArea.dataLabel.type":"value","plotArea.dataPoint.savingMode":true,"plotArea.dataPointSize.max":96,"plotArea.dataPointSize.min":24,"plotArea.gap.groupSpacing":1,"plotArea.gap.innerGroupSpacing":0.125,"plotArea.primaryScale.autoMaxValue":{"defaultValue":null,"readonly":true,"serializable":false},"plotArea.primaryScale.autoMinValue":{"defaultValue":null,"readonly":true,"serializable":false},"plotArea.primaryScale.fixedRange":{"defaultValue":false,"serializable":false},"plotArea.primaryScale.maxValue":{"defaultValue":null,"serializable":false},"plotArea.primaryScale.minValue":{"defaultValue":null,"serializable":false},"plotArea.secondaryScale.autoMaxValue":{"defaultValue":null,"readonly":true,"serializable":false},"plotArea.secondaryScale.autoMinValue":{"defaultValue":null,"readonly":true,"serializable":false},"plotArea.secondaryScale.fixedRange":false,"plotArea.secondaryScale.maxValue":null,"plotArea.secondaryScale.minValue":null},"info/dual_column":{"categoryAxis.axisLine.size":1,"categoryAxis.axisLine.visible":true,"categoryAxis.axisTick.shortTickVisible":null,"categoryAxis.axisTick.visible":true,"categoryAxis.color":"#6c6c6c","categoryAxis.hoverShadow.color":"#cccccc","categoryAxis.label.angle":90,"categoryAxis.label.hideSubLevels":false,"categoryAxis.label.linesOfWrap":1,"categoryAxis.label.overlapBehavior":"auto","categoryAxis.label.parentStyle.color":null,"categoryAxis.label.parentStyle.fontFamily":null,"categoryAxis.label.parentStyle.fontSize":null,"categoryAxis.label.parentStyle.fontStyle":null,"categoryAxis.label.parentStyle.fontWeight":null,"categoryAxis.label.rotation":"auto","categoryAxis.label.style.color":"#333333","categoryAxis.label.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","categoryAxis.label.style.fontSize":"12px","categoryAxis.label.style.fontStyle":"normal","categoryAxis.label.style.fontWeight":"normal","categoryAxis.label.truncatedLabelRatio":0.2,"categoryAxis.label.visible":true,"categoryAxis.labelRenderer":null,"categoryAxis.layout.autoHeight":{"defaultValue":null,"readonly":true},"categoryAxis.layout.autoWidth":{"defaultValue":null,"readonly":true},"categoryAxis.layout.categoryWidth":{"defaultValue":null,"readonly":true},"categoryAxis.layout.height":null,"categoryAxis.layout.maxHeight":0.3,"categoryAxis.layout.maxWidth":0.3,"categoryAxis.layout.offsetToChart":{"defaultValue":null,"readonly":true},"categoryAxis.layout.width":null,"categoryAxis.mouseDownShadow.color":"#808080","categoryAxis.title.applyAxislineColor":false,"categoryAxis.title.style.color":"#000000","categoryAxis.title.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","categoryAxis.title.style.fontSize":"14px","categoryAxis.title.style.fontStyle":"normal","categoryAxis.title.style.fontWeight":"bold","categoryAxis.title.text":null,"categoryAxis.title.visible":false,"categoryAxis.visible":true,"general.groupData":false,"legend.marker.shape":"squareWithRadius","plotArea.dataLabel.position":"outside","plotArea.dataLabel.style.colorRange":"all","plotArea.dataPoint.savingMode":true,"plotArea.dataPointSize.max":96,"plotArea.dataPointSize.min":24,"plotArea.gap.groupSpacing":1,"plotArea.gap.innerGroupSpacing":0.125,"plotArea.primaryScale.autoMaxValue":{"defaultValue":null,"readonly":true,"serializable":false},"plotArea.primaryScale.autoMinValue":{"defaultValue":null,"readonly":true,"serializable":false},"plotArea.primaryScale.fixedRange":{"defaultValue":false,"serializable":false},"plotArea.primaryScale.maxValue":{"defaultValue":null,"serializable":false},"plotArea.primaryScale.minValue":{"defaultValue":null,"serializable":false},"plotArea.secondaryScale.autoMaxValue":{"defaultValue":null,"readonly":true,"serializable":false},"plotArea.secondaryScale.autoMinValue":{"defaultValue":null,"readonly":true,"serializable":false},"plotArea.secondaryScale.fixedRange":false,"plotArea.secondaryScale.maxValue":null,"plotArea.secondaryScale.minValue":null},"info/dual_combination":{"categoryAxis.axisLine.size":1,"categoryAxis.axisLine.visible":true,"categoryAxis.axisTick.shortTickVisible":null,"categoryAxis.axisTick.visible":true,"categoryAxis.color":"#6c6c6c","categoryAxis.hoverShadow.color":"#cccccc","categoryAxis.label.angle":90,"categoryAxis.label.hideSubLevels":false,"categoryAxis.label.linesOfWrap":1,"categoryAxis.label.overlapBehavior":"auto","categoryAxis.label.parentStyle.color":null,"categoryAxis.label.parentStyle.fontFamily":null,"categoryAxis.label.parentStyle.fontSize":null,"categoryAxis.label.parentStyle.fontStyle":null,"categoryAxis.label.parentStyle.fontWeight":null,"categoryAxis.label.rotation":"auto","categoryAxis.label.style.color":"#333333","categoryAxis.label.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","categoryAxis.label.style.fontSize":"12px","categoryAxis.label.style.fontStyle":"normal","categoryAxis.label.style.fontWeight":"normal","categoryAxis.label.truncatedLabelRatio":0.2,"categoryAxis.label.visible":true,"categoryAxis.labelRenderer":null,"categoryAxis.layout.autoHeight":{"defaultValue":null,"readonly":true},"categoryAxis.layout.autoWidth":{"defaultValue":null,"readonly":true},"categoryAxis.layout.categoryWidth":{"defaultValue":null,"readonly":true},"categoryAxis.layout.height":null,"categoryAxis.layout.maxHeight":0.3,"categoryAxis.layout.maxWidth":0.3,"categoryAxis.layout.offsetToChart":{"defaultValue":null,"readonly":true},"categoryAxis.layout.width":null,"categoryAxis.mouseDownShadow.color":"#808080","categoryAxis.title.applyAxislineColor":false,"categoryAxis.title.style.color":"#000000","categoryAxis.title.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","categoryAxis.title.style.fontSize":"14px","categoryAxis.title.style.fontStyle":"normal","categoryAxis.title.style.fontWeight":"bold","categoryAxis.title.text":null,"categoryAxis.title.visible":false,"categoryAxis.visible":true,"general.groupData":false,"general.hideNoValueLabel":false,"legend.groupByShape":false,"legend.ignoreNoValue":false,"legend.marker.shape":"squareWithRadius","legend.marker.showLine":false,"plotArea.dataPointSize.max":96,"plotArea.dataPointSize.min":24,"plotArea.dataShape.primaryAxis":["bar","line","line"],"plotArea.dataShape.secondaryAxis":["line","line","line"],"plotArea.gap.barSpacing":1,"plotArea.gap.groupSpacing":1,"plotArea.gap.innerGroupSpacing":0.125,"plotArea.line.isSmoothed":false,"plotArea.line.lineRenderer":null,"plotArea.line.marker.shape":"circle","plotArea.line.marker.size":6,"plotArea.line.marker.visible":true,"plotArea.line.style":null,"plotArea.line.visible":true,"plotArea.line.width":2,"plotArea.primaryScale.autoMaxValue":{"defaultValue":null,"readonly":true,"serializable":false},"plotArea.primaryScale.autoMinValue":{"defaultValue":null,"readonly":true,"serializable":false},"plotArea.primaryScale.fixedRange":{"defaultValue":false,"serializable":false},"plotArea.primaryScale.maxValue":{"defaultValue":null,"serializable":false},"plotArea.primaryScale.minValue":{"defaultValue":null,"serializable":false},"plotArea.secondaryScale.autoMaxValue":{"defaultValue":null,"readonly":true,"serializable":false},"plotArea.secondaryScale.autoMinValue":{"defaultValue":null,"readonly":true,"serializable":false},"plotArea.secondaryScale.fixedRange":false,"plotArea.secondaryScale.maxValue":null,"plotArea.secondaryScale.minValue":null,"valueAxis.color":"#6c6c6c","valueAxis.title.applyAxislineColor":false},"info/dual_horizontal_combination":{"categoryAxis.axisLine.size":1,"categoryAxis.axisLine.visible":true,"categoryAxis.axisTick.shortTickVisible":null,"categoryAxis.axisTick.visible":true,"categoryAxis.color":"#6c6c6c","categoryAxis.hoverShadow.color":"#cccccc","categoryAxis.label.alignment":"top","categoryAxis.label.hideSubLevels":false,"categoryAxis.label.parentStyle.color":null,"categoryAxis.label.parentStyle.fontFamily":null,"categoryAxis.label.parentStyle.fontSize":null,"categoryAxis.label.parentStyle.fontStyle":null,"categoryAxis.label.parentStyle.fontWeight":null,"categoryAxis.label.style.color":"#333333","categoryAxis.label.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","categoryAxis.label.style.fontSize":"12px","categoryAxis.label.style.fontStyle":"normal","categoryAxis.label.style.fontWeight":"normal","categoryAxis.label.visible":true,"categoryAxis.labelRenderer":null,"categoryAxis.layout.autoHeight":{"defaultValue":null,"readonly":true},"categoryAxis.layout.autoWidth":{"defaultValue":null,"readonly":true},"categoryAxis.layout.height":null,"categoryAxis.layout.maxHeight":0.3,"categoryAxis.layout.maxWidth":0.3,"categoryAxis.layout.width":null,"categoryAxis.mouseDownShadow.color":"#808080","categoryAxis.title.applyAxislineColor":false,"categoryAxis.title.style.color":"#000000","categoryAxis.title.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","categoryAxis.title.style.fontSize":"14px","categoryAxis.title.style.fontStyle":"normal","categoryAxis.title.style.fontWeight":"bold","categoryAxis.title.text":null,"categoryAxis.title.visible":false,"categoryAxis.visible":true,"general.groupData":false,"general.hideNoValueLabel":false,"legend.groupByShape":false,"legend.ignoreNoValue":false,"legend.marker.shape":"squareWithRadius","legend.marker.showLine":false,"plotArea.background.gradientDirection":"horizontal","plotArea.dataPointSize.max":96,"plotArea.dataPointSize.min":24,"plotArea.dataShape.primaryAxis":["bar","line","line"],"plotArea.dataShape.secondaryAxis":["line","line","line"],"plotArea.gap.barSpacing":1,"plotArea.gap.groupSpacing":1,"plotArea.gap.innerGroupSpacing":0.125,"plotArea.line.isSmoothed":false,"plotArea.line.lineRenderer":null,"plotArea.line.marker.shape":"circle","plotArea.line.marker.size":6,"plotArea.line.marker.visible":true,"plotArea.line.style":null,"plotArea.line.visible":true,"plotArea.line.width":2,"plotArea.primaryScale.autoMaxValue":{"defaultValue":null,"readonly":true,"serializable":false},"plotArea.primaryScale.autoMinValue":{"defaultValue":null,"readonly":true,"serializable":false},"plotArea.primaryScale.fixedRange":{"defaultValue":false,"serializable":false},"plotArea.primaryScale.maxValue":{"defaultValue":null,"serializable":false},"plotArea.primaryScale.minValue":{"defaultValue":null,"serializable":false},"plotArea.secondaryScale.autoMaxValue":{"defaultValue":null,"readonly":true,"serializable":false},"plotArea.secondaryScale.autoMinValue":{"defaultValue":null,"readonly":true,"serializable":false},"plotArea.secondaryScale.fixedRange":false,"plotArea.secondaryScale.maxValue":null,"plotArea.secondaryScale.minValue":null,"valueAxis.color":"#6c6c6c","valueAxis.title.applyAxislineColor":false},"info/dual_horizontal_stacked_combination":{"categoryAxis.axisLine.size":1,"categoryAxis.axisLine.visible":true,"categoryAxis.axisTick.shortTickVisible":null,"categoryAxis.axisTick.visible":true,"categoryAxis.color":"#6c6c6c","categoryAxis.hoverShadow.color":"#cccccc","categoryAxis.label.alignment":"top","categoryAxis.label.hideSubLevels":false,"categoryAxis.label.parentStyle.color":null,"categoryAxis.label.parentStyle.fontFamily":null,"categoryAxis.label.parentStyle.fontSize":null,"categoryAxis.label.parentStyle.fontStyle":null,"categoryAxis.label.parentStyle.fontWeight":null,"categoryAxis.label.style.color":"#333333","categoryAxis.label.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","categoryAxis.label.style.fontSize":"12px","categoryAxis.label.style.fontStyle":"normal","categoryAxis.label.style.fontWeight":"normal","categoryAxis.label.visible":true,"categoryAxis.labelRenderer":null,"categoryAxis.layout.autoHeight":{"defaultValue":null,"readonly":true},"categoryAxis.layout.autoWidth":{"defaultValue":null,"readonly":true},"categoryAxis.layout.height":null,"categoryAxis.layout.maxHeight":0.3,"categoryAxis.layout.maxWidth":0.3,"categoryAxis.layout.width":null,"categoryAxis.mouseDownShadow.color":"#808080","categoryAxis.title.applyAxislineColor":false,"categoryAxis.title.style.color":"#000000","categoryAxis.title.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","categoryAxis.title.style.fontSize":"14px","categoryAxis.title.style.fontStyle":"normal","categoryAxis.title.style.fontWeight":"bold","categoryAxis.title.text":null,"categoryAxis.title.visible":false,"categoryAxis.visible":true,"general.groupData":false,"general.hideNoValueLabel":false,"legend.groupByShape":false,"legend.ignoreNoValue":false,"legend.marker.shape":"squareWithRadius","legend.marker.showLine":false,"plotArea.background.gradientDirection":"horizontal","plotArea.dataLabel.style.colorRange":"all","plotArea.dataPointSize.max":96,"plotArea.dataPointSize.min":24,"plotArea.dataShape.primaryAxis":["bar","line","line"],"plotArea.dataShape.secondaryAxis":["bar","line","line"],"plotArea.gap.barSpacing":1,"plotArea.gap.groupSpacing":1,"plotArea.gap.innerGroupSpacing":0.125,"plotArea.line.isSmoothed":false,"plotArea.line.lineRenderer":null,"plotArea.line.marker.shape":"circle","plotArea.line.marker.size":6,"plotArea.line.marker.visible":true,"plotArea.line.style":null,"plotArea.line.visible":true,"plotArea.line.width":2,"plotArea.primaryScale.autoMaxValue":{"defaultValue":null,"readonly":true,"serializable":false},"plotArea.primaryScale.autoMinValue":{"defaultValue":null,"readonly":true,"serializable":false},"plotArea.primaryScale.fixedRange":{"defaultValue":false,"serializable":false},"plotArea.primaryScale.maxValue":{"defaultValue":null,"serializable":false},"plotArea.primaryScale.minValue":{"defaultValue":null,"serializable":false},"plotArea.secondaryScale.autoMaxValue":{"defaultValue":null,"readonly":true,"serializable":false},"plotArea.secondaryScale.autoMinValue":{"defaultValue":null,"readonly":true,"serializable":false},"plotArea.secondaryScale.fixedRange":false,"plotArea.secondaryScale.maxValue":null,"plotArea.secondaryScale.minValue":null,"valueAxis.color":"#6c6c6c","valueAxis.title.applyAxislineColor":false},"info/dual_line":{"categoryAxis.axisLine.size":1,"categoryAxis.axisLine.visible":true,"categoryAxis.axisTick.shortTickVisible":null,"categoryAxis.axisTick.visible":true,"categoryAxis.color":"#6c6c6c","categoryAxis.hoverShadow.color":"#cccccc","categoryAxis.label.angle":90,"categoryAxis.label.hideSubLevels":false,"categoryAxis.label.linesOfWrap":1,"categoryAxis.label.overlapBehavior":"auto","categoryAxis.label.parentStyle.color":null,"categoryAxis.label.parentStyle.fontFamily":null,"categoryAxis.label.parentStyle.fontSize":null,"categoryAxis.label.parentStyle.fontStyle":null,"categoryAxis.label.parentStyle.fontWeight":null,"categoryAxis.label.rotation":"auto","categoryAxis.label.style.color":"#333333","categoryAxis.label.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","categoryAxis.label.style.fontSize":"12px","categoryAxis.label.style.fontStyle":"normal","categoryAxis.label.style.fontWeight":"normal","categoryAxis.label.truncatedLabelRatio":0.2,"categoryAxis.label.visible":true,"categoryAxis.labelRenderer":null,"categoryAxis.layout.autoHeight":{"defaultValue":null,"readonly":true},"categoryAxis.layout.autoWidth":{"defaultValue":null,"readonly":true},"categoryAxis.layout.categoryWidth":{"defaultValue":null,"readonly":true},"categoryAxis.layout.height":null,"categoryAxis.layout.maxHeight":0.3,"categoryAxis.layout.maxWidth":0.3,"categoryAxis.layout.offsetToChart":{"defaultValue":null,"readonly":true},"categoryAxis.layout.width":null,"categoryAxis.mouseDownShadow.color":"#808080","categoryAxis.title.applyAxislineColor":false,"categoryAxis.title.style.color":"#000000","categoryAxis.title.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","categoryAxis.title.style.fontSize":"14px","categoryAxis.title.style.fontStyle":"normal","categoryAxis.title.style.fontWeight":"bold","categoryAxis.title.text":null,"categoryAxis.title.visible":false,"categoryAxis.visible":true,"general.groupData":false,"legend.marker.showLine":false,"plotArea.callout.label.formatString":null,"plotArea.callout.label.style.color":"#333333","plotArea.callout.label.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","plotArea.callout.label.style.fontSize":"12px","plotArea.callout.label.style.fontStyle":"normal","plotArea.callout.label.style.fontWeight":"normal","plotArea.callout.label.unitFormatType":"FinancialUnits","plotArea.callout.left":null,"plotArea.callout.line.color":"#343434","plotArea.callout.top":null,"plotArea.isSmoothed":false,"plotArea.lineRenderer":null,"plotArea.lineStyle":null,"plotArea.lineVisible":true,"plotArea.marker.displayMode":"manual","plotArea.marker.shape":"circle","plotArea.marker.size":6,"plotArea.marker.visible":true,"plotArea.primaryScale.autoMaxValue":{"defaultValue":null,"readonly":true,"serializable":false},"plotArea.primaryScale.autoMinValue":{"defaultValue":null,"readonly":true,"serializable":false},"plotArea.primaryScale.fixedRange":{"defaultValue":false,"serializable":false},"plotArea.primaryScale.maxValue":{"defaultValue":null,"serializable":false},"plotArea.primaryScale.minValue":{"defaultValue":null,"serializable":false},"plotArea.secondaryScale.autoMaxValue":{"defaultValue":null,"readonly":true,"serializable":false},"plotArea.secondaryScale.autoMinValue":{"defaultValue":null,"readonly":true,"serializable":false},"plotArea.secondaryScale.fixedRange":false,"plotArea.secondaryScale.maxValue":null,"plotArea.secondaryScale.minValue":null,"plotArea.width":2},"info/dual_stacked_bar":{"categoryAxis.axisLine.size":1,"categoryAxis.axisLine.visible":true,"categoryAxis.axisTick.shortTickVisible":null,"categoryAxis.axisTick.visible":true,"categoryAxis.color":"#6c6c6c","categoryAxis.hoverShadow.color":"#cccccc","categoryAxis.label.alignment":"top","categoryAxis.label.hideSubLevels":false,"categoryAxis.label.parentStyle.color":null,"categoryAxis.label.parentStyle.fontFamily":null,"categoryAxis.label.parentStyle.fontSize":null,"categoryAxis.label.parentStyle.fontStyle":null,"categoryAxis.label.parentStyle.fontWeight":null,"categoryAxis.label.style.color":"#333333","categoryAxis.label.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","categoryAxis.label.style.fontSize":"12px","categoryAxis.label.style.fontStyle":"normal","categoryAxis.label.style.fontWeight":"normal","categoryAxis.label.visible":true,"categoryAxis.labelRenderer":null,"categoryAxis.layout.autoHeight":{"defaultValue":null,"readonly":true},"categoryAxis.layout.autoWidth":{"defaultValue":null,"readonly":true},"categoryAxis.layout.height":null,"categoryAxis.layout.maxHeight":0.3,"categoryAxis.layout.maxWidth":0.3,"categoryAxis.layout.width":null,"categoryAxis.mouseDownShadow.color":"#808080","categoryAxis.title.applyAxislineColor":false,"categoryAxis.title.style.color":"#000000","categoryAxis.title.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","categoryAxis.title.style.fontSize":"14px","categoryAxis.title.style.fontStyle":"normal","categoryAxis.title.style.fontWeight":"bold","categoryAxis.title.text":null,"categoryAxis.title.visible":false,"categoryAxis.visible":true,"general.groupData":false,"legend.marker.shape":"squareWithRadius","plotArea.background.gradientDirection":"horizontal","plotArea.dataLabel.showTotal":false,"plotArea.dataLabel.style.colorRange":"all","plotArea.dataPointSize.max":96,"plotArea.dataPointSize.min":24,"plotArea.gap.groupSpacing":1,"plotArea.gap.innerGroupSpacing":0.125,"plotArea.primaryScale.autoMaxValue":{"defaultValue":null,"readonly":true,"serializable":false},"plotArea.primaryScale.autoMinValue":{"defaultValue":null,"readonly":true,"serializable":false},"plotArea.primaryScale.fixedRange":{"defaultValue":false,"serializable":false},"plotArea.primaryScale.maxValue":{"defaultValue":null,"serializable":false},"plotArea.primaryScale.minValue":{"defaultValue":null,"serializable":false},"plotArea.secondaryScale.autoMaxValue":{"defaultValue":null,"readonly":true,"serializable":false},"plotArea.secondaryScale.autoMinValue":{"defaultValue":null,"readonly":true,"serializable":false},"plotArea.secondaryScale.fixedRange":false,"plotArea.secondaryScale.maxValue":null,"plotArea.secondaryScale.minValue":null},"info/dual_stacked_column":{"categoryAxis.axisLine.size":1,"categoryAxis.axisLine.visible":true,"categoryAxis.axisTick.shortTickVisible":null,"categoryAxis.axisTick.visible":true,"categoryAxis.color":"#6c6c6c","categoryAxis.hoverShadow.color":"#cccccc","categoryAxis.label.angle":90,"categoryAxis.label.hideSubLevels":false,"categoryAxis.label.linesOfWrap":1,"categoryAxis.label.overlapBehavior":"auto","categoryAxis.label.parentStyle.color":null,"categoryAxis.label.parentStyle.fontFamily":null,"categoryAxis.label.parentStyle.fontSize":null,"categoryAxis.label.parentStyle.fontStyle":null,"categoryAxis.label.parentStyle.fontWeight":null,"categoryAxis.label.rotation":"auto","categoryAxis.label.style.color":"#333333","categoryAxis.label.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","categoryAxis.label.style.fontSize":"12px","categoryAxis.label.style.fontStyle":"normal","categoryAxis.label.style.fontWeight":"normal","categoryAxis.label.truncatedLabelRatio":0.2,"categoryAxis.label.visible":true,"categoryAxis.labelRenderer":null,"categoryAxis.layout.autoHeight":{"defaultValue":null,"readonly":true},"categoryAxis.layout.autoWidth":{"defaultValue":null,"readonly":true},"categoryAxis.layout.categoryWidth":{"defaultValue":null,"readonly":true},"categoryAxis.layout.height":null,"categoryAxis.layout.maxHeight":0.3,"categoryAxis.layout.maxWidth":0.3,"categoryAxis.layout.offsetToChart":{"defaultValue":null,"readonly":true},"categoryAxis.layout.width":null,"categoryAxis.mouseDownShadow.color":"#808080","categoryAxis.title.applyAxislineColor":false,"categoryAxis.title.style.color":"#000000","categoryAxis.title.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","categoryAxis.title.style.fontSize":"14px","categoryAxis.title.style.fontStyle":"normal","categoryAxis.title.style.fontWeight":"bold","categoryAxis.title.text":null,"categoryAxis.title.visible":false,"categoryAxis.visible":true,"general.groupData":false,"legend.marker.shape":"squareWithRadius","plotArea.dataLabel.overlapBehavior":"hideExceededLabels","plotArea.dataLabel.showTotal":false,"plotArea.dataLabel.style.colorRange":"all","plotArea.dataPointSize.max":96,"plotArea.dataPointSize.min":24,"plotArea.gap.groupSpacing":1,"plotArea.gap.innerGroupSpacing":0.125,"plotArea.primaryScale.autoMaxValue":{"defaultValue":null,"readonly":true,"serializable":false},"plotArea.primaryScale.autoMinValue":{"defaultValue":null,"readonly":true,"serializable":false},"plotArea.primaryScale.fixedRange":{"defaultValue":false,"serializable":false},"plotArea.primaryScale.maxValue":{"defaultValue":null,"serializable":false},"plotArea.primaryScale.minValue":{"defaultValue":null,"serializable":false},"plotArea.secondaryScale.autoMaxValue":{"defaultValue":null,"readonly":true,"serializable":false},"plotArea.secondaryScale.autoMinValue":{"defaultValue":null,"readonly":true,"serializable":false},"plotArea.secondaryScale.fixedRange":false,"plotArea.secondaryScale.maxValue":null,"plotArea.secondaryScale.minValue":null},"info/dual_stacked_combination":{"categoryAxis.axisLine.size":1,"categoryAxis.axisLine.visible":true,"categoryAxis.axisTick.shortTickVisible":null,"categoryAxis.axisTick.visible":true,"categoryAxis.color":"#6c6c6c","categoryAxis.hoverShadow.color":"#cccccc","categoryAxis.label.angle":90,"categoryAxis.label.hideSubLevels":false,"categoryAxis.label.linesOfWrap":1,"categoryAxis.label.overlapBehavior":"auto","categoryAxis.label.parentStyle.color":null,"categoryAxis.label.parentStyle.fontFamily":null,"categoryAxis.label.parentStyle.fontSize":null,"categoryAxis.label.parentStyle.fontStyle":null,"categoryAxis.label.parentStyle.fontWeight":null,"categoryAxis.label.rotation":"auto","categoryAxis.label.style.color":"#333333","categoryAxis.label.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","categoryAxis.label.style.fontSize":"12px","categoryAxis.label.style.fontStyle":"normal","categoryAxis.label.style.fontWeight":"normal","categoryAxis.label.truncatedLabelRatio":0.2,"categoryAxis.label.visible":true,"categoryAxis.labelRenderer":null,"categoryAxis.layout.autoHeight":{"defaultValue":null,"readonly":true},"categoryAxis.layout.autoWidth":{"defaultValue":null,"readonly":true},"categoryAxis.layout.categoryWidth":{"defaultValue":null,"readonly":true},"categoryAxis.layout.height":null,"categoryAxis.layout.maxHeight":0.3,"categoryAxis.layout.maxWidth":0.3,"categoryAxis.layout.offsetToChart":{"defaultValue":null,"readonly":true},"categoryAxis.layout.width":null,"categoryAxis.mouseDownShadow.color":"#808080","categoryAxis.title.applyAxislineColor":false,"categoryAxis.title.style.color":"#000000","categoryAxis.title.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","categoryAxis.title.style.fontSize":"14px","categoryAxis.title.style.fontStyle":"normal","categoryAxis.title.style.fontWeight":"bold","categoryAxis.title.text":null,"categoryAxis.title.visible":false,"categoryAxis.visible":true,"general.groupData":false,"general.hideNoValueLabel":false,"legend.groupByShape":false,"legend.ignoreNoValue":false,"legend.marker.shape":"squareWithRadius","legend.marker.showLine":false,"plotArea.dataLabel.style.colorRange":"all","plotArea.dataPointSize.max":96,"plotArea.dataPointSize.min":24,"plotArea.dataShape.primaryAxis":["bar","line","line"],"plotArea.dataShape.secondaryAxis":["bar","line","line"],"plotArea.gap.barSpacing":1,"plotArea.gap.groupSpacing":1,"plotArea.gap.innerGroupSpacing":0.125,"plotArea.line.isSmoothed":false,"plotArea.line.lineRenderer":null,"plotArea.line.marker.shape":"circle","plotArea.line.marker.size":6,"plotArea.line.marker.visible":true,"plotArea.line.style":null,"plotArea.line.visible":true,"plotArea.line.width":2,"plotArea.primaryScale.autoMaxValue":{"defaultValue":null,"readonly":true,"serializable":false},"plotArea.primaryScale.autoMinValue":{"defaultValue":null,"readonly":true,"serializable":false},"plotArea.primaryScale.fixedRange":{"defaultValue":false,"serializable":false},"plotArea.primaryScale.maxValue":{"defaultValue":null,"serializable":false},"plotArea.primaryScale.minValue":{"defaultValue":null,"serializable":false},"plotArea.secondaryScale.autoMaxValue":{"defaultValue":null,"readonly":true,"serializable":false},"plotArea.secondaryScale.autoMinValue":{"defaultValue":null,"readonly":true,"serializable":false},"plotArea.secondaryScale.fixedRange":false,"plotArea.secondaryScale.maxValue":null,"plotArea.secondaryScale.minValue":null,"valueAxis.color":"#6c6c6c","valueAxis.title.applyAxislineColor":false},"info/dual_timeseries_combination":{"general.hideNoValueLabel":false,"general.showAsUTC":false,"interaction.selectability.plotLassoMode":"standard","interaction.syncValueAxis":false,"interaction.zoom.direction":"categoryAxis","legend.ignoreNoValue":false,"legend.marker.shape":"squareWithRadius","legend.marker.showLine":false,"plotArea.dataLabel.position":"outside","plotArea.dataLabel.style.colorRange":"all","plotArea.dataPoint.invalidity":"break","plotArea.dataPoint.savingMode":true,"plotArea.dataPointSize.max":96,"plotArea.dataPointSize.min":24,"plotArea.gap.barSpacing":1,"plotArea.line.isSmoothed":false,"plotArea.line.lineRenderer":null,"plotArea.line.marker.shape":"circle","plotArea.line.marker.size":6,"plotArea.line.marker.visible":true,"plotArea.line.style":null,"plotArea.line.visible":true,"plotArea.line.width":2,"plotArea.primaryScale.autoMaxValue":{"defaultValue":null,"readonly":true,"serializable":false},"plotArea.primaryScale.autoMinValue":{"defaultValue":null,"readonly":true,"serializable":false},"plotArea.primaryScale.fixedRange":{"defaultValue":false,"serializable":false},"plotArea.primaryScale.maxValue":{"defaultValue":null,"serializable":false},"plotArea.primaryScale.minValue":{"defaultValue":null,"serializable":false},"plotArea.secondaryScale.autoMaxValue":{"defaultValue":null,"readonly":true,"serializable":false},"plotArea.secondaryScale.autoMinValue":{"defaultValue":null,"readonly":true,"serializable":false},"plotArea.secondaryScale.fixedRange":false,"plotArea.secondaryScale.maxValue":null,"plotArea.secondaryScale.minValue":null,"timeAxis.axisLine.size":1,"timeAxis.axisLine.visible":true,"timeAxis.axisTick.visible":true,"timeAxis.color":"#6c6c6c","timeAxis.combinationConfig":null,"timeAxis.hoverShadow.color":"#EBEBEB","timeAxis.label.forceToShowFirstLastData":false,"timeAxis.label.showFirstLastDataOnly":false,"timeAxis.label.style.color":"#333333","timeAxis.label.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","timeAxis.label.style.fontSize":"12px","timeAxis.label.style.fontStyle":"normal","timeAxis.label.style.fontWeight":"normal","timeAxis.label.style.parentColor":"#A6A6A6","timeAxis.label.visible":true,"timeAxis.layout.height":null,"timeAxis.layout.maxHeight":0.5,"timeAxis.levelConfig":null,"timeAxis.levels":["day","month","year"],"timeAxis.mouseDownShadow.color":"#808080","timeAxis.title.style.color":"#000000","timeAxis.title.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","timeAxis.title.style.fontSize":"14px","timeAxis.title.style.fontStyle":"normal","timeAxis.title.style.fontWeight":"bold","timeAxis.title.text":null,"timeAxis.title.visible":false,"timeAxis.visible":true,"tooltip.applyTimeAxisFormat":true,"valueAxis.color":"#6c6c6c","valueAxis.title.applyAxislineColor":false},"info/heatmap":{"categoryAxis.axisLine.size":1,"categoryAxis.axisLine.visible":true,"categoryAxis.axisTick.shortTickVisible":null,"categoryAxis.axisTick.visible":true,"categoryAxis.color":"#6c6c6c","categoryAxis.hoverShadow.color":"#cccccc","categoryAxis.label.angle":90,"categoryAxis.label.hideSubLevels":false,"categoryAxis.label.linesOfWrap":1,"categoryAxis.label.overlapBehavior":"auto","categoryAxis.label.parentStyle.color":null,"categoryAxis.label.parentStyle.fontFamily":null,"categoryAxis.label.parentStyle.fontSize":null,"categoryAxis.label.parentStyle.fontStyle":null,"categoryAxis.label.parentStyle.fontWeight":null,"categoryAxis.label.rotation":"auto","categoryAxis.label.style.color":"#333333","categoryAxis.label.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","categoryAxis.label.style.fontSize":"12px","categoryAxis.label.style.fontStyle":"normal","categoryAxis.label.style.fontWeight":"normal","categoryAxis.label.truncatedLabelRatio":0.2,"categoryAxis.label.visible":true,"categoryAxis.labelRenderer":null,"categoryAxis.layout.autoHeight":{"defaultValue":null,"readonly":true},"categoryAxis.layout.autoWidth":{"defaultValue":null,"readonly":true},"categoryAxis.layout.categoryWidth":{"defaultValue":null,"readonly":true},"categoryAxis.layout.height":null,"categoryAxis.layout.maxHeight":0.3,"categoryAxis.layout.maxWidth":0.3,"categoryAxis.layout.offsetToChart":{"defaultValue":null,"readonly":true},"categoryAxis.layout.width":null,"categoryAxis.mouseDownShadow.color":"#808080","categoryAxis.title.applyAxislineColor":false,"categoryAxis.title.style.color":"#000000","categoryAxis.title.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","categoryAxis.title.style.fontSize":"14px","categoryAxis.title.style.fontStyle":"normal","categoryAxis.title.style.fontWeight":"bold","categoryAxis.title.text":null,"categoryAxis.title.visible":false,"categoryAxis.visible":true,"categoryAxis2.axisLine.size":1,"categoryAxis2.axisLine.visible":true,"categoryAxis2.axisTick.shortTickVisible":null,"categoryAxis2.axisTick.visible":true,"categoryAxis2.color":"#6c6c6c","categoryAxis2.hoverShadow.color":"#cccccc","categoryAxis2.label.alignment":"top","categoryAxis2.label.hideSubLevels":false,"categoryAxis2.label.parentStyle.color":null,"categoryAxis2.label.parentStyle.fontFamily":null,"categoryAxis2.label.parentStyle.fontSize":null,"categoryAxis2.label.parentStyle.fontStyle":null,"categoryAxis2.label.parentStyle.fontWeight":null,"categoryAxis2.label.style.color":"#333333","categoryAxis2.label.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","categoryAxis2.label.style.fontSize":"12px","categoryAxis2.label.style.fontStyle":"normal","categoryAxis2.label.style.fontWeight":"normal","categoryAxis2.label.visible":true,"categoryAxis2.labelRenderer":null,"categoryAxis2.layout.autoHeight":{"defaultValue":null,"readonly":true},"categoryAxis2.layout.autoWidth":{"defaultValue":null,"readonly":true},"categoryAxis2.layout.height":null,"categoryAxis2.layout.maxHeight":0.3,"categoryAxis2.layout.maxWidth":0.3,"categoryAxis2.layout.width":null,"categoryAxis2.mouseDownShadow.color":"#808080","categoryAxis2.title.applyAxislineColor":false,"categoryAxis2.title.style.color":"#000000","categoryAxis2.title.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","categoryAxis2.title.style.fontSize":"14px","categoryAxis2.title.style.fontStyle":"normal","categoryAxis2.title.style.fontWeight":"bold","categoryAxis2.title.text":null,"categoryAxis2.title.visible":false,"categoryAxis2.visible":true,"feedingZone":{"defaultValue":[{"bindDef":[{"id":null}],"bound":[[[0,0],[0,0],[0,0],[0,0]]],"name":null}],"readonly":true,"serializable":false},"general.groupData":false,"interaction.behaviorType":null,"interaction.decorations":{"defaultValue":null,"serializable":false},"interaction.deselected.color":null,"interaction.deselected.opacity":0.4,"interaction.deselected.stroke.color":"darken(20%)","interaction.deselected.stroke.visible":false,"interaction.deselected.stroke.width":"1px","interaction.enableDeselectAll":true,"interaction.enableKeyboard":false,"interaction.extraEventInfo":false,"interaction.hover.color":null,"interaction.hover.opacity":1,"interaction.hover.stroke.color":"darken(20%)","interaction.hover.stroke.visible":true,"interaction.hover.stroke.width":"2px","interaction.noninteractiveMode":false,"interaction.selectability.axisLabelSelection":true,"interaction.selectability.behavior":{"defaultValue":"DATAPOINT","serializable":false},"interaction.selectability.legendSelection":true,"interaction.selectability.mode":"INCLUSIVE","interaction.selectability.plotLassoSelection":true,"interaction.selectability.plotStdSelection":true,"interaction.selected.color":null,"interaction.selected.stroke.color":"darken(20%)","interaction.selected.stroke.visible":true,"interaction.selected.stroke.width":"1px","legend.formatString":null,"legend.hoverShadow.color":"#cccccc","legend.mouseDownShadow.color":"#808080","legend.onlyShowStartEndLabel":false,"legend.unitFormatType":"FinancialUnits","legendGroup.layout.respectPlotPosition":true,"plotArea.autoLegendValues":{"defaultValue":[],"serializable":false},"plotArea.background.border.bottom.visible":true,"plotArea.background.border.left.visible":true,"plotArea.background.border.right.visible":true,"plotArea.background.border.stroke":"#d8d8d8","plotArea.background.border.strokeWidth":1,"plotArea.background.border.top.visible":true,"plotArea.background.color":"transparent","plotArea.background.drawingEffect":"normal","plotArea.background.gradientDirection":"vertical","plotArea.background.visible":true,"plotArea.border.visible":true,"plotArea.colorPalette":{"defaultValue":[],"serializable":false},"plotArea.dataLabel.formatString":"0.0","plotArea.dataLabel.hideWhenOverlap":false,"plotArea.dataLabel.renderer":null,"plotArea.dataLabel.style.color":"white","plotArea.dataLabel.style.colorRange":"all","plotArea.dataLabel.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","plotArea.dataLabel.style.fontSize":"12px","plotArea.dataLabel.style.fontStyle":"normal","plotArea.dataLabel.style.fontWeight":"normal","plotArea.dataLabel.unitFormatType":"FinancialUnits","plotArea.dataLabel.visible":false,"plotArea.dataPointStyle":null,"plotArea.dataPointStyleMode":"update","plotArea.dimensionLabel.renderer":null,"plotArea.dimensionLabel.style.color":null,"plotArea.dimensionLabel.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","plotArea.dimensionLabel.style.fontSize":"12px","plotArea.dimensionLabel.style.fontStyle":"normal","plotArea.dimensionLabel.style.fontWeight":"normal","plotArea.dimensionLabel.visible":true,"plotArea.endColor":{"defaultValue":"#73C03C","serializable":false},"plotArea.legendValues":{"defaultValue":[],"serializable":false},"plotArea.nullColor":"#e0e0e0","plotArea.startColor":"#C2E3A9","propertyZone":{"defaultValue":null,"readonly":true,"serializable":false}},"info/horizontal_stacked_combination":{"categoryAxis.axisLine.size":1,"categoryAxis.axisLine.visible":true,"categoryAxis.axisTick.shortTickVisible":null,"categoryAxis.axisTick.visible":true,"categoryAxis.color":"#6c6c6c","categoryAxis.hoverShadow.color":"#cccccc","categoryAxis.label.alignment":"top","categoryAxis.label.hideSubLevels":false,"categoryAxis.label.parentStyle.color":null,"categoryAxis.label.parentStyle.fontFamily":null,"categoryAxis.label.parentStyle.fontSize":null,"categoryAxis.label.parentStyle.fontStyle":null,"categoryAxis.label.parentStyle.fontWeight":null,"categoryAxis.label.style.color":"#333333","categoryAxis.label.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","categoryAxis.label.style.fontSize":"12px","categoryAxis.label.style.fontStyle":"normal","categoryAxis.label.style.fontWeight":"normal","categoryAxis.label.visible":true,"categoryAxis.labelRenderer":null,"categoryAxis.layout.autoHeight":{"defaultValue":null,"readonly":true},"categoryAxis.layout.autoWidth":{"defaultValue":null,"readonly":true},"categoryAxis.layout.height":null,"categoryAxis.layout.maxHeight":0.3,"categoryAxis.layout.maxWidth":0.3,"categoryAxis.layout.width":null,"categoryAxis.mouseDownShadow.color":"#808080","categoryAxis.title.applyAxislineColor":false,"categoryAxis.title.style.color":"#000000","categoryAxis.title.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","categoryAxis.title.style.fontSize":"14px","categoryAxis.title.style.fontStyle":"normal","categoryAxis.title.style.fontWeight":"bold","categoryAxis.title.text":null,"categoryAxis.title.visible":false,"categoryAxis.visible":true,"general.groupData":false,"general.hideNoValueLabel":false,"legend.groupByShape":false,"legend.ignoreNoValue":false,"legend.marker.shape":"squareWithRadius","legend.marker.showLine":false,"plotArea.background.gradientDirection":"horizontal","plotArea.dataLabel.style.colorRange":"all","plotArea.dataPointSize.max":96,"plotArea.dataPointSize.min":24,"plotArea.dataShape.primaryAxis":["bar","line","line"],"plotArea.gap.barSpacing":1,"plotArea.isFixedDataPointSize":false,"plotArea.line.isSmoothed":false,"plotArea.line.lineRenderer":null,"plotArea.line.marker.shape":"circle","plotArea.line.marker.size":6,"plotArea.line.marker.visible":true,"plotArea.line.style":null,"plotArea.line.visible":true,"plotArea.line.width":2,"plotArea.primaryScale.autoMaxValue":{"defaultValue":null,"readonly":true,"serializable":false},"plotArea.primaryScale.autoMinValue":{"defaultValue":null,"readonly":true,"serializable":false},"plotArea.primaryScale.fixedRange":{"defaultValue":false,"serializable":false},"plotArea.primaryScale.maxValue":{"defaultValue":null,"serializable":false},"plotArea.primaryScale.minValue":{"defaultValue":null,"serializable":false}},"info/horizontal_waterfall":{"categoryAxis.axisLine.size":1,"categoryAxis.axisLine.visible":true,"categoryAxis.axisTick.shortTickVisible":null,"categoryAxis.axisTick.visible":true,"categoryAxis.color":"#6c6c6c","categoryAxis.hoverShadow.color":"#cccccc","categoryAxis.label.alignment":"top","categoryAxis.label.hideSubLevels":false,"categoryAxis.label.parentStyle.color":null,"categoryAxis.label.parentStyle.fontFamily":null,"categoryAxis.label.parentStyle.fontSize":null,"categoryAxis.label.parentStyle.fontStyle":null,"categoryAxis.label.parentStyle.fontWeight":null,"categoryAxis.label.style.color":"#333333","categoryAxis.label.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","categoryAxis.label.style.fontSize":"12px","categoryAxis.label.style.fontStyle":"normal","categoryAxis.label.style.fontWeight":"normal","categoryAxis.label.visible":true,"categoryAxis.labelRenderer":null,"categoryAxis.layout.autoHeight":{"defaultValue":null,"readonly":true},"categoryAxis.layout.autoWidth":{"defaultValue":null,"readonly":true},"categoryAxis.layout.height":null,"categoryAxis.layout.maxHeight":0.3,"categoryAxis.layout.maxWidth":0.3,"categoryAxis.layout.width":null,"categoryAxis.mouseDownShadow.color":"#808080","categoryAxis.title.applyAxislineColor":false,"categoryAxis.title.style.color":"#000000","categoryAxis.title.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","categoryAxis.title.style.fontSize":"14px","categoryAxis.title.style.fontStyle":"normal","categoryAxis.title.style.fontWeight":"bold","categoryAxis.title.text":null,"categoryAxis.title.visible":false,"categoryAxis.visible":true,"feedingZone":{"defaultValue":[{"bindDef":[{"id":null}],"bound":[[[0,0],[0,0],[0,0],[0,0]]],"name":null}],"readonly":true,"serializable":false},"general.groupData":false,"interaction.behaviorType":null,"interaction.decorations":{"defaultValue":null,"serializable":false},"interaction.deselected.color":null,"interaction.deselected.opacity":0.4,"interaction.deselected.stroke.color":"darken(20%)","interaction.deselected.stroke.visible":false,"interaction.deselected.stroke.width":"1px","interaction.enableDeselectAll":true,"interaction.enableKeyboard":false,"interaction.extraEventInfo":false,"interaction.hover.color":null,"interaction.hover.opacity":1,"interaction.hover.stroke.color":"darken(20%)","interaction.hover.stroke.visible":true,"interaction.hover.stroke.width":"2px","interaction.noninteractiveMode":false,"interaction.selectability.axisLabelSelection":true,"interaction.selectability.behavior":{"defaultValue":"DATAPOINT","serializable":false},"interaction.selectability.legendSelection":true,"interaction.selectability.mode":"INCLUSIVE","interaction.selectability.plotLassoSelection":true,"interaction.selectability.plotStdSelection":true,"interaction.selected.color":null,"interaction.selected.stroke.color":"darken(20%)","interaction.selected.stroke.visible":true,"interaction.selected.stroke.width":"1px","interaction.zoom.direction":"all","interaction.zoom.enablement":"auto","legend.hoverShadow.color":"#cccccc","legend.isScrollable":false,"legend.itemMargin":0.5,"legend.label.text.negativeValue":null,"legend.label.text.positiveValue":null,"legend.label.text.total":"Total","legend.marker.shape":"squareWithRadius","legend.marker.size":null,"legend.maxNumOfItems":null,"legend.mouseDownShadow.color":"#808080","legend.order":{"defaultValue":null,"serializable":false},"legend.scrollbar.border.color":"white","legend.scrollbar.border.width":0,"legend.scrollbar.spacing":0,"legend.scrollbar.thumb.fill":"#e5e5e5","legend.scrollbar.thumb.hoverFill":"#dedede","legend.scrollbar.track.fill":"#f7f7f7","legend.showFullLabel":true,"legendGroup.layout.respectPlotPosition":true,"plotArea.background.border.bottom.visible":true,"plotArea.background.border.left.visible":true,"plotArea.background.border.right.visible":true,"plotArea.background.border.stroke":"#d8d8d8","plotArea.background.border.strokeWidth":1,"plotArea.background.border.top.visible":true,"plotArea.background.color":"transparent","plotArea.background.drawingEffect":"normal","plotArea.background.gradientDirection":"horizontal","plotArea.background.visible":true,"plotArea.colorPalette":{"defaultValue":["#748CB2","#9CC677","#EACF5E","#F9AD79","#D16A7C","#8873A2","#3A95B3","#B6D949","#FDD36C","#F47958","#A65084","#0063B1","#0DA841","#FCB71D","#F05620","#B22D6E","#3C368E","#8FB2CF","#95D4AB","#EAE98F","#F9BE92","#EC9A99","#BC98BD","#1EB7B2","#73C03C","#F48323","#EB271B","#D9B5CA","#AED1DA","#DFECB2","#FCDAB0","#F5BCB4"],"serializable":false},"plotArea.dataLabel.formatString":null,"plotArea.dataLabel.hideWhenOverlap":false,"plotArea.dataLabel.renderer":null,"plotArea.dataLabel.style.color":"#333333","plotArea.dataLabel.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","plotArea.dataLabel.style.fontSize":"12px","plotArea.dataLabel.style.fontStyle":"normal","plotArea.dataLabel.style.fontWeight":"normal","plotArea.dataLabel.unitFormatType":"FinancialUnits","plotArea.dataLabel.visible":false,"plotArea.dataPoint.color.isSemanticColoring":true,"plotArea.dataPoint.color.negative":"#EB271B","plotArea.dataPoint.color.positive":"#67AC36","plotArea.dataPoint.color.total":"#848f94","plotArea.dataPointSize.max":96,"plotArea.dataPointSize.min":24,"plotArea.dataPointStyle":null,"plotArea.dataPointStyleMode":"update","plotArea.defaultOthersStyle.color":"#000000","plotArea.drawingEffect":"normal","plotArea.gap.barSpacing":1,"plotArea.gap.groupSpacing":1,"plotArea.gap.innerGroupSpacing":0.125,"plotArea.gridline.color":"#d8d8d8","plotArea.gridline.size":1,"plotArea.gridline.type":"solid","plotArea.gridline.visible":true,"plotArea.gridline.zeroLine.color":null,"plotArea.gridline.zeroLine.highlight":true,"plotArea.gridline.zeroLine.unhighlightAxis":true,"plotArea.isFixedDataPointSize":false,"plotArea.linkline.color":"#333333","plotArea.linkline.size":1,"plotArea.linkline.type":"line","plotArea.linkline.visible":true,"plotArea.markerRenderer":null,"plotArea.primaryScale.autoMaxValue":{"defaultValue":null,"readonly":true,"serializable":false},"plotArea.primaryScale.autoMinValue":{"defaultValue":null,"readonly":true,"serializable":false},"plotArea.primaryScale.fixedRange":{"defaultValue":false,"serializable":false},"plotArea.primaryScale.maxValue":{"defaultValue":null,"serializable":false},"plotArea.primaryScale.minValue":{"defaultValue":null,"serializable":false},"plotArea.referenceLine.defaultStyle.color":"#666666","plotArea.referenceLine.defaultStyle.label.background":"#ffffff","plotArea.referenceLine.defaultStyle.label.color":"#333333","plotArea.referenceLine.defaultStyle.label.fontFamily":"\"Open Sans\", Arial, Helvetica, sans-serif","plotArea.referenceLine.defaultStyle.label.fontSize":"12px","plotArea.referenceLine.defaultStyle.label.fontStyle":"normal","plotArea.referenceLine.defaultStyle.label.fontWeight":"normal","plotArea.referenceLine.defaultStyle.size":1,"plotArea.referenceLine.defaultStyle.type":"dash","plotArea.referenceLine.line":null,"plotArea.scrollbar.border.color":"white","plotArea.scrollbar.border.width":0,"plotArea.scrollbar.spacing":0,"plotArea.scrollbar.thumb.fill":"#e5e5e5","plotArea.scrollbar.thumb.hoverFill":"#dedede","plotArea.scrollbar.track.fill":"#f7f7f7","plotArea.window.end":null,"plotArea.window.start":null,"propertyZone":{"defaultValue":null,"readonly":true,"serializable":false},"valueAxis.axisLine.size":1,"valueAxis.axisLine.visible":true,"valueAxis.axisTick.visible":true,"valueAxis.color":"#6c6c6c","valueAxis.label.formatString":null,"valueAxis.label.style.color":"#333333","valueAxis.label.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","valueAxis.label.style.fontSize":"12px","valueAxis.label.style.fontStyle":"normal","valueAxis.label.style.fontWeight":"normal","valueAxis.label.unitFormatType":"FinancialUnits","valueAxis.label.visible":true,"valueAxis.layout.autoHeight":{"defaultValue":null,"readonly":true},"valueAxis.layout.autoWidth":{"defaultValue":null,"readonly":true},"valueAxis.layout.height":null,"valueAxis.layout.maxHeight":0.25,"valueAxis.layout.maxWidth":0.25,"valueAxis.layout.width":null,"valueAxis.title.applyAxislineColor":false,"valueAxis.title.style.color":"#000000","valueAxis.title.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","valueAxis.title.style.fontSize":"14px","valueAxis.title.style.fontStyle":"normal","valueAxis.title.style.fontWeight":"bold","valueAxis.title.text":null,"valueAxis.title.visible":false,"valueAxis.visible":true},"info/line":{"categoryAxis.axisLine.size":1,"categoryAxis.axisLine.visible":true,"categoryAxis.axisTick.shortTickVisible":null,"categoryAxis.axisTick.visible":true,"categoryAxis.color":"#6c6c6c","categoryAxis.hoverShadow.color":"#cccccc","categoryAxis.label.angle":90,"categoryAxis.label.hideSubLevels":false,"categoryAxis.label.linesOfWrap":1,"categoryAxis.label.overlapBehavior":"auto","categoryAxis.label.parentStyle.color":null,"categoryAxis.label.parentStyle.fontFamily":null,"categoryAxis.label.parentStyle.fontSize":null,"categoryAxis.label.parentStyle.fontStyle":null,"categoryAxis.label.parentStyle.fontWeight":null,"categoryAxis.label.rotation":"auto","categoryAxis.label.style.color":"#333333","categoryAxis.label.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","categoryAxis.label.style.fontSize":"12px","categoryAxis.label.style.fontStyle":"normal","categoryAxis.label.style.fontWeight":"normal","categoryAxis.label.truncatedLabelRatio":0.2,"categoryAxis.label.visible":true,"categoryAxis.labelRenderer":null,"categoryAxis.layout.autoHeight":{"defaultValue":null,"readonly":true},"categoryAxis.layout.autoWidth":{"defaultValue":null,"readonly":true},"categoryAxis.layout.categoryWidth":{"defaultValue":null,"readonly":true},"categoryAxis.layout.height":null,"categoryAxis.layout.maxHeight":0.3,"categoryAxis.layout.maxWidth":0.3,"categoryAxis.layout.offsetToChart":{"defaultValue":null,"readonly":true},"categoryAxis.layout.width":null,"categoryAxis.mouseDownShadow.color":"#808080","categoryAxis.title.applyAxislineColor":false,"categoryAxis.title.style.color":"#000000","categoryAxis.title.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","categoryAxis.title.style.fontSize":"14px","categoryAxis.title.style.fontStyle":"normal","categoryAxis.title.style.fontWeight":"bold","categoryAxis.title.text":null,"categoryAxis.title.visible":false,"categoryAxis.visible":true,"general.groupData":false,"legend.marker.showLine":false,"plotArea.adjustScale":false,"plotArea.callout.label.formatString":null,"plotArea.callout.label.style.color":"#333333","plotArea.callout.label.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","plotArea.callout.label.style.fontSize":"12px","plotArea.callout.label.style.fontStyle":"normal","plotArea.callout.label.style.fontWeight":"normal","plotArea.callout.label.unitFormatType":"FinancialUnits","plotArea.callout.left":null,"plotArea.callout.line.color":"#343434","plotArea.callout.top":null,"plotArea.isFixedDataPointSize":false,"plotArea.isSmoothed":false,"plotArea.lineRenderer":null,"plotArea.lineStyle":null,"plotArea.lineVisible":true,"plotArea.marker.displayMode":"manual","plotArea.marker.shape":"circle","plotArea.marker.size":6,"plotArea.marker.visible":true,"plotArea.primaryScale.autoMaxValue":{"defaultValue":null,"readonly":true,"serializable":false},"plotArea.primaryScale.autoMinValue":{"defaultValue":null,"readonly":true,"serializable":false},"plotArea.primaryScale.fixedRange":{"defaultValue":false,"serializable":false},"plotArea.primaryScale.maxValue":{"defaultValue":null,"serializable":false},"plotArea.primaryScale.minValue":{"defaultValue":null,"serializable":false},"plotArea.width":2},"info/pie":{},"info/scatter":{"plotArea.markerSize":10,"plotArea.secondaryScale.autoMaxValue":{"defaultValue":null,"readonly":true,"serializable":false},"plotArea.secondaryScale.autoMinValue":{"defaultValue":null,"readonly":true,"serializable":false},"plotArea.secondaryScale.fixedRange":false,"plotArea.secondaryScale.maxValue":null,"plotArea.secondaryScale.minValue":null,"valueAxis.label.formatString":null,"valueAxis.label.unitFormatType":"FinancialUnits","valueAxis2.axisLine.size":1,"valueAxis2.axisLine.visible":true,"valueAxis2.axisTick.visible":true,"valueAxis2.color":"#6c6c6c","valueAxis2.label.formatString":null,"valueAxis2.label.style.color":"#333333","valueAxis2.label.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","valueAxis2.label.style.fontSize":"12px","valueAxis2.label.style.fontStyle":"normal","valueAxis2.label.style.fontWeight":"normal","valueAxis2.label.unitFormatType":"FinancialUnits","valueAxis2.label.visible":true,"valueAxis2.layout.autoHeight":{"defaultValue":null,"readonly":true},"valueAxis2.layout.autoWidth":{"defaultValue":null,"readonly":true},"valueAxis2.layout.height":null,"valueAxis2.layout.maxHeight":0.25,"valueAxis2.layout.maxWidth":0.25,"valueAxis2.layout.width":null,"valueAxis2.title.applyAxislineColor":false,"valueAxis2.title.style.color":"#000000","valueAxis2.title.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","valueAxis2.title.style.fontSize":"14px","valueAxis2.title.style.fontStyle":"normal","valueAxis2.title.style.fontWeight":"bold","valueAxis2.title.text":null,"valueAxis2.title.visible":false,"valueAxis2.visible":true},"info/stacked_bar":{"categoryAxis.axisLine.size":1,"categoryAxis.axisLine.visible":true,"categoryAxis.axisTick.shortTickVisible":null,"categoryAxis.axisTick.visible":true,"categoryAxis.color":"#6c6c6c","categoryAxis.hoverShadow.color":"#cccccc","categoryAxis.label.alignment":"top","categoryAxis.label.hideSubLevels":false,"categoryAxis.label.parentStyle.color":null,"categoryAxis.label.parentStyle.fontFamily":null,"categoryAxis.label.parentStyle.fontSize":null,"categoryAxis.label.parentStyle.fontStyle":null,"categoryAxis.label.parentStyle.fontWeight":null,"categoryAxis.label.style.color":"#333333","categoryAxis.label.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","categoryAxis.label.style.fontSize":"12px","categoryAxis.label.style.fontStyle":"normal","categoryAxis.label.style.fontWeight":"normal","categoryAxis.label.visible":true,"categoryAxis.labelRenderer":null,"categoryAxis.layout.autoHeight":{"defaultValue":null,"readonly":true},"categoryAxis.layout.autoWidth":{"defaultValue":null,"readonly":true},"categoryAxis.layout.height":null,"categoryAxis.layout.maxHeight":0.3,"categoryAxis.layout.maxWidth":0.3,"categoryAxis.layout.width":null,"categoryAxis.mouseDownShadow.color":"#808080","categoryAxis.title.applyAxislineColor":false,"categoryAxis.title.style.color":"#000000","categoryAxis.title.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","categoryAxis.title.style.fontSize":"14px","categoryAxis.title.style.fontStyle":"normal","categoryAxis.title.style.fontWeight":"bold","categoryAxis.title.text":null,"categoryAxis.title.visible":false,"categoryAxis.visible":true,"general.groupData":false,"legend.marker.shape":"squareWithRadius","plotArea.background.gradientDirection":"horizontal","plotArea.dataLabel.showTotal":false,"plotArea.dataLabel.style.colorRange":"all","plotArea.dataPointSize.max":96,"plotArea.dataPointSize.min":24,"plotArea.gap.barSpacing":1,"plotArea.isFixedDataPointSize":false,"plotArea.primaryScale.autoMaxValue":{"defaultValue":null,"readonly":true,"serializable":false},"plotArea.primaryScale.autoMinValue":{"defaultValue":null,"readonly":true,"serializable":false},"plotArea.primaryScale.fixedRange":{"defaultValue":false,"serializable":false},"plotArea.primaryScale.maxValue":{"defaultValue":null,"serializable":false},"plotArea.primaryScale.minValue":{"defaultValue":null,"serializable":false}},"info/stacked_column":{"categoryAxis.axisLine.size":1,"categoryAxis.axisLine.visible":true,"categoryAxis.axisTick.shortTickVisible":null,"categoryAxis.axisTick.visible":true,"categoryAxis.color":"#6c6c6c","categoryAxis.hoverShadow.color":"#cccccc","categoryAxis.label.angle":90,"categoryAxis.label.hideSubLevels":false,"categoryAxis.label.linesOfWrap":1,"categoryAxis.label.overlapBehavior":"auto","categoryAxis.label.parentStyle.color":null,"categoryAxis.label.parentStyle.fontFamily":null,"categoryAxis.label.parentStyle.fontSize":null,"categoryAxis.label.parentStyle.fontStyle":null,"categoryAxis.label.parentStyle.fontWeight":null,"categoryAxis.label.rotation":"auto","categoryAxis.label.style.color":"#333333","categoryAxis.label.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","categoryAxis.label.style.fontSize":"12px","categoryAxis.label.style.fontStyle":"normal","categoryAxis.label.style.fontWeight":"normal","categoryAxis.label.truncatedLabelRatio":0.2,"categoryAxis.label.visible":true,"categoryAxis.labelRenderer":null,"categoryAxis.layout.autoHeight":{"defaultValue":null,"readonly":true},"categoryAxis.layout.autoWidth":{"defaultValue":null,"readonly":true},"categoryAxis.layout.categoryWidth":{"defaultValue":null,"readonly":true},"categoryAxis.layout.height":null,"categoryAxis.layout.maxHeight":0.3,"categoryAxis.layout.maxWidth":0.3,"categoryAxis.layout.offsetToChart":{"defaultValue":null,"readonly":true},"categoryAxis.layout.width":null,"categoryAxis.mouseDownShadow.color":"#808080","categoryAxis.title.applyAxislineColor":false,"categoryAxis.title.style.color":"#000000","categoryAxis.title.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","categoryAxis.title.style.fontSize":"14px","categoryAxis.title.style.fontStyle":"normal","categoryAxis.title.style.fontWeight":"bold","categoryAxis.title.text":null,"categoryAxis.title.visible":false,"categoryAxis.visible":true,"general.groupData":false,"legend.marker.shape":"squareWithRadius","plotArea.dataLabel.overlapBehavior":"hideExceededLabels","plotArea.dataLabel.showTotal":false,"plotArea.dataLabel.style.colorRange":"all","plotArea.dataPointSize.max":96,"plotArea.dataPointSize.min":24,"plotArea.gap.barSpacing":1,"plotArea.isFixedDataPointSize":false,"plotArea.primaryScale.autoMaxValue":{"defaultValue":null,"readonly":true,"serializable":false},"plotArea.primaryScale.autoMinValue":{"defaultValue":null,"readonly":true,"serializable":false},"plotArea.primaryScale.fixedRange":{"defaultValue":false,"serializable":false},"plotArea.primaryScale.maxValue":{"defaultValue":null,"serializable":false},"plotArea.primaryScale.minValue":{"defaultValue":null,"serializable":false}},"info/stacked_combination":{"categoryAxis.axisLine.size":1,"categoryAxis.axisLine.visible":true,"categoryAxis.axisTick.shortTickVisible":null,"categoryAxis.axisTick.visible":true,"categoryAxis.color":"#6c6c6c","categoryAxis.hoverShadow.color":"#cccccc","categoryAxis.label.angle":90,"categoryAxis.label.hideSubLevels":false,"categoryAxis.label.linesOfWrap":1,"categoryAxis.label.overlapBehavior":"auto","categoryAxis.label.parentStyle.color":null,"categoryAxis.label.parentStyle.fontFamily":null,"categoryAxis.label.parentStyle.fontSize":null,"categoryAxis.label.parentStyle.fontStyle":null,"categoryAxis.label.parentStyle.fontWeight":null,"categoryAxis.label.rotation":"auto","categoryAxis.label.style.color":"#333333","categoryAxis.label.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","categoryAxis.label.style.fontSize":"12px","categoryAxis.label.style.fontStyle":"normal","categoryAxis.label.style.fontWeight":"normal","categoryAxis.label.truncatedLabelRatio":0.2,"categoryAxis.label.visible":true,"categoryAxis.labelRenderer":null,"categoryAxis.layout.autoHeight":{"defaultValue":null,"readonly":true},"categoryAxis.layout.autoWidth":{"defaultValue":null,"readonly":true},"categoryAxis.layout.categoryWidth":{"defaultValue":null,"readonly":true},"categoryAxis.layout.height":null,"categoryAxis.layout.maxHeight":0.3,"categoryAxis.layout.maxWidth":0.3,"categoryAxis.layout.offsetToChart":{"defaultValue":null,"readonly":true},"categoryAxis.layout.width":null,"categoryAxis.mouseDownShadow.color":"#808080","categoryAxis.title.applyAxislineColor":false,"categoryAxis.title.style.color":"#000000","categoryAxis.title.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","categoryAxis.title.style.fontSize":"14px","categoryAxis.title.style.fontStyle":"normal","categoryAxis.title.style.fontWeight":"bold","categoryAxis.title.text":null,"categoryAxis.title.visible":false,"categoryAxis.visible":true,"general.groupData":false,"general.hideNoValueLabel":false,"legend.groupByShape":false,"legend.ignoreNoValue":false,"legend.marker.shape":"squareWithRadius","legend.marker.showLine":false,"plotArea.dataLabel.style.colorRange":"all","plotArea.dataPointSize.max":96,"plotArea.dataPointSize.min":24,"plotArea.dataShape.primaryAxis":["bar","line","line"],"plotArea.gap.barSpacing":1,"plotArea.isFixedDataPointSize":false,"plotArea.line.isSmoothed":false,"plotArea.line.lineRenderer":null,"plotArea.line.marker.shape":"circle","plotArea.line.marker.size":6,"plotArea.line.marker.visible":true,"plotArea.line.style":null,"plotArea.line.visible":true,"plotArea.line.width":2,"plotArea.primaryScale.autoMaxValue":{"defaultValue":null,"readonly":true,"serializable":false},"plotArea.primaryScale.autoMinValue":{"defaultValue":null,"readonly":true,"serializable":false},"plotArea.primaryScale.fixedRange":{"defaultValue":false,"serializable":false},"plotArea.primaryScale.maxValue":{"defaultValue":null,"serializable":false},"plotArea.primaryScale.minValue":{"defaultValue":null,"serializable":false}},"info/time_bubble":{"plotArea.dataLabel.respectShapeWidth":false,"plotArea.dataLabel.style.colorRange":"all","plotArea.dataLabel.type":"bubbleWidth","plotArea.minMarkerSize":null,"plotArea.secondaryScale.autoMaxValue":{"defaultValue":null,"readonly":true,"serializable":false},"plotArea.secondaryScale.autoMinValue":{"defaultValue":null,"readonly":true,"serializable":false},"plotArea.secondaryScale.fixedRange":false,"plotArea.secondaryScale.maxValue":null,"plotArea.secondaryScale.minValue":null,"plotArea.showNegativeValues":true,"sizeLegend.drawingEffect":"normal","sizeLegend.formatString":null,"sizeLegend.label.style.color":"#000000","sizeLegend.label.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","sizeLegend.label.style.fontSize":"12px","sizeLegend.label.style.fontStyle":"normal","sizeLegend.label.style.fontWeight":"normal","sizeLegend.title.style.color":"#000000","sizeLegend.title.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","sizeLegend.title.style.fontSize":"14px","sizeLegend.title.style.fontStyle":"normal","sizeLegend.title.style.fontWeight":"bold","sizeLegend.title.text":null,"sizeLegend.title.visible":false,"sizeLegend.unitFormatType":"FinancialUnits","sizeLegend.visible":true,"valueAxis.axisTick.fixedTicks":null,"valueAxis2.axisLine.size":1,"valueAxis2.axisLine.visible":true,"valueAxis2.axisTick.visible":true,"valueAxis2.color":"#6c6c6c","valueAxis2.label.formatString":null,"valueAxis2.label.style.color":"#333333","valueAxis2.label.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","valueAxis2.label.style.fontSize":"12px","valueAxis2.label.style.fontStyle":"normal","valueAxis2.label.style.fontWeight":"normal","valueAxis2.label.unitFormatType":"FinancialUnits","valueAxis2.label.visible":true,"valueAxis2.layout.autoHeight":{"defaultValue":null,"readonly":true},"valueAxis2.layout.autoWidth":{"defaultValue":null,"readonly":true},"valueAxis2.layout.height":null,"valueAxis2.layout.maxHeight":0.25,"valueAxis2.layout.maxWidth":0.25,"valueAxis2.layout.width":null,"valueAxis2.title.applyAxislineColor":false,"valueAxis2.title.style.color":"#000000","valueAxis2.title.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","valueAxis2.title.style.fontSize":"14px","valueAxis2.title.style.fontStyle":"normal","valueAxis2.title.style.fontWeight":"bold","valueAxis2.title.text":null,"valueAxis2.title.visible":false,"valueAxis2.visible":true},"info/timeseries_100_stacked_column":{"general.groupData":false,"general.showAsUTC":false,"interaction.selectability.plotLassoMode":"standard","interaction.zoom.direction":"categoryAxis","legend.marker.shape":"squareWithRadius","plotArea.dataLabel.overlapBehavior":"hideExceededLabels","plotArea.dataLabel.style.colorRange":"all","plotArea.dataPointSize.max":96,"plotArea.dataPointSize.min":24,"plotArea.gap.barSpacing":1,"plotArea.gap.groupSpacing":1,"plotArea.gap.innerGroupSpacing":0.125,"plotArea.isFixedDataPointSize":false,"plotArea.primaryScale.autoMaxValue":{"defaultValue":null,"readonly":true,"serializable":false},"plotArea.primaryScale.autoMinValue":{"defaultValue":null,"readonly":true,"serializable":false},"plotArea.primaryScale.fixedRange":{"defaultValue":false,"serializable":false},"plotArea.primaryScale.maxValue":{"defaultValue":null,"serializable":false},"plotArea.primaryScale.minValue":{"defaultValue":null,"serializable":false},"timeAxis.axisLine.size":1,"timeAxis.axisLine.visible":true,"timeAxis.axisTick.visible":true,"timeAxis.color":"#6c6c6c","timeAxis.combinationConfig":null,"timeAxis.hoverShadow.color":"#EBEBEB","timeAxis.label.forceToShowFirstLastData":false,"timeAxis.label.showFirstLastDataOnly":false,"timeAxis.label.style.color":"#333333","timeAxis.label.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","timeAxis.label.style.fontSize":"12px","timeAxis.label.style.fontStyle":"normal","timeAxis.label.style.fontWeight":"normal","timeAxis.label.style.parentColor":"#A6A6A6","timeAxis.label.visible":true,"timeAxis.layout.height":null,"timeAxis.layout.maxHeight":0.3,"timeAxis.levelConfig":null,"timeAxis.levels":["day","month","year"],"timeAxis.mouseDownShadow.color":"#808080","timeAxis.title.style.color":"#000000","timeAxis.title.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","timeAxis.title.style.fontSize":"14px","timeAxis.title.style.fontStyle":"normal","timeAxis.title.style.fontWeight":"bold","timeAxis.title.text":null,"timeAxis.title.visible":false,"timeAxis.visible":true,"tooltip.applyTimeAxisFormat":true,"valueAxis.color":null},"info/timeseries_bubble":{"general.showAsUTC":false,"interaction.selectability.plotLassoMode":"standard","plotArea.dataLabel.respectShapeWidth":false,"plotArea.dataLabel.style.colorRange":"all","plotArea.dataLabel.type":"bubbleWidth","plotArea.minMarkerSize":null,"sizeLegend.drawingEffect":"normal","sizeLegend.formatString":null,"sizeLegend.label.style.color":"#000000","sizeLegend.label.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","sizeLegend.label.style.fontSize":"12px","sizeLegend.label.style.fontStyle":"normal","sizeLegend.label.style.fontWeight":"normal","sizeLegend.title.style.color":"#000000","sizeLegend.title.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","sizeLegend.title.style.fontSize":"14px","sizeLegend.title.style.fontStyle":"normal","sizeLegend.title.style.fontWeight":"bold","sizeLegend.title.text":null,"sizeLegend.title.visible":false,"sizeLegend.unitFormatType":"FinancialUnits","sizeLegend.visible":true,"timeAxis.axisLine.size":1,"timeAxis.axisLine.visible":true,"timeAxis.axisTick.visible":true,"timeAxis.color":"#6c6c6c","timeAxis.combinationConfig":null,"timeAxis.hoverShadow.color":"#EBEBEB","timeAxis.label.forceToShowFirstLastData":false,"timeAxis.label.showFirstLastDataOnly":false,"timeAxis.label.style.color":"#333333","timeAxis.label.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","timeAxis.label.style.fontSize":"12px","timeAxis.label.style.fontStyle":"normal","timeAxis.label.style.fontWeight":"normal","timeAxis.label.style.parentColor":"#A6A6A6","timeAxis.label.visible":true,"timeAxis.layout.height":null,"timeAxis.layout.maxHeight":0.3,"timeAxis.levelConfig":null,"timeAxis.levels":["day","month","year"],"timeAxis.mouseDownShadow.color":"#808080","timeAxis.title.style.color":"#000000","timeAxis.title.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","timeAxis.title.style.fontSize":"14px","timeAxis.title.style.fontStyle":"normal","timeAxis.title.style.fontWeight":"bold","timeAxis.title.text":null,"timeAxis.title.visible":false,"timeAxis.visible":true,"tooltip.applyTimeAxisFormat":true,"valueAxis.label.formatString":null,"valueAxis.label.unitFormatType":"FinancialUnits"},"info/timeseries_bullet":{"general.showAsUTC":false,"interaction.selectability.plotLassoMode":"standard","interaction.syncValueAxis":false,"interaction.zoom.direction":"categoryAxis","plotArea.background.border.left.visible":false,"timeAxis.axisLine.size":1,"timeAxis.axisLine.visible":true,"timeAxis.axisTick.visible":true,"timeAxis.color":"#6c6c6c","timeAxis.combinationConfig":null,"timeAxis.hoverShadow.color":"#EBEBEB","timeAxis.label.forceToShowFirstLastData":false,"timeAxis.label.showFirstLastDataOnly":false,"timeAxis.label.style.color":"#333333","timeAxis.label.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","timeAxis.label.style.fontSize":"12px","timeAxis.label.style.fontStyle":"normal","timeAxis.label.style.fontWeight":"normal","timeAxis.label.style.parentColor":"#A6A6A6","timeAxis.label.visible":true,"timeAxis.layout.height":null,"timeAxis.layout.maxHeight":0.3,"timeAxis.levelConfig":null,"timeAxis.levels":["day","month","year"],"timeAxis.mouseDownShadow.color":"#808080","timeAxis.title.style.color":"#000000","timeAxis.title.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","timeAxis.title.style.fontSize":"14px","timeAxis.title.style.fontStyle":"normal","timeAxis.title.style.fontWeight":"bold","timeAxis.title.text":null,"timeAxis.title.visible":false,"timeAxis.visible":true,"tooltip.applyTimeAxisFormat":true,"valueAxis.color":null},"info/timeseries_column":{"general.showAsUTC":false,"interaction.selectability.plotLassoMode":"standard","interaction.syncValueAxis":false,"interaction.zoom.direction":"categoryAxis","legend.marker.shape":"squareWithRadius","plotArea.dataLabel.position":"outside","plotArea.dataLabel.style.colorRange":"all","plotArea.dataPoint.savingMode":true,"plotArea.dataPointSize.max":96,"plotArea.dataPointSize.min":24,"plotArea.gap.barSpacing":1,"plotArea.gap.groupSpacing":1,"plotArea.gap.innerGroupSpacing":0.125,"plotArea.isFixedDataPointSize":false,"plotArea.primaryScale.autoMaxValue":{"defaultValue":null,"readonly":true,"serializable":false},"plotArea.primaryScale.autoMinValue":{"defaultValue":null,"readonly":true,"serializable":false},"plotArea.primaryScale.fixedRange":{"defaultValue":false,"serializable":false},"plotArea.primaryScale.maxValue":{"defaultValue":null,"serializable":false},"plotArea.primaryScale.minValue":{"defaultValue":null,"serializable":false},"timeAxis.axisLine.size":1,"timeAxis.axisLine.visible":true,"timeAxis.axisTick.visible":true,"timeAxis.color":"#6c6c6c","timeAxis.combinationConfig":null,"timeAxis.hoverShadow.color":"#EBEBEB","timeAxis.label.forceToShowFirstLastData":false,"timeAxis.label.showFirstLastDataOnly":false,"timeAxis.label.style.color":"#333333","timeAxis.label.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","timeAxis.label.style.fontSize":"12px","timeAxis.label.style.fontStyle":"normal","timeAxis.label.style.fontWeight":"normal","timeAxis.label.style.parentColor":"#A6A6A6","timeAxis.label.visible":true,"timeAxis.layout.height":null,"timeAxis.layout.maxHeight":0.5,"timeAxis.levelConfig":null,"timeAxis.levels":["day","month","year"],"timeAxis.mouseDownShadow.color":"#808080","timeAxis.title.style.color":"#000000","timeAxis.title.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","timeAxis.title.style.fontSize":"14px","timeAxis.title.style.fontStyle":"normal","timeAxis.title.style.fontWeight":"bold","timeAxis.title.text":null,"timeAxis.title.visible":false,"timeAxis.visible":true,"tooltip.applyTimeAxisFormat":true},"info/timeseries_combination":{"general.hideNoValueLabel":false,"general.showAsUTC":false,"interaction.selectability.plotLassoMode":"standard","interaction.syncValueAxis":false,"interaction.zoom.direction":"categoryAxis","legend.ignoreNoValue":false,"legend.marker.shape":"squareWithRadius","legend.marker.showLine":false,"plotArea.dataLabel.position":"outside","plotArea.dataLabel.style.colorRange":"all","plotArea.dataPoint.invalidity":"break","plotArea.dataPoint.savingMode":true,"plotArea.dataPointSize.max":96,"plotArea.dataPointSize.min":24,"plotArea.gap.barSpacing":1,"plotArea.isFixedDataPointSize":false,"plotArea.line.isSmoothed":false,"plotArea.line.lineRenderer":null,"plotArea.line.marker.shape":"circle","plotArea.line.marker.size":6,"plotArea.line.marker.visible":true,"plotArea.line.style":null,"plotArea.line.visible":true,"plotArea.line.width":2,"plotArea.primaryScale.autoMaxValue":{"defaultValue":null,"readonly":true,"serializable":false},"plotArea.primaryScale.autoMinValue":{"defaultValue":null,"readonly":true,"serializable":false},"plotArea.primaryScale.fixedRange":{"defaultValue":false,"serializable":false},"plotArea.primaryScale.maxValue":{"defaultValue":null,"serializable":false},"plotArea.primaryScale.minValue":{"defaultValue":null,"serializable":false},"timeAxis.axisLine.size":1,"timeAxis.axisLine.visible":true,"timeAxis.axisTick.visible":true,"timeAxis.color":"#6c6c6c","timeAxis.combinationConfig":null,"timeAxis.hoverShadow.color":"#EBEBEB","timeAxis.label.forceToShowFirstLastData":false,"timeAxis.label.showFirstLastDataOnly":false,"timeAxis.label.style.color":"#333333","timeAxis.label.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","timeAxis.label.style.fontSize":"12px","timeAxis.label.style.fontStyle":"normal","timeAxis.label.style.fontWeight":"normal","timeAxis.label.style.parentColor":"#A6A6A6","timeAxis.label.visible":true,"timeAxis.layout.height":null,"timeAxis.layout.maxHeight":0.5,"timeAxis.levelConfig":null,"timeAxis.levels":["day","month","year"],"timeAxis.mouseDownShadow.color":"#808080","timeAxis.title.style.color":"#000000","timeAxis.title.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","timeAxis.title.style.fontSize":"14px","timeAxis.title.style.fontStyle":"normal","timeAxis.title.style.fontWeight":"bold","timeAxis.title.text":null,"timeAxis.title.visible":false,"timeAxis.visible":true,"tooltip.applyTimeAxisFormat":true},"info/timeseries_line":{"general.groupData":false,"general.showAsUTC":false,"interaction.selectability.plotLassoMode":"standard","interaction.syncValueAxis":false,"interaction.zoom.direction":"categoryAxis","legend.marker.showLine":false,"plotArea.adjustScale":false,"plotArea.callout.label.formatString":null,"plotArea.callout.label.style.color":"#333333","plotArea.callout.label.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","plotArea.callout.label.style.fontSize":"12px","plotArea.callout.label.style.fontStyle":"normal","plotArea.callout.label.style.fontWeight":"normal","plotArea.callout.label.unitFormatType":"FinancialUnits","plotArea.callout.left":null,"plotArea.callout.line.color":"#343434","plotArea.callout.top":null,"plotArea.dataPoint.invalidity":"break","plotArea.isSmoothed":false,"plotArea.lineRenderer":null,"plotArea.lineStyle":null,"plotArea.lineVisible":true,"plotArea.marker.hoverOnlyMode":{"defaultValue":true,"serializable":false},"plotArea.marker.shape":"circle","plotArea.marker.size":6,"plotArea.marker.visible":true,"plotArea.primaryScale.autoMaxValue":{"defaultValue":null,"readonly":true,"serializable":false},"plotArea.primaryScale.autoMinValue":{"defaultValue":null,"readonly":true,"serializable":false},"plotArea.primaryScale.fixedRange":{"defaultValue":false,"serializable":false},"plotArea.primaryScale.maxValue":{"defaultValue":null,"serializable":false},"plotArea.primaryScale.minValue":{"defaultValue":null,"serializable":false},"plotArea.scrollbar.visible":true,"plotArea.width":2,"timeAxis.axisLine.size":1,"timeAxis.axisLine.visible":true,"timeAxis.axisTick.visible":true,"timeAxis.color":"#6c6c6c","timeAxis.combinationConfig":null,"timeAxis.hoverShadow.color":"#EBEBEB","timeAxis.interval.keyLabel":null,"timeAxis.interval.number":1,"timeAxis.interval.unit":"","timeAxis.label.forceToShowFirstLastData":false,"timeAxis.label.showFirstLastDataOnly":false,"timeAxis.label.style.color":"#333333","timeAxis.label.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","timeAxis.label.style.fontSize":"12px","timeAxis.label.style.fontStyle":"normal","timeAxis.label.style.fontWeight":"normal","timeAxis.label.style.parentColor":"#A6A6A6","timeAxis.label.visible":true,"timeAxis.layout.height":null,"timeAxis.layout.maxHeight":0.5,"timeAxis.levelConfig":null,"timeAxis.levels":["day","month","year"],"timeAxis.mouseDownShadow.color":"#808080","timeAxis.title.style.color":"#000000","timeAxis.title.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","timeAxis.title.style.fontSize":"14px","timeAxis.title.style.fontStyle":"normal","timeAxis.title.style.fontWeight":"bold","timeAxis.title.text":null,"timeAxis.title.visible":false,"timeAxis.visible":true,"tooltip.applyTimeAxisFormat":true},"info/timeseries_scatter":{"general.showAsUTC":false,"interaction.selectability.plotLassoMode":"standard","plotArea.markerSize":10,"timeAxis.axisLine.size":1,"timeAxis.axisLine.visible":true,"timeAxis.axisTick.visible":true,"timeAxis.color":"#6c6c6c","timeAxis.combinationConfig":null,"timeAxis.hoverShadow.color":"#EBEBEB","timeAxis.label.forceToShowFirstLastData":false,"timeAxis.label.showFirstLastDataOnly":false,"timeAxis.label.style.color":"#333333","timeAxis.label.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","timeAxis.label.style.fontSize":"12px","timeAxis.label.style.fontStyle":"normal","timeAxis.label.style.fontWeight":"normal","timeAxis.label.style.parentColor":"#A6A6A6","timeAxis.label.visible":true,"timeAxis.layout.height":null,"timeAxis.layout.maxHeight":0.3,"timeAxis.levelConfig":null,"timeAxis.levels":["day","month","year"],"timeAxis.mouseDownShadow.color":"#808080","timeAxis.title.style.color":"#000000","timeAxis.title.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","timeAxis.title.style.fontSize":"14px","timeAxis.title.style.fontStyle":"normal","timeAxis.title.style.fontWeight":"bold","timeAxis.title.text":null,"timeAxis.title.visible":false,"timeAxis.visible":true,"tooltip.applyTimeAxisFormat":true,"valueAxis.label.formatString":null,"valueAxis.label.unitFormatType":"FinancialUnits"},"info/timeseries_stacked_column":{"general.groupData":false,"general.showAsUTC":false,"interaction.selectability.plotLassoMode":"standard","interaction.syncValueAxis":false,"interaction.zoom.direction":"categoryAxis","legend.marker.shape":"squareWithRadius","plotArea.dataLabel.overlapBehavior":"hideExceededLabels","plotArea.dataLabel.showTotal":false,"plotArea.dataLabel.style.colorRange":"all","plotArea.dataPointSize.max":96,"plotArea.dataPointSize.min":24,"plotArea.gap.barSpacing":1,"plotArea.gap.groupSpacing":1,"plotArea.gap.innerGroupSpacing":0.125,"plotArea.isFixedDataPointSize":false,"plotArea.primaryScale.autoMaxValue":{"defaultValue":null,"readonly":true,"serializable":false},"plotArea.primaryScale.autoMinValue":{"defaultValue":null,"readonly":true,"serializable":false},"plotArea.primaryScale.fixedRange":{"defaultValue":false,"serializable":false},"plotArea.primaryScale.maxValue":{"defaultValue":null,"serializable":false},"plotArea.primaryScale.minValue":{"defaultValue":null,"serializable":false},"timeAxis.axisLine.size":1,"timeAxis.axisLine.visible":true,"timeAxis.axisTick.visible":true,"timeAxis.color":"#6c6c6c","timeAxis.combinationConfig":null,"timeAxis.hoverShadow.color":"#EBEBEB","timeAxis.label.forceToShowFirstLastData":false,"timeAxis.label.showFirstLastDataOnly":false,"timeAxis.label.style.color":"#333333","timeAxis.label.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","timeAxis.label.style.fontSize":"12px","timeAxis.label.style.fontStyle":"normal","timeAxis.label.style.fontWeight":"normal","timeAxis.label.style.parentColor":"#A6A6A6","timeAxis.label.visible":true,"timeAxis.layout.height":null,"timeAxis.layout.maxHeight":0.3,"timeAxis.levelConfig":null,"timeAxis.levels":["day","month","year"],"timeAxis.mouseDownShadow.color":"#808080","timeAxis.title.style.color":"#000000","timeAxis.title.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","timeAxis.title.style.fontSize":"14px","timeAxis.title.style.fontStyle":"normal","timeAxis.title.style.fontWeight":"bold","timeAxis.title.text":null,"timeAxis.title.visible":false,"timeAxis.visible":true,"tooltip.applyTimeAxisFormat":true,"valueAxis.color":null},"info/timeseries_waterfall":{"feedingZone":{"defaultValue":[{"bindDef":[{"id":null}],"bound":[[[0,0],[0,0],[0,0],[0,0]]],"name":null}],"readonly":true,"serializable":false},"general.groupData":false,"general.showAsUTC":false,"interaction.behaviorType":null,"interaction.decorations":{"defaultValue":null,"serializable":false},"interaction.deselected.color":null,"interaction.deselected.opacity":0.4,"interaction.deselected.stroke.color":"darken(20%)","interaction.deselected.stroke.visible":false,"interaction.deselected.stroke.width":"1px","interaction.enableDeselectAll":true,"interaction.enableKeyboard":false,"interaction.extraEventInfo":false,"interaction.hover.color":null,"interaction.hover.opacity":1,"interaction.hover.stroke.color":"darken(20%)","interaction.hover.stroke.visible":true,"interaction.hover.stroke.width":"2px","interaction.noninteractiveMode":false,"interaction.selectability.axisLabelSelection":true,"interaction.selectability.behavior":{"defaultValue":"DATAPOINT","serializable":false},"interaction.selectability.legendSelection":true,"interaction.selectability.mode":"INCLUSIVE","interaction.selectability.plotLassoMode":"standard","interaction.selectability.plotLassoSelection":true,"interaction.selectability.plotStdSelection":true,"interaction.selected.color":null,"interaction.selected.stroke.color":"darken(20%)","interaction.selected.stroke.visible":true,"interaction.selected.stroke.width":"1px","interaction.syncValueAxis":false,"interaction.zoom.direction":"all","interaction.zoom.enablement":"auto","legend.hoverShadow.color":"#cccccc","legend.isScrollable":false,"legend.itemMargin":0.5,"legend.label.text.negativeValue":null,"legend.label.text.positiveValue":null,"legend.label.text.total":"Total","legend.marker.shape":"squareWithRadius","legend.marker.size":null,"legend.maxNumOfItems":null,"legend.mouseDownShadow.color":"#808080","legend.order":{"defaultValue":null,"serializable":false},"legend.scrollbar.border.color":"white","legend.scrollbar.border.width":0,"legend.scrollbar.spacing":0,"legend.scrollbar.thumb.fill":"#e5e5e5","legend.scrollbar.thumb.hoverFill":"#dedede","legend.scrollbar.track.fill":"#f7f7f7","legend.showFullLabel":true,"legendGroup.layout.respectPlotPosition":true,"plotArea.background.border.bottom.visible":true,"plotArea.background.border.left.visible":true,"plotArea.background.border.right.visible":true,"plotArea.background.border.stroke":"#d8d8d8","plotArea.background.border.strokeWidth":1,"plotArea.background.border.top.visible":true,"plotArea.background.color":"transparent","plotArea.background.drawingEffect":"normal","plotArea.background.gradientDirection":"vertical","plotArea.background.visible":true,"plotArea.colorPalette":{"defaultValue":["#748CB2","#9CC677","#EACF5E","#F9AD79","#D16A7C","#8873A2","#3A95B3","#B6D949","#FDD36C","#F47958","#A65084","#0063B1","#0DA841","#FCB71D","#F05620","#B22D6E","#3C368E","#8FB2CF","#95D4AB","#EAE98F","#F9BE92","#EC9A99","#BC98BD","#1EB7B2","#73C03C","#F48323","#EB271B","#D9B5CA","#AED1DA","#DFECB2","#FCDAB0","#F5BCB4"],"serializable":false},"plotArea.dataLabel.formatString":null,"plotArea.dataLabel.hideWhenOverlap":false,"plotArea.dataLabel.renderer":null,"plotArea.dataLabel.style.color":"#333333","plotArea.dataLabel.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","plotArea.dataLabel.style.fontSize":"12px","plotArea.dataLabel.style.fontStyle":"normal","plotArea.dataLabel.style.fontWeight":"normal","plotArea.dataLabel.unitFormatType":"FinancialUnits","plotArea.dataLabel.visible":false,"plotArea.dataPoint.color.isSemanticColoring":true,"plotArea.dataPoint.color.negative":"#EB271B","plotArea.dataPoint.color.positive":"#67AC36","plotArea.dataPointSize.max":96,"plotArea.dataPointSize.min":24,"plotArea.dataPointStyle":null,"plotArea.dataPointStyleMode":"update","plotArea.defaultOthersStyle.color":"#000000","plotArea.drawingEffect":"normal","plotArea.gap.barSpacing":1,"plotArea.gap.groupSpacing":1,"plotArea.gap.innerGroupSpacing":0.125,"plotArea.gridline.color":"#d8d8d8","plotArea.gridline.size":1,"plotArea.gridline.type":"solid","plotArea.gridline.visible":true,"plotArea.gridline.zeroLine.color":null,"plotArea.gridline.zeroLine.highlight":true,"plotArea.gridline.zeroLine.unhighlightAxis":true,"plotArea.isFixedDataPointSize":false,"plotArea.linkline.color":"#333333","plotArea.linkline.size":1,"plotArea.linkline.type":"line","plotArea.linkline.visible":true,"plotArea.markerRenderer":null,"plotArea.primaryScale.autoMaxValue":{"defaultValue":null,"readonly":true,"serializable":false},"plotArea.primaryScale.autoMinValue":{"defaultValue":null,"readonly":true,"serializable":false},"plotArea.primaryScale.fixedRange":{"defaultValue":false,"serializable":false},"plotArea.primaryScale.maxValue":{"defaultValue":null,"serializable":false},"plotArea.primaryScale.minValue":{"defaultValue":null,"serializable":false},"plotArea.referenceLine.defaultStyle.color":"#666666","plotArea.referenceLine.defaultStyle.label.background":"#ffffff","plotArea.referenceLine.defaultStyle.label.color":"#333333","plotArea.referenceLine.defaultStyle.label.fontFamily":"\"Open Sans\", Arial, Helvetica, sans-serif","plotArea.referenceLine.defaultStyle.label.fontSize":"12px","plotArea.referenceLine.defaultStyle.label.fontStyle":"normal","plotArea.referenceLine.defaultStyle.label.fontWeight":"normal","plotArea.referenceLine.defaultStyle.size":1,"plotArea.referenceLine.defaultStyle.type":"dash","plotArea.referenceLine.line":null,"plotArea.scrollbar.border.color":"white","plotArea.scrollbar.border.width":0,"plotArea.scrollbar.spacing":0,"plotArea.scrollbar.thumb.fill":"#e5e5e5","plotArea.scrollbar.thumb.hoverFill":"#dedede","plotArea.scrollbar.track.fill":"#f7f7f7","plotArea.window.end":null,"plotArea.window.start":null,"propertyZone":{"defaultValue":null,"readonly":true,"serializable":false},"timeAxis.axisLine.size":1,"timeAxis.axisLine.visible":true,"timeAxis.axisTick.visible":true,"timeAxis.color":"#6c6c6c","timeAxis.combinationConfig":null,"timeAxis.hoverShadow.color":"#EBEBEB","timeAxis.label.forceToShowFirstLastData":false,"timeAxis.label.showFirstLastDataOnly":false,"timeAxis.label.style.color":"#333333","timeAxis.label.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","timeAxis.label.style.fontSize":"12px","timeAxis.label.style.fontStyle":"normal","timeAxis.label.style.fontWeight":"normal","timeAxis.label.style.parentColor":"#A6A6A6","timeAxis.label.visible":true,"timeAxis.layout.height":null,"timeAxis.layout.maxHeight":0.3,"timeAxis.levelConfig":null,"timeAxis.levels":["day","month","year"],"timeAxis.mouseDownShadow.color":"#808080","timeAxis.title.style.color":"#000000","timeAxis.title.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","timeAxis.title.style.fontSize":"14px","timeAxis.title.style.fontStyle":"normal","timeAxis.title.style.fontWeight":"bold","timeAxis.title.text":null,"timeAxis.title.visible":false,"timeAxis.visible":true,"tooltip.applyTimeAxisFormat":true,"valueAxis.axisLine.size":1,"valueAxis.axisLine.visible":true,"valueAxis.axisTick.visible":true,"valueAxis.color":null,"valueAxis.label.formatString":null,"valueAxis.label.style.color":"#333333","valueAxis.label.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","valueAxis.label.style.fontSize":"12px","valueAxis.label.style.fontStyle":"normal","valueAxis.label.style.fontWeight":"normal","valueAxis.label.unitFormatType":"FinancialUnits","valueAxis.label.visible":true,"valueAxis.layout.autoHeight":{"defaultValue":null,"readonly":true},"valueAxis.layout.autoWidth":{"defaultValue":null,"readonly":true},"valueAxis.layout.height":null,"valueAxis.layout.maxHeight":0.25,"valueAxis.layout.maxWidth":0.25,"valueAxis.layout.width":null,"valueAxis.title.applyAxislineColor":false,"valueAxis.title.style.color":"#000000","valueAxis.title.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","valueAxis.title.style.fontSize":"14px","valueAxis.title.style.fontStyle":"normal","valueAxis.title.style.fontWeight":"bold","valueAxis.title.text":null,"valueAxis.title.visible":false,"valueAxis.visible":true},"info/vertical_bullet":{"categoryAxis.axisLine.size":1,"categoryAxis.axisLine.visible":true,"categoryAxis.axisTick.shortTickVisible":null,"categoryAxis.axisTick.visible":true,"categoryAxis.color":"#6c6c6c","categoryAxis.hoverShadow.color":"#cccccc","categoryAxis.label.angle":90,"categoryAxis.label.hideSubLevels":false,"categoryAxis.label.linesOfWrap":1,"categoryAxis.label.overlapBehavior":"auto","categoryAxis.label.parentStyle.color":null,"categoryAxis.label.parentStyle.fontFamily":null,"categoryAxis.label.parentStyle.fontSize":null,"categoryAxis.label.parentStyle.fontStyle":null,"categoryAxis.label.parentStyle.fontWeight":null,"categoryAxis.label.rotation":"auto","categoryAxis.label.style.color":"#333333","categoryAxis.label.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","categoryAxis.label.style.fontSize":"12px","categoryAxis.label.style.fontStyle":"normal","categoryAxis.label.style.fontWeight":"normal","categoryAxis.label.truncatedLabelRatio":0.2,"categoryAxis.label.visible":true,"categoryAxis.labelRenderer":null,"categoryAxis.layout.autoHeight":{"defaultValue":null,"readonly":true},"categoryAxis.layout.autoWidth":{"defaultValue":null,"readonly":true},"categoryAxis.layout.categoryWidth":{"defaultValue":null,"readonly":true},"categoryAxis.layout.height":null,"categoryAxis.layout.maxHeight":0.3,"categoryAxis.layout.maxWidth":0.3,"categoryAxis.layout.offsetToChart":{"defaultValue":null,"readonly":true},"categoryAxis.layout.width":null,"categoryAxis.mouseDownShadow.color":"#808080","categoryAxis.title.applyAxislineColor":false,"categoryAxis.title.style.color":"#000000","categoryAxis.title.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","categoryAxis.title.style.fontSize":"14px","categoryAxis.title.style.fontStyle":"normal","categoryAxis.title.style.fontWeight":"bold","categoryAxis.title.text":null,"categoryAxis.title.visible":false,"categoryAxis.visible":true,"general.groupData":false,"legend.label.text.negativeGap":null,"legend.label.text.positiveGap":null,"plotArea.background.border.bottom.visible":true,"plotArea.forecastColor":["#D5DADC"],"plotArea.gap.negativeColor":"#e34352","plotArea.gap.positiveColor":"#87c27e","plotArea.gap.type":"both","plotArea.gap.visible":false},"info/waterfall":{"categoryAxis.axisLine.size":1,"categoryAxis.axisLine.visible":true,"categoryAxis.axisTick.shortTickVisible":null,"categoryAxis.axisTick.visible":true,"categoryAxis.color":"#6c6c6c","categoryAxis.hoverShadow.color":"#cccccc","categoryAxis.label.angle":90,"categoryAxis.label.hideSubLevels":false,"categoryAxis.label.linesOfWrap":1,"categoryAxis.label.overlapBehavior":"auto","categoryAxis.label.parentStyle.color":null,"categoryAxis.label.parentStyle.fontFamily":null,"categoryAxis.label.parentStyle.fontSize":null,"categoryAxis.label.parentStyle.fontStyle":null,"categoryAxis.label.parentStyle.fontWeight":null,"categoryAxis.label.rotation":"auto","categoryAxis.label.style.color":"#333333","categoryAxis.label.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","categoryAxis.label.style.fontSize":"12px","categoryAxis.label.style.fontStyle":"normal","categoryAxis.label.style.fontWeight":"normal","categoryAxis.label.truncatedLabelRatio":0.2,"categoryAxis.label.visible":true,"categoryAxis.labelRenderer":null,"categoryAxis.layout.autoHeight":{"defaultValue":null,"readonly":true},"categoryAxis.layout.autoWidth":{"defaultValue":null,"readonly":true},"categoryAxis.layout.categoryWidth":{"defaultValue":null,"readonly":true},"categoryAxis.layout.height":null,"categoryAxis.layout.maxHeight":0.3,"categoryAxis.layout.maxWidth":0.3,"categoryAxis.layout.offsetToChart":{"defaultValue":null,"readonly":true},"categoryAxis.layout.width":null,"categoryAxis.mouseDownShadow.color":"#808080","categoryAxis.title.applyAxislineColor":false,"categoryAxis.title.style.color":"#000000","categoryAxis.title.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","categoryAxis.title.style.fontSize":"14px","categoryAxis.title.style.fontStyle":"normal","categoryAxis.title.style.fontWeight":"bold","categoryAxis.title.text":null,"categoryAxis.title.visible":false,"categoryAxis.visible":true,"feedingZone":{"defaultValue":[{"bindDef":[{"id":null}],"bound":[[[0,0],[0,0],[0,0],[0,0]]],"name":null}],"readonly":true,"serializable":false},"general.groupData":false,"interaction.behaviorType":null,"interaction.decorations":{"defaultValue":null,"serializable":false},"interaction.deselected.color":null,"interaction.deselected.opacity":0.4,"interaction.deselected.stroke.color":"darken(20%)","interaction.deselected.stroke.visible":false,"interaction.deselected.stroke.width":"1px","interaction.enableDeselectAll":true,"interaction.enableKeyboard":false,"interaction.extraEventInfo":false,"interaction.hover.color":null,"interaction.hover.opacity":1,"interaction.hover.stroke.color":"darken(20%)","interaction.hover.stroke.visible":true,"interaction.hover.stroke.width":"2px","interaction.noninteractiveMode":false,"interaction.selectability.axisLabelSelection":true,"interaction.selectability.behavior":{"defaultValue":"DATAPOINT","serializable":false},"interaction.selectability.legendSelection":true,"interaction.selectability.mode":"INCLUSIVE","interaction.selectability.plotLassoSelection":true,"interaction.selectability.plotStdSelection":true,"interaction.selected.color":null,"interaction.selected.stroke.color":"darken(20%)","interaction.selected.stroke.visible":true,"interaction.selected.stroke.width":"1px","interaction.zoom.direction":"all","interaction.zoom.enablement":"auto","legend.hoverShadow.color":"#cccccc","legend.isScrollable":false,"legend.itemMargin":0.5,"legend.label.text.negativeValue":null,"legend.label.text.positiveValue":null,"legend.label.text.total":"Total","legend.marker.shape":"squareWithRadius","legend.marker.size":null,"legend.maxNumOfItems":null,"legend.mouseDownShadow.color":"#808080","legend.order":{"defaultValue":null,"serializable":false},"legend.scrollbar.border.color":"white","legend.scrollbar.border.width":0,"legend.scrollbar.spacing":0,"legend.scrollbar.thumb.fill":"#e5e5e5","legend.scrollbar.thumb.hoverFill":"#dedede","legend.scrollbar.track.fill":"#f7f7f7","legend.showFullLabel":true,"legendGroup.layout.respectPlotPosition":true,"plotArea.background.border.bottom.visible":true,"plotArea.background.border.left.visible":true,"plotArea.background.border.right.visible":true,"plotArea.background.border.stroke":"#d8d8d8","plotArea.background.border.strokeWidth":1,"plotArea.background.border.top.visible":true,"plotArea.background.color":"transparent","plotArea.background.drawingEffect":"normal","plotArea.background.gradientDirection":"vertical","plotArea.background.visible":true,"plotArea.colorPalette":{"defaultValue":["#748CB2","#9CC677","#EACF5E","#F9AD79","#D16A7C","#8873A2","#3A95B3","#B6D949","#FDD36C","#F47958","#A65084","#0063B1","#0DA841","#FCB71D","#F05620","#B22D6E","#3C368E","#8FB2CF","#95D4AB","#EAE98F","#F9BE92","#EC9A99","#BC98BD","#1EB7B2","#73C03C","#F48323","#EB271B","#D9B5CA","#AED1DA","#DFECB2","#FCDAB0","#F5BCB4"],"serializable":false},"plotArea.dataLabel.formatString":null,"plotArea.dataLabel.hideWhenOverlap":false,"plotArea.dataLabel.renderer":null,"plotArea.dataLabel.style.color":"#333333","plotArea.dataLabel.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","plotArea.dataLabel.style.fontSize":"12px","plotArea.dataLabel.style.fontStyle":"normal","plotArea.dataLabel.style.fontWeight":"normal","plotArea.dataLabel.unitFormatType":"FinancialUnits","plotArea.dataLabel.visible":false,"plotArea.dataPoint.color.isSemanticColoring":true,"plotArea.dataPoint.color.negative":"#EB271B","plotArea.dataPoint.color.positive":"#67AC36","plotArea.dataPoint.color.total":"#848f94","plotArea.dataPointSize.max":96,"plotArea.dataPointSize.min":24,"plotArea.dataPointStyle":null,"plotArea.dataPointStyleMode":"update","plotArea.defaultOthersStyle.color":"#000000","plotArea.drawingEffect":"normal","plotArea.gap.barSpacing":1,"plotArea.gap.groupSpacing":1,"plotArea.gap.innerGroupSpacing":0.125,"plotArea.gridline.color":"#d8d8d8","plotArea.gridline.size":1,"plotArea.gridline.type":"solid","plotArea.gridline.visible":true,"plotArea.gridline.zeroLine.color":null,"plotArea.gridline.zeroLine.highlight":true,"plotArea.gridline.zeroLine.unhighlightAxis":true,"plotArea.isFixedDataPointSize":false,"plotArea.linkline.color":"#333333","plotArea.linkline.size":1,"plotArea.linkline.type":"line","plotArea.linkline.visible":true,"plotArea.markerRenderer":null,"plotArea.primaryScale.autoMaxValue":{"defaultValue":null,"readonly":true,"serializable":false},"plotArea.primaryScale.autoMinValue":{"defaultValue":null,"readonly":true,"serializable":false},"plotArea.primaryScale.fixedRange":{"defaultValue":false,"serializable":false},"plotArea.primaryScale.maxValue":{"defaultValue":null,"serializable":false},"plotArea.primaryScale.minValue":{"defaultValue":null,"serializable":false},"plotArea.referenceLine.defaultStyle.color":"#666666","plotArea.referenceLine.defaultStyle.label.background":"#ffffff","plotArea.referenceLine.defaultStyle.label.color":"#333333","plotArea.referenceLine.defaultStyle.label.fontFamily":"\"Open Sans\", Arial, Helvetica, sans-serif","plotArea.referenceLine.defaultStyle.label.fontSize":"12px","plotArea.referenceLine.defaultStyle.label.fontStyle":"normal","plotArea.referenceLine.defaultStyle.label.fontWeight":"normal","plotArea.referenceLine.defaultStyle.size":1,"plotArea.referenceLine.defaultStyle.type":"dash","plotArea.referenceLine.line":null,"plotArea.scrollbar.border.color":"white","plotArea.scrollbar.border.width":0,"plotArea.scrollbar.spacing":0,"plotArea.scrollbar.thumb.fill":"#e5e5e5","plotArea.scrollbar.thumb.hoverFill":"#dedede","plotArea.scrollbar.track.fill":"#f7f7f7","plotArea.window.end":null,"plotArea.window.start":null,"propertyZone":{"defaultValue":null,"readonly":true,"serializable":false},"valueAxis.axisLine.size":1,"valueAxis.axisLine.visible":true,"valueAxis.axisTick.visible":true,"valueAxis.color":"#6c6c6c","valueAxis.label.formatString":null,"valueAxis.label.style.color":"#333333","valueAxis.label.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","valueAxis.label.style.fontSize":"12px","valueAxis.label.style.fontStyle":"normal","valueAxis.label.style.fontWeight":"normal","valueAxis.label.unitFormatType":"FinancialUnits","valueAxis.label.visible":true,"valueAxis.layout.autoHeight":{"defaultValue":null,"readonly":true},"valueAxis.layout.autoWidth":{"defaultValue":null,"readonly":true},"valueAxis.layout.height":null,"valueAxis.layout.maxHeight":0.25,"valueAxis.layout.maxWidth":0.25,"valueAxis.layout.width":null,"valueAxis.title.applyAxislineColor":false,"valueAxis.title.style.color":"#000000","valueAxis.title.style.fontFamily":"'Open Sans', Arial, Helvetica, sans-serif","valueAxis.title.style.fontSize":"14px","valueAxis.title.style.fontStyle":"normal","valueAxis.title.style.fontWeight":"bold","valueAxis.title.text":null,"valueAxis.title.visible":false,"valueAxis.visible":true}};});define('sap/viz/chart/metadata/properties/PropertyLoader',['propertyDefs','sap/viz/framework/common/util/ObjectUtils','sap/viz/framework/common/util/TypeUtils','sap/viz/framework/core/ChartPropertyRegistry',"sap/viz/framework/property/PropertyManager","sap/viz/framework/core/ChartViewRegistry","sap/viz/framework/common/util/Constants"],function(p,O,T,P,a,C,b){var c=[];var e={};var f=['Title','Legend','Tooltip','Interaction','plotArea'];var g=['Title','Legend','Tooltip','Interaction'];function h(d,i,q,r,s){if((!s||s(i))&&d[r]){O.extend(true,q,j(d[r]));}return q;}function j(d){for(var i in d){if(a.isValidValue(d[i])){d[i]={defaultValue:d[i]};}}return d;}function m(i,q,r){if(q.isEmpty){return i;}var s=g;if(r){s=f;}if(s.length){i=O.extend(true,{},i);}s.forEach(function(d){var t=q.metadata['extend'+d];if(t){return;}var u=new RegExp("^"+d,"i");for(var v in i){if(u.test(v)){delete i[v];}}});if(q.metadata['extendInteraction']){i['interaction.behaviorType']={defaultValue:null};}return O.extend(false,i,q.properties);}function k(t,d){var i=o(t);if(!i[t]){t="info/DEFAULT";}var q=e[t];if(!q||d){q=e[t]={};h(i,t,q,'');h(i,t,q,'_xy',function(t){return(/bar|column|line|combination/).test(t)&&!(/dual/).test(t);});h(i,t,q,'_xySimple',function(t){return(/bar|column|line|combination/).test(t)&&!(/trellis/).test(t);});h(i,t,q,'_dual',function(t){return(/dual/).test(t);});h(i,t,q,'_trellis',function(t){return(/trellis/).test(t);});h(i,t,q,'_scatter',function(t){return(/scatter|bubble/).test(t);});h(i,t,q,'_pie',function(t){return(/pie|donut/).test(t);});h(i,t,q,'_bullet',function(t){return(/bullet/).test(t);});h(i,t,q,'_mekko',function(t){return(/mekko/).test(t);});h(i,t,q,t);}return q;}function l(t){var d=C.getMetadataWithFamily(t);var i=d&&d.family===b.EXTENSION.FAMILYNAME;var q=P.get(t);var r=k(t,c.length>1);return m(r,q,i);}function n(d){var i;for(i=0;i<c.length;i++){if(c[i].propDefs===d){return;}}var q={propDefs:d,chartTypes:[]};for(i in d){if(d.hasOwnProperty(i)){if(i.indexOf("info/")>=0&&i!=="info/DEFAULT"){q.chartTypes.push(i);}}}c.push(q);}function o(t){var d=c[0].propDefs;if(c.length>1){for(var i=0;i<c.length;i++){if(c[i].chartTypes.indexOf(t)>=0){d=c[i].propDefs;break;}}}return d;}if(T.isArray(p)){p.forEach(function(d){n(d);});}else{n(p);}return{getProperties:l,addPropertyDefs:n};});define('sap/viz/chart/components/util/ScrollbarUtil',["sap/viz/framework/common/util/TypeUtils"],function Setup(T){function g(e){var a=0;switch(e.name){case"wheelmove":a=0.1;if(e.data.wheelDelta>0){a=-a;}break;case"leftarrow":case"uparrow":a=-0.06;break;case"rightarrow":case"downarrow":a=0.06;break;}return a;}var r={showScrollbar:function(s,f){var m=s.getModule("main");if(!m){m=s.getModule("plot");}if(m){var S,h;if(m.getVScrollbar&&m.getVScrollbar()){S=m.getVScrollbar();S.show(null,f);}if(m.getHScrollbar&&m.getHScrollbar()){h=m.getHScrollbar();h.show(null,f);}}},onScrollKeyboardHandler:function(e,s){var m=s.getModule("main")||s.getModule("plot");if(!m||!T.isFunction(m.scroll)){return;}var i;var a;var b=e.name;if(["leftarrow","rightarrow"].indexOf(b)>-1){a=m.getHScrollbar();i=false;}else if(["wheelmove","uparrow","downarrow"].indexOf(b)>-1){a=m.getVScrollbar();i=true;}else{return;}if(a){var o=g(e)*a.getThumbSize();if(!a.isThumbOverTrack(o)){e.data.originalEvent.preventDefault();var c=m.getOffset();var d=a.getThumbRatio();o*=(T.isNumber(d)?d:1);if(i){c.y-=o;}else{c.x-=o;}m.scroll(c);s.fireEvent("hideDetail",{mode:"actionMode"});}}}};return r;});define('sap/viz/chart/components/plots/PlotGeometryKeeper',["sap/viz/framework/common/util/ObjectUtils"],function(O){function a(s){var c=s.getStatus("plotArea.window")||{},n=s.getStatusManager().get("plotArea.window")||{};return!O.deepEqual(c,n);}var p={key:"plot.realsize",save:function(s){if(s.getStatusManager().get("hasCustomization")){return;}var r=s.getModule("main.plot").getRealSize(),c=s.getStatusManager().get("plot.transform.scale");if(c.x===1){delete r.width;}if(c.y===1){delete r.height;}s.setStatus(this.key,r);},load:function(s){if(s.getStatusManager().get("hasCustomization")){return;}var c=s.getStatus(this.key),m=s.getModule("main"),d=s.getModule("main.plot");if(c&&m&&d){var v=d.getSize();if(v.width>0&&v.height>0){s.getStatusManager().set("plot.transform.scale",{x:Math.max(1,c.width?(c.width/v.width):1),y:Math.max(1,c.height?(c.height/v.height):1)});}}},clear:function(s){s.removeStatus(this.key);}};var b={key:"plot.scroll",save:function(s){if(s.getStatusManager().get("hasCustomization")){return;}var c=s.getModule("main.plot").getOffset(),v=s.getStatusManager().get("plot.offsetInValue");s.setStatus(this.key+".pixel",c);s.setStatus(this.key+".value",v);},load:function(s){if(s.getStatusManager().get("hasCustomization")){return;}var c=s.getModule("main"),d=s.getStatus(this.key+".pixel"),v=s.getStatus(this.key+".value");if(d&&c){c.scroll(d);}if(v){s.getStatusManager().set("plot.offsetInValue",v);}},clear:function(s){s.removeStatus(this.key+".pixel");s.removeStatus(this.key+".value");}};function o(s,c,d){var h=s.h,v=s.v;return{x:h?h._scale.invert(-c.x/d.width):null,y:v?v._scale.invert((d.height+c.y)/d.height):null};}return{hasRangeChange:a,size:p,scroll:b,offsetInValue:o};});define('sap/viz/chart/behavior/config/PlotScrollBehaviorConfig',["sap/viz/framework/common/util/UADetector","sap/viz/chart/components/util/ScrollbarUtil","sap/viz/chart/components/plots/PlotGeometryKeeper"],function(U,S,P){var s=["info/bar","info/column","info/dual_bar","info/dual_column","info/stacked_bar","info/stacked_column","info/dual_stacked_bar","info/dual_stacked_column","info/100_stacked_bar","info/100_stacked_column","info/100_dual_stacked_bar","info/100_dual_stacked_column","info/line","info/horizontal_line","info/dual_line","info/dual_horizontal_line","info/combination","info/combinationEx","info/horizontal_combination","info/bullet","info/vertical_bullet","info/stacked_combination","info/horizontal_stacked_combination","info/dual_stacked_combination","info/dual_horizontal_stacked_combination","info/bullet","info/vertical_bullet","info/mekko","info/100_mekko","info/horizontal_mekko","info/100_horizontal_mekko","info/area","info/horizontal_area","info/100_area","info/100_horizontal_area","info/dual_combination","info/dual_horizontal_combination","info/timeseries_scatter","info/timeseries_bubble"];var a=["info/bubble","info/scatter","info/waterfall","info/horizontal_waterfall"];function h(b){return b.getModule("main").getVScrollbar().isExist();}var p=function(e,b){if(U.isMobile()||!b.getProperties().get("plotArea.isFixedDataPointSize")){return;}S.onScrollKeyboardHandler(e,b);};return[{"id":"wheel_move_on_eventLayer_single","triggerEvent":{"name":"wheelmove","targets":["v-m-plot","v-m-action-layerrange"],"supportedChartTypes":s.concat(a)},"handler":function(e,b){if(!e.data.originalEvent.ctrlKey&&h(b)){if(!b.getDataModel().getPaginationOptions()){S.onScrollKeyboardHandler(e,b);P.scroll.save(b);}}}},{"id":"on_plot_scroll","triggerEvent":{"name":"plotScroll"},"handler":function(e,b){b.fireEvent('hideDetail',{mode:'actionMode'});}},{id:"save_scroll_position_on_scrollbar_release",triggerEvent:{name:"scrollbarReleased"},handler:function(e,b){b.fireEvent("saveZoom",{scroll:true});}}];});define('sap/viz/chart/behavior/config/TrellisPanBehaviorConfig',['sap/viz/framework/common/util/UADetector',"sap/viz/framework/common/util/TypeUtils","sap/viz/chart/components/util/ScrollbarUtil"],function(U,T,S){var t="v-m-trellis-plot";var s="isDraggingOnTrellisPlot";var i="trellisPlotDragPosition";var a=["info/trellis_bar","info/trellis_column","info/trellis_stacked_bar","info/trellis_stacked_column","info/trellis_100_stacked_bar","info/trellis_100_stacked_column","info/trellis_dual_bar","info/trellis_dual_column","info/trellis_dual_stacked_bar","info/trellis_dual_stacked_column","info/trellis_100_dual_stacked_bar","info/trellis_100_dual_stacked_column","info/trellis_combination","info/trellis_horizontal_combination","info/trellis_line","info/trellis_horizontal_line","info/trellis_dual_line","info/trellis_dual_horizontal_line","info/trellis_pie","info/trellis_scatter","info/trellis_bubble","info/trellis_donut","info/trellis_area","info/trellis_horizontal_area","info/trellis_100_area","info/trellis_100_horizontal_area","info/trellis_radar"];var d=function(e,c){if(!U.isMobile()){return;}var m=c.getModule("main")||c.getModule("plot");if(!m||!T.isFunction(m.scroll)){return;}e.data.originalEvent.preventDefault();switch(e.name){case"dragstart":c.setStatus(s,true);c.setStatus(i,e.data.point);S.showScrollbar(c);break;case"dragmove":if(!c.getStatus(s)){return;}var p=c.getStatus(i);var o={x:e.data.point.x-p.x,y:e.data.point.y-p.y};var f=m.getOffset();f.x+=o.x;f.y+=o.y;m.scroll(f);c.setStatus(i,e.data.point);S.showScrollbar(c);break;case"dragend":c.setStatus(s,false);c.setStatus(i,{});break;}};function b(e,c){if(U.isMobile()){return;}S.onScrollKeyboardHandler(e,c);}return[{"id":"initialized_trellisPanbehavior","triggerEvent":{"name":"afterBehaviorLoaded"},"handler":function(e,c){c.setStatus(s,false);}},{"id":"drag_start_on_trellis","triggerEvent":{"name":"dragstart","targets":t,"supportedChartTypes":a},"handler":d},{"id":"drag_move_on_trellis","triggerEvent":{"name":"dragmove","targets":t,"supportedChartTypes":a},"handler":d},{"id":"drag_end_on_trellis","triggerEvent":{"name":"dragend","targets":t,"supportedChartTypes":a},"handler":d},{"id":"up_arrow_on_eventLayer_trellis","triggerEvent":{"name":"uparrow","targets":"*","supportedChartTypes":a},"handler":b},{"id":"down_arrow_on_eventLayer_trellis","triggerEvent":{"name":"downarrow","targets":"*","supportedChartTypes":a},"handler":b},{"id":"left_arrow_on_eventLayer_trellis","triggerEvent":{"name":"leftarrow","targets":"*","supportedChartTypes":a},"handler":b},{"id":"right_arrow_on_eventLayer_trellis","triggerEvent":{"name":"rightarrow","targets":"*","supportedChartTypes":a},"handler":b},{"id":"wheel_move_on_eventLayer_trellis","triggerEvent":{"name":"wheelmove","targets":t,"supportedChartTypes":a},"handler":b}];});define('sap/viz/chart/behavior/BuiltInBehavior',["sap/viz/framework/interaction/Constants","sap/viz/framework/interaction/BehaviorFactory","sap/viz/framework/interaction/BehaviorManager","sap/viz/chart/behavior/config/PlotScrollBehaviorConfig","sap/viz/chart/behavior/config/TrellisPanBehaviorConfig"],function(C,B,a){return a.register(C.BEHAVIOR.BUILTIN_BEHAVIOR_ID,B.buildBehavior([].slice.call(arguments,3)));});define('sap/viz/chart/components/util/DataPointUtils',['sap/viz/framework/common/util/SVG','sap/viz/framework/common/util/DOM','sap/viz/framework/common/util/Constants',"sap/viz/framework/common/util/DataGraphics","sap/viz/framework/common/util/TypeUtils"],function(S,D,C,a,T){var b=C.CSS.CLASS.DATAPOINT,c="g",d="."+b,e=C.CSS.CLASS.DATAPOINTDEFAULT;var f="data-highlighted";var g="data-id";var h="data-datapoint-id";var j="data-datastack-id";var A="data-area-id";var k={findArea:function(p,i){return p.querySelector("["+A+"='"+i+"']");},setAreaId:function(n,i){n.setAttribute(A,i);},findAll:function(p){return p.querySelectorAll(d);},find:function(p,i){return p.querySelector("."+b+"["+g+"='"+i+"']");},findByDataPointId:function(p,i){return p.querySelector("["+h+"='"+i+"']");},findIdsWithClassId:function(n,l,m){if(!T.isArray(l)){l=[l];}var o={};var i;for(i=l.length;i--;){o[l[i]]=1;}var p={};var t=[];for(i=n.length;i--;){var q=n[i];var r=q.getAttribute(m);if(o[r]){p[r]=q;t.push(r);}}var s=[];for(i=t.length;i--;){s.push(p[t[i]]);}return s;},findByDataStackIds:function(n,i){return k.findIdsWithClassId(n,i,j);},findByDataPointIds:function(n,i){return k.findIdsWithClassId(n,i,h);},isDataPoint:function(n){return D.matches(n,d);},setDataId:function(n,i){n.setAttribute(g,i);},getDataId:function(n){return n.getAttribute(g);},setDataPointId:function(n,i){n.setAttribute(h,i);},getDataStackId:function(n,i){return n.getAttribute(j);},setDataStackId:function(n,i){n.setAttribute(j,i);},getDataPointId:function(n){return n.getAttribute(h);},highlight:function(n){n.setAttribute(f,"true");},unhighlight:function(n){n.removeAttribute(f);},isHighlighted:function(n){return n.getAttribute(f)==="true";},create:function(p,i){var l=S.create(c,p);l.setAttribute("class",b+' '+e+' '+C.CSS.CLASS.MORPHABLEDATAPOINT);l.setAttribute(g,i);return l;},setContext:function(n,i){return a.setContext(n,i);},getContext:function(n){return a.getContext(n);},getContextByDataModel:function(n,i){var l=a.getContext(n);if(l!=null){return l;}var m=this.getDataPointId(n);var o=i.getDataPoint(m);if(o==null){return null;}return o.context();},getDataPointByDataLabel:function(t,s){var i=this.getDataPointId(t);var n=s.getNodes(s.NodeType.DATA_POINT,false);return this.findByDataPointIds(n,i)[0];},getNodes:function(i,s){if(s.isBigDataMode()){return i;}var l=s.getNodes(s.NodeType.DATA_POINT,false);var t=this.findByDataPointIds(l,i);return[].slice.apply(t);}};return k;});define('sap/viz/chart/behavior/config/SelectionUtil',['sap/viz/framework/chartmodel/DataSelector','sap/viz/chart/components/util/DataPointUtils','sap/viz/framework/interaction/Constants','sap/viz/framework/common/util/TypeUtils','sap/viz/framework/common/util/DataUtils','sap/viz/framework/common/util/RuleUtil','sap/viz/framework/common/util/ObjectUtils'],function(D,a,S,T,b,R,O){var c="date";var d=S.RANGE_SELECTION.OFFSET;function g(i,s){var j=k(i,s);var r=s.getNodes(s.NodeType.DATA_POINT,false);var t=a.findByDataPointIds(r,j);return[].slice.apply(t);}function e(r,s,t){var u=s._bindingFeeds,v;if(u){for(var i=0;i<u.length;i++){if(s["_"+u[i]]&&s["_"+u[i]].metaData){var w=s["_"+u[i]].metaData;for(var j=0;j<w.length;j++){if(w[j].dataType&&w[j].dataType.toLowerCase()===t){v=w[j].id;}}}}}return v;}function p(i,j,r,s){var t=e(i,j,r);if(T.isExist(t)){f(i,t,r,s);}}function f(j,r,s,t){if(T.isArray(j)||T.isPlainObject(j)){for(var i in j){if(j.hasOwnProperty(i)){if(i===r){R.parseRules[s](j,i,t);j[i+b.DIMENSION_PARSED_VALUE_SUFFIX]=j[i];delete j[i];}else{f(j[i],r,s,t);}}}}}function h(i,s,j,r){var t=s.getDataModel();if(j){i=O.clone(i,true);p(i,t,c,r);}var u=new D(i,t);return u.getDataPoints();}function k(i,s,j,r){var t=h(i,s,j,r);return t.map(function(u){return u.id;});}function l(s,i){var j=s.getProperties().get("interaction.selectability");if(!j){return false;}var t=s.getProperties().get("interaction.selectability.behavior");var r=t?t.toUpperCase():t;var u=j.mode?j.mode.toUpperCase():j.mode;var v=s.getNodes(i);if(!j.legendSelection||u===S.SELECTION_MODE.NONE||(u===S.SELECTION_MODE.SINGLE&&r!==S.SELECTION_BEHAVIOR.SERIES)||!v.node()){return false;}else{return true;}}function m(i,s){var j=s.getStatus("lassoStartPoint");var I=s.getStatus("rangeSelection");var r=s._rootNode.node().style;if(!j&&I){var t=i.data.point;var u=s.getBBox(s.BoxType.RANGE_SELECTION);var v=s.getBBox(s.BoxType.PLOT_BOUND_NODE);if(v.x>t.x||v.x+v.width<t.x||v.y>t.y||v.y+v.height<t.y){r.cursor="default";}else if(Math.abs(t.x-u.x)<=d||Math.abs(t.x-u.x-u.width)<=d){r.cursor="col-resize";}else if(u.x<t.x&&u.x+u.width>t.x){r.cursor="move";}else{r.cursor="default";}}else{r.cursor="default";}}function n(i,s){var j=i.map(function(w){return w.data;});var r=s.getStatusManager();var t=s._getRenderType();var u={dataTimeLevel:null,showAsUTC:false};var v=/timeseries.*column|timeseries_combination|timeseries_bullet|timeseries_waterfall/;if(v.test(t)){u={dataTimeLevel:r.get("timeLevels")[0],showAsUTC:s.getProperties().get("general.showAsUTC")};}return k(j,s,true,u);}function o(s){var i=s.getStatus("selectedDataPoints");if(s.getStatus("rangeSelection")){s.setStatus("selectedDataPoints",[]);s.fireEvent("clearPlot").fireEvent("deselectDataPoint",{targets:a.getNodes(i,s),isAnyOtherSelected:false});s.setStatus("rangeSelection",false);s.setStatus("rangeDomain",null);}}function q(j,r){var s=[];for(var i=0,t=r.length;i<t;i++){var u=j.mappingDataPointInfo(r[i]);if(u){s.push(u);}}s=s.sort(function(v,w){return v.seqId-w.seqId;});return s;}return{getDataPointIds:k,getDataPointNodes:g,isLegendTriggerable:l,getTargets:n,getDataPoint:function(i){return a.getContext(i);},getDataPointContext:function(i){return i;},hasDataPoint:function(i,j){return i&&i.some(function(r){return+r===+j;});},processTimeCursor:m,getDpInfos:q,cleanRangeSelection:o};});define('sap/viz/chart/behavior/config/handler/AxisBehaviorHandler',['sap/viz/framework/common/util/Constants','sap/viz/framework/interaction/Constants',"sap/viz/framework/common/util/UADetector","sap/viz/framework/common/util/ObjectUtils","sap/viz/framework/common/util/DOM","sap/viz/chart/components/util/DataPointUtils","sap/viz/chart/behavior/config/SelectionUtil",'sap/viz/framework/common/util/TypeUtils'],function(C,S,U,O,D,a,b,T){var B=S.BEHAVIOR;var d=C.CSS.CLASS;var H='#333333';var e='parsedValue';function f(){}var p=f.prototype;function g(s){var c=s.getProperties().get("interaction.selectability");if(!c){return false;}var t=s.getProperties().get("interaction.selectability.behavior");var i=t?t.toUpperCase():t;var m=c.mode?c.mode.toUpperCase():c.mode;var n=s.getNodes(s.NodeType.AXIS_ITEM);if(!c.axisLabelSelection||m===S.SELECTION_MODE.NONE||(m===S.SELECTION_MODE.SINGLE&&i!==S.SELECTION_BEHAVIOR.CATEGORY)||!n.node()){return false;}else{return true;}}function h(s){var c=s.getProperties().get("interaction.selectability");if(!c){return false;}var i=c.mode?c.mode.toUpperCase():c.mode;var m=s.getNodes(s.NodeType.TIMEAXIS_ITEM)||s.getNodes(s.NodeType.TIMEAXIS_ITEM_UPPERLEVEL);if(!c.axisLabelSelection||i===S.SELECTION_MODE.NONE||i===S.SELECTION_MODE.SINGLE||!m.node()){return false;}else{return true;}}function j(c){var i=c;while(i&&i.getAttribute){if(D.hasClass(i,d.AXIS.CONTAINER)){break;}i=i.parentNode;}return i;}function k(c){var i=c.data.currentTarget;var m=j(i);var r=a.getContext(m);if(r&&r.name){return r.name;}else{return"categoryAxis";}}function l(c,s){var i=k(c);if(i&&i.toLowerCase()==="categoryaxis"){var m=s.getModule("main.categoryAxis.axisBody");return m&&m.isOnlyShowingFirstAndLastLabel&&m.isOnlyShowingFirstAndLastLabel();}return false;}p.hoverOnAxisLabel=function(c,s){if(!g(s)||l(c,s)){return;}var i=k(c);s.fireEvent("cleanAxisHoverEffect");var m=s.getProperties().get(i+".hoverShadow.color");if(m){d3.select(c.data.currentTarget).select("rect").attr("fill",m).classed(d.HOVER_SHADOW,true);}};p.hoverOnTimeAxisLabel=function(c,s){if(!h(s)){return;}s.fireEvent("cleanAxisHoverEffect");var i=s.getProperties().get("timeAxis.hoverShadow.color");if(i){d3.select(c.data.currentTarget).select("rect").attr("fill",i).classed(d.HOVER_SHADOW,true);}var m=c.data.currentTarget;var n=a.getContext(m);var o=j(m);if(o){var u=o.querySelector(".v-label-upperLevel[timelabel-id='"+n.id+"']");if(u){var q=s.getProperties().get("timeAxis.label.style.color")||H;var r=s.getEffectManager();q=r.register({fillColor:q});u.setAttribute("fill",q);}}};p.hoverOnNonAxisLabel=function(c,s){if(!(g(s)||h(s))){return;}s.fireEvent("cleanAxisHoverEffect");};p.cleanAxisHoverEffect=function(c,s){s.getNodes(s.NodeType.AXIS_ITEM_BACKGROUND).attr("fill","transparent").classed(d.HOVER_SHADOW,false).classed(d.FOCUS_SHADOW,false);var m=s.getNodes(s.NodeType.TIMEAXIS_ITEM_UPPERLEVEL,false);if(m&&m.length>0){var n=j(m[0]);var u=n.querySelectorAll(".v-label-upperLevel");var o=s.getProperties().get("timeAxis.label.style.parentColor");for(var i=0;i<u.length;i++){u[i].setAttribute("fill",o);}}};p.clickOnAxisLabel=function(i,s){if(!g(s)||l(i,s)){return;}var m=i.data.currentTarget;var n=j(m);var r;var o=O.extendByRepalceArray({},a.getContext(m).ctx);if(n){r=a.getContext(n);if(r){if(o&&o.or&&T.isArray(o.or)){o.or.forEach(function(c){O.extendByRepalceArray(c,r.ctx);});}else{O.extendByRepalceArray(o,r.ctx);}}}var t=b.getDataPointIds(o,s);o=this.filterCtx(o,r);s.fireEvent("processSelection",{ctx:o,targets:t,deselectable:true,ctrlKeyPressed:i.data.ctrlKey});s.fireEvent("processMultipleSelectionTooltip",{targets:t,point:i.data.point});};p.clickOnTimeAxisLabel=function(c,s){if(!h(s)){return;}var i=c.data.currentTarget,m=a.getContext(i);if(!m.hasOwnProperty('rectX')){return;}b.cleanRangeSelection(s);var n={},o=s.getDataModel()._timeAxis.metaData[0].id;n[o+'.'+e]=m.range;var t=b.getDataPointIds(n,s);s.fireEvent("processSelection",{targets:t,deselectable:true,ctrlKeyPressed:c.data.ctrlKey});s.fireEvent("processMultipleSelectionTooltip",{targets:t,point:c.data.point});};p.filterCtx=function(c){return c;};p.downOnAxisLabel=function(c,s){if(l(c,s)){return;}var i;if(g(s)){var m=k(c);i=s.getProperties().get(m+".mouseDownShadow.color");}else if(h(s)){i=s.getProperties().get("timeAxis"+".mouseDownShadow.color");}else{return;}s.getNodes(s.NodeType.AXIS_ITEM_BACKGROUND).attr("fill","transparent").classed(d.HOVER_SHADOW,false);if(i){d3.select(c.data.currentTarget).select("rect").attr("fill",i).classed(d.FOCUS_SHADOW,true);}};p.upOnAxisLabel=function(c,s){if(l(c,s)){return;}var i;if(g(s)){var m=k(c);i=s.getProperties().get(m+".hoverShadow.color");}else if(h(s)){i=s.getProperties().get("timeAxis"+".hoverShadow.color");}else{return;}var n=s.getNodes(s.NodeType.AXIS_ITEM_BACKGROUND);n.attr("fill","transparent").classed(d.FOCUS_SHADOW,false);if(U.isMobile()){n.classed(d.HOVER_SHADOW,false);}else{if(i){d3.select(c.data.currentTarget).select("rect").attr("fill",i).classed(d.HOVER_SHADOW,true);}}};return f;});define('sap/viz/chart/behavior/config/AxisBehaviorConfig',["sap/viz/chart/behavior/config/handler/AxisBehaviorHandler"],function(A){var a="v-axis-item";var t="v-timeaxis-item";var b="v-timeaxis-item-upperLevel";var m="v-axis-mekko-item";return[{"id":"axisBehaviorDefinition","handler":A,"handlerType":"class","triggerEvent":[{"name":"hover","targets":a,"excludeTargets":m,"method":"hoverOnAxisLabel"},{"name":"hover","excludeTargets":[a,t,b],"method":"hoverOnNonAxisLabel"},{"name":"hover","targets":[t,b],"method":"hoverOnTimeAxisLabel"},{"name":"cleanAxisHoverEffect","method":"cleanAxisHoverEffect"},{"name":"click","targets":a,"excludeTargets":m,"method":"clickOnAxisLabel"},{"name":"click","targets":[t,b],"method":"clickOnTimeAxisLabel"},{"name":"down","targets":[a,t,b],"excludeTargets":m,"method":"downOnAxisLabel"},{"name":"up","targets":[a,t,b],"excludeTargets":m,"method":"upOnAxisLabel"}]}];});define('sap/viz/chart/behavior/config/HighlightHelper',["sap/viz/chart/components/util/DrawUtil","sap/viz/framework/common/util/DataGraphics","sap/viz/framework/common/util/TypeUtils","sap/viz/chart/components/util/DataPointUtils","sap/viz/framework/common/util/RuleUtil",'sap/viz/framework/common/util/DOM',"sap/viz/framework/common/effect/EffectManager","sap/viz/framework/common/util/UADetector",],function(D,a,T,b,R,c,E,U){var g=function(s,e,p,u,o,q,r){var v=r?r:a.getData(e);var w,x=u?u:v.color,y=s.getEffectManager();if(p){if(T.isFunction(p)){w=p(x);}else if(T.isString(p)){w=y.parseColorProperty(p,x);}}var z=s.isHorizontal();var A=null;if(q&&q.isReverse){A=A===z?null:(z?'horizontal':'vertical');}else{A=A===z?null:(z?'vertical':'horizontal');}var B=v.shape;var C=v.r;if(o&&x){x=y.register({drawingEffect:o,fillColor:x,patternEffect:v.pattern,isNegative:v.isNegative,direction:A,graphType:B,radius:C});}if(o&&w){w=y.register({drawingEffect:o,fillColor:w,patternEffect:v.pattern,isNegative:v.isNegative,direction:A,graphType:B,radius:C});}return{defaultColor:x,customizedColor:w};};var d=function(p,e,r){var w;if(e==null){e=0;}if(!T.isNumber(e)){e=+e.match(/[0-9]+/);}if(!p){w=e;}else if(T.isNumber(p)){w=p;}else{if(!T.isNumber(w)){w=+p.match(/[0-9]+/);}}if(w>4){w=e;}return(r===undefined?w:w*r)+'px';};function t(e,r){return D.rgb2Hex(D.colorLinerTransform(new E(),{constant:0,factor:r?r:1},e));}function f(e){return T.isArray(e)?e:[e];}function h(s,e,o,p,q,r){var u=d3.select(e).selectAll(o);if(!r&&u&&u[0]&&u[0].length>1){var v=u[0];u=d3.select(v[v.length-1]);}if(p.visible===true){var w=g(s,e,p.color);var x=w.customizedColor||w.defaultColor;u.attr("stroke",x);u.attr("stroke-width",d(p.width,q));}else{u.attr("stroke",undefined);u.attr("stroke-width",undefined);}}function i(s,e,o,p,q,r){var u=a.getData(e);var v=T.isExist(p.opacity)?p.opacity:1;e.setAttribute("fill-opacity",v);var w=d3.select(e).selectAll(o);if(r){w.attr("fill-opacity",v);}w.attr("stroke-opacity",v);if(!q){var x=(u.pattern==='noFill'?null:s.getProperties().get('plotArea.drawingEffect'));var y=g(s,e,p.color,null,x);var z=y.customizedColor||y.defaultColor;if(u.pattern==='noFill'){w[0][0].setAttribute("stroke",z);}else{w.attr('fill',z);}}}function j(){var r=['v-datapoint','v-legend-item','v-axis-item','v-timeaxis-item','v-timeaxis-item-upperLevel','v-datalabel','v-mbc-legend-item','v-m-scrollbarTrack','v-area','v-area-point','v-area-ref-line','v-area-ref-line-selected','v-selected-area','v-nonLeafDimensionLabel'];if(!U.isMobile()){r.push('v-m-action-layerrange');}return r;}function m(e){var o=e||window.event;return{x:o.layerX||o.offsetX,y:o.layerY||o.offsetY};}function k(p,e){return{x:p.x-e.x,y:p.y-e.y};}function l(e,o,r){if(!o||!o.getAttribute){return null;}if(c.hasClass(o,e)){return o;}if(o!==r.node()){return l(e,o.parentNode,r);}return null;}var n={transformColor:t,turnToArray:f,getColors:g,drawStroke:h,drawFill:i,getWidth:d,getDeselAllExTargets:j,getLayerCoord:k,tryToFindNode:l};return n;});define('sap/viz/chart/behavior/config/ContextualDataUtil',["sap/viz/framework/common/util/Constants","sap/viz/framework/common/util/ObjectUtils","sap/viz/framework/common/util/DataGraphics","sap/viz/chart/components/util/DataPointUtils",'sap/viz/framework/common/util/DataUtils'],function(C,O,D,a,b){function g(n){var t;if(n&&n.timeAxis&&n.timeAxis()){t=n.timeAxis().metaData.map(function(e){return e.id;});}return t;}function r(e,n){var o=e;if(n&&n.length){o=O.extend(true,{},e);n.forEach(function(t){delete o[t+b.DIMENSION_PARSED_VALUE_SUFFIX];});}return o;}function f(s,t,p,e,n){var o=e.getDataModel();var q=g(o);var u=t==="datapoint";var v=s.map(function(w){var x=a.getDataPointId(w);if(!x){return;}var y=u?o.getDataPoint(x).context():D.getContext(w);y=r(y,q);return{target:w,data:y};});if(n){v.dateTimeRange=n;}e.fireExternalEvent("contextualData",{name:C.Event.ContextualData.name,type:t,data:v,point:p});}function c(e,t,p,s,n){var o=s.getDataModel();var q=g(o);var u=e.map(function(v){if(!v){return;}var w=o.getDataPoint(v).context();w=r(w,q);return{target:null,data:w};});if(n){u.dateTimeRange=n;}s.fireExternalEvent("contextualData",{name:C.Event.ContextualData.name,type:t,data:u,point:p});}function d(e,t,s){var n=[];var p=i(e,e.data.currentTarget,s);n.push({target:p,data:D.getContext(p)});s.fireExternalEvent("contextualData",{name:C.Event.ContextualData.name,type:t,data:n,point:e.data.point});}function h(e,t,p,s){var n={context:D.getContext(e.data.currentTarget).ctx,target:e.data.currentTarget};s.fireExternalEvent("contextualData",{name:C.Event.ContextualData.name,type:t,data:[],context:n,point:e.data.point});}function i(e,n,s){var o=l(e.data.originalEvent);var p=k(n);return j(o,p,s);}function j(p,n,s){var e=s.isHorizontal();var o=e?"y":"x";var t,q,u;n.forEach(function(v){u=m(v);var w=Math.abs(u[o]-p[o]);if(!q||!t){q=v;t=w;return;}if(w<t){t=w;q=v;}});return q;}function k(t){if(t){var e=D.getData(t).dataPoints;return e;}}function l(e){var n=e||window.event;return{x:n.pageX,y:n.pageY};}function m(e){var n=e.getBoundingClientRect();return{x:n.left+n.width/2,y:n.top+n.height/2};}return{getTimeField:g,removeTimeSuffix:r,fireContextualDataEvent:f,fireContextualDataEventByIDs:c,fireContextualDataEventForArea:d,fireContextualDataEventForLegendItem:h};});define('sap/viz/chart/behavior/config/ContextualDataConfig',["sap/viz/framework/common/util/Constants","sap/viz/framework/common/util/ObjectUtils","sap/viz/framework/common/util/DOM","sap/viz/chart/components/util/DataPointUtils","sap/viz/chart/behavior/config/HighlightHelper","sap/viz/chart/behavior/config/SelectionUtil","sap/viz/chart/behavior/config/ContextualDataUtil"],function(C,O,D,a,H,S,b){var c="v-axis-item",d="v-nonLeafDimensionLabel",v="v-m-valueAxis",e="v-m-valueAxis2",f="v-m-categoryAxis",t="v-m-timeAxis";var l="v-m-legend",s="v-m-sizeLegend",g="v-legend-item";var h="v-m-title";var j="v-datapoint",k="v-datalabel",m="v-selected-area",n="v-area";var p="v-m-plot",o="v-m-plot-bound";var q="v-m-background",r="v-subtitle";var u="v-m-action-layerrange-content";var w=C.CSS.CLASS;var x=b.getTimeField,y=b.removeTimeSuffix,z=b.fireContextualDataEvent,A=b.fireContextualDataEventByIDs,B=b.fireContextualDataEventForArea;return[{id:"right_click_anywhere",triggerEvent:{name:"contextmenu"},handler:function(i,E){E.fireEvent("hideDetail",{mode:"actionMode"}).fireEvent("hideDetail",{mode:"infoMode"});}},{"id":"right_click_on_axis","declaredEvents":"contextualData","triggerEvent":{"name":"contextmenu","targets":[v,e,f,t],"excludeTargets":[c,d]},"handler":function(i,E){var F;var G=i.data.currentTarget;if(D.hasClass(G,v)){F='valueAxis';}else if(D.hasClass(G,e)){F='valueAxis2';}else if(D.hasClass(G,f)){F='categoryAxis';}else if(D.hasClass(G,t)){F='timeAxis';}z([],F,i.data.point,E);}},{"id":"right_click_on_axis_label","declaredEvents":"contextualData","triggerEvent":{"name":"contextmenu","targets":[c,d]},"handler":function(i,E){var F=i.data.currentTarget;var G=F;while(G&&G.getAttribute){if(D.hasClass(G,w.AXIS.CONTAINER)){break;}G=G.parentNode;}var I=O.extendByRepalceArray({},a.getContext(F).ctx);if(G){var J=a.getContext(G);if(J){O.extendByRepalceArray(I,J.ctx);}}if(E.isBigDataMode()){var K=S.getDataPointIds(I,E);A(K,'axisLabel',i.data.point,E);}else{var L=S.getDataPointNodes(I,E);z(L,'axisLabel',i.data.point,E);}}},{"id":"right_click_on_axis_label_treemap","declaredEvents":"contextualData","triggerEvent":{"name":"contextmenu","targets":[c,d],"supportedChartTypes":"info/treemap"},"handler":function(i,E){var F=i.data.currentTarget;var G=a.getContext(F);var I=S.getDataPointNodes(G,E);z(I,'axisLabel',i.data.point,E);}},{"id":"right_click_on_legend","declaredEvents":"contextualData","triggerEvent":{"name":"contextmenu","targets":[g,l,s]},"handler":function(i,E){var F=i.data.currentTarget;if(D.hasClass(F,g)){b.fireContextualDataEventForLegendItem(i,'legend',i.data.point,E);}else{z([],'legend',i.data.point,E);}}},{"id":"right_click_on_title","declaredEvents":"contextualData","triggerEvent":{"name":"contextmenu","targets":h},"handler":function(i,E){z([],'title',i.data.point,E);}},{"id":"right_click_on_chartarea","declaredEvents":"contextualData","triggerEvent":{"name":"contextmenu","targets":[q,r]},"handler":function(i,E){z([],'chartArea',i.data.point,E);}},{"id":"right_click_on_datapoint","declaredEvents":"contextualData","triggerEvent":{"name":"contextmenu","targets":[j,k]},"handler":function(i,E){if(!E.getStatus('rangeSelection')){var F=H.turnToArray(i.data.currentTarget);z(F,'datapoint',i.data.point,E);}else{z([],'plot',i.data.point,E);}}},{"id":"right_click_on_area","declaredEvents":"contextualData","triggerEvent":{"name":"contextmenu","targets":[n,m]},"handler":function(i,E){B(i,'datapoint',E);}},{"id":"right_click_on_lasso_box","declaredEvents":"contextualData","triggerEvent":{"name":"contextmenu","targets":[u]},"handler":function(i,E){var F=E.getStatus('selectedDataPoints');var G=a.getNodes(F,E);var I=E.getStatus('rangeDomain');var J=E.getDataModel()._timeAxis.metaData[0].id;var K=I&&I.length===2?{start:{},end:{}}:null;if(K){K.start[J]=I[0];K.end[J]=I[1];}z(G,'plot',i.data.point,E,K);}},{"id":"right_click_on_plot","declaredEvents":"contextualData","triggerEvent":{"name":"contextmenu","targets":[p,o],"excludeTargets":[j,k,c,d,n,m]},"handler":function(E,F){if(!F.isBigDataMode()){z([],'plot',E.data.point,F);return;}var G=E.data.originalEvent;var I=F.getOffsetMatrix(F.OffsetType.PLOT_NODE,true);var J={x:E.data.pointToChart.x-I.e,y:E.data.pointToChart.y-I.f};var K=F.getModule("main.plot");var L=K.getOffset();J.x-=L.x;J.y-=L.y;var M=K.hitTest(J);if(M.length===0){z([],'plot',E.data.point,F);return;}var N=F.getDataModel();var P,Q,R;for(var i=0;i<M.length;i++){P=M[i];R=N.getDataPoint(P.dataId);if(R){var T=x(N);Q=y(R.context(),T);break;}}if(R==null){z([],'plot',E.data.point,F);}else{F.fireExternalEvent("contextualData",{name:C.Event.ContextualData.name,type:'datapoint',data:{target:null,data:Q},point:E.data.point});}}}];});define('sap/viz/chart/behavior/config/AxisBehaviorConfigForTreeMap',['sap/viz/framework/common/util/Constants','sap/viz/framework/interaction/Constants',"sap/viz/framework/common/util/UADetector","sap/viz/framework/common/util/ObjectUtils","sap/viz/framework/common/util/DOM","sap/viz/chart/components/util/DataPointUtils","sap/viz/chart/behavior/config/SelectionUtil"],function(C,S,U,O,D,a,b){var B=S.BEHAVIOR,c="v-axis-item",n="v-nonLeafDimensionLabel",d=C.CSS.CLASS,t="info/treemap",H="#cccccc",e="#808080";function i(s){var f=s.getProperties().get("interaction.selectability");if(!f){return false;}var g=f.mode.toUpperCase();var h=s.getNodes(s.NodeType.TREE_MAP_ITEM);if(!f.axisLabelSelection||g===S.SELECTION_MODE.NONE||g===S.SELECTION_MODE.SINGLE||!h.node()){return false;}else{return true;}}return[{"id":"hover_on_axis_label_treemap","triggerEvent":{"name":"hover","targets":c,"supportedChartTypes":t},"handler":function(f,s){if(!i(s)){return;}s.fireEvent("cleanAxisHoverEffect");d3.select(f.data.currentTarget).attr("fill",H).attr("opacity",1).classed(d.HOVER_SHADOW,true);}},{"id":"hover_on_non_axis_label_treemap","triggerEvent":{"name":"hover","excludeTargets":c,"supportedChartTypes":t},"handler":function(f,s){if(!i(s)){return;}s.fireEvent("cleanAxisHoverEffect");}},{"id":"hover_on_non_leaf_dimension_label_treemap","triggerEvent":{"name":"hover","targets":n,"supportedChartTypes":t},"handler":function(f,s){if(!i(s)){return;}s.fireEvent("cleanAxisHoverEffect");d3.select(f.data.currentTarget.previousElementSibling).attr("fill",H).attr("opacity",1).classed(d.HOVER_SHADOW,true);}},{"id":"click_on_non_leaf_dimension_label_treemap","triggerEvent":{"name":"click","targets":n,"supportedChartTypes":t},"handler":function(f,s){if(!i(s)){return;}var g=a.getContext(f.data.currentTarget.previousElementSibling);g=O.extend({},g);delete g.level;delete g.levelNum;delete g.realLabelWidth;var h=b.getDataPointIds(g,s);s.fireEvent("processSelection",{targets:h,deselectable:true,ctrlKeyPressed:f.data.ctrlKey});s.fireEvent("processMultipleSelectionTooltip",{targets:h,point:f.data.point});}},{"id":"cleanAxisHoverEffect_treemap","triggerEvent":{"name":"cleanAxisHoverEffect","supportedChartTypes":t},"handler":function(f,s){s.getNodes(s.NodeType.AXIS_ITEM).attr("opacity","0").classed(d.HOVER_SHADOW,false).classed(d.FOCUS_SHADOW,false);}},{"id":"click_on_axis_label_treemap","triggerEvent":{"name":"click","targets":c,"supportedChartTypes":t},"handler":function(f,s){if(!i(s)){return;}var g=a.getContext(f.data.currentTarget);g=O.extend({},g);delete g.level;delete g.levelNum;delete g.realLabelWidth;var h=b.getDataPointIds(g,s);s.fireEvent("processSelection",{targets:h,deselectable:true,ctrlKeyPressed:f.data.ctrlKey});s.fireEvent("processMultipleSelectionTooltip",{targets:h,point:f.data.point});}},{"id":"down_on_axis_label_treemap","triggerEvent":{"name":"down","targets":c,"supportedChartTypes":t},"handler":function(f,s){if(!i(s)){return;}d3.select(f.data.currentTarget).attr("fill",e).attr("opacity",1).classed(d.FOCUS_SHADOW,true).classed(d.HOVER_SHADOW,false);}},{"id":"down_on_non_leaf_dimension_label_treemap","triggerEvent":{"name":"down","targets":n,"supportedChartTypes":t},"handler":function(f,s){if(!i(s)){return;}d3.select(f.data.currentTarget.previousElementSibling).attr("fill",e).attr("opacity",1).classed(d.FOCUS_SHADOW,true).classed(d.HOVER_SHADOW,false);}},{"id":"up_on_axis_label_treemap","triggerEvent":{"name":"up","targets":c,"supportedChartTypes":t},"handler":function(f,s){if(!i(s)){return;}if(U.isMobile()){d3.select(f.data.currentTarget).attr("fill",H).attr("opacity",0).classed(d.HOVER_SHADOW,true).classed(d.FOCUS_SHADOW,false);}else{d3.select(f.data.currentTarget).attr("fill",H).attr("opacity",1).classed(d.HOVER_SHADOW,true).classed(d.FOCUS_SHADOW,false);}}},{"id":"up_on_non_leaf_dimension_label_treemap","triggerEvent":{"name":"up","targets":n,"supportedChartTypes":t},"handler":function(f,s){if(!i(s)){return;}if(U.isMobile()){d3.select(f.data.currentTarget.previousElementSibling).attr("fill",H).attr("opacity",0).classed(d.HOVER_SHADOW,true).classed(d.FOCUS_SHADOW,false);}else{d3.select(f.data.currentTarget.previousElementSibling).attr("fill",H).attr("opacity",1).classed(d.HOVER_SHADOW,true).classed(d.FOCUS_SHADOW,false);}}}];});define('sap/viz/chart/components/plots/PlotHelper',['jquery'],function($){var p={'pie':{options:{isDonut:false}},'donut':{options:{isDonut:true}},'column':{options:{isHorizontal:false}},'stacked_column':{options:{isHorizontal:false}},'100_stacked_column':{options:{isHorizontal:false}},'bar':{options:{isHorizontal:true}},'bullet':{options:{isHorizontal:true}},'vertical_bullet':{options:{isHorizontal:false}},'stacked_bar':{options:{isHorizontal:true}},'100_stacked_bar':{options:{isHorizontal:true}},'line':{options:{isHorizontal:false}},'area':{options:{isHorizontal:false}},'horizontal_area':{options:{isHorizontal:true}},'horizontal_line':{options:{isHorizontal:true}},'100_area':{options:{isHorizontal:false}},'100_horizontal_area':{options:{isHorizontal:true}},'combination':{options:{isHorizontal:false}},'horizontal_combination':{options:{isHorizontal:true}},'bubble':{options:{}},'time_bubble':{options:{}},'scatter':{options:{}},'timeseries_scatter':{options:{}},'timeseries_bubble':{options:{}},'stacked_combination':{options:{isHorizontal:false}},'horizontal_stacked_combination':{options:{isHorizontal:true}},'mekko':{options:{isHorizontal:false}},'100_mekko':{},'timeseries_line':{options:{isHorizontal:false}},'timeseries_column':{options:{isHorizontal:false}},'timeseries_stacked_column':{options:{isHorizontal:false}},'timeseries_100_stacked_column':{options:{isHorizontal:false}},'timeseries_combination':{options:{isHorizontal:false}},'dual_timeseries_combination':{options:{isHorizontal:false}},'horizontal_mekko':{options:{isHorizontal:true}},'100_horizontal_mekko':{options:{isHorizontal:true}},'timeseries_waterfall':{options:{isHorizontal:false}},'waterfall':{options:{isHorizontal:false}},'stacked_waterfall':{options:{isHorizontal:false}},'horizontal_waterfall':{options:{isHorizontal:true}},'horizontal_stacked_waterfall':{options:{isHorizontal:true}},'radar':{options:{isHorizontal:false}},'heatmap':{options:{}},'timeseries_bullet':{options:{isHorizontal:false}},'combinationEx':{options:{}}};return{register:function(a,c){p[a]=c;},create:function(r,a,b,o){var c=p[r];var d=o?$.extend(true,{},c?c.options:{},o):c.options;d.name="plotArea";d.renderType=r;return new a(b,d);},getOptions:function(r){var c=p[r];return c&&c.options;}};});define('sap/viz/chart/components/util/ChartConstants',[],function Setup(){var C="_";var H="horizontal";var a="combination";var S="stacked";var b="column";var B="bar";var c="bullet";var L="line";var d="scatter";var e="bubble";var P="pie";var T='timeseries_scatter';var f="categoryAxisNavigator";var g="categoryAxis2Navigator";var h="timeAxisNavigator";var D="datapointNavigator";var i="legendNavigator";var j="colorLegendNavigator";var M="mbcLegendNavigator";var k="heatmap";var W="waterfall";var l={"STACKED":S,"COMBINATION":a,"COLUMN":b,"BAR":B,"BULLET":c,"LINE":L,"SCATTER":d,"BUBBLE":e,"PIE":P,"TIMESCATTER":T,"COLUMN_COMBINATION":b+C+a,"STACKED_COLUMN":S+C+b,"STACKED_COMBINATION":S+C+a,"CATEGORYAXIS_NAVIGATOR":f,"CATEGORYAXIS2_NAVIGATOR":g,"TIMEAXIS_NAVIGATOR":h,"DATAPOINT_NAVIGATOR":D,"LEGEND_NAVIGATOR":i,"COLORLEGEND_NAVIGATOR":j,"MBCLEGEND_NAVIGATOR":M,"HEATMAP":k,"WATERFALL":W};return l;});define('sap/viz/chart/components/util/ChartTypeUtils',["sap/viz/chart/components/plots/PlotHelper","sap/viz/chart/components/util/ChartConstants"],function Setup(P,C){var c={addTrellisType:function(a){var T=[];for(var i=0;i<a.length;++i){if(a[i].indexOf("info/")>=0&&a[i].indexOf("info/trellis_")===-1){var t=a[i].replace("info/","info/trellis_");T.push(t);}}return[].concat(a,T);},getChartTypeProperty:function(r){var a={};if(r.indexOf(C.STACKED)>-1){if(r.search(/bar|column/)!==-1){a.type=C.STACKED_COLUMN;}else if(r.indexOf(C.STACKED_COMBINATION)>-1){a.type=C.STACKED_COMBINATION;}}else{if(r.search(/bar|column/)!==-1){a.type=C.COLUMN;}else if(r.indexOf(C.BULLET)>-1){a.type=C.BULLET;}else if(r.indexOf(C.LINE)>-1){a.type=C.LINE;}else if(r.indexOf(C.COMBINATION)>-1){a.type=C.COLUMN_COMBINATION;}else if(r.search(/pie|donut/)!==-1){a.type=C.PIE;}else if(r.search(/^timeseries.*(scatter|bubble)/)!==-1){a.type=C.TIMESCATTER;}else if(r.search(/(scatter|bubble)/)!==-1){a.type=C.SCATTER;}else if(r.indexOf(C.HEATMAP)>-1){a.type=C.HEATMAP;}else if(r.indexOf(C.WATERFALL)>-1){a.type=C.WATERFALL;}}var o=P.getOptions(r);if(!o){return null;}if(o.isHorizontal!==undefined){a.isVerticalRender=!o.isHorizontal;}return a;}};return c;});define('sap/viz/chart/behavior/config/AxisBehaviorConfigForRadar',['sap/viz/framework/common/util/Constants','sap/viz/framework/interaction/Constants','sap/viz/chart/components/util/ChartTypeUtils','sap/viz/framework/common/util/UADetector'],function(C,S,a,U){var b="v-axis-item",c=C.CSS.CLASS,r=["info/radar"],d="plotArea.polarAxis";r=a.addTrellisType(r);function i(s){var e=s.getProperties().get("interaction.selectability");if(!e){return false;}var f=e.mode?e.mode.toUpperCase():e.mode;var g=s.getNodes(s.NodeType.AXIS_ITEM);if(!e.axisLabelSelection||f===S.SELECTION_MODE.NONE||f===S.SELECTION_MODE.SINGLE||!g.node()){return false;}else{return true;}}return[{"id":"hover_on_axis_label_radar","triggerEvent":{"name":"hover","targets":b,"supportedChartTypes":r},"handler":function(e,s){if(!i(s)){return;}s.fireEvent("cleanAxisHoverEffect");var f=s.getProperties().get(d+".hoverShadow.color");if(f){d3.select(e.data.currentTarget).select("rect").attr("fill",f).classed(c.HOVER_SHADOW,true);}}},{"id":"down_on_axis_label_radar","triggerEvent":{"name":"down","targets":b,"supportedChartTypes":r},"handler":function(e,s){if(!i(s)){return;}s.fireEvent("cleanAxisHoverEffect");var f=s.getProperties().get(d+".mouseDownShadow.color");if(f){d3.select(e.data.currentTarget).select("rect").attr("fill",f).classed(c.HOVER_SHADOW,false).classed(c.FOCUS_SHADOW,true);}}},{"id":"up_on_axis_label_radar","triggerEvent":{"name":"up","targets":b,"supportedChartTypes":r},"handler":function(e,s){if(!i(s)){return;}var f=s.getNodes(s.NodeType.AXIS_ITEM_BACKGROUND);f.attr("fill","transparent").classed(c.FOCUS_SHADOW,false);if(U.isMobile()){f.classed(c.HOVER_SHADOW,false);}else{var g=s.getProperties().get(d+".hoverShadow.color");if(g){d3.select(e.data.currentTarget).select("rect").attr("fill",g).classed(c.HOVER_SHADOW,true);}}}}];});define('sap/viz/chart/behavior/config/AlignToUtil',["sap/viz/framework/common/util/TypeUtils"],function(T){var C={l:function(d){return{x:d.left,y:d.top+d.height/2};},r:function(d){return{x:d.right,y:d.top+d.height/2};}};function c(d){if(!T.isArray(d)){d=[d];}var o={};d.forEach(function(e){var s=C[e.source.pos](e.source.dom.getBoundingClientRect()),t=C[e.target.pos](e.target.dom.getBoundingClientRect());m(o,{x:t.x-s.x,y:t.y-s.y},e.aspects||"xy");});return o;}function m(o,n,d){d.split("").forEach(function(p){if(n.hasOwnProperty(p)){o[p]=n[p];}});}function b(e,s,t,r){var d={isAnchored:true,point:e.data.point,targets:t,forceStyle:{padding:"0px"}};var l=s.getModule('legendGroup');var f=l?l.getPosition().charAt(0):null;if(f==='l'||f==='r'){d.point.offset={x:f==="l"?10:-10};d.point.alignTo={source:{pos:f},target:{dom:r,pos:f==='l'?'r':'l'}};}return d;}function a(e,s,t,y,x){var d={isAnchored:true,point:e.data.point,targets:t,forceStyle:{padding:"0px"}};var l=s.getModule('legendGroup');var f=l?l.getPosition().charAt(0):null;if(f==='l'||f==='r'){d.point.offset={x:f==="l"?10:-10};d.point.alignTo=[{aspects:"y",source:{pos:f},target:{dom:y,pos:f==='l'?'r':'l'}},{aspects:"x",source:{pos:f},target:{dom:x,pos:f==='l'?'r':'l'}}];}return d;}var A={calculate:c,getTooltipData:b,getMBCTooltipData:a};return A;});define('sap/viz/chart/behavior/config/handler/LegendBehaviorHandler',['sap/viz/framework/common/util/Constants','sap/viz/framework/interaction/Constants',"sap/viz/framework/common/util/UADetector","sap/viz/chart/components/util/DataPointUtils","sap/viz/chart/behavior/config/SelectionUtil","sap/viz/chart/components/util/DataPointUtils","sap/viz/chart/behavior/config/AlignToUtil","sap/viz/framework/common/util/DOM"],function(C,S,U,D,a,b,A,c){var B=S.BEHAVIOR;var d=C.CSS.CLASS;var L="legendPanLastPos";var e=function(){};e.prototype={standAloneInitialized:function(f,s){s.getProperties().origin.add({legend:{mouseDownShadow:{color:"#808080"},hoverShadow:{color:"#cccccc"}},interaction:{selectability:{legendSelection:true}}});},dragStart:function(f,s){if(!s.getProperties().get("legend.isScrollable")||s.getProperties().get("interaction.noninteractiveMode")||!U.isMobile()){return;}f.data.originalEvent.preventDefault();var p=f.data.point;var m=s.getModule('legendGroup.legend');var g=m.isHorizontal()?p.x:p.y;s.setStatus(L,g);s.fireEvent("hideDetail",{mode:"infoMode"}).fireEvent("hideDetail",{mode:"actionMode"});},dragMove:function(f,s){if(!s.getProperties().get("legend.isScrollable")||s.getProperties().get("interaction.noninteractiveMode")||!U.isMobile()){return;}if(!s.getStatus(L)){return;}var m=s.getModule('legendGroup.legend');if(!m){return;}f.data.originalEvent.preventDefault();var p=f.data.point;var g=s.getStatus(L);var o;if(m.isHorizontal()){o=g-p.x;s.setStatus(L,p.x);}else{o=g-p.y;s.setStatus(L,p.y);}if(m.scroll){m.scroll(o);}},dragEnd:function(f,s){s.removeStatus(L);},hover:function(f,s){if(s.getStatus("rangeSelection")){return;}if(!a.isLegendTriggerable(s,s.NodeType.LEGEND_ITEM)){return;}s.fireEvent("cleanLegendHoverEffect");d3.select(f.data.currentTarget).select("rect").attr("fill",s.getProperties().get("legend.hoverShadow.color")).classed(d.HOVER_SHADOW,true);},nonHover:function(f,s){if(!a.isLegendTriggerable(s,s.NodeType.LEGEND_ITEM)){return;}s.fireEvent("cleanLegendHoverEffect");},cleanLegendHoverEffect:function(f,s){var l=s.getNodes(s.NodeType.LEGEND_ITEM);l.selectAll("rect").attr("fill","transparent").classed(d.HOVER_SHADOW,false).classed(d.FOCUS_SHADOW,false);},click:function(f,s){if(!a.isLegendTriggerable(s,s.NodeType.LEGEND_ITEM)){return;}a.cleanRangeSelection(s);var g=D.getContext(f.data.currentTarget).ctx;if(s.isBigDataMode()){var p=s.getModule("main.plot");if(p.setLastSeries){p.setLastSeries(g,true);}}var t=this._getTargets(g,f,s);s.fireEvent("processSelection",{ctx:{series:g},targets:t,deselectable:true,ctrlKeyPressed:f.data.ctrlKey});var h=c.parent(f.data.target,".v-legend-item")||f.data.target;var i=A.getTooltipData(f,s,t,h);s.fireEvent("processMultipleSelectionTooltip",i);},_getTargets:function(f,g,s){return a.getDataPointIds(f,s);},mouseDown:function(f,s){if(!a.isLegendTriggerable(s,s.NodeType.LEGEND_ITEM)){return;}s.getNodes(s.NodeType.LEGEND_ITEM).selectAll("rect").attr("fill","transparent").classed(d.HOVER_SHADOW,false);d3.select(f.data.currentTarget).select("rect").attr("fill",s.getProperties().get("legend.mouseDownShadow.color")).classed(d.FOCUS_SHADOW,true);},mouseUp:function(f,s){if(!a.isLegendTriggerable(s,s.NodeType.LEGEND_ITEM)){return;}var l=s.getNodes(s.NodeType.LEGEND_ITEM);l.selectAll("rect").attr("fill","transparent").classed(d.FOCUS_SHADOW,false);if(U.isMobile()){l.selectAll("rect").classed(d.HOVER_SHADOW,false);}else{d3.select(f.data.currentTarget).select("rect").attr("fill",s.getProperties().get("legend.hoverShadow.color")).classed(d.HOVER_SHADOW,true);}}};return e;});define('sap/viz/chart/behavior/config/LegendBehaviorConfig',["sap/viz/chart/behavior/config/handler/LegendBehaviorHandler"],function(L){var C="v-legend-item";return[{"id":"legendBehaviorDefinition","handler":L,"handlerType":"class","triggerEvent":[{"name":"standAloneInitialized","method":"standAloneInitialized"},{"name":"dragstart","targets":C,"method":"dragStart"},{"name":"dragmove","targets":C,"method":"dragMove"},{"name":"dragend","targets":C,"method":"dragEnd"},{"name":"hover","targets":C,"method":"hover"},{"name":"hover","excludeTargets":C,"method":"nonHover"},{"name":"cleanLegendHoverEffect","method":"cleanLegendHoverEffect"},{"name":"click","targets":C,"method":"click"},{"name":"down","targets":C,"method":"mouseDown"},{"name":"up","targets":C,"method":"mouseUp"}]}];});define('sap/viz/chart/behavior/config/handler/MBCLegendBehaviorHandler',['sap/viz/framework/common/util/Constants','sap/viz/framework/interaction/Constants',"sap/viz/framework/common/util/UADetector","sap/viz/framework/common/util/ObjectUtils","sap/viz/framework/common/util/DOM","sap/viz/chart/components/util/DataPointUtils","sap/viz/chart/behavior/config/SelectionUtil","sap/viz/chart/behavior/config/AlignToUtil"],function(C,S,U,O,D,a,b,A){var B=S.BEHAVIOR,c=C.CSS.CLASS,H="#cccccc",d="#808080";function g(s,p,e){var f=s.getProperties().get(p);var h;if(f&&f.color){h=f.color;}else{h=e;}return h;}var M=function(){};M.prototype={standAloneInitialized:function(e,s){s.getProperties().origin.add({legend:{mouseDownShadow:{color:"#808080"},hoverShadow:{color:"#cccccc"}},interaction:{selectability:{legendSelection:true}}});},hover:function(e,s){if(!b.isLegendTriggerable(s,s.NodeType.MBC_LEGEND_ITEM)){return;}s.fireEvent("cleanMBCHoverEffect");var f=g(s,"legend.hoverShadow",H);d3.select(e.data.currentTarget).attr("stroke",f).attr("stroke-width",3).classed(c.HOVER_SHADOW,true);},nonHover:function(e,s){if(!b.isLegendTriggerable(s,s.NodeType.MBC_LEGEND_ITEM)){return;}s.fireEvent("cleanMBCHoverEffect");},cleanMBCHoverEffect:function(e,s){s.getNodes(s.NodeType.MBC_LEGEND_ITEM).classed(c.HOVER_SHADOW,false).classed(c.FOCUS_SHADOW,false).attr("stroke-width",0);},click:function(e,s){if(!b.isLegendTriggerable(s,s.NodeType.MBC_LEGEND_ITEM)){return;}var f=O.extend({},a.getContext(e.data.currentTarget).ctx);delete f.measureName;var t=this._getTargets(f,e,s);s.fireEvent("processSelection",{targets:t,deselectable:true,ctrlKeyPressed:e.data.ctrlKey});var l=D.parent(e.data.target,".v-groups");var h=A.getMBCTooltipData(e,s,t,e.data.target,l);s.fireEvent("processMultipleSelectionTooltip",h);},_getTargets:function(e,f,s){return b.getDataPointIds(e,s);},mouseDown:function(e,s){if(!b.isLegendTriggerable(s,s.NodeType.MBC_LEGEND_ITEM)){return;}var f=g(s,"legend.mouseDownShadow",d);d3.select(e.data.currentTarget).attr("stroke",f).attr("stroke-width",3).classed(c.FOCUS_SHADOW,true);},mouseUp:function(e,s){if(!b.isLegendTriggerable(s,s.NodeType.MBC_LEGEND_ITEM)){return;}var f=g(s,"legend.hoverShadow",H);if(U.isMobile()){d3.select(e.data.currentTarget).attr("stroke",null).attr("stroke-width",null).classed(c.FOCUS_SHADOW,false);}else{d3.select(e.data.currentTarget).attr("stroke",f).attr("stroke-width",3).classed(c.FOCUS_SHADOW,false);}}};return M;});define('sap/viz/chart/behavior/config/MBCLegendBehaviorConfig',['sap/viz/framework/common/util/Constants','sap/viz/framework/interaction/Constants',"sap/viz/framework/common/util/UADetector","sap/viz/framework/common/util/ObjectUtils","sap/viz/framework/common/util/DOM","sap/viz/chart/components/util/DataPointUtils","sap/viz/chart/behavior/config/SelectionUtil","sap/viz/chart/behavior/config/handler/MBCLegendBehaviorHandler",],function(C,S,U,O,D,a,b,M){var m="v-mbc-legend-item";return[{"id":"mbcLegendBehaviorDefinition","handler":M,"handlerType":"class","supportedChartTypes":["info/treemap","info/heatmap","info/tagcloud"],"triggerEvent":[{"name":"standAloneInitialized","method":"standAloneInitialized"},{"name":"hover","targets":m,"method":"hover"},{"name":"hover","excludeTargets":m,"method":"nonHover"},{"name":"cleanMBCHoverEffect","excludeTargets":m,"method":"cleanMBCHoverEffect"},{"name":"click","targets":m,"method":"click"},{"name":"down","targets":m,"method":"mouseDown"},{"name":"up","targets":m,"method":"mouseUp"}]}];});define('sap/viz/chart/behavior/config/LassoDecoration',["sap/viz/chart/components/util/DataPointUtils",'sap/viz/framework/interaction/Constants'],function(D,C){var L="lasso";var R="range";var a='rgba(102,151,231, 0.25)';var b='rgba(102,151,231, 0.5)';var c="rgb(102,151,231)";var d=1;var e="3px";var f="0px";var g=C.RANGE_SELECTION.OFFSET;var i=function(h,s){this._actionLayer=h;this._startPoint=null;this._shapeModel=null;this._service=s;this._shapeLine={points:[],width:f,color:c,pointerEvent:"none"};};i.prototype.start=function(p,h,k,m){var l;this._startPoint=j(p,h);var n;var o;if(m==='range'){this._mode=R;}else{this._mode=L;}var s=this._service;var q=this._shapeModel;n=this._actionLayer.createLayer(this._mode);var r=this._shapeLine;if(this._mode===R){var P=false;s.fireEvent("hideDetail",{mode:"actionMode"});if(q&&s.getStatus("rangeSelection")){if(q.x-g<=this._startPoint.x&&this._startPoint.x<=q.x+q.width+g){P=true;var t=Math.abs(this._startPoint.x-q.x);var u=Math.abs(q.x+q.width-this._startPoint.x);if(t<=u&&t<=g){this._direction="right";o=q.x;}else if(u<=g){this._direction="left";o=q.x+q.width;}else{this._direction="drag";}}if(o){r.points=[[o,q.y],[o,q.y+q.height]];r.width=e;n.addPolyLine(r);}}if(!P){s.setStatus("rangeSelection",true);this._direction=null;this._actionLayer.clear(this._mode);q=this._shapeModel={x:this._startPoint.x,y:k.y-p.y-d,width:0,height:k.height+d*2,fill:a,strokeWidth:d+"px",stroke:c};o=q.x;r.points=[[o,q.y],[o,q.y+q.height]];r.width=e;n.addPolyLine(r);l={};l.x=k.x-p.x;l.y=k.y-p.y;l.width=k.width;l.height=k.height;n.addRect(this._shapeModel);this._actionLayer.drawLayer(n,l);}}else{this._actionLayer.clear(this._mode);n=this._actionLayer.createLayer(this._mode);this._shapeModel={x:this._startPoint.x,y:this._startPoint.y,width:0,height:0,pointerEvent:'none',fill:'rgba(64,176,240, 0.4)',strokeWidth:'2px',stroke:'rgb(64, 176, 240)'};n.addRect(this._shapeModel);this._direction=null;this._actionLayer.drawLayer(n);}};function j(p,h){var x=h.x-(p.x||p.left);var y=h.y-(p.y||p.top);return{'x':x,'y':y};}i.prototype.moveTo=function(p,k,l,m){var s=this._service;if(this._startPoint&&this._shapeModel){var n=this._startPoint;var o=this._shapeModel;var q;if(this._mode===R){q=j(p,l);}var r=j(p,k);var t={x:k.x,y:k.y};var u;if(this._direction){if(this._direction==='right'){if(r.x<=q.x){o.width=o.width-q.x+o.x;o.x=q.x;t.x=l.x;}else if(r.x<o.x+o.width){o.width=o.width-r.x+o.x;o.x=r.x;}else{o.x=o.x+o.width-2;o.width=2;}u=o.x;}else if(this._direction==='left'){if(r.x>=q.x+l.width){o.width=q.x+l.width-o.x;t.x=l.x+l.width;}else if(r.x>o.x){o.width=r.x-o.x;}else{o.width=2;}u=o.x+o.width;}else if(this._direction==='drag'){this._startPoint=r;var v=r.x-n.x;if((o.x<=q.x&&o.x+o.width>=q.x+l.width)||(o.x<=q.x&&v<0)||(o.x+o.width>=q.x+l.width&&v>0)){return;}if(o.x<q.x){if(o.x+o.width+v<=q.x+l.width){o.x=o.x+v;}else{o.x=q.x+l.width-o.width;}}else if(o.x+o.width>=q.x+l.width){if(o.x+v>=q.x){o.x=o.x+v;}else{o.x=q.x;}}else{if(o.x+v<q.x){o.x=q.x;}else if(o.x+o.width+v>q.x+l.width){o.x=q.x+l.width-o.width;}else{o.x=o.x+v;}}o.fill=b;}}else{u=r.x;var x=Math.min(r.x,n.x);var y=Math.min(r.y,n.y);var w=Math.abs(r.x-n.x);var h=Math.abs(r.y-n.y);o.x=x;o.width=w;if(this._mode===L){o.y=y;o.height=h;}else{if(x<q.x){o.x=q.x;o.width-=q.x-x;}if(o.x+o.width>q.x+l.width){o.width=q.x+l.width-o.x;}if(t.x<l.x){t.x=l.x;}if(t.x>l.x+l.width){t.x=l.x+l.width;}if(u<o.x){u=o.x;}if(u>o.x+o.width){u=o.x+o.width;}}}var z=this._actionLayer.createLayer(this._mode);z.addRect(o);if(u&&this._mode===R){this._shapeLine.points=[[u,o.y],[u,o.y+o.height]];this._shapeLine.width=e;z.addPolyLine(this._shapeLine);}this._actionLayer.drawLayer(z);if(this._mode===R){s.fireEvent("timeRangeChanged",{mode:"actionMode",point:t,target:m.data.target,bTimeRange:true});}}};i.prototype.end=function(){if(this._mode===L){this._actionLayer.clear(L);}else{var l=this._actionLayer.createLayer(this._mode);this._shapeModel.fill=a;l.addRect(this._shapeModel);this._shapeLine.points=[];this._shapeLine.width=f;l.addPolyLine(this._shapeLine);this._actionLayer.drawLayer(l);}};i.prototype.rangeRecover=function(h){var s=this._service;this._actionLayer.clear();var k=s.getStatus("rangeDomain");if(!k){return;}var m=s.getModule("main.plot");var l=s.getModule("main.timeAxis.axisBody");var t=l.getScale();var n=t.getRange();var r=n[1]-n[0];var o=s.getBBox(s.BoxType.PLOT_BOUND_NODE);var p=s.getBBox(s.BoxType.ROOT_NODE);if(!o||!p){return;}var q=j(p,o);var u=m.getRealSize();var v=m.getOffset();var w=s.getTransformScaleRatio();var x=t.scale(k[0])/r*u.width+v.x;x*=w.x;var y=(t.scale(k[1])-t.scale(k[0]))/r;var z=y*u.width*w.x;this._shapeModel={x:x+q.x,y:q.y-d,width:z,height:o.height+d*2,fill:a,strokeWidth:d+"px",stroke:c};this._mode=R;var A=this._actionLayer.createLayer(this._mode);A.addRect(this._shapeModel);s.setStatus("rangeSelection",true);this._actionLayer.drawLayer(A,{x:q.x,y:q.y,width:o.width,height:o.height});};i.prototype.changeRangeEffect=function(h){var k=h.data.direction;if(k==='up'){this._shapeModel.fill=a;}else{this._shapeModel.fill=b;}var l=this._actionLayer.createLayer(this._mode);l.addRect(this._shapeModel);this._actionLayer.drawLayer(l);};i.prototype.getBoundingClientRect=function(){return this._actionLayer.getBoundingClientRect(this._shapeModel);};i.prototype.getShapeModel=function(){return this._shapeModel;};i.prototype.destroy=function(){this._actionLayer=null;this._shapeModel=null;this._startPoint=null;this._mode=null;this._shapeLine=null;};return i;});define('sap/viz/chart/components/util/BoundingBoxUtils',[],function Setup(){var c={};c.intersects=function(a,b){return(a.x<=(b.x+b.width)&&b.x<=(a.x+a.width)&&a.y<=(b.y+b.height)&&b.y<=(a.y+a.height));};c.intersection=function(b,a){if(c.intersects(b,a)){var x=Math.max(b.x,a.x),d=Math.min(b.x+b.width,a.x+a.width),y=Math.max(b.y,a.y),e=Math.min(b.y+b.height,a.y+a.height);return{x:x,y:y,width:d-x,height:e-y};}return null;};c.contains=function(b,p){return p.x>=b.x&&p.x<=(b.x+b.width)&&p.y>=b.y&&p.y<=(b.y+b.height);};return c;});define('sap/viz/chart/components/util/ValueAxisUtils',["sap/viz/framework/common/util/ArrayUtils","sap/viz/framework/common/util/NumberUtils","sap/viz/framework/scale/ValueScale","sap/viz/framework/scale/MekkoValueScale","sap/viz/framework/scale/ValueScaleUtil","sap/viz/framework/scale/ScaleConstant","sap/viz/framework/common/util/TypeUtils",],function(A,N,V,M,a,S,T){var d=[0,1];var c=a.createValueScaleWithOptions;function f(m,k){if(m._minmax){return m._minmax;}k=k||[Infinity,-Infinity];for(var i=m.length;i--;){var l=m[i];if(l instanceof Array){k=f(l,k);}else if(l!=null){if(l<k[0]){k[0]=l;}if(l>k[1]){k[1]=l;}}}return k;}function b(s,v){if(s&&v){var i=s.getDomain().slice();if(!i.length){i=d.slice();}var k=s.getDomainFixed().slice();var m,l;if(!k[0]||!k[1]){var n=[];var o=f(v);if(s.getDomainChanged()){n=i;}else{n=o;}v._minmax=o;m=n[0];l=n[1];}var q=k[0]?parseFloat(i[0]):m;var r=k[1]?parseFloat(i[1]):l;if(m>l){k=[false,false];q=m;r=l;}return{domain:[q,r],domainFixed:k};}else{return null;}}function p(i,s,z){var k=i.domain.slice(),l=i.domainFixed.slice();if(!l[0]){if(k[0]<0){k[0]=k[0]*(1+s);}else if(z){k[0]=0;}else{k[0]=k[0]*(1-s);}}if(!l[1]){if(k[1]<0){if(z){k[1]=0;}else{k[1]*=(1-s);}}else{k[1]*=(1+s);}}return{domain:a.correctNoValueDomain(k),domainFixed:l};}function e(i,s){var k=i.domain.slice(),l=i.domainFixed.slice(),m=k[0]===k[1]?1:Math.floor((k[1]-k[0])*s);k[0]-=l[0]?0:m;k[1]+=l[1]?0:m;return{domain:a.correctNoValueDomain(k),domainFixed:l};}function g(i,k){return(i.start>=k.start&&i.start<=k.end)||(i.end>=k.start&&i.end<=k.end)||(k.start>=i.start&&k.start<=i.end)||(k.end>=i.start&&k.end<=i.end);}function h(k,l){var m=k.length;var t=[];for(var B=0;B<=(m-1);B++){var n=true;for(var i=0;i<m-1;i+=(B+1)){var o=k[i];if(i!==0){var q=t[t.length-1];if(g(o,q)){if(l&&o.value===0){t.push(o);continue;}if(t.length>1){n=false;break;}}else{t.push(o);}}else{t.push(o);}}if(k.length&&t.length){var r=k[m-1];var s=t[t.length-1];if(g(r,s)){if(!(l&&s.value===0)){t.pop();}}t.push(r);}if(n){break;}else{t=[];}}return t;}var j={isOverLapped:g,calculateLabelsToDrawHelper:h,calcScale:function(s,r,o){var i=s.getDomain().slice();var k=s.getDomainFixed();var l=s.getAutoDomain();var m=s.isFixed();if(i[0]>0&&!(m&&k[0])){if(s.getZeroAdjusted()||i[0]===i[1]){i[0]=0;}}if(i[1]<0&&!(m&&k[1])&&s.getZeroAdjusted()){i[1]=0;}if(l[0]>0){l[0]=0;}if(l[1]<0){l[1]=0;}if(o.domain){if(!(m&&k[0])&&o.domain[0]!=null){i[0]=o.domain[0];}if(!(m&&k[1])&&o.domain[1]!=null){i[1]=o.domain[1];}}if(o.isLineChart){var n=Math.abs((i[1]-i[0])*5/(r[1]-r[0]));if(i[0]!==0&&!(m&&k[0])){i[0]-=n;}if(i[1]!==0&&!(m&&k[1])){i[1]+=n;}if(!o.keepAutoScale){var q=Math.abs((l[1]-l[0])*5/(r[1]-r[0]));if(l[0]!==0){l[0]-=q;}if(l[1]!==0){l[1]+=q;}}}var t=c([i[0],i[1]],r,k,s);var u=c([l[0],l[1]],r,[false,false],s);var v=a.perfectTicks(t);a.perfectTicks(u);t.setAutoDomain(u.getDomain());return{scale:t,tickHint:v,autoScale:u};},calcPercentageScale:function(r){var i=c([0,1],r);var t=a.perfectTicks(i);return{scale:i,tickHint:t};},updateScatterValueAxis:function(i,r,s,k){var l=k?e:p;var m=k?a.perfectTimeTicks:a.perfectTicks;var n=i.scale;var o=l(b(n,i.values),s,n.getZeroAdjusted());var q=o.domain;if(0===q[0]&&0===q[1]){q=[0,1];}var t=c(q,r,o.domainFixed,n),u=m(t);var v=n.getAutoDomain();var w=c([v[0],v[1]],r,[false,false],n);v=l(b(w,i.values),s,n.getZeroAdjusted()).domain;if(0===v[0]&&0===v[1]){v=[0,1];}w=c(v,r,[false,false],n);m(w);t.setAutoDomain(w.getDomain());return{scale:t,tickHint:u};},getTrellisBaseValueIndex:function(s,i){if(s===0){return 0;}else if(i===0){return 1;}else if(s<0&&i<0){return(s>i)?0:1;}else if(s>0&&i>0){return(s<i)?0:1;}else{return-1;}},visibleRangeTransform:function(i,s,k){if(!T.isNumeric(s)||s<i[0]){s=i[0];}if(!T.isNumeric(k)||k>i[1]){k=i[1];}if(s>=k){return null;}if(s>i[1]||k<i[0]){return null;}return{ratio:(i[1]-i[0])/(k-s),delta:(i[0]-s)/(i[1]-i[0])};},getTimeAxisDomain:function(s,t,r,D,i){var k,l,o;if(i){k=s.height;l=r.height;o=t.y;}else{k=s.width;l=r.width;o=t.x;}o=Math.abs(o);var m=[],n=D[1]-D[0];m[0]=D[0]+parseInt(n*o/l);m[1]=D[0]+parseInt(n*(o+k)/l);return m;}};return j;});define('sap/viz/chart/behavior/config/handler/LassoBehaviorHandler',["sap/viz/framework/interaction/Constants","sap/viz/framework/common/util/UADetector","sap/viz/chart/behavior/config/LassoDecoration","sap/viz/chart/components/util/DataPointUtils","sap/viz/chart/components/util/BoundingBoxUtils","sap/viz/framework/common/util/DOM","sap/viz/framework/common/util/TypeUtils",'sap/viz/chart/components/util/DataPointUtils',"sap/viz/framework/common/util/DataGraphics",'sap/viz/chart/components/util/ValueAxisUtils',"sap/viz/chart/behavior/config/SelectionUtil"],function(C,U,L,D,B,a,T,b,c,V,S){var d=U.isMobile;function g(e){var i=e.getBoundingClientRect();return{x:i.left,y:i.top,height:i.height,width:i.width};}function f(e,i){return{x:e.x-i.left,y:e.y-i.top,width:e.width,height:e.height};}function h(e){if(d()){return e.data.point;}var i=e.data.originalEvent||window.event;return{x:i.pageX,y:i.pageY};}function k(){}k.prototype={standAloneInitialized:function(e,s){s.getProperties().origin.add({interaction:{selectability:{plotLassoSelection:true}}});},initialized:function(e,s){this._lassoDecoration=new L(s._getActionLayer(),s);s.setStatus("lassoStartPoint",null);s.setStatus("lassoEndPoint",null);s.setStatus("lassoCoveredDataPoints",[]);},unloadClear:function(e,s){var i=this._lassoDecoration;if(i){i.destroy();}delete this._lassoDecoration;s.removeStatus("lassoStartPoint");s.removeStatus("lassoEndPoint");s.removeStatus("lassoCoveredDataPoints");s.removeStatus("rangeDomain");s.removeStatus("rangeSelection");},lassoStart:function(e,s){var i=this._lassoDecoration;if(!i){return;}var j=s.getProperties().get("interaction.selectability");if(!j){return;}var t=s.getProperties().get("interaction.selectability.plotLassoMode");var u=j.mode?j.mode.toUpperCase():j.mode;if(!j.plotLassoSelection||u===C.SELECTION_MODE.NONE||u===C.SELECTION_MODE.SINGLE){return;}var v=e.data.point;var w=s.getBBox(t==='range'?s.BoxType.PLOT_BOUND_NODE:s.BoxType.ROOT_NODE);var x=s.getBBox(s.BoxType.ROOT_NODE);if(!B.contains(w,v)){return;}s.setStatus("lassoStartPoint",h(e));i.start(x,v,w,t);s.fireEvent("hideDetail",{mode:"infoMode",action:"interrupt"}).fireEvent("hideDetail",{mode:"actionMode",action:"interrupt"}).fireEvent("cleanLegendHoverEffect").fireEvent("cleanAxisHoverEffect").fireExternalEvent("lassoStart");},lassoMove:function(e,s){this._drawLassoRect(e,s);},lassoEnd:function(i,s){if(this._validLasso(s)){var j=this._lassoDecoration;var t=i.data.point;s.setStatus("lassoEndPoint",t);var u=null;var v=s.getNodes(s.NodeType.DATA_POINT);var w=this._lassoDecoration.getBoundingClientRect();var x=s.getModule("main.plot");if(s.getStatus("rangeSelection")&&x&&x.hitTestForRangeSelection){var R=s.getStatus("rangeDomain");u=x.hitTestForRangeSelection({"start":R[0],"end":R[1]});}else if(s.isBigDataMode()&&x&&x.hitTest){var y=f(w,s.getBBox(s.BoxType.PLOT_BOUND_NODE));u=x.hitTest(y).map(function(e){return e.dataId;});}else{u=r.call(this,s);}if(s.getStatus("rangeSelection")){var z=s.getStatus("selectedDataPoints");s.setStatus("selectedDataPoints",[]);var A=z.filter(function(e){return u.indexOf(e)<0;});if(A&&A.length>0){s.fireEvent("deselectDataPoint",{targets:b.getNodes(A,s),isAnyOtherSelected:u.length>0});s.fireEvent("dispatchDataEvent",{targets:A,isSelected:false});if(u.length===0){s.fireEvent("clearPlot",{isGray:false,rangeSelection:"clear"});}}if(u.length===0){s.fireEvent("dispatchDataEvent",{targets:[],isSelected:true});}}j.end();if(!s.getStatus("rangeSelection")||u.length>0){this._fireEvent(i,s,u,t,true);}else if(s.getStatus("rangeSelection")&&u.length===0){s.fireEvent("showDetail",{mode:"actionMode",point:t,bLassoEnd:true});}s.fireExternalEvent("lassoEnd");}s.setStatus("lassoStartPoint",null);S.processTimeCursor(i,s);},processTimeRange:function(e,s){if(s.getStatus("rangeSelection")){var i=s.getModule("main.plot");var j=i.getRealSize();var t=i.getSize();var u=i.getOffset();var v=s.getBBox(s.BoxType.PLOT_BOUND_NODE);var R=s.getBBox(s.BoxType.RANGE_SELECTION);var w=s.getTransformScaleRatio();R.width=R.width/v.width*t.width;var x={x:u.x-(R.left-v.left)/v.width*t.width,y:0};var y=s.getExtendTimeRange();x.x*=w.x;x.y*=w.y;j.width*=w.x;j.height*=w.y;var z=V.getTimeAxisDomain(R,x,j,y,i.isHorizontal());z[0]=Math.round(z[0]/100)*100;z[1]=Math.round(z[1]/100)*100;s.setStatus("rangeDomain",z);s.fireEvent("showDetail",e.data);}},refreshTimeRange:function(e,s){var t=s.getProperties().get("interaction.selectability.mode");var i=t?t.toUpperCase():t;var j=s.getProperties().get("interaction.selectability.plotLassoMode");if(!(j!=='range'||!s.getStatusManager().get("interaction.holdSelection")||i===C.SELECTION_MODE.NONE||i===C.SELECTION_MODE.SINGLE)){this._lassoDecoration.rangeRecover(e);}s._rootNode.node().style.cursor="default";},rangeRecover:function(e,s){this._lassoDecoration.rangeRecover(e);},changeRangeEffect:function(e,s){this._lassoDecoration.changeRangeEffect(e);},lassoEndForArea:function(e,s){if(this._validLasso(s)){var i=this._lassoDecoration;var j=s.getStatus("lassoStartPoint");var t=h(e);s.setStatus("lassoEndPoint",t);var u=null;u=p.call(this,s,j,t);i.end();this._fireEvent(e,s,u,e.data.point,true);s.setStatus("lassoStartPoint",null);s.fireExternalEvent("lassoEnd");}},lassoEndForComboEx:function(e,s){if(this._validLasso(s)){var j=s.getStatus("lassoStartPoint"),u=h(e);s.setStatus("lassoEndPoint",u);var v=r.call(this,s);var w=Array.prototype.slice.call(s.getNodes(s.NodeType.DATA_POINT,false)),x=s.getStatusManager().get("plotArea.series").map(function(t,i){return t.type==="area";}),y=[].filter.call(w,function(i){return x[c.getData(i).seriesIndex];});var z=p.call(this,s,j,u,y);v=v.concat(z.filter(function(t){return v.indexOf(t)===-1;}));this._lassoDecoration.end();this._fireEvent(e,s,v,e.data.point,true);s.setStatus("lassoStartPoint",null);s.fireExternalEvent("lassoEnd");}},_validLasso:function(s){var e=this._lassoDecoration;if(!e){return false;}var i=s.getProperties().get("interaction.selectability");if(!i){return false;}var j=i.mode?i.mode.toUpperCase():i.mode;if(!i.plotLassoSelection||j===C.SELECTION_MODE.NONE||j===C.SELECTION_MODE.SINGLE||!s.getStatus("lassoStartPoint")){return false;}return true;},_fireEvent:function(e,s,i,j,t){s.fireEvent("processSelection",{targets:i,deselectable:false,ctrlKeyPressed:e.data.ctrlKey});var u=s.getStatus("selectedDataPoints");if(u.length&&i.length){var v=e.data.target;while(v){if(v.getAttribute){if(a.hasClass(v,"v-datalabel")){v=D.getDataPointByDataLabel(v,s);if(!d()){s.setStatus("hoveringDataPoint",v);}break;}if(a.hasClass(v,"v-datapoint")){if(!d()){s.setStatus("hoveringDataPoint",v);}break;}v=v.parentNode;}else{v=undefined;}}if(!v){v=this._getShowDetailTarget(u,s);}if(t){this._fireShowDetail(s,v,j);}}else{this._fireHideDetail(s);}},_fireShowDetail:function(s,e,i){s.fireEvent("showDetail",{target:e,mode:"actionMode",point:i,bLassoEnd:true,action:"select"});},_fireHideDetail:function(s){s.fireEvent("hideDetail",{mode:"actionMode"});},_drawLassoRect:function(e,s){var i=this._lassoDecoration;if(!i){return;}var j=s.getProperties().get("interaction.selectability");if(!j){return;}var t=j.mode?j.mode.toUpperCase():j.mode;if(!j.plotLassoSelection||t===C.SELECTION_MODE.NONE||t===C.SELECTION_MODE.SINGLE||!s.getStatus("lassoStartPoint")){return;}e.data.originalEvent.preventDefault();i.moveTo(s.getBBox(s.BoxType.ROOT_NODE),e.data.point,s.getBBox(s.BoxType.PLOT_BOUND_NODE),e);},_getBoundSelection:function(s){return s.getNodes(s.NodeType.PLOT_BOUND_SELECTION,false);},_isCovered:function(e,j){var s=g(e);for(var i=-1;++i<j.length;){if(B.intersects(s,j[i])){return true;}}return false;},_getShowDetailTarget:function(s,e){if(s.length===1){var i=e.getNodes(e.NodeType.DATA_POINT_GROUP,false)[0];return b.findByDataPointId(i,s[0]);}},_getTargets:function(e,s){var i=s.getNodes(s.NodeType.DATA_POINT,false);return[].slice.call(i).filter(function(j){return this._isCovered(j,e);},this).map(function(j){var t=c.getData(j);return D.getDataPointId(j);});}};function l(v,e){return v.x*e.y-v.y*e.x;}function m(e,i){var x=e.point1.x;var y=e.point1.y;var j=e.point2.x;var s=e.point2.y;var t=i.point1.x;var u=i.point1.y;var w=i.point2.x;var z=i.point2.y;var A={"x":x-t,"y":y-u};var E={"x":j-t,"y":s-u};var F={"x":w-t,"y":z-u};var v=l(A,F)*l(E,F);A={"x":t-x,"y":u-y};E={"x":w-x,"y":z-y};F={"x":j-x,"y":s-y};return(v<=0&&l(A,F)*l(E,F)<=0)?true:false;}k._isContains=function(t,e){var i,j;var s=false;for(i=0,j=e.length-1;i<e.length;j=i++){if((e[i].y>t.y)!=(e[j].y>t.y)&&(t.x<(e[j].x-e[i].x)*(t.y-e[i].y)/(e[j].y-e[i].y)+e[i].x)){s=!s;}}return s;};function n(e,i){var j=[];e.forEach(function(s){j.push({"x":s.x+i.x,"y":s.y+i.y});});return j;}k._isIntersect=function(e,s){var i,j,t,u;for(i=1;i<e.length;i++){for(j=1;j<s.length;j++){t={"point1":e[i-1],"point2":e[i]};u={"point1":s[j-1],"point2":s[j]};if(m(t,u)){return true;}}}return false;};function o(s,e){var i=[];i.push({"x":s.x,"y":s.y});i.push({"x":e.x,"y":s.y});i.push({"x":e.x,"y":e.y});i.push({"x":s.x,"y":e.y});i.push({"x":s.x,"y":s.y});return i;}function p(s,e,i,j){var t=q.call(this,s);var u=j||s.getNodes(s.NodeType.DATA_POINT,false);var v=o(e,i);var w=s.getNodes(s.NodeType.PLOT_BOUND_SELECTION,false)[0].getBoundingClientRect(),x={x:w.left+window.pageXOffset,y:w.top+window.pageYOffset};return[].slice.call(u).filter(function(y){var z=this._isCovered(y,t);if(z){return true;}else{var A=c.getGraphicInfo(y);var E=n(A.areaPath,x);if(k._isIntersect(E,v)||k._isContains(e,E)){return true;}}return false;},this).map(function(y){return D.getDataPointId(y);});}function q(s){var e=this._lassoDecoration.getBoundingClientRect();var i=[];var j=this._getBoundSelection(s);if(!(j instanceof window.NodeList)&&!T.isArray(j)){j=[j];}j.forEach(function(t){var u=B.intersection(e,g(t));if(u){i.push(u);}});return i;}function r(s){var e=q.call(this,s);return this._getTargets(e,s);}return k;});define('sap/viz/chart/behavior/config/LassoBehaviorConfig',["sap/viz/chart/behavior/config/handler/LassoBehaviorHandler"],function(L){var e="v-m-root";var a=['info/timeseries_line','info/timeseries_column','info/timeseries_scatter','info/timeseries_bubble',"info/timeseries_combination","info/dual_timeseries_combination","info/timeseries_stacked_column","info/timeseries_100_stacked_column","info/timeseries_bullet","info/timeseries_waterfall"];return[{"id":"lassoBehaviorDefinition","handler":L,"handlerType":"class","triggerEvent":[{"name":"standAloneInitialized","method":"standAloneInitialized"},{"name":"afterBehaviorLoaded","method":"initialized"},{"name":"beforeBehaviorUnloaded","method":"unloadClear"},{"name":"lassostart","targets":e,"excludeTargets":"v-m-scrollbarThumb","method":"lassoStart"},{"name":"lassomove","targets":e,"method":"lassoMove"},{"name":"lassoend","targets":e,"method":"lassoEnd"},{"name":"afterChartRendered","targets":e,"method":"refreshTimeRange","supportedChartTypes":a},{"name":"rangeRecover","targets":e,"method":"rangeRecover","supportedChartTypes":a},{"name":"timeRangeChanged","targets":e,"method":"processTimeRange","supportedChartTypes":a},{"name":"changeRangeEffect","targets":e,"method":"changeRangeEffect","supportedChartTypes":a},{"name":"lassoend","targets":e,"supportedChartTypes":["info/area","info/horizontal_area","info/100_area","info/100_horizontal_area","info/trellis_area","info/trellis_horizontal_area","info/trellis_100_area","info/trellis_100_horizontal_area"],"method":"lassoEndForArea"},{"name":"lassoend","targets":e,"supportedChartTypes":["info/combinationEx"],"method":"lassoEndForComboEx"}]}];});define('sap/viz/chart/behavior/config/DataPointBehaviorConfigForArea',["sap/viz/framework/common/util/Constants","sap/viz/framework/common/util/TypeUtils","sap/viz/chart/behavior/config/HighlightHelper","sap/viz/framework/common/util/DataGraphics","sap/viz/chart/components/util/DataPointUtils","sap/viz/framework/common/util/UADetector","sap/viz/chart/components/util/ChartTypeUtils","sap/viz/chart/behavior/config/SelectionUtil",'sap/viz/framework/common/util/DataUtils','sap/viz/framework/common/util/DOM',"sap/viz/framework/common/util/SVG","sap/viz/framework/interaction/InteractionUtils"],function(C,T,H,D,a,U,b,S,c,f,g,I){var h=["info/area","info/horizontal_area","info/100_area","info/100_horizontal_area"];h=b.addTrellisType(h);var j=C.CSS.CLASS;var r=j.AREA_REF_LINE;var k=2;var l=1;var m=0.8;var o="1";var P=["path","circle","rect","ellipse"];function p(d){var i;if(d.trellisColumn){i=i||"";d.trellisColumn.forEach(function(e){i+=c.getDimensionValue(e)+".";});}if(d.trellisRow){i=i||"";d.trellisRow.forEach(function(e){i+=c.getDimensionValue(e)+".";});}return i;}function q(d){var e={};for(var i=0;i<d.length;i++){var n=D.getData(d[i]).trellisInfo;var x=p(n);if(!e[x]){e[x]=[];e[x].info=n;}e[x].push(d[i]);}return e;}function s(d,e,n,x){if(!n&&D.getData(d[0]).trellisInfo){var y=q(d);for(var J in y){if(y.hasOwnProperty(J)){var K=y[J];s(K,e,true,K.info);}}return;}var L=e.isHorizontal();var M=d[0].parentNode.parentNode;var N=g.create("g");N.setAttribute("class",j.AREA_GROUP_SELECTED);M.parentNode.insertBefore(N,M);var O=u(d);for(var i=0;i<O.length;i++){if(O[i]){v(e,O[i],N,L,i,x);}}}function t(d){var n=d.getNodes(d.NodeType.AREA_GROUP_SELECTED,false);for(var i=0,e=n.length;i<e;i++){f.remove(n[i]);}}function u(d){var e=[];for(var i=0;i<d.length;i++){var n=D.getData(d[i]);e[n.seriesIndex]=e[n.seriesIndex]||[];e[n.seriesIndex][n.itemIndex]=d[i];}return e;}function v(d,e,n,x,y,J){if(!e||e.length<2){return;}var K=d.getProperties().get('plotArea.drawingEffect');var L,M,N,O;var Q=w(y,d,K,J);if(Q){O=Q.customizedColor||Q.defaultColor;}var R=d.getProperties();var V=R.get('plotArea.areaRenderer');if(d._getChartType()==="info/combinationEx"){V=R.get('plotArea.area.renderer');}if(V){var W=a.findArea(n.parentNode,y);var X=D.getData(W);if(X.color){O=X.color;}}var Y=e.length;var Z=[],$=[];for(var i=0;i<Y;i++){N=e[i];if(e[i]){Z.push(D.getData(N));$.push(N);}else{L=B(Z,x);if(L){M=z(L,$,O);n.appendChild(M);}Z=[];$=[];}}L=B(Z,x);if(L){M=z(L,$,O);n.appendChild(M);}}function w(i,d,e,n){var x;if(n){x=d.getModule("main").getChildPlot(n);}else{x=d.getModule("main.plot");}if(!x||!x.getSeriesStyle){return null;}var y=x.getSeriesStyle(i);var J={isReverse:true};var K=H.getColors(d,null,null,null,e,J,y);if(K){return K;}return null;}function z(d,e,i){var n=g.create("path");n.setAttribute("d",d);n.setAttribute("fill",i);n.setAttribute("fill-opacity",m);D.setData(n,{"dataPoints":e});n.setAttribute("class",j.AREA_SELECTED);return n;}var A=function(d,x,y){return d+x+","+y;};var B=function(e,i){var n=1,x=e.length;if(x<=1){return null;}var y=e[0].position;var d=A("M",y.x,y.y);var R;if(i){R=A("L",y.x-y.width,y.y);for(;n<x;n++){y=e[n].position;d+=A("L",y.x,y.y);R=A("L",y.x-y.width,y.y)+R;}}else{R=A("L",y.x,y.y+y.height);for(;n<x;n++){y=e[n].position;d+=A("L",y.x,y.y);R=A("L",y.x,y.y+y.height)+R;}}d+=R;return d;};function E(d,e){var i=D.getData(e);var n=i.trellisInfo;var x;if(n){x=d.getModule("main").getChildPlot(n);}else{x=d.getModule("main.plot");}if(!x||!x.drawAreaRefLine){return null;}return x.drawAreaRefLine(i.seriesIndex,i.itemIndex);}function F(d,e,i,n,x){var y=a.getDataPointId(e);var J=d.getNodes(d.NodeType.AREA_REF_LINE,false);var K=a.findByDataPointIds(J,y)[0];if(!K){K=E(d,e);if(!K){return;}}K.setAttribute("stroke-width",x);var L=d.getProperties().get('plotArea.drawingEffect');var M=H.getColors(d,e,n,null,L);M=M.customizedColor||M.defaultColor;K.setAttribute("stroke",M);if(i){K.setAttribute("opacity",o);K.setAttribute("fill-opacity",o);K.setAttribute("stroke-opacity",o);}else{var N=D.getData(e).opacity;if(N===0){K.setAttribute("opacity",N);K.setAttribute("fill-opacity",N);K.setAttribute("stroke-opacity",N);}else{K.removeAttribute("opacity");K.removeAttribute("fill-opacity");K.removeAttribute("stroke-opacity");}}}function G(e,i){var d=e.firstChild;if(i){e.setAttribute("opacity",o);if(d){d.setAttribute("stroke-opacity",o);d.setAttribute("fill-opacity",o);}}else{var n=D.getData(e).opacity;e.removeAttribute("stroke");e.removeAttribute("opacity");e.removeAttribute("fill-opacity");e.removeAttribute("stroke-opacity");if(d){if(n===0){e.setAttribute("opacity",n);d.setAttribute("stroke-opacity",n);d.setAttribute("fill-opacity",n);}else{d.removeAttribute("stroke-opacity");d.removeAttribute("fill-opacity");}}}}return[{"id":"selectDataPoint_area","triggerEvent":{"name":"selectDataPoint","supportedChartTypes":h},"handler":function(d,i){i.fireEvent(d,true);var n=H.turnToArray(d.data.targets);if(!n||!n.length){return;}t(i);s(n,i);var x=i.getProperties();var y=x.get('interaction.selected');var J=T.isExist(x.get('plotArea.markerRenderer'));n.forEach(function(e){F(i,e,true,y.color,1);P.forEach(function(K){H.drawStroke(i,e,K,y.stroke,1);H.drawFill(i,e,K,y,J,true);});G(e,true);});}},{"id":"deselectDataPoint_area","triggerEvent":{"name":"deselectDataPoint","supportedChartTypes":h},"handler":function(d,i){i.fireEvent(d,true);t(i);var n=H.turnToArray(d.data.targets);var x=i.getProperties();var y=d.data.isAnyOtherSelected?x.get('interaction.deselected'):x.get('plotArea.dataPoint');var J=T.isExist(x.get('plotArea.markerRenderer'));n.forEach(function(e){F(i,e,false,y.color,1);P.forEach(function(K){H.drawStroke(i,e,K,y.stroke,1);H.drawFill(i,e,K,y,J,true);});G(e,false);});}},{"id":"hoverOnDataPoint_area","triggerEvent":{"name":"hoverOnDataPoint","supportedChartTypes":h},"handler":function(d,i){i.fireEvent(d,true);var n=H.turnToArray(d.data.targets);var x=i.getProperties();var y=x.get('interaction.hover');var J=T.isExist(x.get('plotArea.markerRenderer'));n.forEach(function(e){F(i,e,true,y.color,2);P.forEach(function(K){H.drawStroke(i,e,K,y.stroke,2);H.drawFill(i,e,K,y,J,true);});G(e,true);});}},{"id":"unhoverOnDataPoint_area","triggerEvent":{"name":"unhoverOnDataPoint","supportedChartTypes":h},"handler":function(d,i){i.fireEvent(d,true);var n=H.turnToArray(d.data.targets);var x=i.getProperties();var y;var J=T.isExist(x.get('plotArea.markerRenderer'));var K=i.getStatus("selectedDataPoints");n.forEach(function(e){var L;if(d3.select(e).classed(j.DATAPOINTSELECTED)){y=x.get('interaction.selected');L=true;}else{if(K.length){y=x.get('interaction.deselected');}else{y=x.get('plotArea.dataPoint');}L=false;}F(i,e,L,y.color,1);P.forEach(function(M){H.drawStroke(i,e,M,y.stroke,1);H.drawFill(i,e,M,y,J,true);});G(e,L);});}},{"id":"clearPlot_area","triggerEvent":{"name":"clearPlot","supportedChartTypes":h},"handler":function(d,i){i.fireEvent(d,true);var n=i.getStatus("areaDataPoints")||i.getNodes(i.NodeType.DATA_POINT,false);if(!n||!n.length){return;}var x=d.data.isGray;var y=i.getProperties();var J=x?y.get('interaction.deselected'):y.get('plotArea.dataPoint');var K=T.isExist(y.get('plotArea.markerRenderer'));n.forEach(function(e){F(i,e,false,J.color,1);P.forEach(function(O){H.drawStroke(i,e,O,J.stroke,1);H.drawFill(i,e,O,J,K,true);});G(e,false);});var L=y.get('interaction.deselected.color');var M=y.get('plotArea.drawingEffect');var N=i.getNodes(i.NodeType.AREA,false);N.forEach(function(e){var O={isReverse:true};var Q=H.getColors(i,e,L,null,M,O);var R=e.querySelector('.'+j.AREA_PATH);var V=e.querySelector('.'+j.AREA_LINE_PATH);if(x&&Q.customizedColor){e.setAttribute('fill',Q.customizedColor);R.setAttribute('fill',Q.customizedColor);V.setAttribute('fill',Q.customizedColor);}else{e.setAttribute('fill',Q.defaultColor);R.setAttribute('fill',Q.defaultColor);V.setAttribute('fill',Q.defaultColor);}});}},I.getDeselectEvent("click_on_non_selection_area",h,H.getDeselAllExTargets())];});define('sap/viz/chart/components/renderers/LineRenderer',["sap/viz/framework/common/util/SVG"],function(S){var L=function(){var a=function(c){var g=c.graphic;var p=S.create("path");p.setAttribute("d",S.generatePath(c));p.setAttribute("fill","none");p.setAttribute("stroke-linejoin","round");p.setAttribute("stroke",g.color);p.setAttribute("stroke-width",g.width);if(g.dash){p.setAttribute("stroke-dasharray",g.dash);}if(g.linecap){p.setAttribute("stroke-linecap",g.linecap);}return p;};a.update=function(n,c){n.setAttribute("d",S.generatePath(c));if(c.graphic){var g=c.graphic;if(g.color){n.setAttribute("stroke",g.color);}if(g.width){n.setAttribute("stroke-width",g.width);}if(g.dash){n.setAttribute("stroke-dasharray",g.dash);}else{n.removeAttribute("stroke-dasharray");}if(g.linecap){n.setAttribute("stroke-linecap",g.linecap);}else{n.removeAttribute("stroke-linecap");}}};return a;};return L;});define('sap/viz/chart/components/renderers/AreaRenderer',["sap/viz/framework/common/util/SVG","sap/viz/framework/common/util/DataGraphics",'sap/viz/framework/common/util/Constants'],function(S,D,C){var a="DIRECTION_LEFT";var b="DIRECTION_RIGHT";var c="DIRECTION_BOTH";var e=C.CSS.CLASS;var f=function(p,t,i){if(t.length>1){p.areaPath=m(p.areaPath,t,i);p.detectionPath=k(p.detectionPath,t,i);}else if(t[0]&&t[0].dataPoint){p.linePath=m(p.linePath,t,i);p.detectionPath=k(p.detectionPath,t,i);}};var g=function(p,d){if(!p){return null;}var h={"areaPath":"","linePath":"","detectionPath":""};var n=p.length;var q=false;var r=false;var t=[];var u;for(var i=0;i<n;i++){u=p[i];if(u){if(u.dataPoint){t.push(u);r=false;q=false;continue;}if(!q){t.push(u);r=false;}else{if(!r){r=true;f(h,t,d);}t=[u];}q=true;}else{if(!r){r=true;f(h,t,d);}t=[];}}f(h,t,d);return h;};var s=function(d,h,i,n){var p=g(n.points,n.isHorizontal);if(!p){return;}var q,r;[{node:d,pathKey:"areaPath"},{node:h,pathKey:"linePath"},{node:i,pathKey:"detectionPath"}].forEach(function(t){r=t.node;q=p[t.pathKey];if(q){r.setAttribute("d",q);}else{r.removeAttribute("d");}});};var A=function(d){var h=d.ctx;var i=d.graphic;var n=i.opacity;var p=S.create("path");p.setAttribute("class",e.AREA_PATH+" "+e.MORPHABLEAREABG);p.setAttribute("fill",o(d));p.setAttribute("opacity",n);var q=S.create("path");q.setAttribute("stroke",i.color);q.setAttribute("stroke-width","1px");q.setAttribute("opacity",n);q.setAttribute("class",e.AREA_LINE_PATH+" "+e.MORPHABLEAREABG);var r=S.create("path");r.setAttribute("class",e.AREA_DETECTION_PATH);r.setAttribute("opacity","0");var t=S.create("g");[p,q,r].forEach(function(u){D.setContext(u,h);t.appendChild(u);});s(p,q,r,d);return t;};A._getAreaPathByDataPoints=g;var j=function(p,d,i){if(!p){return;}var x=+p.x;var y=+p.y;var w=+p.width;var h=+p.height;var n=p;var q=p;if(d===a||d===c){n={};n.x=i?x:x-10;n.y=i?y-10:y;n.width=w;n.height=h;}if(d===b||d===c){q={};q.x=i?x:x+10;q.y=i?y+10:y;q.width=w;q.height=h;}return[{"position":n},{"position":q}];};var k=function(d,h,i){var n=h[0].position;var p=h[h.length-1].position;if(n===p){d=m(d,j(n,c,i),i);}else{d=m(d,j(n,a,i),i);d=m(d,j(p,b,i),i);}return d;};var l=function(d,x,y){return d+x+","+y;};var m=function(d,h,i){var n=1,p=h.length;var q=h[0].position;d+=l("M",q.x,q.y);var r;if(i){r=l("L",q.x-q.width,q.y);for(;n<p;n++){q=h[n].position;d+=l("L",q.x,q.y);r=l("L",q.x-q.width,q.y)+r;}}else{r=l("L",q.x,q.y+q.height);for(;n<p;n++){q=h[n].position;d+=l("L",q.x,q.y);r=l("L",q.x,q.y+q.height)+r;}}d+=r;return d;};A.update=function(n,d){var h=n.querySelector("."+e.AREA_PATH);var i=n.querySelector("."+e.AREA_LINE_PATH);var p=n.querySelector("."+e.AREA_DETECTION_PATH);s(h,i,p,d);};var o=function(d){var h=d.effectManager.register({drawingEffect:d.graphic.drawingEffect,fillColor:d.graphic.color,direction:d.isHorizontal?'horizontal':'vertical'});return h;};return A;});define('sap/viz/chart/components/renderers/RadarRenderer',["sap/viz/framework/common/util/SVG"],function(S){var R=function(c){var a=c.graphic;var p=S.create("path");var d=b(c.points);var e=g(c);var o=a.visible?a.opacity:0;p.setAttribute("d",d);p.setAttribute("fill-opacity",o);p.setAttribute("fill",e.fill);p.style.pointerEvents="none";if(a.strokeVisible){p.setAttribute("stroke-width",a.strokeWidth);p.setAttribute("stroke",e.color);p.setAttribute("stroke-linejoin","round");}if(c.filterId){p.setAttribute("filter",'url(#'+c.filterId+')');}return p;};R.update=function(n,c){};function b(a){var d;var c;for(var i=0;i<a.length;i++){if(a[i]&&a[i].position){d=d?d+"L":"M";if(d==="M"){c="L"+a[i].position.x+","+a[i].position.y;}d+=a[i].position.x+","+a[i].position.y;}}d+=c;return d;}var g=function(c){var a={};a.fill=c.effectManager.register({drawingEffect:c.graphic.drawingEffect,fillColor:c.graphic.fill,});a.color=c.effectManager.register({drawingEffect:c.graphic.drawingEffect,fillColor:c.graphic.color,});return a;};return R;});define('sap/viz/chart/components/util/SeriesUtil',['sap/viz/framework/common/util/DataGraphics','sap/viz/framework/common/util/SVG','sap/viz/framework/common/util/DOM','sap/viz/framework/common/util/TypeUtils','sap/viz/framework/common/util/Constants','sap/viz/framework/common/util/NameColorUtils','sap/viz/framework/common/util/ObjectUtils','sap/viz/chart/components/util/DataPointUtils','sap/viz/chart/components/util/ChartConstants','sap/viz/chart/components/renderers/LineRenderer','sap/viz/chart/components/renderers/AreaRenderer','sap/viz/chart/components/renderers/RadarRenderer','sap/viz/framework/chartmodel/ContextBuilder'],function(D,S,a,T,C,N,O,b,c,L,A,R,d){var f=L();var g=A;var h=N.convertColor;var j=0.8;var k="combination-line";var l=C.CSS.CLASS;var m=l.LINES+" "+l.MORPHABLELINE;var o=C.LINE_TYPE;function p(e,n,x){var y=e.length;var M=[];var P,Q,U,V;var W=-1;for(var i=0;i<y;i++){if(e[i]){U=e[i].dataPoint;if(!U){continue;}P=D.getData(U);P.seriesIndex=n;P.itemIndex=i;if(y===1){P.labelPosition=C.LABEL_POSITION.MIDDLE;P.isIsolate=true;}else if(i===0){P.labelPosition=C.LABEL_POSITION.RIGHT;}else if(i===y-1){P.labelPosition=C.LABEL_POSITION.LEFT;if(W===i-1){P.isIsolate=true;}}else{if(i-W===1){P.labelPosition=C.LABEL_POSITION.RIGHT;}else{P.labelPosition=C.LABEL_POSITION.MIDDLE;}}M.push(U);D.setData(U,P);}else{W=i;if(i<=0||!e[i-1]||!e[i-1].dataPoint){continue;}U=e[i-1].dataPoint;P=D.getData(U);if(i===1){P.isIsolate=true;}else{if(P.labelPosition===C.LABEL_POSITION.RIGHT){P.labelPosition=C.LABEL_POSITION.MIDDLE;P.isIsolate=true;}else{P.labelPosition=C.LABEL_POSITION.LEFT;}}}}return M;}function q(e){var n=e.length;var x;var y,M,P;for(var i=0;i<n;i++){y=e[i];if(!y||!y.dataPoint){continue;}M=null;P=null;if(i>0&&e[i-1]){M=e[i-1];}if(i<n-1&&e[i+1]){P=e[i+1];}x={areaPath:r(y,M,P)};D.setGraphicInfo(y.dataPoint,x);}}function r(e,i,n){var M=e.position;var P=M.x;var Q=M.y;var U=M.width;var V=M.height;var W,X;var x,y,Y=[];if(i){W=i.position;if(!i.dataPoint){Y.push({"x":W.x,"y":W.y});}else{x=(P-U)-((P-U)-(W.x-W.width))/2;y=(Q+V)-((Q+V)-(W.y+W.height))/2;Y.push({"x":x,"y":y});x=P-(P-W.x)/2;y=Q-(Q-W.y)/2;Y.push({"x":x,"y":y});}}Y.push({"x":P,"y":Q});if(n){X=n.position;if(!n.dataPoint){Y.push({"x":X.x,"y":X.y});}else{x=P+(X.x-P)/2;y=Q+(X.y-Q)/2;Y.push({"x":x,"y":y});x=(P-U)+((X.x-X.width)-(P-U))/2;y=(Q+V)+((X.y+X.height)-(Q+V))/2;Y.push({"x":x,"y":y});}}Y.push({"x":P-U,"y":Q+V});Y.push(Y[0]);return Y;}function s(e,i,n,x,y){var M=i.position;var P=y?y.x:0;var Q=y?y.y:0;var U=M.x+P;var V=M.y+Q;var W=U+M.width;var X=V+M.height;if(x){if(n){U=W;W-=M.width;}e.push([U,V]);e.push([W,V]);e.push([W,X]);e.push([U,X]);}else{if(n){X=V;V+=M.height;}e.push([U,X]);e.push([U,V]);e.push([W,V]);e.push([W,X]);}}function t(e,i){e.graphic={color:e.color,width:1,opacity:1};delete e.color;e.isHorizontal=i;}function u(e,i,n,x){var y=e(i);y.setAttribute("class",l.BAR_SERIES_PATH);D.setData(y,i.graphic);if(n){y.setAttribute("display","none");}else{y.removeAttribute("display");}x.insertBefore(y,x.firstChild);}function v(e,i){var n=e.graphic.fill;var x=e.rawData.dp.context();var y=i.analyzeDataPoint("color",x);if(y&&y.color){n=h(y.color);}return n;}function w(e,i,x,y){var M=[];var P={points:[]};var Q,U,V,W;var X=e.length;for(var n=0;n<X;n++){Q=e[n];if(!Q||!Q.position){continue;}U=Q.dpConfig;W=y.register({fillColor:v(U,x)});if(P.points.length!==0&&V!==W){P.color=V;M.push(P);P={points:[]};}s(P.points,Q,!!U.negative,i);V=W;}if(P.points.length>0){P.color=V;M.push(P);}return M;}function z(e,i,n){e.graphic={color:e.color,width:i};delete e.color;if(e.type===o.DASHED||e.type===o.DOTTED){e.graphic.dash=C.LINE_DASH_TYPE_ARRAY;}else if(e.type===C.LINE_TYPE.DOT){e.graphic.dash="0,"+(i*2);e.graphic.linecap="round";}delete e.type;e.isHorizontal=n;}function B(e,i,n,x,y){var M=i(n)||f(n);M.setAttribute("class",m);if(y){M.setAttribute(k,"true");}D.setData(M,n.graphic);D.setContext(M,x);e.appendChild(M);}function E(e,i,n){var x=n;var y=i.analyzeDataPoint("lineColor",e);if(y&&y.lineColor){x=h(y.lineColor);}return x;}function F(e,i,n){var x=n||"solid";var y=i.analyzeDataPoint("lineType",e);if(y&&(y.lineType===o.DOT||y.lineType===o.DASHED||y.lineType===o.DOTTED)){x=y.lineType;}return x;}function G(e,i,n){var x=d.buildSeriesLineContext(e,i);var y=n.analyzeSeriesStyle(x,"line");return y&&y.line&&y.line.type;}function H(e,i,x,y,M,P){var Q=[];var U={points:[]};var V,W,X,Y,Z;var $,_,a1,b1,c1,d1;var e1=e.length;for(var n=0;n<e1;n++){V=e[n];if(!V||!V.position){if(U.points.length>=2){U.color=a1;U.type=c1;Q.push(U);}_=null;U={points:[]};continue;}W=V.dpConfig;Z=V.position;$=[Z.x,Z.y];$.id=W.dataId;if(_==null){U.points.push($);}Y=[W.rawData.dp.context()];X=e[n+1];_=null;if(X&&X.position){Y.push(X.dpConfig.rawData.dp.context());Z=X.position;_=[Z.x,Z.y];_.id=X.dpConfig.dataId;}b1=x.register({fillColor:E(Y,i,y)});d1=F(Y,i,P);if(U.points.length>=2&&((!M&&(c1===o.DASHED||c1===o.DOTTED||c1===o.DOT))||a1!==b1||c1!==d1)){U.color=a1;U.type=c1;Q.push(U);_=null;U={points:[$]};}else if(_){U.points.push(_);}a1=b1;c1=d1;}if(U.points.length>=2){U.color=a1;U.type=c1;Q.push(U);}return Q;}function I(e){var i;var x=[],y;for(var n=0;n<e.length;n++){if(!e[n]||!e[n].position){x.push('');continue;}i=e[n].position;y=[i.x,i.y];y.id=e[n].dpConfig.dataId;x.push(y);}return x;}function J(n){var x=0;if(n){n.forEach(function(e){var y=0;for(var i=0;i<e.length;i++){if(e[i].valueAxis){y++;}}x=Math.max(x,y);});}return x;}function K(e,i){return(e/i<10);}return{getMaxSeriesLength:J,isBigDensityMode:K,addRectSeriesPathPoints:s,parseSemanticColor:v,parseSemanticLineColor:E,parseSemanticLineType:F,parseSeriesLineType:G,drawBarSeries:function(e,i,x,y,M,P){if(x.hasDataPointColorStyle()){var Q=w(i,M,x,y);Q.forEach(function(_){t(_,M);u(f,_,P,e);});}else{var U=[];var n,V,W,X,Y,Z;var $=i.length;for(n=0;n<$;n++){X=i[n];if(!X||!X.position){continue;}Y=X.dpConfig;Z=Y.graphic;s(U,X,!!Y.negative,M);if(!W){W=y.register({fillColor:Z.fill});V=Z.opacity;}}var _={graphic:{color:W,width:1,opacity:V},points:U,isHorizontal:M};u(f,_,P,e);}},updateBarSeries:function(e,x,y,M,P,Q){var U=e.querySelectorAll("path."+l.BAR_SERIES_PATH);if(Q){[].forEach.call(U,function(X){X.setAttribute("display","none");});return;}var n;var V=x.length;if(y.hasDataPointColorStyle()){var W=w(x,P,y,M);var X;W.forEach(function($,i){t($,P);X=U[i];if(X){f.update(X,$);D.setData(X,$.graphic);X.removeAttribute("display");}else{u(f,$,Q,e);}});for(n=W.length;n<U.length;++n){a.remove(U[n]);}}else{var Y;var Z=[];for(n=0;n<V;n++){Y=x[n];if(!Y||!Y.position){continue;}s(Z,Y,!!Y.dpConfig.negative,P);}var $={points:Z,isHorizontal:P};f.update(U[0],$);U[0].removeAttribute("display");}},drawLine:function(e,i,n,x,y,M,P,Q,U){var V=I(i);var W={points:V,isHorizontal:Q,ctx:M};if(P.prepare){W=P.prepare(W)||W;}var X=y.color;var Y=y.lineWidth;var Z=y.isCombination;var $=S.create("g");$.setAttribute("class",l.LINES_GROUP);var _={color:X,width:Y};if(y.lineType===o.DASHED||y.lineType===o.DOTTED){_.dash=C.LINE_DASH_TYPE_ARRAY;}else if(y.lineType===o.DOT){_.dash="0,"+(Y*2);_.linecap="round";}D.setData($,_);D.setContext($,M);var a1;if(n.hasDataPointLineStyle()||y.lineType===o.DASHED||y.lineType===o.DOTTED||y.lineType===o.DOT){var b1=H(i,n,x,X,U,y.lineType);b1.forEach(function(W){z(W,Y,Q);B($,P,W,M,Z);});}else{W.graphic=_;B($,P,W,M,Z);}e.insertBefore($,e.firstChild);},updateLine:function(e,x,y,M,P,Q,U,V,W){if(!T.isFunction(U.update)){return false;}var X=I(x);var Y={points:X,isHorizontal:V,ctx:Q};if(U.prepare){Y=U.prepare(Y)||Y;}var Z=P.color;var $=P.lineWidth;var _=P.isCombination;var a1;if(y.hasDataPointLineStyle()||P.lineType===o.DASHED||P.lineType===o.DOTTED||P.lineType===o.DOT){var b1=e.querySelector("."+l.LINES_GROUP);var c1=e.querySelectorAll("."+l.LINES);var d1=H(x,y,M,Z,W,P.lineType);d1.forEach(function(Y,i){z(Y,$,V);a1=c1[i];if(a1){U.update(a1,Y);D.setData(a1,Y.graphic);}else{B(b1,U,Y,Q,_);}});for(var n=d1.length;n<c1.length;++n){a.remove(c1[n]);}}else{a1=e.querySelector("."+l.LINES);U.update(a1,Y);}return true;},linkLine:function(e){var n=null;var x;for(var i=0;i<e.length;i++){var y=e[i];if(!y||!y.dataPoint){n=y;continue;}var M=D.getData(y.dataPoint);M.type='line';M.translate=y.dpConfig.data.translate;if(n&&n.dataPoint){x=n.dataPoint;M.prev=b.getDataPointId(x);D.getData(x).next=b.getDataPointId(y.dataPoint);}n=y;}},drawArea:function(e,i,n,x,y,M,P,Q,U){q(i);var V=Q.color;var W={graphic:{color:V,opacity:j,drawingEffect:x},points:i,effectManager:y,ctx:M,isHorizontal:U};var X;if(P){X=P(W);}var Y=X||g(W);Y.setAttribute("class",l.AREA);var Z=p(i,n,W);if(P){var $=Y.querySelector('.'+l.AREA_PATH);if($){var _=$.getAttribute('fill');if(_){V=_;}}}b.setAreaId(Y,n);D.setData(Y,{"color":V,"dataPoints":Z});D.setContext(Y,M);e.appendChild(Y);},updateArea:function(e,i,n,x,y){if(!e){return false;}x=x||g;if(!x.update||!T.isFunction(x.update)){return false;}var M=b.findArea(e,n);if(!M){return false;}q(i);var P={points:i,isHorizontal:y};x.update(M,P);var Q=p(i,n,P);D.getData(M).dataPoints=Q;return true;},getSeriesType:function(i,e,n){var x;if(i){switch(n){case c.COLUMN_COMBINATION:x=i.color?i.color.mndIndex:-1;break;case c.STACKED_COMBINATION:if(i.color){x=i.color.mndIndex;}else if(i.color2){x=i.color2.mndIndex;}else{x=-1;}break;}return e[x]||c.LINE;}return c.LINE;},drawNet:function(i,n,x,y,M,P,Q,U){P.line.color=N.convertColor(P.line.color);P.area.color=N.convertColor(P.area.color);var V=P.area.hasOwnProperty("visible")?P.area.visible:Q.visible;var W=P.area.opacity||Q.opacity;var X={graphic:{visible:V,color:P.line.color,fill:P.area.color,opacity:W,strokeVisible:U.visible,strokeWidth:U.width},points:n,effectManager:y,ctx:M};var Y=R(X);Y.setAttribute("class",l.RADAR_NET);D.setData(Y,{"seriesIndex":x,"color":X.graphic.color,"pointSum":n.filter(function(e){return Boolean(e);}).length,"fill":X.graphic.fill,"visibility":V?"visible":"hidden","opacity":W});D.setContext(Y,M);i.insertBefore(Y,i.firstChild);}};});define('sap/viz/chart/behavior/config/handler/DataPointBehaviorHandler',["sap/viz/framework/common/util/Constants",'sap/viz/framework/interaction/Constants',"sap/viz/framework/common/util/UADetector","sap/viz/chart/components/util/DataPointUtils","sap/viz/chart/behavior/config/HighlightHelper","sap/viz/chart/behavior/config/SelectionUtil","sap/viz/chart/components/util/SeriesUtil",'sap/viz/framework/common/util/SVG','sap/viz/framework/common/util/DOM',"sap/viz/framework/common/util/DataGraphics","sap/viz/framework/common/util/TypeUtils"],function(C,S,U,D,H,a,b,c,d,f,T){var B=S.BEHAVIOR;var g=C.CSS.CLASS;var L=C.LINE_TYPE;var h="datapoint";var j="dataline";var k=2;var l=g.LIGHT_LINE;var m="data-from";var n="data-to";var o=H.getColors;function p(e,i,y,F,G){var I=f.getData(i);var J=I[y?"next":"prev"];if(!J){return;}var K=i.parentNode;var M=D.findByDataPointId(K,J);var N=D.getDataPointId(i);var O=y?[N,J]:[J,N];var P=K.querySelector("."+l+"["+m+"='"+O[0]+"']"+"["+n+"='"+O[1]+"']");if(F&&M&&D.isHighlighted(M)){var Q=K.querySelector("."+g.LINES_GROUP);var V=f.getData(Q);var W=e.isHorizontal();var X=[f.getData(M).translate.slice(),I.translate.slice(),];if(y){X.reverse();}X[0].id=O[0];X[1].id=O[1];var Y=e.getSemanticManager();var Z=V.color;var $=null;var _;var a1=e.getDataModel();var b1=s.getPlot(e,i);var c1=b.parseSeriesLineType(b1.getData(),I.seriesIndex,Y);if(Y.hasDataPointLineStyle()){var d1=e.getEffectManager();var e1=[D.getContextByDataModel(i,a1),D.getContextByDataModel(M,a1)];Z=d1.register({fillColor:b.parseSemanticLineColor(e1,Y,Z)});var f1=b.parseSemanticLineType(e1,Y);if(f1===L.DASHED||f1===L.DOTTED||f1===L.DOT){c1=f1;}}var g1={graphic:{color:Z,width:V.width},points:X,isHorizontal:W};if(c1===C.LINE_TYPE.DASHED||c1===C.LINE_TYPE.DOTTED){$=C.LINE_DASH_TYPE_ARRAY;}else if(c1===C.LINE_TYPE.DOT){$="0,"+(V.width*2);g1.graphic.linecap="round";}if($){g1.graphic.dash=$;}var h1;if(G){h1=G(g1);}if(h1){if(P){d.empty(P);}else{P=c.create("g");P.setAttribute("class",l);P.setAttribute("fill-opacity","1");P.setAttribute("stroke-opacity","1");}P.setAttribute(m,O[0]);P.setAttribute(n,O[1]);P.appendChild(h1);K.insertBefore(P,Q.nextElementSibling);}}else{if(P){K.removeChild(P);}}}function q(e,i,y){var F=i.getProperties().get("interaction.selectability");if(!F){return false;}var G=F.mode?F.mode.toUpperCase():F.mode;if(!F.plotStdSelection||G===S.SELECTION_MODE.NONE||!y){return;}var I=e.data;var J=this._getDataPoint(y,i);var K=i.getStatus("selectedDataPoints");if(i.getStatus("rangeSelection")){i.setStatus("selectedDataPoints",[]);i.fireEvent("clearPlot").fireEvent("deselectDataPoint",{targets:D.getNodes(K,i),isAnyOtherSelected:false});i.setStatus("rangeSelection",false);}var M=this._hasDataPoint(i.getStatus("selectedDataPoints"),J);i.fireEvent("processSelection",{targets:J,deselectable:true,ctrlKeyPressed:I.ctrlKey});if(this._hasDataPoint(i.getStatus("selectedDataPoints"),J)){i.fireEvent("showDetail",{target:y,mode:"actionMode",point:I.point,action:"select"});}else{i.fireEvent("hideDetail",{target:y,mode:"actionMode",action:"deselect"}).setStatus("isHoveringDeselectedDataPoint",M);}}function r(e,i,y){if(!y){return;}var F=e.data.point;if(i.getStatus("rangeSelection")){return;}var G=i.getStatus("hoveringDataPoint");var I=this._getDataPoint(y,i);var J=this._hasDataPoint(i.getStatus("selectedDataPoints"),I);if(G){if(G===y){if(!i.getStatus("isHoveringDeselectedDataPoint")){i.fireEvent("showDetail",{target:y,mode:J?"actionMode":"infoMode",point:F,action:"hover"});}return;}i.fireEvent("unhoverOnDataPoint",{targets:G});}if(G!==y){i.setStatus("isHoveringDeselectedDataPoint",false);}G=y;i.fireEvent("hoverOnDataPoint",{targets:G}).fireEvent("showDetail",{target:y,mode:J?"actionMode":"infoMode",point:F,action:"hover"}).setStatus("hoveringDataPoint",G).setStatus("hoveredDataPointId",D.getDataPointId(G));}function s(){}var t=s.prototype;t.standAloneInitialized=function(e,i){i.getProperties().origin.add({interaction:{selectability:{plotStdSelection:true}}});};t.initialize=function(e,i){i.setStatus("hoveringDataPoint",null);i.setStatus("isHoveringDeselectedDataPoint",false);};t.clickOnDataPoint=function(e,i){q.call(this,e,i,e.data.currentTarget);};t.hoverOnDataPoint=function(e,i){r.call(this,e,i,e.data.currentTarget);};t.clickOnDataLabel=function(e,i){q.call(this,e,i,D.getDataPointByDataLabel(e.data.currentTarget,i));};t.hoverOnDataLabel=function(e,i){r.call(this,e,i,D.getDataPointByDataLabel(e.data.currentTarget,i));};t.hoverOnNonDataPoint=function(e,i){i.setStatus("isHoveringDeselectedDataPoint",false);var y=i.getStatus("hoveringDataPoint");if(y){i.fireEvent("unhoverOnDataPoint",{targets:y}).setStatus("hoveringDataPoint",null);}i.fireEvent("hideDetail",{mode:"infoMode",target:"nonDataPoint",action:"interrupt"});};t.hoverOnTimeArea=function(e,i){a.processTimeCursor(e,i);};t.selectDataPoint=function(i,y){var F=H.turnToArray(i.data.targets);F.forEach(function(e){var G=d3.select(e);G.classed(g.DATAPOINTDEFAULT,false);G.classed(g.DATAPOINTSELECTED,true);});};t.deselectDataPoint=function(i,y){var F=H.turnToArray(i.data.targets);F.forEach(function(e){var G=d3.select(e);G.classed(g.DATAPOINTSELECTED,false);if(!G.classed(g.DATAPOINTHOVER)){G.classed(g.DATAPOINTDEFAULT,true);}});};t.hoverEffectOnDataPoint=function(i,y){var F=H.turnToArray(i.data.targets);F.forEach(function(e){var G=d3.select(e);G.classed(g.DATAPOINTDEFAULT,false);G.classed(g.DATAPOINTHOVER,true);});};t.unhoverOnDataPoint=function(i,y){var F=H.turnToArray(i.data.targets);F.forEach(function(e){var G=d3.select(e);G.classed(g.DATAPOINTHOVER,false);if(!G.classed(g.DATAPOINTSELECTED)){G.classed(g.DATAPOINTDEFAULT,true);}});};function u(y,F,G,I,J){var K,M,N,O,P,Q,V,W,X,Y;var Z=null;var $=null;var _=I.getSemanticManager();var a1=[];var b1={points:[]};var i=0,c1=y.length;if(_.hasDataPointLineStyle()){var d1=I.getEffectManager();_.beginSession();for(;i<c1;i++){M=y[i];if($!==M.seqId-1||Z!==M.seriesIndex){if(b1.points.length>=2){K=J.getSeriesStyle(Z);b1.width=K.lineWidth;b1.color=O;b1.type=Q;a1.push(b1);}Y=null;b1={points:[]};}W=[M.rawData.dp.context()];V=y[i+1];X=M.data.translate.slice();X.id=M.dataId;if(Y==null){b1.points.push(X);}Y=null;if(V&&M.seqId===V.seqId-1&&M.seriesIndex===V.seriesIndex){W.push(V.rawData.dp.context());Y=V.data.translate.slice();Y.id=V.dataId;}K=J.getSeriesStyle(M.seriesIndex);N=d1.register({fillColor:b.parseSemanticLineColor(W,_,K.color)});P=b.parseSemanticLineType(W,_);if(b1.points.length>=2&&(O!==N||Q!==P)){K=J.getSeriesStyle(Z);b1.width=K.lineWidth;b1.color=O;b1.type=Q;a1.push(b1);Y=null;b1={points:[X]};}else if(Y){b1.points.push(Y);}O=N;Q=P;Z=M.seriesIndex;$=M.seqId;}if(b1.points.length>=2){K=J.getSeriesStyle(Z);b1.width=K.lineWidth;b1.color=O;b1.type=Q;a1.push(b1);}_.endSession();}else{for(;i<c1;i++){M=y[i];if(b1.points.length>0&&($!==M.seqId-1||Z!==M.seriesIndex)){K=J.getSeriesStyle(Z);b1.width=K.lineWidth;b1.color=K.color;b1.type=K.lineType;a1.push(b1);b1={points:[]};}X=M.data.translate.slice();X.id=M.dataId;b1.points.push(X);Z=M.seriesIndex;$=M.seqId;}if(b1.points.length>0){K=J.getSeriesStyle(Z);b1.width=K.lineWidth;b1.color=K.color;b1.type=K.lineType;a1.push(b1);}}var e1=I.isHorizontal();var f1=s.getLineRenderer(I);a1.forEach(function(e){if(e.type===L.DASHED||e.type===L.DOTTED){e.strokeDashArray=C.LINE_DASH_TYPE_ARRAY;}else if(e.type===L.DOT){e.strokeDashArray="0,"+(e.width*2);e.linecap="round";}delete e.type;e.isHorizontal=e1;e.offset=G;e.renderer=f1;F.addPolyLine(e);});}function v(y,F,G,I,J){var K=I.getProperties();var M,N,O,P;var Q=null;var V=K.get('interaction.selected.color');var W=I.isHorizontal();var X=I.getSemanticManager();var Y=[];var Z={points:[]};var i=0,$=y.length;if(X.hasDataPointColorStyle()){var _=I.getEffectManager();X.beginSession();for(;i<$;i++){M=y[i];N=H.getColors(I,null,V,null,null,null,{color:b.parseSemanticColor(M,X)});P=N.customizedColor||N.defaultColor;if(Z.points.length!==0&&(Q!==M.seriesIndex||O!==P)){Z.color=O;Y.push(Z);Z={points:[]};}b.addRectSeriesPathPoints(Z.points,M,!!M.negative,W);Q=M.seriesIndex;O=P;}X.endSession();}else{for(;i<$;i++){M=y[i];if(Z.points.length!==0&&Q!==M.seriesIndex){Z.color=O;Y.push(Z);Z={points:[]};O=null;}b.addRectSeriesPathPoints(Z.points,M,!!M.negative,W);if(!O){N=H.getColors(I,null,V,null,null,null,{color:M.graphic.fill});O=N.customizedColor||N.defaultColor;}Q=M.seriesIndex;}}if(Z.points.length>0){Z.color=O;Y.push(Z);}Y.forEach(function(e){e.isHorizontal=W;e.offset=G;e.width=1;e.pointerEvent="none";F.addPolyLine(e);});}function w(e,i){if(!i.getStatus("rangeSelection")){return;}var y=i.getBBox(i.BoxType.RANGE_SELECTION);var F=e.data.point;if(!(F.x>=y.left&&F.x<=y.right&&F.y>=y.top&&F.y<=y.bottom)){return;}i.fireEvent("showDetail",{mode:'actionMode',point:e.data.point,bLassoEnd:true});}function x(e,i){if(i.getStatus("rangeSelection")){var y=i.getBBox(i.BoxType.RANGE_SELECTION);var F=e.data.point;if(!!y&&!!F&&F.x>=y.x&&F.x<=y.x+y.width&&F.y>=y.y&&F.y<=y.y+y.height){i.fireEvent("showDetail",{mode:'actionMode',point:F,bLassoEnd:true});return true;}}return false;}s.showDetailForRangeSelectionWhenHover=w;s.showDetailForRangeSelection=x;s.updateRangeEffect=function(e,i){if(!E(e,i)){return;}i.fireEvent({name:"changeRangeEffect",data:{direction:"down",target:e.data.target}});};s.recoverRangeEffect=function(e,i){if(!E(e,i)){return;}i.fireEvent({name:"changeRangeEffect",data:{direction:"up",target:e.data.target}});};s.renderLightLine=function(e,i,y,F){p(e,i,true,y,F);p(e,i,false,y,F);};s.getLineRenderer=function(e,i){var y=s.getPlot(e,i);return y?y.getLineRenderer():null;};s.getPlot=function(e,i){var y;var F;if(i&&f.getData(i)){F=f.getData(i).trellisInfo;}if(F){y=e.getModule("main").getChildPlot(F);}else{y=e.getModule("main.plot");}return y;};s.selectOnLineOnNormalMode=function(i,y){var F=H.turnToArray(i.data.targets);var G=y.getProperties();y._getDecorationLayer().clear();y.fireEvent(i,true);var I=G.get('interaction.selected');var J=T.isExist(G.get('plotArea.markerRenderer'));var K;F.forEach(function(e){D.highlight(e);K=s.getLineRenderer(y,e);s.renderLightLine(y,e,true,K);H.drawStroke(y,e,'path, rect',I.stroke,1);H.drawFill(y,e,'path, rect',I,J,true);});};s.selectOnLineDuringBigData=function(e,i){var y=H.turnToArray(e.data.targets);var F=i.getProperties();var G=i._getDecorationLayer();G.clear(j);var I=i.getModule("main.plot");if(!I){return;}var J=i.getOffsetMatrix(i.OffsetType.PLOT_NODE,true);var K=I.getOffset();K.x+=J.e;K.y+=J.f;var M=I.getSize();var N=G.createLayer(j);var O=N.getMaskManager();var P={x:J.e,y:J.f,width:M.width,height:M.height};O.addRect(P);var Q=a.getDpInfos(I,y);u(Q,N,K,i,I);G.drawLayer(N);};s.selectOnBarOnNormalMode=function(i,y){var F=H.turnToArray(i.data.targets);var G=y.getProperties();y._getDecorationLayer().clear();y.fireEvent(i,true);var I=G.get('interaction.selected');var J=T.isExist(G.get('plotArea.markerRenderer'));F.forEach(function(e){var K=f.getData(e);var M="rect";if(K.pattern==="noFill"){M="rect, path";}H.drawStroke(y,e,'rect',I.stroke,1);H.drawFill(y,e,M,I,J);});};s.selectOnBarDuringBigData=function(e,i){var y=H.turnToArray(e.data.targets);var F=i.getProperties();var G=i._getDecorationLayer();G.clear(j);var I=i.getModule("main.plot");if(!I){return;}var J=i.getOffsetMatrix(i.OffsetType.PLOT_NODE,true);var K=I.getOffset();K.x+=J.e;K.y+=J.f;var M=I.getSize();var N=G.createLayer(j);var O=N.getMaskManager();var P={x:J.e,y:J.f,width:M.width,height:M.height};O.addRect(P);var Q=a.getDpInfos(I,y);v(Q,N,K,i,I);G.drawLayer(N);};s.hoverOnLineDuringBigData=function(e,y,F){if(!y.isBigDataMode()||y.getStatus("rangeSelection")){return;}var G=e.data.originalEvent;var I=y.getOffsetMatrix(y.OffsetType.PLOT_NODE,true);var J={x:e.data.pointToChart.x-I.e,y:e.data.pointToChart.y-I.f};var K=y.getModule("main.plot");var M=K.getOffset();J.x-=M.x;J.y-=M.y;var N=y._getDecorationLayer();N.clear(h);var O,P;var Q=y.getDataModel();if(!F){var V=K.hitTest(J);if(V.length===0){y.fireEvent("hideTooltipHoverOnPlot",{mode:"infoMode",action:"interrupt"});return;}for(var i=0;i<V.length;i++){F=V[i];P=Q.getDataPoint(F.dataId);if(P){O=F.data.translate;break;}}}else{P=Q.getDataPoint(F.dataId);O=F.data.translate;}if(P==null){return;}M=K.getOffset();M.x+=I.e+O[0];M.y+=I.f+O[1];var W=y.getProperties().get('interaction.hover');var X=y.getSemanticManager();var Y=X.analyzeDataPoint("color",P.context());if(Y&&Y.color){F.graphic.fill=Y.color;}var Z={color:F.graphic.fill,shape:F.graphic.shape,r:F.graphic.size};var $=H.getColors(y,null,W.stroke.color,null,F.graphic.drawingEffect,null,Z),_=H.getColors(y,null,W.color,null,F.graphic.drawingEffect,null,Z);var a1=N.createLayer(h,M);var b1=W.stroke&&W.stroke.visible===false;a1.addPath({d:c.generateMarkerPath({type:F.graphic.shape,rx:F.graphic.size/2,ry:F.graphic.size/2,borderWidth:2}),stroke:b1?'none':($.customizedColor?$.customizedColor:$.defaultColor),pointerEvent:"none",fill:_.customizedColor?_.customizedColor:_.defaultColor,opacity:W.opacity?W.opacity:1,strokeWidth:b1?'none':(W.stroke&&W.stroke.width?W.stroke.width:"2px")});N.drawLayer(a1);var c1="infoMode";if(a.hasDataPoint(y.getStatus("selectedDataPoints"),P.id)){c1="actionMode";}y.fireEvent("showTooltipHoverOnPlot",{target:P.id,mode:c1,point:{x:e.data.point.x,y:e.data.point.y-J.y+O[1]},action:"hover"});};s.hoverOnBarDuringBigData=function(e,y,F){y.setStatus("hoveringOnPlotEvent",null);if(!y.isBigDataMode()||y.getStatus("rangeSelection")){return;}var G=e.data.originalEvent;var I=y.getOffsetMatrix(y.OffsetType.PLOT_NODE,true);var J={x:e.data.pointToChart.x-I.e,y:e.data.pointToChart.y-I.f};var K=y.getModule("main.plot");var M=K.getOffset();J.x-=M.x;J.y-=M.y;var N=y._getDecorationLayer();N.clear(h);var O=N.createLayer(h);var P=K.getSize();var Q=O.getMaskManager();var V={x:I.e,y:I.f,width:P.width,height:P.height};Q.addRect(V);var W,X;var Y=y.getDataModel();if(!F){var Z=K.hitTest(J);if(Z.length===0){y.fireEvent("hideTooltipHoverOnPlot",{mode:"infoMode",action:"interrupt"});return;}for(var i=0;i<Z.length;i++){F=Z[i];X=Y.getDataPoint(F.dataId);if(X){W=F.position;break;}}}else{X=Y.getDataPoint(F.dataId);W=F.position;}if(X==null){return;}y.setStatus("hoveringOnPlotEvent",e);M=K.getOffset();M.x+=I.e;M.y+=I.f;var $=y.getProperties().get('interaction.hover');var _=y.getSemanticManager();var a1=_.analyzeDataPoint("color",X.context());if(a1&&a1.color){F.graphic.fill=a1.color;}var b1={color:F.graphic.fill};var c1=H.getColors(y,null,"darken(20%)",null,F.graphic.drawingEffect,null,b1);var d1=H.getColors(y,null,$.color,null,F.graphic.drawingEffect,null,b1);var e1=d1.defaultColor;var f1=c1.customizedColor;if(d1.customizedColor){e1=f1=d1.customizedColor;}O.addRect({x:W.x+M.x,y:W.y+M.y,width:W.width,height:W.height,stroke:f1,pointerEvent:"none",fill:e1,opacity:!isNaN(+$.opacity)?+$.opacity:1,strokeWidth:"2px"});N.drawLayer(O);var g1="infoMode";if(a.hasDataPoint(y.getStatus("selectedDataPoints"),X.id)){g1="actionMode";}y.fireEvent("showTooltipHoverOnPlot",{target:X.id,mode:g1,point:{x:e.data.point.x,y:e.data.point.y},action:"hover"});};function z(e,i,F,G,I,J){if(e.getStatus("rangeSelection")){var K=e.getStatus("selectedDataPoints");e.setStatus("selectedDataPoints",[]);e.fireEvent("clearPlot").fireEvent("deselectDataPoint",{targets:D.getNodes(K,e),isAnyOtherSelected:false});e.setStatus("rangeSelection",false);e.setStatus("rangeDomain",null);}e.fireEvent("processSelection",{targets:[F.id],deselectable:true,ctrlKeyPressed:i.data.ctrlKey});if(a.hasDataPoint(e.getStatus("selectedDataPoints"),F.id)){var y;if(I){y=i.data.point.y-G.y+J.data.translate[1];}else{y=i.data.point.y;}e.fireEvent("showTooltipClickBigData",{target:F.id,mode:"actionMode",point:{x:i.data.point.x,y:y}});}else{e.fireEvent("hideTooltipClickBigData",{target:F.id,mode:"actionMode"});e._getDecorationLayer().clear(h);}}function A(e,i){e.setStatus("rangeSelection",false);e.setStatus("rangeDomain",null);e.fireEvent(i,true);}s.clickOnCombDuringBigData=function(e,y){if(x(e,y)){return;}if(y.isBigDataMode()){var F=e.data.originalEvent;var G=F.target;var I=H.tryToFindNode("v-m-plot",G,y._rootNode);if(I){var J=y.getBBox(y.BoxType.PLOT_NODE);var K=H.getLayerCoord(e.data.point,J);var M=y.getModule("main.plot");var N=M.hitTest(K,true);var O=y.getDataModel();for(var i=0;i<N.length;i++){var P=N[i];var Q=O.getDataPoint(P.dataId);if(Q){var V=M.getDataPointShape(Q);if(V==="line"){z(y,e,Q,K,true,P);return;}else if(V==="bar"){z(y,e,Q,K);return;}}}}}if(!y.getProperties().get("interaction.enableDeselectAll")){return;}A(y,e);};s.clickOnLineDuringBigData=function(e,y){if(x(e,y)){return;}if(y.isBigDataMode()&&y.getProperties().get("interaction.selectability.plotStdSelection")){var F=e.data.originalEvent;var G=F.target;var I=H.tryToFindNode("v-m-plot",G,y._rootNode);if(I){var J=y.getOffsetMatrix(y.OffsetType.PLOT_NODE,true);var K={x:e.data.pointToChart.x-J.e,y:e.data.pointToChart.y-J.f};var M=y.getModule("main.plot");var N=M.getOffset();K.x-=N.x;K.y-=N.y;var O=M.hitTest(K,y.isCombChart());var P=y.getDataModel();for(var i=0;i<O.length;i++){var Q=P.getDataPoint(O[i].dataId);if(!Q){continue;}z(y,e,Q,K,true,O[i]);return;}}}A(y,e);};s.clickOnBarDuringBigData=function(e,y){if(x(e,y)){return;}if(!y.isBigDataMode()||!y.getProperties().get("interaction.selectability.plotStdSelection")){y.setStatus("rangeSelection",false);y.setStatus("rangeDomain",null);y.fireEvent(e,true);return;}var F=e.data.originalEvent;var G=F.target;var I=H.tryToFindNode("v-m-plot",G,y._rootNode);if(I){var J=y.getOffsetMatrix(y.OffsetType.PLOT_NODE,true);var K={x:e.data.pointToChart.x-J.e,y:e.data.pointToChart.y-J.f};var M=y.getModule("main.plot");var N=M.getOffset();K.x-=N.x;K.y-=N.y;var O=M.hitTest(K,y.isCombChart());var P=y.getDataModel();for(var i=0;i<O.length;i++){var Q=P.getDataPoint(O[i].dataId);if(!Q){continue;}z(y,e,Q,K,false);return;}}A(y,e);};s.hoverOnCombDuringBigData=function(e,y){if(!y.isBigDataMode()||y.getStatus("rangeSelection")){return;}var F=e.data.originalEvent;var G=y.getOffsetMatrix(y.OffsetType.PLOT_NODE,true);var I={x:e.data.pointToChart.x-G.e,y:e.data.pointToChart.y-G.f};var J=y.getModule("main.plot");var K=J.getOffset();I.x-=K.x;I.y-=K.y;var M=J.hitTest(I,true);var N=y._getDecorationLayer();if(M.length===0){N.clear(h);y.fireEvent("hideTooltipHoverOnPlot",{mode:"infoMode",action:"interrupt"});return;}var O,P;var Q=y.getDataModel();for(var i=0;i<M.length;i++){P=M[i];O=Q.getDataPoint(P.dataId);if(O){break;}}if(O){if(J.getDataPointShape&&J.getDataPointShape(O)==="bar"){s.hoverOnBarDuringBigData(e,y,P);}else{s.hoverOnLineDuringBigData(e,y,P);}}else{N.clear(h);}};s.selectOnCombinationDuringBigData=function(e,y){var F=H.turnToArray(e.data.targets);var G=y.getProperties();var I=y._getDecorationLayer();I.clear(j);var J=y.getModule("main.plot");if(!J){return;}var K=y.getOffsetMatrix(y.OffsetType.PLOT_NODE,true);var M=J.getOffset();M.x+=K.e;M.y+=K.f;var N=J.getSize();var O=I.createLayer(j);var P=O.getMaskManager();var Q={x:K.e,y:K.f,width:N.width,height:N.height};P.addRect(Q);var i;var V=[];var W=[];for(i=0;i<F.length;i++){var X=J.mappingDataPointInfo(F[i]);if(X){var Y=J.getDataPointShape(X.seriesIndex);if(Y==="line"){W.push(X);}else if(Y==="bar"){V.push(X);}}}V=V.sort(function(Z,$){return Z.seqId-$.seqId;});W=W.sort(function(Z,$){return Z.seqId-$.seqId;});u(W,O,M,y,J);v(V,O,M,y,J);I.drawLayer(O);};var R=S.RANGE_SELECTION.OFFSET;function E(e,i){var y=e.data.point;var F=i.getBBox(i.BoxType.RANGE_SELECTION);var G=false;if(F&&F.x+R<y.x&&y.x<F.x+F.width-R){G=true;}return G;}t.clearPlot=function(e,i){var y=i.getNodes(i.NodeType.DATA_POINT_GROUP);function F(){var J=i.getProperties();if(J){var K=J.get('interaction.deselected.opacity');y.each(function(){this.setAttribute("fill-opacity",K);this.setAttribute("stroke-opacity",K);});}}function G(){y.each(function(){this.removeAttribute("fill-opacity");this.removeAttribute("stroke-opacity");});}var I=e.data.isGray;if(U.isIE()&&U.version()<=9){if(I){window.setTimeout(F,0);}else{window.setTimeout(G,0);}}else{if(I){F();}else{G();}}};t._getDataPoint=function(e,i){return D.getDataPointId(e);};t._hasDataPoint=function(e,i){return a.hasDataPoint(e,i);};s.clearForTime=function(e,i){i.fireEvent(e,true);if(!e.data.rangeSelection){i._getDecorationLayer().clear();i._getActionLayer().clear();}};s.clickOnNonSelection=function(e,i,y){if(!i.getProperties().get("interaction.enableDeselectAll")){return;}if(y.indexOf(i._getChartType())>-1){if(x(e,i)){return;}i.setStatus("rangeSelection",false);i.setStatus("rangeDomain",null);}i.fireEvent(e,true);};return s;});define('sap/viz/chart/behavior/config/DataPointBehaviorConfigForLine',['sap/viz/framework/common/util/Constants',"sap/viz/framework/common/util/TypeUtils","sap/viz/chart/behavior/config/HighlightHelper","sap/viz/framework/common/util/DataGraphics","sap/viz/chart/components/util/ChartTypeUtils",'sap/viz/framework/common/util/ObjectUtils',"sap/viz/chart/components/util/DataPointUtils",'sap/viz/framework/interaction/Constants','sap/viz/chart/behavior/config/handler/DataPointBehaviorHandler'],function(C,T,H,D,a,O,b,S,c){var t=["info/timeseries_line"];var d=["info/timeseries_combination","info/dual_timeseries_combination"];var f=t.concat(d);var l=["info/line","info/horizontal_line","info/dual_line","info/dual_horizontal_line","info/combination","info/horizontal_combination","info/dual_combination","info/dual_horizontal_combination","info/stacked_combination","info/horizontal_stacked_combination","info/dual_stacked_combination","info/dual_horizontal_stacked_combination"].concat(t);l=a.addTrellisType(l);var g=l.concat(d);g=a.addTrellisType(g);var h=C.CSS.CLASS;var i="datapoint";var j=H.getColors;function s(k,e){var m=D.getData(e);if(!(m.type&&m.type.toLowerCase()==='line')){return;}var p=k.getProperties();var n=p.has("plotArea.line.marker.visible")?p.get("plotArea.line.marker.visible"):p.get("plotArea.marker.visible");var o=k.getModule("main.plot");if(o&&o.isMarkerVisible){n=o.isMarkerVisible();}var q=e.firstChild;if(!n){q.setAttribute("fill-opacity","0");q.setAttribute("stroke-opacity","0");}}return[{"id":"selectDataPoint_line","triggerEvent":{"name":"selectDataPoint","supportedChartTypes":l,},"handler":function(e,k){if(k.isBigDataMode()){c.selectOnLineDuringBigData(e,k);}else{c.selectOnLineOnNormalMode(e,k);}}},{"id":"deselectDataPoint_line","triggerEvent":{"name":"deselectDataPoint","supportedChartTypes":g},"handler":function(k,m){if(m.isBigDataMode()){return;}m.fireEvent(k,true);var n=H.turnToArray(k.data.targets);var p;var o=m.getProperties();var q;n.forEach(function(e){b.unhighlight(e);q=c.getLineRenderer(m,e);c.renderLightLine(m,e,false,q);var w=1;if(k.data.isAnyOtherSelected){p=o.get('interaction.deselected');}else{p=o.get('plotArea.dataPoint');var r=D.getData(e);if(r){w=r.strokeWidth;}}var u=T.isExist(o.get('plotArea.markerRenderer'));H.drawStroke(m,e,'path, rect',p.stroke,1);H.drawFill(m,e,'path, rect',p,u,true);s(m,e);});}},{"id":"hoverOnDataPoint_line","triggerEvent":{"name":"hoverOnDataPoint","supportedChartTypes":g},"handler":function(k,m){m.fireEvent(k,true);var n=H.turnToArray(k.data.targets);var p=m.getProperties();var o=p.get('interaction.hover');var q=T.isExist(p.get('plotArea.markerRenderer'));n.forEach(function(e){H.drawStroke(m,e,'path, rect',o.stroke,2);H.drawFill(m,e,'path, rect',o,q,true);});}},{"id":"unhoverOnDataPoint_line","triggerEvent":{"name":"unhoverOnDataPoint","supportedChartTypes":g},"handler":function(k,m){m.fireEvent(k,true);var n=H.turnToArray(k.data.targets);var p=m.getProperties();var o;var q=T.isExist(p.get('plotArea.markerRenderer'));n.forEach(function(e){var v;var w=1;if(d3.select(e).classed(h.DATAPOINTSELECTED)){o=p.get('interaction.selected');v=true;}else{if(m.shouldUseDeselectedColor()){o=p.get('interaction.deselected');}else{o=p.get('plotArea.dataPoint');var r=D.getData(e);if(r){w=r.strokeWidth;}}v=false;}H.drawStroke(m,e,'path, rect',o.stroke,1);H.drawFill(m,e,'path, rect',o,q,true);if(!v){s(m,e);}});}},{"id":"clearPlot_line","triggerEvent":{"name":"clearPlot","supportedChartTypes":g},"handler":function(k,m){m.fireEvent(k,true);m._getDecorationLayer().clear();var n=k.data.isGray;var r=k.data.rangeSelection;var u=r&&r!=="clear";var p=m.getProperties();var o=p.get('interaction.deselected');var q=m.getNodes(m.NodeType.LINE,false);q.forEach(function(e){var x=j(m,e,o.color);if((n||u)&&x.customizedColor){e.setAttribute('stroke',x.customizedColor);}else{e.setAttribute('stroke',x.defaultColor);}});var v=m.getNodes(m.NodeType.DATA_POINT,false);if(!v||!v.length){return;}var w=T.isExist(p.get('plotArea.markerRenderer'));v.forEach(function(e){var x=1;if(n||u){o=p.get('interaction.deselected');if(u){o=O.extend(true,{},o);o.opacity=1;}}else{o=p.get('plotArea.dataPoint');var y=D.getData(e);if(y){x=y.strokeWidth;}}H.drawStroke(m,e,'path, rect',o.stroke,1);H.drawFill(m,e,'path, rect',o,w,true);s(m,e);});}},{"id":"hover_range_selection_line","triggerEvent":{"name":"hover","supportedChartTypes":f,"targets":"v-m-action-layerrange"},"handler":function(e,k){c.showDetailForRangeSelectionWhenHover(e,k);}},{"id":"hover_on_plot_time_line","triggerEvent":{"name":"hover","supportedChartTypes":t,"targets":"v-m-plot"},"handler":function(e,k){c.hoverOnLineDuringBigData(e,k);}},{"id":"hover_on_non_plot_time_line","triggerEvent":{"name":"hover","supportedChartTypes":t,"excludeTargets":["v-m-plot"]},"handler":function(e,k){if(k.getStatus("rangeSelection")){return;}k._getActionLayer().clear(i);k._getDecorationLayer().clear(i);k.fireEvent("hideTooltipHoverOnPlot",{mode:"infoMode"});}},{"id":"hover_on_non_datapoint_time_line","triggerEvent":{"name":"hover","supportedChartTypes":t,"excludeTargets":[h.DATAPOINT,h.DATALABEL]},"handler":function(e,k){if(k.isBigDataMode()||k.getStatus("rangeSelection")){return;}k.fireEvent(e,true);}},{"id":"click_on_non_selection_line","triggerEvent":{"name":"click","supportedChartTypes":g,"excludeTargets":H.getDeselAllExTargets(),},"handler":function(e,k){if(!k.getProperties().get("interaction.enableDeselectAll")){return;}if(k.isBigDataMode()&&d.indexOf(k._getChartType())>-1){return;}if(f.indexOf(k._getChartType())>-1){c.clickOnLineDuringBigData(e,k);}else{k.fireEvent(e,true);}}},{"id":"clearPlot_timeseries_line","triggerEvent":{"name":"clearPlot","supportedChartTypes":f},"handler":function(e,k){k.fireEvent(e,true);if(!e.data.rangeSelection){k._getDecorationLayer().clear();k._getActionLayer().clear();}}},{"id":"update_range_selection_effect_line","triggerEvent":{"targets":"v-m-action-layerrange","name":"down","supportedChartTypes":f},"handler":function(e,k){c.updateRangeEffect(e,k);}},{"id":"recover_range_selection_effect_line","triggerEvent":{"targets":"v-m-action-layerrange","name":"up","supportedChartTypes":f},"handler":function(e,k){c.recoverRangeEffect(e,k);}}];});define('sap/viz/chart/behavior/config/DataPointBehaviorConfig',["sap/viz/framework/common/util/Constants","sap/viz/chart/behavior/config/handler/DataPointBehaviorHandler"],function(C,D){var a=C.CSS.CLASS;var d=a.DATAPOINT;var b=a.DATALABEL;var c=a.AREA;var e=a.AREA_POINT;var s=a.AREA_SELECTED;var f=["info/timeseries_line","info/timeseries_column","info/timeseries_scatter","info/timeseries_bubble","info/timeseries_combination","info/dual_timeseries_combination","info/timeseries_stacked_column","info/timeseries_100_stacked_column","info/timeseries_bullet","info/timeseries_waterfall"];return[{"id":"dataPointBehaviorDefinition","handler":D,"handlerType":"class","triggerEvent":[{"name":"standAloneInitialized","method":"standAloneInitialized"},{"name":"afterBehaviorLoaded","method":"initialize"},{"name":"click","targets":d,"excludeTargets":["v-m-action-layerrange"],"method":"clickOnDataPoint"},{"name":"hover","targets":d,"method":"hoverOnDataPoint"},{"name":"click","targets":b,"excludeTargets":["v-m-action-layerrange"],"method":"clickOnDataLabel"},{"name":"hover","targets":b,"method":"hoverOnDataLabel"},{"name":"hover","excludeTargets":[d,b,c,e,s],"method":"hoverOnNonDataPoint"},{"name":"selectDataPoint","method":"selectDataPoint"},{"name":"deselectDataPoint","method":"deselectDataPoint"},{"name":"hoverOnDataPoint","method":"hoverEffectOnDataPoint"},{"name":"unhoverOnDataPoint","method":"unhoverOnDataPoint"},{"name":"clearPlot","method":"clearPlot"},{"name":"hover","supportedChartTypes":f,"targets":["v-m-root","v-m-action-layerrange"],"method":"hoverOnTimeArea"}]}];});define('sap/viz/chart/behavior/config/AreaBehaviorConfig',["sap/viz/framework/common/util/Constants","sap/viz/framework/interaction/Constants","sap/viz/framework/common/util/UADetector","sap/viz/chart/components/util/DataPointUtils","sap/viz/chart/behavior/config/HighlightHelper","sap/viz/framework/common/util/TypeUtils","sap/viz/chart/behavior/config/SelectionUtil","sap/viz/framework/common/util/ObjectUtils","sap/viz/chart/components/util/ChartTypeUtils","sap/viz/framework/common/util/DataGraphics"],function(C,S,U,D,H,T,a,O,b,c){var d=["info/area","info/horizontal_area","info/100_area","info/100_horizontal_area"];var f=d.concat(["info/combinationEx"]);f=b.addTrellisType(f);var B=S.BEHAVIOR;var g=C.CSS.CLASS;var h=g.DATAPOINT;var i=g.DATALABEL;var j=g.AREA;var s=g.AREA_SELECTED;function k(e){if(p()){return e.data.point;}var t=e.data.originalEvent||window.event;return{x:t.clientX,y:t.clientY};}function l(e){var t=e.getBoundingClientRect();return{x:t.left+t.width/2,y:t.top+t.height/2};}function m(e,t,u){var v=u.isHorizontal();var w=v?"y":"x";var x,y,z;t.forEach(function(A){z=l(A);var E=Math.abs(z[w]-e[w]);if(!y||!x){y=A;x=E;return;}if(E<x){x=E;y=A;}});return y;}function n(t){if(t){var e=c.getData(t).dataPoints;return e;}}function o(e,t){var u=k(e);var v=n(e.data.currentTarget);return m(u,v,t);}function p(){return U.isMobile();}function q(e,t,u){var v=t.data.point;var w={};w.isHorizontal=u.isHorizontal();var x=k(t);var y=l(e);if(w.isHorizontal){w.direction=y.y-x.y>0?"top":"bottom";w.x=v.x;if(p()){w.y=y.y;}else{w.y=v.y+y.y-x.y;}}else{w.direction=y.x-x.x>0?"left":"right";if(p()){w.x=y.x;}else{w.x=v.x+y.x-x.x;}w.y=v.y;}return w;}function r(e,t){var u=D.getDataPointId(e.data.currentTarget);var v=t.getNodes(t.NodeType.DATA_POINT,false);return D.findByDataPointIds(v,u)[0];}return[{"id":"click_on_datalabel","triggerEvent":{"name":"click","targets":[i],"excludeTargets":['v-m-action-layerrange'],"supportedChartTypes":f},"handler":function(e,t){e.data.point=q(r(e,t),e,t);t.fireEvent(e,true);}},{"id":"hover_on_datalabel","triggerEvent":{"name":"hover","targets":[i],"supportedChartTypes":f},"handler":function(e,t){e.data.point=q(r(e,t),e,t);t.fireEvent(e,true);}},{"id":"click_on_datapoint","triggerEvent":{"name":"click","targets":[h],"excludeTargets":['v-m-action-layerrange'],"supportedChartTypes":f},"handler":function(e,t){e.data.point=q(e.data.currentTarget,e,t);t.fireEvent(e,true);}},{"id":"hover_on_datapoint","triggerEvent":{"name":"hover","targets":[h],"supportedChartTypes":d},"handler":function(e,t){e.data.point=q(e.data.currentTarget,e,t);t.fireEvent(e,true);}},{"id":"click_on_area","triggerEvent":{"name":"click","targets":[j,s],"supportedChartTypes":f},"handler":function(e,t){var u=o(e,t);e.data.currentTarget=e.data.target=u;e.data.point=q(u,e,t);t.fireEvent(e,true);}},{"id":"hover_on_area","triggerEvent":{"name":"hover","targets":[j,s],"supportedChartTypes":f},"handler":function(e,t){var u=o(e,t);e.data.currentTarget=e.data.target=u;e.data.point=q(u,e,t);t.fireEvent(e,true);}}];});define('sap/viz/chart/behavior/config/ComboExBehaviorConfig',["sap/viz/framework/common/util/DataGraphics","sap/viz/framework/common/util/TypeUtils","sap/viz/chart/behavior/config/HighlightHelper","sap/viz/chart/behavior/config/DataPointBehaviorConfigForArea","sap/viz/chart/behavior/config/DataPointBehaviorConfigForLine","sap/viz/chart/behavior/config/DataPointBehaviorConfig","sap/viz/chart/behavior/config/AreaBehaviorConfig","sap/viz/framework/interaction/InteractionUtils","sap/viz/framework/common/util/Constants"],function(D,T,H,C,a,b,A,I,c){var s=["info/combinationEx"];var d=c.CSS.CLASS;var e=d.DATAPOINT;function f(i,n){var j=i.getStatusManager().get("plotArea.series"),m=D.getData(n).seriesIndex;return j[m].type;}function g(t,i,j,m){if(t.name===i&&(!j||t.supportedChartTypes.indexOf(j))&&(!t.targets||t.targets.indexOf(m)>-1)){return true;}else{return false;}}function h(m,n,o,t){for(var i=0,p;i<m.length;i++){var q=m[i];if(q.handlerType==="class"){for(var j=0;j<q.triggerEvent.length;++j){p=q.triggerEvent[j];if(g(p,n,o,t)){var r=new q.handler();return{id:q.id+"."+p.method,handler:r[p.method].bind(r),handlerType:"class",triggerEvent:{name:p.name,supportedChartTypes:p.supportedChartTypes}};}}}else{p=m[i].triggerEvent;if(g(p,n,o,t)){return m[i];}}}return null;}function k(i,j){return i.reduce(function(m,n){var o=j(n);if(!m[o]){m[o]=[];}m[o].push(n);return m;},{});}var _={line:{hover:h(b,"hover",null,e),hoverOnDataPoint:h(a,"hoverOnDataPoint","info/combination"),unhoverOnDataPoint:h(a,"unhoverOnDataPoint","info/combination"),selectDataPoint:h(a,"selectDataPoint","info/combination"),deselectDataPoint:h(a,"deselectDataPoint","info/combination"),clearPlot:h(a,"clearPlot","info/combination")},area:{hover:h(A,"hover",null,e),hoverOnDataPoint:h(C,"hoverOnDataPoint"),unhoverOnDataPoint:h(C,"unhoverOnDataPoint"),selectDataPoint:h(C,"selectDataPoint"),deselectDataPoint:h(C,"deselectDataPoint"),clearPlot:h(C,"clearPlot")}};_.bar=_.line;function l(t){return function(i,j){var o=i.data.targets||i.data.currentTarget,m=k([].concat(o),f.bind(this,j));Object.keys(m).forEach(function(n){i.data.targets=m[n];_[n][t].handler(i,j);});i.data.targets=o;};}return[{"id":"selectDataPoint_comboEx","triggerEvent":{"name":"selectDataPoint","supportedChartTypes":s},"handler":l("selectDataPoint")},{"id":"deselectDataPoint_comboEx","triggerEvent":{"name":"deselectDataPoint","supportedChartTypes":s},"handler":l("deselectDataPoint")},{"id":"hover_on_datapoint_comboEx","triggerEvent":{"name":"hover","targets":e,"supportedChartTypes":s},"handler":l("hover")},{"id":"hoverOnDataPoint_comboEx","triggerEvent":{"name":"hoverOnDataPoint","supportedChartTypes":s},"handler":l("hoverOnDataPoint")},{"id":"unhoverOnDataPoint_comboEx","triggerEvent":{"name":"unhoverOnDataPoint","supportedChartTypes":s},"handler":l("unhoverOnDataPoint")},{"id":"clearPlot_comboEx","triggerEvent":{"name":"clearPlot","supportedChartTypes":s},"handler":function(i,j){_.bar.clearPlot.handler(i,j);var m=[].slice.call(j.getNodes(j.NodeType.DATA_POINT,false)),n=k(m,f.bind(this,j));j.setStatus("areaDataPoints",n.area||[]);_.area.clearPlot.handler(i,j);j.setStatus("areaDataPoints",null);}},I.getDeselectEvent("click",s,H.getDeselAllExTargets())];});define('sap/viz/chart/behavior/config/DataPointBehaviorConfigForRadar',['sap/viz/framework/common/util/Constants',"sap/viz/framework/common/util/TypeUtils","sap/viz/chart/behavior/config/HighlightHelper","sap/viz/chart/components/util/DataPointUtils","sap/viz/chart/components/util/ChartTypeUtils","sap/viz/framework/common/util/DataGraphics","sap/viz/framework/interaction/InteractionUtils",],function(C,T,H,D,a,b,I){var r=["info/radar"];r=a.addTrellisType(r);var d="v-datapoint";var c="v-datalabel";var f=C.CSS.CLASS;var N=f.RADAR_NET;function h(e,s,i,n){if(!e.length){return;}if(!i&&b.getData(e[0]).trellisInfo){var t=g(e);for(var o in t){if(t.hasOwnProperty(o)){h(t[o],s,true,n);}}return;}var p=m(s,s.NodeType.DATA_POINT_GROUP,e[0]);var q=p.querySelectorAll("."+N);var u=j(e);for(var v in u){if(u.hasOwnProperty(v)&&u[v]){k(s,parseInt(v),u[v],n,q);}}}function g(e){var n={};for(var i=0;i<e.length;i++){var t=b.getData(e[i]).trellisInfo;n[t]=n[t]||[];n[t].push(e[i]);}return n;}function j(e){var n=[];for(var i=0;i<e.length;i++){var o=b.getData(e[i]);n[o.seriesIndex]=n[o.seriesIndex]||[];n[o.seriesIndex].push(e[i]);}return n;}function k(s,e,i,n,o){var p;var q=s.getProperties().get('plotArea.line');if(o&&o.length>0){[].slice.apply(o).every(function(t){var u=b.getData(t);if(u.seriesIndex!==e){return true;}if(n){if(i&&u.pointSum===i.length){p=s.getProperties().get('interaction.selected');if(d3.select(t).classed(f.DATAPOINTSELECTED)){return false;}else{d3.select(t).classed(f.DATAPOINTSELECTED,true);}var v={fill:u.fill,visible:u.visibility==="visible"};l(s,t,p.area,v);if(q.visible===true){t.setAttribute("stroke-opacity",1);}else{t.setAttribute("stroke-opacity",0);}}else{if(q.visible!==true){t.setAttribute("stroke-opacity",0);}else{t.removeAttribute("stroke-opacity");}}}else{p=s.getProperties().get('interaction.deselected');if(d3.select(t).classed(f.DATAPOINTSELECTED)){d3.select(t).classed(f.DATAPOINTSELECTED,false);}else{return false;}l(s,t,p.area);}return true;});}}function l(s,n,p,e){var i=H.getColors(s,n,p.color);var v=e?e.visible:s.getProperties().get('plotArea.area.visible');var o=i.customizedColor||(e&&e.fill)||i.defaultColor;i=i.customizedColor||i.defaultColor;n.setAttribute("fill",o);n.setAttribute("stroke",i);if(v){if(p.opacity){n.setAttribute("fill-opacity",p.opacity);}}else{n.setAttribute("fill-opacity",0);}}function m(s,n,e){if(e){var i=s.getNodes(n,false);var p;i.forEach(function(o){if(o.contains&&o.contains(e)){p=o;}else if(o.compareDocumentPosition&&!!(o.compareDocumentPosition(e)&16)){p=o;}});return p;}return null;}return[{"id":"selectDataPoint_radar","triggerEvent":{"name":"selectDataPoint","supportedChartTypes":r},"handler":function(i,s){var n=H.turnToArray(i.data.targets);s.fireEvent(i,true);var p=s.getProperties().get('interaction.selected');n.forEach(function(e){var o=d3.select(e);o.classed(f.DATAPOINTDEFAULT,false);o.classed(f.DATAPOINTSELECTED,true);D.highlight(e);H.drawStroke(s,e,'path',p.stroke,1);H.drawFill(s,e,'path',p,T.isExist(s.getProperties().get('plotArea.markerRenderer')),true);});h(n,s,false,true);}},{"id":"deselectDataPoint_radar","triggerEvent":{"name":"deselectDataPoint","supportedChartTypes":r},"handler":function(i,s){if(!i.data.targets||i.data.targets.length<=0){return;}s.fireEvent(i,true);var n=H.turnToArray(i.data.targets);var p;if(i.data.isAnyOtherSelected){p=s.getProperties().get('interaction.deselected');}else{p=s.getProperties().get('plotArea.dataPoint');if(!s.getProperties().get("plotArea.marker.visible")){p.opacity=0;}}n.forEach(function(e){var o=d3.select(e);if(!o){return;}o.classed(f.DATAPOINTSELECTED,false);H.drawStroke(s,e,'path',p.stroke,1);H.drawFill(s,e,'path',p,T.isExist(s.getProperties().get('plotArea.markerRenderer')),true);});if(i.data.isAnyOtherSelected){h(n,s,false,false);}}},{"id":"hoverOnDataPoint_radar","triggerEvent":{"name":"hoverOnDataPoint","supportedChartTypes":r},"handler":function(i,s){s.fireEvent(i,true);var n=H.turnToArray(i.data.targets);var p=s.getProperties().get('interaction.hover');n.forEach(function(e){H.drawStroke(s,e,'path',p.stroke,2);H.drawFill(s,e,'path',p,T.isExist(s.getProperties().get('plotArea.markerRenderer')),true);});}},{"id":"unhoverOnDataPoint_radar","triggerEvent":{"name":"unhoverOnDataPoint","supportedChartTypes":r},"handler":function(i,s){s.fireEvent(i,true);var n=H.turnToArray(i.data.targets);var p;n.forEach(function(e){if(d3.select(e).classed(f.DATAPOINTSELECTED)){p=s.getProperties().get('interaction.selected');}else{var o=s.getStatus("selectedDataPoints");if(o.length){p=s.getProperties().get('interaction.deselected');}else{p=s.getProperties().get('plotArea.dataPoint');}if(!s.getProperties().get("plotArea.marker.visible")){p.opacity=0;}}H.drawStroke(s,e,'path',p.stroke,1);H.drawFill(s,e,'path',p,T.isExist(s.getProperties().get('plotArea.markerRenderer')),true);});}},{"id":"clearPlot_radar","triggerEvent":{"name":"clearPlot","supportedChartTypes":r},"handler":function(i,s){s.fireEvent(i,true);var n=s.getNodes(s.NodeType.DATA_POINT,false);if(!n||!n.length){return;}var p,o=i.data.isGray;if(o){p=s.getProperties().get('interaction.deselected');}else{p=s.getProperties().get('plotArea.dataPoint');}if(!s.getProperties().get("plotArea.marker.visible")){p.opacity=0;}n.forEach(function(e){H.drawStroke(s,e,'path',p.stroke,1);H.drawFill(s,e,'path',p,T.isExist(s.getProperties().get('plotArea.markerRenderer')),true);});var v=s.getProperties().get('plotArea.area.visible');if(o){p=s.getProperties().get('interaction.deselected.area');}else{p=s.getProperties().get('plotArea.area');}var q=s.getNodes(s.NodeType.RADAR_NET,false);var t=s.getProperties().get('plotArea.line');q.forEach(function(e){if(d3.select(e).classed(f.DATAPOINTSELECTED)){d3.select(e).classed(f.DATAPOINTSELECTED,false);}var u=b.getData(e);var w;var x=v?p.opacity:0;if(u.visibility==="visible"){if(!o){x=u.opacity;}else{x=p.opacity;}w=u.fill;}else if(u.visibility==="hidden"){x=0;}var y=H.getColors(s,e,p.color);if(o&&y.customizedColor){e.setAttribute('fill',y.customizedColor);e.setAttribute('stroke',y.customizedColor);}else{e.setAttribute('fill',w||y.defaultColor);e.setAttribute('stroke',y.defaultColor);}if(t.visible!==true){e.setAttribute('stroke-opacity',0);}else{e.removeAttribute("stroke-opacity");}e.setAttribute('fill-opacity',x);});}},I.getDeselectEvent("click_on_non_selection_radar",r,H.getDeselAllExTargets())];});define('sap/viz/chart/behavior/config/DataPointBehaviorConfigForBar',['sap/viz/framework/common/util/Constants',"sap/viz/framework/common/util/TypeUtils","sap/viz/chart/behavior/config/HighlightHelper","sap/viz/framework/common/util/DataGraphics","sap/viz/chart/components/util/ChartTypeUtils",'sap/viz/chart/behavior/config/handler/DataPointBehaviorHandler','sap/viz/framework/common/util/ObjectUtils'],function(C,T,H,D,a,b,O){var c=["info/bar","info/column","info/dual_bar","info/dual_column","info/timeseries_column","info/timeseries_stacked_column","info/timeseries_100_stacked_column","info/timeseries_waterfall"];var t=["info/timeseries_combination","info/dual_timeseries_combination"];var d=c.concat(t);var f=["info/stacked_bar","info/stacked_column","info/dual_stacked_bar","info/dual_stacked_column","info/100_stacked_bar","info/100_stacked_column","info/100_dual_stacked_bar","info/100_dual_stacked_column","info/mekko","info/horizontal_mekko","info/100_mekko","info/100_horizontal_mekko","info/waterfall","info/horizontal_waterfall","info/stacked_waterfall","info/horizontal_stacked_waterfall","info/heatmap"].concat(c);f=a.addTrellisType(f);var g=f.concat(t);g=a.addTrellisType(g);c=a.addTrellisType(c);var h=C.CSS.CLASS;var i="datapoint";var j="dataline";var k=["info/timeseries_column","info/timeseries_stacked_column","info/timeseries_100_stacked_column","info/timeseries_waterfall"];return[{"id":"selectDataPoint_bar","triggerEvent":{"name":"selectDataPoint","supportedChartTypes":f,},"handler":function(e,s){if(s.isBigDataMode()){b.selectOnBarDuringBigData(e,s);}else{b.selectOnBarOnNormalMode(e,s);}}},{"id":"selectDataPoint_comb","triggerEvent":{"name":"selectDataPoint","supportedChartTypes":t},"handler":function(e,s){if(s.isBigDataMode()){b.selectOnCombinationDuringBigData(e,s);}else{b.selectOnBarOnNormalMode(e,s);b.selectOnLineOnNormalMode(e,s);}}},{"id":"deselectDataPoint_bar","triggerEvent":{"name":"deselectDataPoint","supportedChartTypes":g},"handler":function(l,s){if(s.isBigDataMode()){return;}s.fireEvent(l,true);var p=s.getProperties();var m=H.turnToArray(l.data.targets);var n;var o=T.isExist(p.get('plotArea.markerRenderer'));m.forEach(function(e){var w=1;if(l.data.isAnyOtherSelected){n=p.get('interaction.deselected');}else{n=p.get('plotArea.dataPoint');w=D.getData(e).strokeWidth;}H.drawStroke(s,e,'rect',n.stroke,w);H.drawFill(s,e,'rect, path',n,o);});}},{"id":"hoverOnDataPoint_bar","triggerEvent":{"name":"hoverOnDataPoint","supportedChartTypes":g},"handler":function(l,s){if(s.isBigDataMode()){return;}s.fireEvent(l,true);var p=s.getProperties();var m=H.turnToArray(l.data.targets);var n=p.get('interaction.hover');var o=T.isExist(p.get('plotArea.markerRenderer'));m.forEach(function(e){H.drawStroke(s,e,'rect',n.stroke,2);H.drawFill(s,e,'rect, path',n,o);});}},{"id":"unhoverOnDataPoint_bar","triggerEvent":{"name":"unhoverOnDataPoint","supportedChartTypes":g},"handler":function(l,s){s.fireEvent(l,true);var m=H.turnToArray(l.data.targets);var p=s.getProperties();var n;var o=T.isExist(p.get('plotArea.markerRenderer'));m.forEach(function(e){var w=1;if(d3.select(e).classed(h.DATAPOINTSELECTED)){n=p.get('interaction.selected');}else{if(s.shouldUseDeselectedColor()){n=p.get('interaction.deselected');}else{n=s.getProperties().get('plotArea.dataPoint');w=D.getData(e).strokeWidth;}}H.drawStroke(s,e,'rect',n.stroke,w);H.drawFill(s,e,'rect, path',n,o);});}},{"id":"clearPlot_bar","triggerEvent":{"name":"clearPlot","supportedChartTypes":g},"handler":function(l,s){s.fireEvent(l,true);s._getDecorationLayer().clear();var m=l.data.isGray;var r=l.data.rangeSelection;var u=r&&r!=="clear";var p=s.getProperties();var n=s.getNodes(s.NodeType.DATA_POINT,false);if(n==null||n.length===0){if(s.isBigDataMode()){var o=s.getNodes(s.NodeType.BAR_SERIES,false);if(m||u){var q=p.get('interaction.deselected.color');o.forEach(function(e){var x=H.getColors(s,e,q);var y=x.customizedColor||x.defaultColor;e.setAttribute("stroke",y);});}else{o.forEach(function(e){var x=D.getData(e);var y=x.color;e.setAttribute("stroke",y);});}}return;}var v;var w=T.isExist(p.get('plotArea.markerRenderer'));n.forEach(function(e){var x=1;if(m||u){v=p.get('interaction.deselected');if(u){v=O.extend(true,{},v);v.opacity=1;}}else{v=p.get('plotArea.dataPoint');x=D.getData(e).strokeWidth;}H.drawStroke(s,e,'rect',v.stroke,T.isExist(x)?x:1);H.drawFill(s,e,'rect, path',v,w);});}},{"id":"clearPlot_timeseries_column","triggerEvent":{"name":"clearPlot","supportedChartTypes":k},"handler":function(e,s){s.fireEvent(e,true);if(!e.data.rangeSelection){s._getDecorationLayer().clear();s._getActionLayer().clear();}}},{"id":"hover_on_plot_bar","triggerEvent":{"name":"hover","supportedChartTypes":c,"targets":"v-m-plot"},"handler":function(e,s){b.hoverOnBarDuringBigData(e,s);}},{"id":"hover_on_non_plot_bar","triggerEvent":{"name":"hover","supportedChartTypes":d,"excludeTargets":"v-m-plot"},"handler":function(e,s){if(!s.isBigDataMode()){return;}s.setStatus("hoveringOnPlotEvent",null);var l=s._getActionLayer();l.clear(i);s._getDecorationLayer().clear(i);s.fireEvent("hideTooltipHoverOnPlot",{mode:"infoMode"});}},{"id":"hover_range_selection_bar","triggerEvent":{"name":"hover","supportedChartTypes":k,"targets":"v-m-action-layerrange"},"handler":function(e,s){b.showDetailForRangeSelectionWhenHover(e,s);}},{"id":"click_on_time_comb_during_big_data","triggerEvent":{"name":"click","supportedChartTypes":t,"excludeTargets":H.getDeselAllExTargets(),},"handler":function(e,s){b.clickOnCombDuringBigData(e,s);}},{"id":"hover_on_plot_time_during_big_data","triggerEvent":{"name":"hover","supportedChartTypes":t,"targets":"v-m-plot"},"handler":function(e,s){if(s.getStatus("rangeSelection")){return;}b.hoverOnCombDuringBigData(e,s);}},{"id":"click_on_non_selection_bar","triggerEvent":{"name":"click","supportedChartTypes":g,"excludeTargets":H.getDeselAllExTargets(),},"handler":function(e,s){if(s.isBigDataMode()&&t.indexOf(s._getChartType())>-1){return;}if(!s.getProperties().get("interaction.enableDeselectAll")){return;}if(d.indexOf(s._getChartType())>-1){b.clickOnBarDuringBigData(e,s);}else{s.fireEvent(e,true);}}},{"id":"update_range_selection_effect_bar","triggerEvent":{"targets":"v-m-action-layerrange","name":"down","supportedChartTypes":k},"handler":function(e,s){b.updateRangeEffect(e,s);}},{"id":"recover_range_selection_effect_bar","triggerEvent":{"targets":"v-m-action-layerrange","name":"up","supportedChartTypes":k},"handler":function(e,s){b.recoverRangeEffect(e,s);}}];});define('sap/viz/chart/behavior/config/DataPointBehaviorConfigForBullet',['sap/viz/framework/common/util/Constants',"sap/viz/framework/common/util/TypeUtils","sap/viz/chart/behavior/config/HighlightHelper","sap/viz/framework/common/util/DataGraphics","sap/viz/chart/components/util/DataPointUtils","sap/viz/framework/common/util/SVG","sap/viz/framework/common/util/ColorUtils",'sap/viz/framework/common/util/ObjectUtils',"sap/viz/framework/interaction/InteractionUtils",'sap/viz/chart/behavior/config/handler/DataPointBehaviorHandler'],function(C,T,H,D,a,S,b,O,I,c){var r=["info/bullet","info/vertical_bullet","info/trellis_bullet","info/trellis_vertical_bullet"];var t=["info/timeseries_bullet"];var d=r.concat(t);var f=C.CSS.CLASS;var g=function(s,n,p){var e=D.getData(n).color;var j=n.querySelector(".v-forecast");var k,i,l={};O.extend(true,l,s.getProperties().get('interaction.'+p.bStatus));l.name='interaction.'+p.bStatus;var m=s.getProperties().get(l.name);if(p.bShow){if(l.stroke.visible===true){if(j){h(s,n,j,m,"#999999",p.bSelected);}for(i in e){if(e.hasOwnProperty(i)&&i!=="v-forecast"){k=n.querySelector("."+i);if(k){var o=b.fromCSSColor(e[i].color.toLowerCase());o.r=parseInt(o.r*0.7,10);o.g=parseInt(o.g*0.7,10);o.b=parseInt(o.b*0.7,10);h(s,n,k,m,o.toString(),p.bSelected);}}}}}else{var q=s.getProperties().get('plotArea.dataPoint.stroke');if(j){j.removeAttribute("stroke");j.removeAttribute("stroke-width");}for(i in e){if(e.hasOwnProperty(i)){k=n.querySelector("."+i);if(k){if(e[i].strokeWidth){if(q&&q.visible===true){k.setAttribute("stroke",q.color);}else{k.setAttribute("stroke","#ffffff");}k.setAttribute("stroke-width",e[i].strokeWidth);}else{k.removeAttribute("stroke");k.removeAttribute("stroke-width");}}}}}n.setAttribute("fill-opacity",T.isExist(m)&&T.isExist(m.opacity)?m.opacity:1);n.setAttribute("stroke-opacity",T.isExist(m)&&T.isExist(m.opacity)?m.opacity:1);};function h(s,e,n,p,i,j){var k=H.getColors(s,e,p.stroke.color,i);if(k.customizedColor){n.setAttribute("stroke",k.customizedColor);}else{n.setAttribute('stroke',k.defaultColor);}n.setAttribute("stroke-width",j?H.getWidth(p.stroke.width,1):H.getWidth(p.stroke.width,2));}return[{"id":"selectDataPoint_bullet","triggerEvent":{"name":"selectDataPoint","supportedChartTypes":d},"handler":function(i,s){s.fireEvent(i,true);var j=H.turnToArray(i.data.targets);j.forEach(function(e){if(s.getProperties().get('interaction.selected.stroke.visible')===true){g(s,e,{bShow:true,bSelected:true,bStatus:'selected'});}else{g(s,e,{bShow:false,bSelected:false,bStatus:'default'});}});}},{"id":"deselectDataPoint_bullet","triggerEvent":{"name":"deselectDataPoint","supportedChartTypes":d},"handler":function(i,s){s.fireEvent(i,true);var j=H.turnToArray(i.data.targets);j.forEach(function(e){if(i.data.isAnyOtherSelected){if(s.getProperties().get('interaction.deselected.stroke.visible')===true){g(s,e,{bShow:true,bSelected:true,bStatus:'deselected'});}else{g(s,e,{bShow:false,bSelected:true,bStatus:'deselected'});}}else{g(s,e,{bShow:false,bSelected:true,bStatus:'default'});}});}},{"id":"hoverOnDataPoint_bullet","triggerEvent":{"name":"hoverOnDataPoint","supportedChartTypes":d},"handler":function(i,s){s.fireEvent(i,true);var j=H.turnToArray(i.data.targets);j.forEach(function(e){g(s,e,{bShow:true,bSelected:false,bStatus:'hover'});});}},{"id":"unhoverOnDataPoint_bullet","triggerEvent":{"name":"unhoverOnDataPoint","supportedChartTypes":d},"handler":function(i,s){s.fireEvent(i,true);var j=H.turnToArray(i.data.targets);j.forEach(function(e){if(d3.select(e).classed(f.DATAPOINTSELECTED)){var k=s.getProperties().get('interaction.selected.stroke.visible');if(k===true){g(s,e,{bShow:true,bSelected:true,bStatus:'selected'});}else{g(s,e,{bShow:false,bSelected:true,bStatus:'selected'});}}else{var l=s.getStatus("selectedDataPoints");if(l.length){if(s.getProperties().get('interaction.deselected.stroke.visible')===true){g(s,e,{bShow:true,bSelected:true,bStatus:'deselected'});}else{g(s,e,{bShow:false,bSelected:true,bStatus:'deselected'});}}else{g(s,e,{bShow:false,bSelected:true,bStatus:'default'});}}});}},{"id":"clearPlot_bullet","triggerEvent":{"name":"clearPlot","supportedChartTypes":d},"handler":function(i,s){s.fireEvent(i,true);var m=s.getNodes(s.NodeType.DATA_POINT,false);if(!m||!m.length){return;}var j=i.data.isGray;m.forEach(function(e){if(j){g(s,e,{bShow:true,bSelected:true,bStatus:'deselected'});}else{g(s,e,{bShow:false,bSelected:false,bStatus:'default'});}});}},{"id":"click_on_non_selection_bullet","triggerEvent":{"name":"click","supportedChartTypes":d,"excludeTargets":H.getDeselAllExTargets(),},"handler":function(e,s){c.clickOnNonSelection(e,s,t);}},{"id":"clearPlot_time_bullet","triggerEvent":{"name":"clearPlot","supportedChartTypes":t},"handler":function(e,s){c.clearForTime(e,s);}},{"id":"hover_range_selection_bullet","triggerEvent":{"name":"hover","supportedChartTypes":t,"targets":"v-m-action-layerrange"},"handler":function(e,s){c.showDetailForRangeSelectionWhenHover(e,s);}},{"id":"update_range_selection_effect_bullet","triggerEvent":{"targets":"v-m-action-layerrange","name":"down","supportedChartTypes":t},"handler":function(e,s){c.updateRangeEffect(e,s);}},{"id":"recover_range_selection_effect_bullet","triggerEvent":{"targets":"v-m-action-layerrange","name":"up","supportedChartTypes":t},"handler":function(e,s){c.recoverRangeEffect(e,s);}}];});define('sap/viz/chart/behavior/config/PieBehaviorHelper',["sap/viz/framework/common/util/TypeUtils","sap/viz/framework/common/util/DataGraphics"],function(T,D){function b(d,a,c,i,e){d=d3.select(d);var t=d3.transform(d.attr("transform"));if(!d.attr("inPos")){d.attr("inPos",t.translate.join(","));}if(!d.attr("outPos")){d.attr("outPos",[t.translate[0]+a,t.translate[1]+c].join(","));}var f=i?d.attr("inPos"):d.attr("outPos");if(!e){d=d.transition();}d.attr("transform","translate("+f+")");}var s=function(c,f){if(!T.isArray(c)){c=[c];}c.forEach(function(e){if(e.parentNode.childNodes.length>1){var g=d3.select(e);var d=D.getData(g.node());if(d){var h=d.decoras;var i=0,j=0;var a=d.midAngle;var r=d.r;var k;k=0.05*r;i=k*Math.sin(a);j=-k*Math.cos(a);g.attr('transform',"translate("+i+","+j+")");g.attr('translateOffsetX',i);g.attr('translateOffsetY',j);if(h&&(!g.attr('offsetDone')||g.attr('offsetDone')==="false")){b(h,i,j,false,f);}g.attr('offsetDone',true);}}});};var P={selectDataPoint:s,deselectDataPoint:function(a){if(!T.isArray(a)){a=[a];}a.forEach(function(e){var c=d3.select(e);if(c){if(c.attr('offsetDone')==="true"){c.attr('transform',"translate(0,0)");var o=c.attr('translateOffsetX');var f=c.attr('translateOffsetY');var d=D.getData(c.node());var g=d.decoras;if(g&&o&&f){if(T.isNumber(o)&&T.isNumber(f)){b(g,-Number(o),-Number(f),true);}}c.attr('offsetDone',false);}}});}};return P;});define('sap/viz/chart/behavior/config/DataPointBehaviorConfigForPie',['sap/viz/framework/common/util/Constants',"sap/viz/framework/common/util/TypeUtils","sap/viz/chart/behavior/config/HighlightHelper","sap/viz/framework/common/util/DataGraphics","sap/viz/chart/behavior/config/PieBehaviorHelper","sap/viz/chart/components/util/ChartTypeUtils","sap/viz/framework/interaction/InteractionUtils"],function(C,T,H,D,P,a,I){var p=["info/pie","info/donut"];p=a.addTrellisType(p);var b=C.CSS.CLASS;return[{"id":"selectDataPoint_pie","triggerEvent":{"name":"selectDataPoint","supportedChartTypes":p},"handler":function(c,s){s.fireEvent(c,true);var d=H.turnToArray(c.data.targets);var f=s.getProperties().get('interaction.selected');d.forEach(function(e){H.drawStroke(s,e,'path',f.stroke,1);H.drawFill(s,e,'path',f,T.isExist(s.getProperties().get('plotArea.sliceRenderer')));});P.selectDataPoint(d,c.data.disableAnimation);}},{"id":"deselectDataPoint_pie","triggerEvent":{"name":"deselectDataPoint","supportedChartTypes":p},"handler":function(c,s){s.fireEvent(c,true);var d=H.turnToArray(c.data.targets);var f;d.forEach(function(e){if(c.data.isAnyOtherSelected){f=s.getProperties().get('interaction.deselected');}else{f=s.getProperties().get('plotArea.dataPoint');}H.drawStroke(s,e,'path',f.stroke,1);H.drawFill(s,e,'path',f,T.isExist(s.getProperties().get('plotArea.sliceRenderer')));});P.deselectDataPoint(d);}},{"id":"hoverOnDataPoint_pie","triggerEvent":{"name":"hoverOnDataPoint","supportedChartTypes":p},"handler":function(c,s){s.fireEvent(c,true);var d=H.turnToArray(c.data.targets);var f=s.getProperties().get('interaction.hover');d.forEach(function(e){H.drawStroke(s,e,'path',f.stroke,2);H.drawFill(s,e,'path',f,T.isExist(s.getProperties().get('plotArea.sliceRenderer')));});}},{"id":"unhoverOnDataPoint_pie","triggerEvent":{"name":"unhoverOnDataPoint","supportedChartTypes":p},"handler":function(c,s){s.fireEvent(c,true);var d=H.turnToArray(c.data.targets);var f;d.forEach(function(e){if(d3.select(e).classed(b.DATAPOINTSELECTED)){f=s.getProperties().get('interaction.selected');}else{var g=s.getStatus("selectedDataPoints");if(g.length){f=s.getProperties().get('interaction.deselected');}else{f=s.getProperties().get('plotArea.dataPoint');}}H.drawStroke(s,e,'path',f.stroke,1);H.drawFill(s,e,'path',f,T.isExist(s.getProperties().get('plotArea.sliceRenderer')));});}},{"id":"clearPlot_pie","triggerEvent":{"name":"clearPlot","supportedChartTypes":p},"handler":function(c,s){s.fireEvent(c,true);var m=s.getNodes(s.NodeType.DATA_POINT,false);if(!m||!m.length){return;}var d;var g=c.data.isGray;m.forEach(function(e){if(g){d=s.getProperties().get('interaction.deselected');}else{d=s.getProperties().get('plotArea.dataPoint');}H.drawStroke(s,e,'path',d.stroke,1);H.drawFill(s,e,'path',d,T.isExist(s.getProperties().get('plotArea.sliceRenderer')));});}},I.getDeselectEvent("click_on_non_selection_pie",p,H.getDeselAllExTargets())];});define('sap/viz/chart/behavior/config/DataPointBehaviorConfigForScatter',['sap/viz/framework/common/util/Constants',"sap/viz/framework/common/util/TypeUtils","sap/viz/chart/behavior/config/HighlightHelper","sap/viz/framework/common/util/DataGraphics","sap/viz/chart/components/util/ColorUtil","sap/viz/chart/components/util/ChartTypeUtils",'sap/viz/chart/components/util/DataPointUtils',"sap/viz/framework/common/util/DOM","sap/viz/framework/interaction/InteractionUtils",'sap/viz/chart/behavior/config/handler/DataPointBehaviorHandler'],function(C,T,H,D,a,b,c,d,I,f){var t=["info/timeseries_scatter","info/timeseries_bubble"];var s=["info/bubble","info/scatter","info/time_bubble"].concat(t);s=b.addTrellisType(s);var g=C.CSS.CLASS;function h(e){var r=1,i;if(k(e)&&/scale/.test(e.getAttribute("transform"))){i=e.querySelector("circle")||e.querySelector("rect")||e.querySelector("ellipse")||e.querySelector("line")||e.querySelector("polyline")||e.querySelector("polygon")||e.querySelector("path");if(i){var o=i.getBoundingClientRect();var p=i.getBBox();r=p.width/o.width;}}return r;}function j(e){return(D.getData(e).fillOpacity===0);}function k(e){return d.hasClass(e,'v-datapoint')||d.hasClass(e,'v-datapoint-marker')||d.hasClass(e,'v-lines');}var l=function(i,e,p,o){var q=D.getData(e).color;var r;if(T.isFunction(p)){r=p(q);}else if(T.isString(p)){r=i.parseColorProperty(p,q);}r=r||q;if(o){var u=D.getData(e);r=i.register({drawingEffect:o,fillColor:r,direction:"vertical",graphType:u.shape,radius:u.r,patternEffect:u.pattern});}return r;};function m(i,e,p,o,r){var q;var u,v;if(p.stroke.visible===true||j(e)){if(j(e)){u=l(i,e,p.color);}else{u=l(i,e,p.stroke.color);}v=H.getWidth(p.stroke.width,o,r);}else{u=D.getData(e).borderColor;v=1;}var w=e.querySelector('path')||e.querySelector("circle");if(w){w.setAttribute("stroke",u);w.setAttribute("stroke-width",v);}}function n(i,e,p,o,q){var r=p.opacity;if(!T.isExist(p.opacity)){r=1;}e.setAttribute("fill-opacity",r);var u=e.querySelector("path")||e.querySelector("circle");if(u){u.setAttribute("stroke-opacity",r);if(!o){var v=l(i,e,p.color,q);u.setAttribute('fill',v);}}}return[{"id":"selectDataPoint_scatter","triggerEvent":{"name":"selectDataPoint","supportedChartTypes":s},"handler":function(o,p){var q=H.turnToArray(o.data.targets);var r=p.getProperties();var u={color:r.get('interaction.selected.color'),opacity:r.get('interaction.selected.opacity'),stroke:r.get('interaction.selected.stroke')};var v=T.isExist(r.get('plotArea.markerRenderer'));var w=r.get('plotArea.drawingEffect');var x=p.getEffectManager();if(p.isBigDataMode()){var y=p.getNodes(p.NodeType.DATA_POINT,false);q=c.findByDataPointIds(y,q);}var z={name:o.name,data:{targets:q}};p.fireEvent(z,true);for(var i=q.length;i--;){var e=q[i];var A=h(e);m(x,e,u,1,A);n(x,e,u,v,w);}}},{"id":"deselectDataPoint_scatter","triggerEvent":{"name":"deselectDataPoint","supportedChartTypes":s},"handler":function(i,o){var p=H.turnToArray(i.data.targets);var q=o.getProperties();var r;if(i.data.isAnyOtherSelected){r={color:q.get('interaction.deselected.color'),opacity:q.get('interaction.deselected.opacity'),stroke:q.get('interaction.deselected.stroke')};}else{r={color:q.get('plotArea.dataPoint.color'),stroke:q.get('plotArea.dataPoint.stroke')};}var u=T.isExist(q.get('plotArea.markerRenderer'));var v=q.get('plotArea.drawingEffect');var w=o.getEffectManager();if(o.isBigDataMode()){var x=o.getNodes(o.NodeType.DATA_POINT,false);p=c.findByDataPointIds(x,p);p=[].slice.call(p);}var y={name:i.name,data:{targets:p}};o.fireEvent(y,true);p.forEach(function(e){var z=h(e);m(w,e,r,1,z);n(w,e,r,u,v);});}},{"id":"hoverOnDataPoint_scatter","triggerEvent":{"name":"hoverOnDataPoint","supportedChartTypes":s},"handler":function(i,o){o.fireEvent(i,true);var p=H.turnToArray(i.data.targets);var q=o.getProperties();var r=q.get('interaction.hover');var u=T.isExist(q.get('plotArea.markerRenderer'));var v=q.get('plotArea.drawingEffect');var w=o.getEffectManager();p.forEach(function(e){var x=h(e);m(w,e,r,2,x);n(w,e,r,u,v);});}},{"id":"unhoverOnDataPoint_scatter","triggerEvent":{"name":"unhoverOnDataPoint","supportedChartTypes":s},"handler":function(i,o){o.fireEvent(i,true);var p=H.turnToArray(i.data.targets);var q=o.getProperties();var r;var u=T.isExist(q.get('plotArea.markerRenderer'));var v=q.get('plotArea.drawingEffect');var w=o.getEffectManager();p.forEach(function(e){var x=h(e);if(d3.select(e).classed(g.DATAPOINTSELECTED)){r=q.get('interaction.selected');}else{if(o.shouldUseDeselectedColor()){r=q.get('interaction.deselected');}else{r=q.get('plotArea.dataPoint');delete r.opacity;}}m(w,e,r,1,x);n(w,e,r,u,v);});}},{"id":"hover_range_selection_scatter","triggerEvent":{"name":"hover","supportedChartTypes":t,"targets":"v-m-action-layerrange"},"handler":function(e,i){f.showDetailForRangeSelectionWhenHover(e,i);}},{"id":"clearPlot_scatter","triggerEvent":{"name":"clearPlot","supportedChartTypes":s},"handler":function(i,o){o.fireEvent(i,true);var p=o.getNodes(o.NodeType.DATA_POINT,false);if(!p||!p.length){return;}var q=o.getProperties();var r;var u=i.data.rangeSelection;var U=u&&u!=="clear";if(i.data.isGray||U){r={color:q.get('interaction.deselected.color'),stroke:q.get('interaction.deselected.stroke')};if(!U){r.opacity=q.get('interaction.deselected.opacity');}}else{r={color:q.get('plotArea.dataPoint.color'),stroke:q.get('plotArea.dataPoint.stroke')};}var v=T.isExist(q.get('plotArea.markerRenderer'));var w=q.get('plotArea.drawingEffect');var x=o.getEffectManager();p.forEach(function(e){var y=h(e);m(x,e,r,1,y);n(x,e,r,v,w);});}},{"id":"click_on_non_selection_scatter","triggerEvent":{"name":"click","supportedChartTypes":s,"excludeTargets":H.getDeselAllExTargets(),},"handler":function(e,i){f.clickOnNonSelection(e,i,t);}},{"id":"clearPlot_time_scatter","triggerEvent":{"name":"clearPlot","supportedChartTypes":t},"handler":function(e,i){f.clearForTime(e,i);}},{"id":"update_range_selection_effect_scatter","triggerEvent":{"targets":"v-m-action-layerrange","name":"down","supportedChartTypes":t},"handler":function(e,i){f.updateRangeEffect(e,i);}},{"id":"recover_range_selection_effect_scatter","triggerEvent":{"targets":"v-m-action-layerrange","name":"up","supportedChartTypes":t},"handler":function(e,i){f.recoverRangeEffect(e,i);}}];});define('sap/viz/chart/behavior/config/DataPointBehaviorConfigForTreeMap',['sap/viz/framework/common/util/Constants',"sap/viz/framework/common/util/TypeUtils","sap/viz/chart/behavior/config/HighlightHelper","sap/viz/framework/common/util/DataGraphics","sap/viz/framework/common/util/UADetector","sap/viz/chart/components/util/ChartTypeUtils","sap/viz/framework/interaction/InteractionUtils"],function(C,T,H,D,U,a,I){var t=["info/treemap"];t=a.addTrellisType(t);var b=C.CSS.CLASS;return[{"id":"selectDataPoint_tree","triggerEvent":{"name":"selectDataPoint","supportedChartTypes":t},"handler":function(c,s){if(c.data.targets[0]&&c.data.targets[0].parentNode){s.fireEvent(c,true);var d=H.turnToArray(c.data.targets);var p=s.getProperties().get('interaction.selected');d.forEach(function(e){H.drawStroke(s,e,'rect',p.stroke,1);H.drawFill(s,e,'rect',p,T.isExist(s.getProperties().get('plotArea.markerRenderer')));});}}},{"id":"deselectDataPoint_tree","triggerEvent":{"name":"deselectDataPoint","supportedChartTypes":t},"handler":function(c,s){if(c.data.targets[0]&&c.data.targets[0].parentNode){s.fireEvent(c,true);var d=H.turnToArray(c.data.targets);var p;d.forEach(function(e){if(c.data.isAnyOtherSelected){p=s.getProperties().get('interaction.deselected');}else{p=s.getProperties().get('plotArea.dataPoint');}H.drawStroke(s,e,'rect',p.stroke,1);H.drawFill(s,e,'rect',p,T.isExist(s.getProperties().get('plotArea.markerRenderer')));});}}},{"id":"hoverOnDataPoint_tree","triggerEvent":{"name":"hoverOnDataPoint","supportedChartTypes":t},"handler":function(c,s){s.fireEvent(c,true);var d=H.turnToArray(c.data.targets);var p=s.getProperties().get('interaction.hover');d.forEach(function(e){H.drawStroke(s,e,'rect',p.stroke,2);H.drawFill(s,e,'rect',p,T.isExist(s.getProperties().get('plotArea.markerRenderer')));});}},{"id":"unhoverOnDataPoint_tree","triggerEvent":{"name":"unhoverOnDataPoint","supportedChartTypes":t},"handler":function(c,s){s.fireEvent(c,true);var d=H.turnToArray(c.data.targets);var p;d.forEach(function(e){if(d3.select(e).classed(b.DATAPOINTSELECTED)){p=s.getProperties().get('interaction.selected');}else{var f=s.getStatus("selectedDataPoints");if(f.length){p=s.getProperties().get('interaction.deselected');}else{p=s.getProperties().get('plotArea.dataPoint');}}H.drawStroke(s,e,'rect',p.stroke,1);H.drawFill(s,e,'rect',p,T.isExist(s.getProperties().get('plotArea.markerRenderer')));});}},{"id":"clearPlot_tree","triggerEvent":{"name":"clearPlot","supportedChartTypes":t},"handler":function(c,s){s.fireEvent(c,true);var m=s.getNodes(s.NodeType.DATA_POINT,false);if(!m||!m.length){return;}var g=c.data.isGray;var p;m.forEach(function(e){if(g){p=s.getProperties().get('interaction.deselected');}else{p=s.getProperties().get('plotArea.dataPoint');}H.drawStroke(s,e,'rect',p.stroke,1);H.drawFill(s,e,'rect',p,T.isExist(s.getProperties().get('plotArea.markerRenderer')));});}},I.getDeselectEvent("click_on_non_selection_tree",t,H.getDeselAllExTargets())];});define('sap/viz/chart/behavior/config/DataPointBehaviorConfigForTagCloud',['sap/viz/framework/common/util/Constants',"sap/viz/framework/common/util/TypeUtils","sap/viz/chart/behavior/config/HighlightHelper","sap/viz/framework/common/util/DataGraphics","sap/viz/framework/common/util/UADetector","sap/viz/chart/components/util/ChartTypeUtils","sap/viz/framework/interaction/InteractionUtils"],function(C,T,H,D,U,a,I){var t=["info/tagcloud"];t=a.addTrellisType(t);var b=C.CSS.CLASS;var c='v-hovershadow';var d={'fontfamily':"'Open Sans', Arial, Helvetica, sans-serif",'hoverBackGroundColor':'#999999','hoverTextColor':'#FFFFFF','selectedTextColor':'#FFFFFF'};return[{"id":"selectDataPoint_tagcloud","triggerEvent":{"name":"selectDataPoint","supportedChartTypes":t},"handler":function(f,s){s.fireEvent(f,true);var g=H.turnToArray(f.data.targets);g.forEach(function(e){d3.select(e).select('text').attr('fill',d.selectedTextColor);var h=e.getBBox();if(d3.select(e).select('rect')[0][0]===null){d3.select(e).insert('rect','text').attr("class",c).attr('width',h.width).attr('height',h.height).attr('x',h.x).attr('y',h.y).style('visibility','visible').attr('fill',d.hoverBackGroundColor);}else{d3.select(e).select('rect').style('visibility','visible');}});}},{"id":"deselectDataPoint_tagcloud","triggerEvent":{"name":"deselectDataPoint","supportedChartTypes":t},"handler":function(f,s){s.fireEvent(f,true);var g=H.turnToArray(f.data.targets);g.forEach(function(e){d3.select(e).select('text').attr('fill',D.getData(e).color);d3.select(e).select('rect').style('visibility','hidden');});}},{"id":"hoverOnDataPoint_tagcloud","triggerEvent":{"name":"hoverOnDataPoint","supportedChartTypes":t},"handler":function(f,s){s.fireEvent(f,true);var g=H.turnToArray(f.data.targets);g.forEach(function(e){d3.select(e).select('text').attr('fill',d.hoverTextColor);var h=e.getBBox();if(d3.select(e).select('rect')[0][0]===null){d3.select(e).insert('rect','text').attr("class",c).attr('width',h.width).attr('height',h.height).attr('x',h.x).attr('y',h.y).style('visibility','visible').attr('fill',d.hoverBackGroundColor);}else{d3.select(e).select('rect').style('visibility','visible');}});}},{"id":"unhoverOnDataPoint_tagcloud","triggerEvent":{"name":"unhoverOnDataPoint","supportedChartTypes":t},"handler":function(f,s){s.fireEvent(f,true);var g=H.turnToArray(f.data.targets);g.forEach(function(e){if(!d3.select(e).classed(b.DATAPOINTSELECTED)){d3.select(e).select('text').attr('fill',D.getData(e).color);d3.select(e).select('rect').style('visibility','hidden');}});}},{"id":"clearPlot_tagcloud","triggerEvent":{"name":"clearPlot","supportedChartTypes":t},"handler":function(e,s){}},I.getDeselectEvent("click_on_non_selection_tagcloud",t,H.getDeselAllExTargets())];});define('sap/viz/chart/behavior/config/handler/RuntimeSelectionHelperHandler',["sap/viz/chart/behavior/config/HighlightHelper","sap/viz/chart/behavior/config/SelectionUtil",'sap/viz/framework/chartmodel/DataSelector',"sap/viz/chart/components/util/DataPointUtils","sap/viz/framework/common/util/Constants",'sap/viz/framework/interaction/Constants','sap/viz/framework/common/util/DataUtils'],function(H,S,D,c,C,d,e){var f=d.SELECTION_MODE;var g="datapoint";var h=function(){};h.prototype.initializedClearSelection=function(a,b){b.setStatus("selectedDataPoints",[]);};h.prototype.unloadedClearSelection=function(a,b){var i=b.getStatus("selectedDataPoints");if(i&&i.length){b.fireEvent("clearPlot",{isGray:false});}b.removeStatus("selectedDataPoints");};h.prototype.refreshedKeepSelection=function(a,b){var t=b.getProperties().get("interaction.selectability.mode");var i=t?t.toUpperCase():t;var m=b.getStatus("selectedDataPoints");var n=b.getStatus("rangeSelection")&&b.getStatus("rangeDomain");var o=false;if(!b.getStatusManager().get("interaction.holdSelection")||i===f.NONE||i===f.SINGLE){if(m.length||n){b.fireEvent("clearPlot",{isGray:false});if(n){b.removeStatus("rangeDomain");b.removeStatus("rangeSelection");}}b.setStatus("selectedDataPoints",[]);o=true;}else if(m.length){b.fireEvent("clearPlot",{isGray:!n,rangeSelection:n}).fireEvent("selectDataPoint",{targets:this._getNodes(m,b),disableAnimation:true}).setStatus("selectedDataPoints",m);}return o;};h.prototype.reRenderKeepSelection=function(a,b){var i=b.getStatus("selectedDataPoints");var m=b.getStatus("hoveringDataPoint");var n=b.getStatus("rangeSelection")&&b.getStatus("rangeDomain");if(i.length){var t=this._getNodes(i,b);b.fireEvent("clearPlot",{isGray:!n,rangeSelection:n}).fireEvent("selectDataPoint",{targets:t,disableAnimation:true}).setStatus("selectedDataPoints",i);}if(m){b.fireEvent("hoverOnDataPoint",{targets:m});}if(n){b.fireEvent("rangeRecover");}if(b.getStatus("hoveringOnPlotEvent")){b.fireEvent(b.getStatus("hoveringOnPlotEvent"));}var o=b._getDecorationLayer();o.clear(g);};h.prototype.deselectAll=function(a,b){var i=b.getStatus("selectedDataPoints");b.fireEvent("clearPlot").fireEvent("deselectDataPoint",{targets:this._getNodes(i,b),isAnyOtherSelected:false}).fireEvent("hideDetail",{mode:"actionMode"}).setStatus("selectedDataPoints",[]);if(i&&i.length){b.fireEvent("dispatchDataEvent",{targets:i,isSelected:false});}};h.prototype.processMultipleSelectionTooltip=function(a,b){var i=b.getStatus("selectedDataPoints");if(i.length&&S.hasDataPoint(i,a.data.targets[0])){b.fireEvent("showDetail",{target:null,mode:"actionMode",point:a.data.point,forceStyle:a.data.forceStyle,isAnchored:a.data.isAnchored});}else{b.fireEvent("hideDetail",{mode:"actionMode"});}};var s={};s[f.SINGLE]=1;s[f.MULTIPLE]=1;s[f.EXCLUSIVE]=1;s[f.INCLUSIVE]=1;h.prototype.processSelection=function(a,b){var m=b.getStatus("selectedDataPoints");if(!m){return;}if(!m.length){b.fireEvent("clearPlot",{isGray:!b.getStatus("rangeSelection"),rangeSelection:b.getStatus("rangeSelection")});}var n=a.data;var o=String(n.mode).toUpperCase();var t=H.turnToArray(n.targets);var p=[];var q=[];var r=[];var u={};var i,v;if(!s[o]){var w=b.getProperties().get("interaction.selectability.mode");o=w?String(w).toUpperCase():w;}var x=b.getProperties().get("interaction.selectability.behavior");var y=x?x.toUpperCase():x;if(o===f.SINGLE&&y===d.SELECTION_BEHAVIOR.DATAPOINT){t=[t[0]];}for(i=t.length;i--;){u[t[i]]=1;}for(i=0,v=m.length;i<v;++i){var z=m[i];if(u[z]){r.push(z);u[z]=2;}else{p.push(z);}}for(i=0,v=t.length;i<v;++i){if(u[t[i]]===1){q.push(t[i]);}}var A=q.concat(m);var B=n.ctrlKeyPressed;var E=[];var F=[];var G=false;if(n.deselection===true){E=p;F=r;G=true;}else{if(o===f.SINGLE){if(y===d.SELECTION_BEHAVIOR.CATEGORY&&r.length&&m.length!==t.length){E=t;F=p;}else{if(r.length&&m.length===t.length){G=true;}E=q;F=m;}}else if(!B&&o===f.EXCLUSIVE){E=t;F=p;}else if(!B&&o===f.INCLUSIVE){E=A;}else if(B||o===f.MULTIPLE){if(!n.deselectable||q.length){E=A;}else{E=p;F=r;G=true;}}}this._fireEventForProcessSelection(b,F,E,q,n.fireEvents);b.setStatus("selectedDataPoints",E);var I={isDeselect:G,ctrlKey:B};return I;};h.prototype._fireEventForProcessSelection=function(a,b,i,p,m){if(b.length){a.fireEvent("deselectDataPoint",{targets:this._getNodes(b,a),isAnyOtherSelected:i.length>0});}if(i.length){a.fireEvent("selectDataPoint",{targets:this._getNodes(i,a)});}else{a.fireEvent("clearPlot",{isGray:false});}if(m!==false){if(p.length){a.fireEvent("dispatchDataEvent",{targets:p,isSelected:true});}if(b.length){a.fireEvent("dispatchDataEvent",{targets:b,isSelected:false});}}};function j(a,i,b,t){var m,n;if(i){m=C.Event.SelectData.name;n="selectData";}else{m=C.Event.DeSelectData.name;n="deselectData";}var o={name:m,data:b,type:t};if(i&&a.getStatus("rangeSelection")){var p=a.getStatus("rangeDomain");var q=a.getDataModel();var r=q._timeAxis.metaData[0].id;var u={},v={};u[r]=p[0];v[r]=p[1];o.dateTimeRange={start:u,end:v};}a.fireExternalEvent(n,o);}h.prototype.dispatchDataEvent=function(a,b){var t=a.data.targets;var i=this._buildEventData(t,b);var m=a.data.isSelected;j(b,m,i,"dataPoint");};h.prototype.dispatchRangeDataEvent=function(a,b){var t=a.data.targets;var i,m;if(b.isBigDataMode()){i=l(t,b);m="range";}else{i=this._buildEventData(t,b);m="dataPoint";}var n=a.data.isSelected;j(b,n,i,m);};h.prototype._buildEventData=function(a,b){var m=b.getDataModel();var n=b.getNodes(b.NodeType.DATA_POINT,false);var o={};for(var i=n.length;i--;){var p=c.getDataPointId(n[i]);o[p]=n[i];}return a.map(function(q){var r=m.getDataPoint(q);return{target:o[q]||null,data:r.context()};});};h.prototype._getNodes=function(a,b){return c.getNodes(a,b);};h.prototype._hasDataPoint=function(a,b){return S.hasDataPoint(a,b);};function k(a,b){var m=[],n=[];var o,i;for(var p in b){if(b.hasOwnProperty(p)){if(a.horizontal.indexOf(p)!==-1||a.vertical.indexOf(p)!==-1){o=b[p];for(i=0;i<o.length;i++){m.push(o[i].id);}continue;}o=b[p];for(i=0;i<o.length;i++){if(o[i].id==="measureNames"){continue;}n.push(o[i].id);}}}return{axisDef:m,seriesDef:n};}function l(t,m){var p=m.getModule("main.plot");if(!p){return;}var n=p.getAxisBinding();var o=m.getDataModel();var q=k(n,o.getBindingMetaData());var r=[],u=null,i;var v=null;var w=null;var x=q.axisDef;var y=q.seriesDef;t=t.slice().sort(function(a,b){return a-b;});var z=[];for(i=0;i<t.length;i++){z.push(o.getDataPoint(t[i]));}for(i=0;i<z.length;i++){var A=z[i];var B=A.address(A.addressType.SERIES);if(i!==0&&(w!==A.id-1||v!==B)){r.push(u);u=null;}var E=A.context();if(u==null){u={};y.forEach(function(a){u[a]=e.getContextValue(E,a);});x.forEach(function(a){var b=e.getContextValue(E,a);u[a]={min:b,max:b};});}else{x.forEach(function(a){var b=e.getContextValue(E,a);u[a].min=Math.min(b,u[a].min);u[a].max=Math.max(b,u[a].max);});}v=B;w=A.id;}if(u!=null){r.push(u);}return r;}return h;});define('sap/viz/chart/behavior/config/RuntimeSelectionHelperConfig',["sap/viz/chart/behavior/config/handler/RuntimeSelectionHelperHandler","sap/viz/chart/behavior/config/HighlightHelper"],function(R,H){return[{"id":"runtimeSelectionHelperDefinition","handler":R,"handlerType":"class","triggerEvent":[{"name":"afterBehaviorLoaded","method":"initializedClearSelection"},{"name":"beforeBehaviorUnloaded","method":"unloadedClearSelection"},{"name":"afterChartRendered","method":"refreshedKeepSelection"},{"name":"reRenderComplete","method":"reRenderKeepSelection"},{"name":"click","excludeTargets":H.getDeselAllExTargets(),"method":"deselectAll"},{"name":"processMultipleSelectionTooltip","method":"processMultipleSelectionTooltip"},{"name":"processSelection","method":"processSelection"},{"name":"dispatchDataEvent","declaredEvents":["selectData","deselectData"],"method":"dispatchDataEvent"},{"name":"dispatchDataEvent","declaredEvents":["selectData","deselectData"],"supportedChartTypes":["info/timeseries_line","info/timeseries_column","info/timeseries_stacked_column","info/timeseries_100_stacked_column","info/timeseries_watefall"],"method":"dispatchRangeDataEvent"}]}];});define('sap/viz/chart/behavior/config/SelectionTreeUtil',["sap/viz/framework/common/util/ObjectUtils","sap/viz/framework/common/util/ArrayUtils","sap/viz/framework/common/util/TypeUtils",'sap/viz/framework/interaction/Constants'],function(O,A,T,C){var M="measureNames";var b="*";var g={bindings:["color","color2"],selectionTree:"seriesSelectionTree",metaInfo:"seriesMetaInfo"};var c={bindings:["color","shape"],maxDimension:[1,1],selectionTree:"seriesSelectionTree",metaInfo:"seriesMetaInfo"};var h=null;var d={categoryAxis:{bindings:["categoryAxis"],selectionTree:"categorySelectionTree",metaInfo:"categoryMetaInfo"},categoryAxis2:{bindings:["categoryAxis2"],selectionTree:"category2SelectionTree",metaInfo:"category2MetaInfo"},series:g};function f(a,e,i,j,k,o){var E=a.getProperties().get("interaction.selectability");var F=E.mode?E.mode.toUpperCase():E.mode;var G=E.behavior?E.behavior.toUpperCase():E.behavior;var H;if(G===C.SELECTION_BEHAVIOR.CATEGORY){H=t(j,o);if(!k){s(i,H,o,0);}else{r(i,H,o,0);}a.setStatus(e,i);}else if(G===C.SELECTION_BEHAVIOR.SERIES){H=t(j,o);if(!k){s(i,H,o,0);}else{r(i,H,o,0);}a.setStatus(e,i);}}function l(a,o,e){var i=a.getProperties().get("interaction.selectability");var j=o.mode||(i.mode?i.mode.toUpperCase():i.mode);var k=i.behavior?i.behavior.toUpperCase():i.behavior;var E;if(o.isDeselect){E=a.getStatus(e);}else{E=(((j===C.SELECTION_MODE.EXCLUSIVE)&&!o.ctrlKey)||j===C.SELECTION_MODE.SINGLE&&!o.isDeselect)?{}:a.getStatus(e);}return E;}function s(a,i,e,E){if(!e[E]){return;}var F=e[E].id;var G;if(i.hasOwnProperty(F)){G=(i[F]&&i[F]["in"])?i[F]["in"]:[i[F]];}else{G=(e[E].values);}if(!a.children){a.children=[];}for(var j=0;j<G.length;++j){var H=G[j];for(var k=0;k<a.children.length;++k){if(a.children[k].value===H){break;}}var I;if(k<a.children.length){s(a.children[k],i,e,E+1);I=a.children[k];}else{I={dimension:F,maxChildren:e[E+1]?e[E+1].values.length:0,value:H,children:[]};a.children.push(I);s(I,i,e,E+1);}var J=I.children.filter(function(o){return o.isMerged;});I.isMerged=(J.length===I.maxChildren);}}function r(a,i,e,E){if(!e[E]){return true;}var F=e[E].id;var G;if(i.hasOwnProperty(F)){G=(i[F]["in"])?i[F]["in"]:[i[F]];}else{G=(e[E].values);}for(var j=0;j<G.length;++j){var H=G[j];if(!a.children){return;}for(var k=0;k<a.children.length;++k){if(a.children[k].value===H){if(r(a.children[k],i,e,E+1)){a.children.splice(k,1);}break;}}if(a.children.length===0){return true;}else{var I=a.children.filter(function(o){return o.isMerged;});a.isMerged=a.maxChildren===I.length;}}}function m(a,e,k){for(var i=0;i<a.children.length;++i){var o=a.children[i];var E=O.clone(k);E[o.dimension]=o.value;if(o.isMerged){e.push({data:E});}else{var F=[];var G;for(var j=0;j<o.children.length;++j){var H=o.children[j];G=G||H.dimension;if(H.isMerged){F.push(H.value);}else{E[G]=H.value;m(H,e,E);}}if(F.length){if(F.length>1){E[G]={"in":F};}else{E[G]=F[0];}e.push({data:E});}}}}function n(a,e,j){for(var i=0;i<a.children.length;++i){var k=a.children[i];var o=O.clone(j);o[k.dimension]=k.value;if(k.children.length===0){e.push({data:o});}else{n(k,e,o);}}}function p(a,e,i,j){if(j){m(a,e,i);}else{n(a,e,i);}}function q(j,k){var o=[];for(var i=0;i<j.length;++i){var E={},F=false;E.id=j[i].id;E.type=j[i].type;if(k[i].some(function(e){return e===null;})){F=true;}E.values=k[i]?A.unique(k[i],function(a){return a?a.toString():false;}):[];if(F){E.values.push(null);}if(j[i].hidden){E.hidden=true;}o.push(E);}return o;}function t(a,i){var j=i.filter(function(e){return e.id==="measureNames";})[0];if(j){var k=[];var o=O.clone(a);for(var E in o){if(o.hasOwnProperty(E)){if(j.values.indexOf(E)>-1){delete o[E];k.push(E);}}}if(k.length){o[M]={"in":k};}return o;}else{return a;}}function u(i,a,e,j){var k,o;var E={};if(e===C.SELECTION_BEHAVIOR.CATEGORY){o="categoryAxis";k=a.getStatus(d[o].metaInfo);E[o]=v(i,k);E[o]=w(E[o],k);o="categoryAxis2";k=a.getStatus(d[o].metaInfo);E[o]=v(i,k);E[o]=w(E[o],k);}else if(e===C.SELECTION_BEHAVIOR.SERIES){o="series";k=a.getStatus(d[o].metaInfo);E[o]=v(i,k);}else{return i;}if(E[o]&&j){x(E[o],k);}return E;}function v(i,a){var j=null;if(a){var k=a.filter(function(e){return e.id==="measureNames";})[0];var o=O.clone(i);for(var E in o){if(o.hasOwnProperty(E)){var F=a.filter(function(e){return e.id===E;});if(F.length===0){if(!k||k.values.indexOf(E)<0){delete o[E];}else{o[E]="*";}}}}if(!T.isEmptyObject(o)){j=o;}}return j;}function w(i,a){var e=O.clone(i);if(!a||!e){return null;}a.forEach(function(j){if(j.hidden){delete e[j.id];}});return T.isEmptyObject(e)?null:e;}function x(a,e){for(var i=0;i<e.length;++i){var j=e[i];if(!a[j.id]){a[j.id]=j.values[0];}}}function y(a){var e=(a.getDataModel()&&a.getDataModel().chartType)?a.getDataModel().chartType():null;switch(e){case"info/bubble":case"info/scatter":case"info/timeseries_bubble":case"info/timeseries_scatter":d.series=c;break;case"info/heatmap":d.series=h;break;default:d.series=g;}}function z(a){if(a._dataModelMgr&&a.getDataModel()){var o=a.getDataModel();y(a);for(var E in d){if(d.hasOwnProperty(E)&&d[E]){var F=d[E].bindings;var G=[],H=[];for(var i=0;i<F.length;++i){var I=o[F[i]];if(I&&!T.isEmptyObject(I())){var J=I();var K=J.metaData;var L=J.values;if(K&&L){var N=d[E].maxDimension;var P=N?(N[i]||K.length):K.length;var Q;for(var j=0;j<P;++j){for(var k=0;k<G.length;++k){if(G[k].id===K[j].id){if(L[j]){if(L[j][0]&&L[j][0].v){Q=L[j].map(function(e){return e.v;});}else{Q=L[j];}H[k]=H[k].concat(Q);}break;}}if(k===G.length){G.push(K[j]);if(L[j]){if(L[j][0]&&L[j][0].v){Q=L[j].map(function(e){return e.v;});}else{Q=L[j];}H.push(Q);}}}}}}if(G.length&&H.length){var R=q(G,H);a.setStatus(d[E].selectionTree,{});a.setStatus(d[E].metaInfo,R);}}}}}function B(a,e){var i=a.getProperties().get("interaction.selectability.behavior");i=i?i.toUpperCase():i;var j=a.getDataModel().chartType();var k=false;if(e==="DATAPOINT"){if(i===C.SELECTION_BEHAVIOR.SERIES){if(a.getStatus("seriesMetaInfo")&&j.indexOf("bullet")<=-1&&j!=="info/heatmap"){k=true;}}else if(i===C.SELECTION_BEHAVIOR.CATEGORY){if(a.getStatus("categoryMetaInfo")||(j==="info/heatmap"&&a.getStatus("categoryMetaInfo")&&a.getStatus("category2MetaInfo"))){k=true;}}else{k=true;}}else if(i===C.SELECTION_BEHAVIOR.DATAPOINT){k=true;}else if(i===e){if(!(i===C.SELECTION_BEHAVIOR.SERIES&&j.indexOf('waterfall')>-1)){k=true;}}return k;}function D(a,e){var i;if(e===C.SELECTION_BEHAVIOR.CATEGORY){i=d.categoryAxis.selectionTree;a.setStatus(i,{});i=d.categoryAxis2.selectionTree;a.setStatus(i,{});}else if(e===C.SELECTION_BEHAVIOR.SERIES){i=d.series.selectionTree;a.setStatus(i,{});}}return{getSelectionResult:p,filterDimension:v,applyDimensionalSelection:f,initSelectionTree:z,removeSelectionTree:r,getSelectionTree:l,applyFilterDimension:u,bindingConfig:d,isSelectable:B,emptySelectionTree:D};});define('sap/viz/chart/behavior/config/handler/SelectionAPIHandler',['sap/viz/framework/interaction/Constants',"sap/viz/chart/components/util/DataPointUtils","sap/viz/framework/common/util/ObjectUtils","sap/viz/framework/common/util/TypeUtils","sap/viz/chart/behavior/config/SelectionUtil","sap/viz/chart/behavior/config/SelectionTreeUtil",'sap/viz/framework/common/util/DataUtils','sap/viz/framework/common/util/Constants',"sap/viz/framework/common/util/ArrayUtils"],function(C,D,O,T,S,a,b,c,A){function s(d,e){e.fireEvent("hideDetail",{mode:"infoMode"});e.fireEvent("hideDetail",{mode:"actionMode"});var t=e.getProperties().get("interaction.selectability.behavior");var f=e.getProperties().get("interaction.selectability.mode");var h=f?f.toUpperCase():f;var j=t?t.toUpperCase():t;var o=d.options||{};var k;if(o.selectionMode){k=String(o.selectionMode).toUpperCase();}var v=false;for(var l in C.SELECTION_MODE){if(C.SELECTION_MODE.hasOwnProperty(l)&&l===k){v=true;break;}}if(!v){if(o.hasOwnProperty('clearSelection')&&h!==C.SELECTION_MODE.NONE){k=o.clearSelection?C.SELECTION_MODE.EXCLUSIVE:C.SELECTION_MODE.INCLUSIVE;if(j!==C.SELECTION_BEHAVIOR.DATAPOINT){a.emptySelectionTree(e,j);}}else{k=h;}}k=k?k.toUpperCase():k;if(k===C.SELECTION_MODE.NONE){d.success=false;return;}var m=d.items;var n=[];var p=true;var q,r;var u={};var w=[],x=[];if(k===C.SELECTION_MODE.RANGE){var y=e.getProperties().get("interaction.selectability.plotLassoMode");y=y?y.toUpperCase():y;var z=e.getProperties().get("interaction.selectability.plotLassoSelection");if(z&&y===C.SELECTION_MODE.RANGE&&T.isArray(m)&&m.length===2){var B=e.getDataModel(),E=B.dimensions(),F=B._timeAxis.metaData[0].id;q=m[0].data?new Date(m[0].data[F]).getTime():null;r=m[1].data?new Date(m[1].data[F]).getTime():null;if(T.isNaN(q)||T.isNaN(r)){d.success=false;return;}var G=[{data:{}}];if(q>r){var I=q;q=r;r=I;}var J=e.getExtendTimeRange();if(q>J[1]||r<J[0]){d.success=false;return;}q=Math.max(q,J[0]);r=Math.min(r,J[1]);G[0].data[F]={min:q,max:r};n=this._getTargets(G,e);}else{d.success=false;return;}}else if(T.isArray(m)&&m.length){if(e.getProperties().get("interaction.behaviorType")===C.BEHAVIOR.NOHOVER_BEHAVIOR_ID&&j!==C.SELECTION_BEHAVIOR.DATAPOINT){p=false;if(a.isSelectable(e,"DATAPOINT")){var K=false;if(h===C.SELECTION_MODE.SINGLE&&j===C.SELECTION_BEHAVIOR.SERIES){K=true;}for(var i=0;i<m.length;++i){var L=a.applyFilterDimension(m[i].data,e,j,K);var M;var N;if(L){for(var P in L){if(L.hasOwnProperty(P)&&L[P]){M=this._getTargets([{data:L[P]}],e);if(M.length>0){if(n.length===0){w=M;x[P]=[];x[P].push(L[P]);}n=n.concat(M);p=true;u[P]=u[P]||[];u[P].push(L[P]);}}}}}n=A.unique(n);}}else{n=this._getTargets(m,e);p=n.length>0;}}d.success=p;if(p){if(e.getStatus("rangeSelection")||k===C.SELECTION_MODE.RANGE){e._actionLayer.clear();e.setStatus("rangeSelection",false);var Q=e.getStatus("selectedDataPoints");if(Q&&Q.length>0){e.setStatus("selectedDataPoints",[]).fireEvent("clearPlot");if(o.deselection===true){e.fireEvent("dispatchDataEvent",{targets:Q,isSelected:false}).fireEvent("deselectDataPoint",{targets:D.getNodes(Q,e),isAnyOtherSelected:false});return;}else{e.fireEvent("deselectDataPoint",{targets:D.getNodes(Q,e),isAnyOtherSelected:n.length>0});}}}if(k===C.SELECTION_MODE.RANGE){e.setStatus('rangeDomain',[q,r]);e.fireEvent('rangeRecover');if(n.length>0){e.fireEvent("processSelection",{targets:n,mode:C.SELECTION_MODE.EXCLUSIVE});}}else{e.setStatus('rangeDomain',null);if(h===C.SELECTION_MODE.SINGLE&&j!==C.SELECTION_BEHAVIOR.DATAPOINT){u=x;n=w;}e.fireEvent("processSelection",{ctx:u,targets:n,deselection:o.deselection,mode:k,fireEvents:o.fireEvents});}}}function g(d){var e=d.getStatus("selectedDataPoints");var r=T.isArray(e)&&e.length?this._buildGetSelectionResult(e,d):[];var p=d.getProperties().get("interaction.selectability.plotLassoMode");if(p&&p.toUpperCase()===C.SELECTION_MODE.RANGE){var f=d.getProperties().get("interaction.selectability.mode");f=f?f.toUpperCase():f;if(f!==C.SELECTION_SINGLE&&f!==C.SELECTION_NONE){var h=d.getStatus("rangeDomain");var i=d.getDataModel(),j=i.dimensions(),k=i._timeAxis.metaData[0].id;r.dateTimeRange=h&&h.length===2&&k?{start:{},end:{}}:null;if(r.dateTimeRange){r.dateTimeRange.start[k]=h[0];r.dateTimeRange.end[k]=h[1];}}}var t=d.getProperties().get("interaction.selectability.behavior");var l=t?t.toUpperCase():t;if(d.getProperties().get("interaction.behaviorType")===C.BEHAVIOR.NOHOVER_BEHAVIOR_ID&&l!==C.SELECTION_BEHAVIOR.DATAPOINT){var m;var n=[];if(l===C.SELECTION_BEHAVIOR.CATEGORY){m=d.getStatus("categorySelectionTree");if(!T.isEmptyObject(m)&&m){a.getSelectionResult(m,n,{},true);}m=d.getStatus("category2SelectionTree");if(!T.isEmptyObject(m)&&m){var o=[];a.getSelectionResult(m,o,{},true);r.category=n.concat(o);}else{r.category=n;}}else if(l===C.SELECTION_BEHAVIOR.SERIES){m=d.getStatus("seriesSelectionTree");if(!T.isEmptyObject(m)&&m){a.getSelectionResult(m,n,{},false);}r.series=n;}}return r;}var H=function(){};H.prototype.initialize=function(e,d){if(d.getProperties().get("interaction.behaviorType")===C.BEHAVIOR.NOHOVER_BEHAVIOR_ID){a.initSelectionTree(d);}var t=this;d.getStatusManager().add("interaction.selectedDataPoints",{serializable:false,set:function(f){s.call(t,f||{},d);},get:function(){return g.call(t,d);}});};H.prototype._getTargets=function(i,d){return S.getTargets(i,d);};H.prototype._buildGetSelectionResult=function(d,f){var t,h=f.getDataModel();if(h&&h.timeAxis&&h.timeAxis()){t=h.timeAxis().metaData.map(function(e){return e.id;});}return d.map(function(e){var i=h.getDataPoint(e);var j=O.clone(i.context());delete j["measureNames"];delete j["_id"];delete j[t+b.DIMENSION_PARSED_VALUE_SUFFIX];return{data:j};});};return H;});define('sap/viz/chart/behavior/config/SelectionAPIConfig',["sap/viz/chart/behavior/config/handler/SelectionAPIHandler"],function(S){return[{"id":"selectionAPIDefinition","handler":S,"handlerType":"class","triggerEvent":[{"name":"afterBehaviorLoaded","method":"initialize"}]}];});define('sap/viz/chart/behavior/config/PinchBehaviorConfig',["sap/viz/chart/components/util/DataPointUtils","sap/viz/chart/components/util/ScrollbarUtil","sap/viz/framework/common/util/UADetector","sap/viz/chart/components/plots/PlotGeometryKeeper",'sap/viz/framework/interaction/Constants'],function(D,S,U,P,C){var c=["info/bar","info/column","info/dual_bar","info/dual_column","info/stacked_bar","info/stacked_column","info/dual_stacked_bar","info/dual_stacked_column","info/100_stacked_bar","info/100_stacked_column","info/100_dual_stacked_bar","info/100_dual_stacked_column","info/line","info/horizontal_line","info/dual_line","info/dual_horizontal_line","info/combination","info/combinationEx","info/horizontal_combination","info/stacked_combination","info/horizontal_stacked_combination","info/dual_stacked_combination","info/dual_horizontal_stacked_combination","info/bullet","info/vertical_bullet","info/mekko","info/100_mekko","info/horizontal_mekko","info/100_horizontal_mekko","info/dual_combination","info/dual_horizontal_combination","info/area","info/horizontal_area","info/100_area","info/100_horizontal_area","info/waterfall","info/stacked_waterfall","info/horizontal_waterfall","info/horizontal_stacked_waterfall"],b=["info/bubble","info/scatter","info/time_bubble","info/timeseries_bubble","info/timeseries_scatter"],t=["info/timeseries_waterfall","info/timeseries_line","info/timeseries_column","info/timeseries_stacked_column","info/timeseries_100_stacked_column","info/timeseries_combination","info/dual_timeseries_combination","info/timeseries_bullet"];var a=c.concat(b,t);function d(s){var g=s.getModule("main"),h=g.getHScrollbar(),v=g.getVScrollbar(),j='';if(h&&h.isExist){j+="x";}if(v&&v.isExist){j+="y";}return j;}function z(g,h){if(!U.isMobile()){return null;}var j=h.getModule("main"),s=g.data.scale,r=h.getStatus("ratioBeforePinch");return j.getZoomer().zoom({x:r.x*s,y:r.y*s},g.data.point);}function i(g,s){var h=s.getModule("main.plot");s.setStatus("canvasBBox",h.getSize());s.fireEvent(g,true);}var T=2;var e=C.RANGE_SELECTION.OFFSET;function p(x,y,s,g){var h=false,j=s.getModule("main").getHScrollbar(),v=s.getModule("main").getVScrollbar(),k=j?j._isFull():true,l=v?v._isFull():true,m=j?j.isThumbOverTrack(-x):true,n=v?v.isThumbOverTrack(-y):true,o=false;switch(g){case"x":o=(Math.abs(x)<T&&y!==0);h=k||m;break;case"y":o=(Math.abs(y)<T&&x!==0);h=l||n;break;case"xy":h=(k&&l)||(m&&n);break;}return o||h;}function f(g,s){if(!U.isMobile()){return;}if(s.getStatus("dragAsLasso")){s.fireEvent({name:"lassomove",data:g.data});return;}var h=s.getStatus("panLastPoint");if(!h){return;}var j=g.data.point,k=d(s),x=j.x-h.x,y=j.y-h.y,o=s.getStatusManager().get("plot.transform.translate"),l={x:o.x+x,y:o.y+y},m=p(x,y,s,k);s.setStatus("panLastPoint",j);s.getStatusManager().set("plot.transform.translate",l);if(!m){g.data.originalEvent.preventDefault();}else if(U.isWindowsSurface()||U.isWindowsPhone()){window.scrollBy(-x,-y);}S.showScrollbar(s);s.setStatus("needToPreventDefault",!m);}return[{"id":"initialized_pinch","triggerEvent":{"name":"afterChartRendered","supportedChartTypes":a},"handler":i},{"id":"pinchstart_on_eventLayer","triggerEvent":{"name":"pinchstart","targets":"v-m-root","supportedChartTypes":a},"handler":function(g,s){if(U.isMobile()){s.setStatus("ratioBeforePinch",s.getStatusManager().get("plot.transform.scale"));return z(g,s);}else{return null;}}},{"id":"pinchmove_on_eventLayer","triggerEvent":{"name":"pinchmove","targets":"v-m-root","supportedChartTypes":a},"handler":z},{"id":"pinchend_on_eventLayer","triggerEvent":{"name":"pinchend","targets":"v-m-root","supportedChartTypes":a},"handler":z},{"id":"2Xfingertouch_show_indicator","triggerEvent":{"name":"touchchange","targets":"v-m-root","supportedChartTypes":a},"handler":function(g,s){if(!U.isMobile()||g.data.totalTouchesNumber!==2){return;}s.fireEvent("hideDetail",{mode:"actionMode"});S.showScrollbar(s,true);}},{"id":"pan_start_on_plot_pinch","triggerEvent":{"name":"dragstart","targets":["v-m-plot","v-m-action-layerrange-content"],"supportedChartTypes":a},"handler":function(g,s){if(!U.isMobile()){return;}if(s.getStatus("rangeSelection")){var r=s.getBBox(s.BoxType.RANGE_SELECTION);if(r){var h=g.data.point;if(h.x>=r.left-e&&h.x<=r.right+e&&h.y>=r.top&&h.y<=r.bottom){s.setStatus("dragAsLasso",true);s.fireEvent({name:"lassostart",data:g.data});return;}}}s.fireEvent("hideDetail",{mode:"actionMode"});s.setStatus("panLastPoint",g.data.point);if(s.getStatus("needToPreventDefault")){g.data.originalEvent.preventDefault();}S.showScrollbar(s);}},{"id":"pan_move_on_plot_pinch","triggerEvent":{"name":"dragmove","targets":["v-m-plot","v-m-action-layerrange-content"],"supportedChartTypes":a},"handler":f},{"id":"pan_end_on_plot_pinch","triggerEvent":{"name":"dragend","targets":["v-m-plot","v-m-action-layerrange-content"],"supportedChartTypes":a},"handler":function(g,s){if(!U.isMobile()){return;}if(s.getStatus("dragAsLasso")){s.fireEvent({name:"lassoend",data:g.data});s.removeStatus("dragAsLasso");return;}if(s.getStatus("needToPreventDefault")){g.data.originalEvent.preventDefault();}s.removeStatus("panLastPoint");P.scroll.save(s);}}];});define('sap/viz/chart/behavior/config/tooltip/TooltipUtils',["sap/viz/framework/common/format/FormatManager","sap/viz/framework/common/util/TypeUtils","sap/viz/framework/common/lang/LangManager","sap/viz/framework/common/format/UnitFormat","sap/viz/framework/common/util/Constants",],function(F,T,L,U,C){var I="Invalid date";var a=U.SUPPORT_CUSTOM_COMPONENTS.TOOLTIP;function g(b,c,u,i,d){if(!b){return"";}var r,p;if(T.isString(c)){r=c;}else if(T.isPlainObject(c)){var s=c[i];if(T.isArray(s)){r=s[0];p=s[1];}else if(T.isString(s)){r=s;}}else if(T.isArray(c)){r=c[0];p=c[1];}p=p||C.FORMAT.PERCENTAGE_TWO_DIGIT_FORMAT;var o={decimalFormatString:U.getDecimalFormatString(U.SUPPORT_CUSTOM_COMPONENTS.TOOLTIP)};var e=U.format(b.value,r,u,o);if(d){e+=" "+d;}e+=" (";e+=U.format(b.percentage,p,u,o);e+=")";return e;}function f(d,p){if(!T.isArray(d.data)){return d;}var b=d.data;var s=p.get("tooltip.bodyMeasureValue.type");var c=p.get('general.showAsUTC');for(var i=-1,k=0;++i<b.length;){var r=b[i];var v=r.value;var e=r["value.d"];var h=r.id;if(v===null){continue;}var j=p.get("tooltip.formatString");var l=r.formatString;var m=r.formatString;if(T.isArray(m)){m=m[0];}var n=null;if(!r.bTimeRange&&r.type==="Measure"){if(b.timeMeasure!==undefined&&b.timeMeasure===k){r.value=F.format(new Date(parseInt(v)),m||F.DEFAULT_FORMAT_DATE_TIME,c);}else{var u=p.get("tooltip.unitFormatType");j=j||l;if(r.bothValue&&s&&s==="valueAndPercentage"){var o=r.bothValue,q=r.unit;r.value=g(o,j,u,h,q);}else{var t=r.bothValue&&s==="percentage";var w=r.bothValue&&s==="value";if(T.isPlainObject(j)){n=j[h];if(T.isArray(n)){n=t?n[1]:n[0];}}else if(T.isString(j)){n=j;}else if(T.isArray(j)){n=t?j[1]:j[0];}if(t){n=n||C.FORMAT.PERCENTAGE_TWO_DIGIT_FORMAT;v=r.bothValue?r.bothValue[s]:v;}else if(w){v=r.bothValue?r.bothValue[s]:v;}var x={decimalFormatString:U.getDecimalFormatString(a)};r.value=U.format(v,n,u,x);if(r.unit&&(!r.bothValue||w)){r.value+=" "+r.unit;}}}++k;}else if(r.type==="Dimension"&&((b.timeDimensions!==undefined&&b.timeDimensions.indexOf(i)>=0))){if(r.timeAxis){if(e&&T.isString(e)){r.value={day:e};}else{r.value=r.timeAxis.getFormatTimeValue(v);}}else{var y=F.DEFAULT_FORMAT_DATE_TIME;var D=new Date(v);if(!isNaN(D.getTime())){if(T.isExist(j)&&T.isExist(j[h])){n=j[h];}n=n||m||y;r.value={day:F.format(D,n,c)};}else{r.value={day:L.get('IDS_INVALID_DATE')||I};}if(e!=null){r.value={day:e};}}}}return d;}return{format:f};});define('sap/viz/chart/behavior/config/tooltip/Tooltip',["sap/viz/chart/behavior/config/tooltip/TooltipUtils","sap/viz/framework/common/util/TypeUtils","sap/viz/framework/common/util/ObjectUtils","sap/viz/framework/common/lang/LangManager","sap/viz/framework/common/util/UADetector","sap/viz/framework/common/log/Logger","sap/viz/framework/common/util/NumberUtils",'sap/viz/framework/common/util/Constants',"sap/viz/chart/behavior/config/AlignToUtil"],function Setup(T,a,O,l,U,L,N,C,A){var D="values selected";var b="value selected";var c={INFO_MODE:"infoMode",ACTION_MODE:"actionMode"};var d={padding:"10px",paddingBottom:"10",paddingTop:"10",horizontalLine:{borderBottom:"solid 1px",marginTop:"10px"},dimensionName:{fontSize:"12px",fontFamily:"Arial",paddingBottom:"8px",whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden"},dimensionValue:{fontSize:"13px",fontFamily:"Arial",fontWeight:"bold",paddingBottom:"8px",paddingLeft:"7px",whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden"},measureName:{fontSize:"12px",fontFamily:"Arial",paddingBottom:"8px",whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden"},measureValue:{fontSize:"13px",fontFamily:"Arial",fontWeight:"bold",paddingBottom:"8px",paddingLeft:"7px",whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden"},selectedText:{fontSize:"12px",fontFamily:"Arial",fontWeight:"bold",marginTop:"8px"},closeButton:{size:20,borderSize:2,borderStyle:"solid",forkSize:10},mouseMarginTop:3,truncatedWidth:140,contentMaxSize:"42px",truncatedHeight:12,borderWidth:"1px",borderStyle:"solid",borderRadius:"3px",boxShadow:"1px 1px #AFAFAF"};function s(v,e){if(a.isFunction(v)){return v;}else{return e.defaultValue;}}var f=function(p){this._properties=p;this._properties.add({"tooltip":{"preRender":{set:s},"postRender":{set:s},"formatString":{set:function(v,e){if(a.isString(v)||a.isPlainObject(v)||a.isArray(v)){return v;}else{return e.defaultValue;}}},"unitFormatType":{set:function(v,e){if(a.isString(v)){return v;}else{return e.defaultValue;}}}}});this._display=O.extend(true,{},d);this._tooltipMode=O.extend(true,{},c);this._defaultToolTipColors={backgroundColor:"",borderTopColor:"",borderBottomColor:"",borderLeftColor:"",borderRightColor:"",dimensionName:"",dimensionValue:"",measureName:"",measureValue:"",separationLineSingleColor:"",footerLabelColor:"",closeButtonBackground:"",closeButtonBorderColor:"#cccccc"};this._div=null;this._borderDiv=null;this._mainDiv=null;this._isShown=false;this._closeButtonDiv=null;this._extensionDiv=null;this._mode=null;this._dimensionOrMeasureTitles=[];this._parentNodeRect=null;this._isAnchored=false;this._isRTL=false;if(U.isWindowsSurface()){this._touchEvent={touchstart:"pointerdown",touchend:"pointerup"};}else{this._touchEvent={touchstart:"touchstart",touchend:"touchend"};}};function h(_){if(_==null){return l.get("IDS_ISNOVALUE");}else{return _;}}f.prototype.onClose=function(e){this._onClose=e;};f.prototype._clearGlobalValues=function(){this._dimensionOrMeasureTitles=[];};f.prototype.render=function(e){if(e!==null&&e!==undefined){var i=d3.select(e);this._div=i.select(".v-m-tooltip");if(this._div.node()===null){this._div=i.append("div").attr("class","v-m-tooltip");}}return this;};f.prototype._formatTooltipData=function(e){return T.format(e,this._properties);};var t=function(i,v,k){if(i){try{return i(v,k);}catch(e){L.error("ERROR in Tooltip callback");}}};f.prototype.showTooltip=function(e,k,m){if(!this._div||this._div.node().parentNode===null){this.render(e.container);}this._mode=e.mode;var n=e;n=this._formatTooltipData(n);if(this._borderDiv!==null){this._borderDiv.remove();}this._isRTL=m;var o=false;var i;for(i=0;i<C.RTL_LANG.length;i++){if(l.currentLanguage.indexOf(C.RTL_LANG[i])===0){o=true;break;}}if(this._properties.get("tooltip.visible")){var p=this;this._borderDiv=this._div.append("div").attr("class","v-background");if(n.data&&n.data.rangeSelectionStage==="inLasso"){this._div.node().style["pointer-events"]="none";}else{this._div.node().style["pointer-events"]="";}this._mainDiv=this._borderDiv.append("div").attr("class","v-tooltip-mainDiv").style("position","relative");if(o){this._mainDiv.style("direction","rtl");}else{this._mainDiv.style("direction",null);}if(g()){this._borderDiv.style('-webkit-overflow-scrolling','auto');this._closeButtonDiv=this._borderDiv.append("div").attr("class","v-closeButton").style("position","absolute");if(o){this._closeButtonDiv.style("direction","rtl");}else{this._closeButtonDiv.style("direction",null);}this._closeButtonDiv.on(this._touchEvent.touchstart,function(){d3.event.stopPropagation();d3.event.preventDefault();},true).on(this._touchEvent.touchend,function(){if(p._onClose&&a.isFunction(p._onClose)){p._onClose.call(p);}p.hideTooltip(p._mode);d3.event.stopPropagation();d3.event.preventDefault();},true);}this._extensionDiv=this._borderDiv.append("div").attr("class","v-tooltip-extension").style("position","relative").style("display","block").style("margin-top","10px");this._updateTooltipStyle();if(n.mode&&n.mode===this._tooltipMode.ACTION_MODE){var r=t(this._properties.get("tooltip.preRender"),this._extensionDiv);if(a.isExist(r)&&(r instanceof Object)&&a.isExist(r.then)&&a.isFunction(r.then)){var q=function(){this._renderTooltip(n,k);};r.then(q.bind(this));}else{this._renderTooltip(n,k);}}else{this._renderTooltip(n,k);}t(this._properties.get("tooltip.postRender"),this._borderDiv);this._isShown=true;}this._parentNodeRect=this._div.node().parentNode.getBoundingClientRect();this._isAnchored=e.isAnchored;};f.prototype.isShown=function(){return this._isShown;};f.prototype.hideTooltip=function(m){if(m==null||m===this._mode){if(this._borderDiv){this._borderDiv.remove();this._borderDiv=null;}if(this._mainDiv){this._mainDiv=null;}if(this._extensionDiv){this._extensionDiv=null;}if(this._closeButtonDiv){this._closeButtonDiv.on(this._touchEvent.touchend,null);this._closeButtonDiv.on(this._touchEvent.touchstart,null);this._closeButtonDiv=null;}this._defaultToolTipColors.background="";this._defaultToolTipColors.border="";this._defaultToolTipColors.dimensionName="";this._defaultToolTipColors.dimensionValue="";this._defaultToolTipColors.measureName="";this._defaultToolTipColors.measureValue="";this._defaultToolTipColors.separationLineSingleColor="";if(this._div){this._div.style("visibility","hidden").style("padding","0px").style("max-height","").style("top","-65535px").style("left","-65535px");}this._clearGlobalValues();this._isShown=false;}};f.prototype._calculateDesktopPos=function(e,p){var x=p.x;var y=p.y;var i=+this._display.paddingBottom;var k=+this._display.paddingTop;var m=this._display.mouseMarginTop;var n=this._div.node();var o=n.offsetWidth;var q=n.offsetHeight;if((x+o/2)>e.right){x=e.right-o;}else if(x-o/2<e.left){x=e.left;}else{x=x-o/2;}if(this._mode!==this._tooltipMode.INFO_MODE&&(y-m-q)<e.top){y=y+13-k;}else if(this._mode===this._tooltipMode.INFO_MODE&&(y-i-m-q)<e.top){y=y+13;}else{y=y-m-q;if(this._mode===this._tooltipMode.INFO_MODE){y=y-i;}}if(y+q>e.bottom){if(p.y<=(e.bottom+e.top)/2){y=p.y+13;if(this._mode!==this._tooltipMode.INFO_MODE){y=y-k;}}else{y=p.y-m-q;if(this._mode===this._tooltipMode.INFO_MODE){y=y-i;}}}return{"x":x,"y":y};};f.prototype._calculateMobilePos=function(e,p){var x=p.x;var y=p.y;var i=this._display.closeButton.size;var m=this._display.mouseMarginTop;var k=this._div.node();var o=k.offsetWidth;var n=k.offsetHeight;if((x+o/2+i/2)>e.right){x=e.right-o-i/2;}else if(x-o/2<e.left){x=e.left;}else{x=x-o/2-i/2;}if((y-m-n-i/2)<e.top){y=y+13+i/2;}else{y=y-m-n;}if(y+n+i/2>e.bottom){if(p.y<=(e.bottom+e.top)/2){y=p.y+13+i/2;}else{y=p.y-m-n;}}return{"x":x,"y":y};};var g=function(){return U.isMobile()&&(!U.isIE()||U.isPointerEnabled());};f.prototype._calculatePos=function(p){var e;if(a.isExist(p.alignTo)){var r=this._div.node();[].concat(p.alignTo).forEach(function(o){if(o.source.dom){return;}else if(!o.source.selector){o.source.dom=r;}else{o.source.dom=r.querySelector(o.source.selector);}});e=A.calculate(p.alignTo);}else{var i=this._getLimit();var k=this._div.node().parentNode.getBoundingClientRect();var m=g()?this._calculateMobilePos:this._calculateDesktopPos;var n=m.call(this,i,p);e={"x":n.x-k.left,"y":n.y-k.top};}if(p.offset){e.x+=p.offset.x||0;e.y+=p.offset.y||0;}return e;};f.prototype._getLimit=function(){var k;var m=this._div.node().parentNode;var n=m.getBoundingClientRect();if(this._properties.get("tooltip.layinChart")){k={top:n.top,left:n.left,bottom:n.top+(m.hasAttribute("actualHeight")?N.getPositiveNumber(m.getAttribute("actualHeight"),0):m.offsetHeight),right:n.left+(m.hasAttribute("actualWidth")?N.getPositiveNumber(m.getAttribute("actualWidth"),0):m.offsetWidth)};}else{var w=[0,0];["clientWidth","clientHeight"].forEach(function(e,i){if(document.documentElement[e]){w[i]=document.documentElement[e];}else if((document.body)&&(document.body[e])){w[i]=document.body[e];}});k={top:0,left:0,bottom:w[1],right:w[0]};}return k;};f.prototype._adjustTooltipWidth=function(){for(var i=0;i<this._dimensionOrMeasureTitles.length;i++){if(this._dimensionOrMeasureTitles[i].node().offsetWidth>this._display.truncatedWidth){this._dimensionOrMeasureTitles[i].style("max-width",this._display.contentMaxSize);}}};f.prototype._adjustTooltipHeight=function(w){this._div.style("max-height",(w/2-this._display.truncatedHeight)+"px");};f.prototype._renderTooltip=function(e,i){if(!this._extensionDiv.node()||this._extensionDiv.node().childNodes.length===0){this._extensionDiv.remove();}this._drawContent(e,i);this._borderDiv.style("background",this._defaultToolTipColors.backgroundColor);this._borderDiv.style("border-color",this._defaultToolTipColors.border);if(this._defaultToolTipColors.borderTopColor!==""){this._borderDiv.style("border-top-color",this._defaultToolTipColors.borderTopColor);}if(this._defaultToolTipColors.borderBottomColor!==""){this._borderDiv.style("border-bottom-color",this._defaultToolTipColors.borderBottomColor);}if(this._defaultToolTipColors.borderLeftColor!==""){this._borderDiv.style("border-left-color",this._defaultToolTipColors.borderLeftColor);}if(this._defaultToolTipColors.borderRightColor!==""){this._borderDiv.style("border-right-color",this._defaultToolTipColors.borderRightColor);}this._div.style("position","absolute").style("left","0px").style("top","0px").style("width","auto").style("height","auto").style("float","left").style("visibility","hidden").style("line-height","normal");this._addPadding(e);if(e.mode===this._tooltipMode.ACTION_MODE){this._div.style("padding-bottom",this._display.paddingBottom+"px");if(!g()){this._div.style("padding-top",this._display.paddingTop+"px");}}else{this._div.style("padding-top","0px");}this._borderDiv.style("border-style",this._display.borderStyle).style("border-width",this._display.borderWidth).style("border-radius",this._display.borderRadius).style("box-shadow",this._display.boxShadow).style("overflow-x","hidden").style("overflow-y","auto").style("padding",this._display.padding);var w,k;if(document.documentElement.clientWidth){w=document.documentElement.clientWidth;}else if((document.body)&&(document.body.clientWidth)){w=document.body.clientWidth;}if(document.documentElement.clientHeight){k=document.documentElement.clientHeight;}else if((document.body)&&(document.body.clientHeight)){k=document.body.clientHeight;}if(this._div.node().offsetWidth>w){this._adjustTooltipWidth();}if(this._div.node().offsetHeight>k){this._adjustTooltipHeight(k);}this._div.style("visibility","visible").style("white-space","nowrap");if(e.forceStyle){this._div.style(e.forceStyle);}var m=this._calculatePos(e.position);var n=this._div.node();this._div.style("left",m.x+"px").style("top",m.y+"px");if(g()){var p=this._getPaddingForCloseBtn(n);var o=n.offsetWidth-parseInt(p.paddingRight);var q=this._display.closeButton.size,r=q/2;var u=this._display.closeButton.forkSize,v=u/2;var x=this._display.closeButton.borderSize;var y=r-v;var z=r-x/2;var B="-webkit-transform";if(U.isWindowsSurface()){B="transform";}var E={"position":"absolute","height":this._display.closeButton.borderSize,"width":u+"px","border-bottom-color":this._defaultToolTipColors.closeButtonBorderColor,"border-bottom-width":this._display.closeButton.borderSize+"px","border-bottom-style":this._display.closeButton.borderStyle,"top":z+"px","left":y+"px"};E[B]="rotate(-45deg)";this._closeButtonDiv.append("div").style(E);E[B]="rotate(45deg)";this._closeButtonDiv.append("div").style(E);var F=r-parseInt(p.paddingTop);this._closeButtonDiv.style("left",o-r-this._display.closeButton.borderSize+'px').style("top",-F+"px").style("width",q+"px").style("height",q+"px").style("border-width",this._display.closeButton.borderSize+"px").style("border-radius",q+"px").style("border-style",this._display.closeButton.borderStyle).style("border-color",this._defaultToolTipColors.closeButtonBorderColor).style("background",this._defaultToolTipColors.closeButtonBackground);}};f.prototype._getPaddingForCloseBtn=function(n){if(n){var r=/(\d*)px/i;var e=n.style;var p=e.paddingRight;var i=e.paddingTop;var k=r.exec(p);p=(k&&k[1])||0;k=r.exec(i);i=(k&&k[1])||0;return{"paddingRight":p,"paddingTop":i};}return{"paddingRight":0,"paddingTop":0};};f.prototype._addPadding=function(e){if(e.mode===this._tooltipMode.ACTION_MODE){this._div.style("padding-bottom",this._display.paddingBottom+"px");}};f.prototype._drawContent=function(e,i){this._drawDimensionAndMeasure(e.data,i);if(e.selectedNumber&&e.data&&(e.selectedNumber>1||e.data.rangeSelectionStage==="lassoEnd")&&e.mode===this._tooltipMode.ACTION_MODE){var k=this._mainDiv.append("div").attr("class","v-separationline").style("margin-top",this._display.horizontalLine.marginTop).style("border-bottom-width","1px").style("border-bottom-style","solid");if(this._defaultToolTipColors.separationLineSingleColor!==""){k.style("border-bottom-color",this._defaultToolTipColors.separationLineSingleColor);}}if(e.mode===this._tooltipMode.ACTION_MODE&&e.selectedNumber&&(e.data&&(e.selectedNumber>1||e.data.rangeSelectionStage==="lassoEnd"))||!e.data){var m=this._getStyle(this._display.selectedText);if(this._defaultToolTipColors.footerLabelColor!==""){m+=";color:"+this._defaultToolTipColors.footerLabelColor;}if(!e.data){m=m.replace(/margin-top:[0-9]+px/,"margin-top:0px");}var v=e.selectedNumber===1?l.get("IDS_VALUE_SELECTED"):l.get("IDS_VALUES_SELECTED");if(!v){v=e.selectedNumber===1?b:D;}this._mainDiv.append("div").attr("style",m).attr("class","v-footer-label tooltipfooterlabel").text(e.selectedNumber+" "+v);}};f.prototype._processTimeRange=function(e){var k=e.length;var i=0;if(k<2||!e[i].bTimeRange){return;}if(e[0].value.time&&e[0].value.day&&e[0].value.day===e[1].value.day){e[0].value.day=null;}};f.prototype._drawOneDimension=function(e,i,k,m){var n=this._display.dimensionName;var v=O.extend(true,{},this._display.dimensionValue);var o=e.append("tr");var p=a.isArray(i.value);var q=i.bTimeRange||i.bValueDate?(i.value.time||i.value.day):i.value;if(k&&(!(i.bTimeRange||i.bValueDate)||!i.value.time||!i.value.day)){n=O.extend(true,{},this._display.dimensionName);n.paddingBottom="0px";v.paddingBottom="0px";}if(i.bValueDate){v.paddingLeft="0px";}var r=this._getStyle(v);if(this._defaultToolTipColors.dimensionValue!==""){r+=";color:"+this._defaultToolTipColors.dimensionValue;}var u;if(!i.bValueDate){var w=this._getStyle(n);if(this._defaultToolTipColors.dimensionName!==""){w+=";color:"+this._defaultToolTipColors.dimensionName;}if(this._isRTL){w+=";float:left;";}var x;if(m&&m.dataName){x=m.dataName[i.id];}u=o.append("td").attr("style",w).text(h(a.isExist(x)?x:i.name)+":").attr("class","v-body-dimension-label");this._dimensionOrMeasureTitles.push(u);}u=o.append("td").attr("style",r).text(h(q)).attr("class","v-body-dimension-value");if(i.bTimeRange){u.attr("align","right");}if(i.bValueDate){u.attr("colspan","2");}if((i.bTimeRange||i.bValueDate)&&i.value.day&&i.value.time){if(k){v=O.extend(true,{},this._display.dimensionValue);v.paddingBottom="0px";r=this._getStyle(v);r+=";color:"+this._defaultToolTipColors.dimensionValue;}o=e.append("tr");u=o.append("td").attr("style",r).text(h(i.value.day)).attr("colspan","2").attr("class","v-body-dimension-value");if(i.bTimeRange){u.attr("align","right");}}};f.prototype._drawDimensionAndMeasure=function(e,k){if(e&&e.length){var m=this._mainDiv.append("table").attr("class","v-tooltip-dimension-measure").style("border-collapse","collapse");var n,v,o,p,q,r;var u=[],w=[];for(var i=-1;++i<e.length;){if(e[i].type==="Dimension"){u.push(e[i]);}else if(e[i].type==="Measure"){w.push(e[i]);}}this._processTimeRange(u);for(i=0;i<u.length;++i){if(i===u.length-1&&w.length===0){n=O.extend(true,{},this._display.dimensionName);n.paddingBottom="0px";v=O.extend(true,{},this._display.dimensionValue);v.paddingBottom="0px";}else{n=this._display.dimensionName;v=this._display.dimensionValue;}this._drawOneDimension(m,u[i],i===u.length-1&&w.length===0,k);}for(i=-1;++i<w.length;){if(i===w.length-1){n=O.extend(true,{},this._display.measureName);n.paddingBottom="0px";v=O.extend(true,{},this._display.measureValue);v.paddingBottom="0px";}else{n=this._display.measureName;v=this._display.measureValue;}q=m.append("tr");o=this._getStyle(n);if(this._defaultToolTipColors.measureName!==""){o+=";color:"+this._defaultToolTipColors.measureName;}if(this._isRTL){o+=";float:left;";}var x;if(k&&k.dataName){x=k.dataName[w[i].id];}r=q.append("td").attr("style",o).text(h(a.isExist(x)?x:w[i].name)+":").attr("class","v-body-measure-label");this._dimensionOrMeasureTitles.push(r);o=this._getStyle(v);if(this._defaultToolTipColors.measureValue!==""){o+=";color:"+this._defaultToolTipColors.measureValue;}q.append("td").attr("style",o).text(h(w[i].value)).attr("class","v-body-measure-value");}}};f.prototype._getStyle=function(i){var e="";if(i.color){e+=";color:"+i.color;}if(i.fontFamily){e+=";font-family:"+i.fontFamily;}if(i.fontSize){e+=";font-size:"+i.fontSize;}if(i.fontWeight){e+=";font-weight:"+i.fontWeight;}if(i.paddingButtom){e+=";padding-bottom:"+i.paddingButtom;}if(i.whiteSpace){e+=";white-space:"+i.whiteSpace;}if(i.textOverflow){e+=";text-overflow:"+i.textOverflow;}if(i.overflow){e+=";overflow:"+i.overflow;}if(i.paddingLeft){e+=";padding-left:"+i.paddingLeft;}if(i.paddingBottom){e+=";padding-bottom:"+i.paddingBottom;}if(i.marginTop){e+=";margin-top:"+i.marginTop;}if(e.substr(0,1)===";"){e=e.substr(1);}return e;};f.prototype.destroy=function(){this._extensionDiv=null;this._mainDiv=null;this._properties=null;this._display=null;this._defaultToolTipColors=null;};var j=function(r){var e=null,i=false;if(this._parentNodeRect){e=this._parentNodeRect;}else{e=this._div.node().parentNode.getBoundingClientRect();}if(r.isVertical){if((r.clientRect.top<e.top)||(r.clientRect.bottom>e.bottom)){i=true;}}else{if((r.clientRect.left<e.left||r.clientRect.right>e.right)){i=true;}}return i;};f.prototype.moveTo=function(m){if(!this._div||this._isAnchored){return;}var r={clientRect:{},isVertical:true};var o=0;if(m.direction==="Y"){o=parseInt(this._div.style("top"))+m.offset.y;this._div.style("top",o+"px");}else if(m.direction==="X"){o=parseInt(this._div.style("left"))+m.offset.x;r.isVertical=false;this._div.style("left",o+"px");}r.clientRect=this._div.node().getBoundingClientRect();if(j.call(this,r)){this._div.style("visibility","hidden");}else{this._div.style("visibility","visible");}};f.prototype._updateTooltipStyle=function(){var p=this._properties.get("tooltip");var e=this._defaultToolTipColors;e.backgroundColor=p.background.color;e.border=p.background.borderColor;if(p.bodyDimensionLabel&&p.bodyDimensionLabel.color){e.dimensionName=p.bodyDimensionLabel.color;}if(p.bodyDimensionValue&&p.bodyDimensionValue.color){e.dimensionValue=p.bodyDimensionValue.color;}if(p.bodyMeasureLabel&&p.bodyMeasureLabel.color){e.measureName=p.bodyMeasureLabel.color;}if(p.bodyMeasureValue&&p.bodyMeasureValue.color){e.measureValue=p.bodyMeasureValue.color;}if(p.separationLine&&p.separationLine.color){e.separationLineSingleColor=p.separationLine.color;}if(p.footerLabel&&p.footerLabel.color){e.footerLabelColor=p.footerLabel.color;}if(p.closeButton&&p.closeButton.backgroundColor){e.closeButtonBackground=p.closeButton.backgroundColor;}if(p.closeButton&&p.closeButton.borderColor){e.closeButtonBorderColor=p.closeButton.borderColor;}};return f;});define('sap/viz/chart/behavior/config/tooltip/AreaChartTooltip',['sap/viz/framework/common/util/oo',"sap/viz/chart/behavior/config/tooltip/Tooltip"],function Setup(o,T){var A=function(p){A.superclass.constructor.apply(this,arguments);};o.extend(A,T);var D=8;var M=10;A.prototype._addPadding=function(d){if(d.mode===this._tooltipMode.ACTION_MODE){var p=d.position;var x=p.x;var y=p.y;var l=this._getLimit();var a=this._div.node();var b=a.offsetWidth;var c=a.offsetHeight;if(p.direction==="left"||p.direction==="right"){b=b+D;c=c+M;}else if(p.direction==="top"||p.direction==="bottom"){b=b+M;c=c+D;}else{c=c+M;}if(p.direction==="left"){if(x-b<l.left){this._div.style("padding-left",D+"px");}else{this._div.style("padding-right",D+"px");}}else if(p.direction==="right"||!p.direction){if(x+b>l.right){this._div.style("padding-right",D+"px");}else{this._div.style("padding-left",D+"px");}}else if(p.direction==="top"||p.direction==="bottom"){if(x+b<l.right){this._div.style("padding-left",M+"px");}else{this._div.style("padding-right",M+"px");}}else{this._div.style("padding-left",0+"px");this._div.style("padding-right",0+"px");}if(p.direction==="top"||!p.direction){if(y-c<l.top){this._div.style("padding-top",D+"px");}else{this._div.style("padding-bottom",D+"px");}}else if(p.direction==="bottom"){if(y+c>l.bottom){this._div.style("padding-bottom",D+"px");}else{this._div.style("padding-top",D+"px");}}else if(p.direction==="left"||p.direction==="right"){if(y-c>l.top){this._div.style("padding-bottom",M+"px");}else{this._div.style("padding-top",M+"px");}}else{if(y-c<l.top){this._div.style("padding-top",M+"px");}else{this._div.style("padding-bottom",M+"px");}}}else{this._div.style("padding-top",0+"px");this._div.style("padding-bottom",0+"px");this._div.style("padding-left",0+"px");this._div.style("padding-right",0+"px");}};A.prototype._calculateMobilePos=function(l,p){var x=p.x;var y=p.y;var c=this._display.closeButton.size;var m=this._display.mouseMarginTop;var d=this._div.node();var a=d.offsetWidth;var b=d.offsetHeight;if(p.direction==="left"){x=x-a<l.left?x:x-a;}else if(p.direction==="right"){x=x+a+c>l.right?x-a:x;}else if(p.direction==="top"||p.direction==="bottom"){if(x+a+c<l.right){x=x;}else{x=x-a;}}else{if((x+a/2+c/2)>l.right){x=l.right-a-c/2;}else if(x-a/2<l.left){x=l.left;}else{x=x-a/2-c/2;}}if(p.direction==="top"){y=y-b-m-c/2<l.top?y:y-b-m;}else if(p.direction==="bottom"){y=y+b+c/2>l.bottom?y-b:y;}else if(p.direction==="left"||p.direction==="right"||!p.direction){if(y-b-m-c/2>l.top){y=y-b-m-c/2;}else{y=y;}}return{"x":x,"y":y};};A.prototype._calculateDesktopPos=function(l,p){var x=p.x;var y=p.y;var d=this._div.node();var a=d.offsetWidth;var b=d.offsetHeight;if(this._mode===this._tooltipMode.INFO_MODE){if(p.direction==="left"){x=x-a-D<l.left?x+D:x-a-D;}else if(p.direction==="right"){x=x+a+D>l.right?x-a-D:x+D;}else if(p.direction==="top"||p.direction==="bottom"){if(x+a+M<l.right){x=x+M;}else{x=x-a-M;}}else{if((x+a/2)>l.right){x=l.right-a;}else if(x-a/2<l.left){x=l.left;}else{x=x-a/2;}}if(p.direction==="top"){y=y-b-D<l.top?y+D:y-b-D;}else if(p.direction==="bottom"){y=y+b+D>l.bottom?y-b-D:y+D;}else if(p.direction==="left"||p.direction==="right"||!p.direction){if(y-b-M>l.top){y=y-b-M;}else{y=y+M;}}}else{if(p.direction==="left"){x=x-a<l.left?x:x-a;}else if(p.direction==="right"){x=x+a>l.right?x-a:x;}else if(p.direction==="top"||p.direction==="bottom"){if(x+a<l.right){x=x;}else{x=x-a;}}else{if((x+a/2)>l.right){x=l.right-a;}else if(x-a/2<l.left){x=l.left;}else{x=x-a/2;}}if(p.direction==="top"){y=y-b<l.top?y:y-b;}else if(p.direction==="bottom"){y=y+b>l.bottom?y-b:y;}else if(p.direction==="left"||p.direction==="right"||!p.direction){if(y-b>l.top){y=y-b;}else{y=y;}}}return{"x":x,"y":y};};return A;});define('sap/viz/chart/behavior/config/tooltip/ComboExTooltip',["sap/viz/framework/common/util/oo","sap/viz/chart/behavior/config/tooltip/Tooltip","sap/viz/chart/behavior/config/tooltip/AreaChartTooltip"],function(o,T,A){var _=["_addPadding","_calculateDesktopPos","_calculateMobilePos"];function C(p){C.superclass.constructor.apply(this,arguments);}o.extend(C,T);C.prototype.showTooltip=function(e,s,i){var p=((e.data||{}).seriesType==="area"?A:T).prototype;_.forEach(function(f){this[f]=p[f];},this);C.superclass.showTooltip.apply(this,arguments);};return C;});define('sap/viz/chart/behavior/config/handler/TooltipTimerHandler',['sap/viz/framework/core/config'],function Setup(c){var S={Cleared:"Cleared",Active:"Active",Standby:"Standby",Appeared:"Appeared",Selected:"Selected",Deselected:"Deselected"};var a=1000;var b=100;var H=5000;var D=1000;function T(){this._init();}T.prototype.setShowTooltipHandler=function(d){this._showHandler=d;};T.prototype.setHideTooltipHandler=function(d){this._hideHandler=d;};T.prototype.setMode=function(m){this._mode=m;};T.prototype._setStatus=function(s){this._status=s;var h="_"+S[s].toLowerCase()+"Handler";this[h]();};T.prototype._clearedHandler=function(){this._isFirstShow=true;this._hideHandler();};T.prototype._activeHandler=function(){this._hideHandler();this._currentTime=Date.now();if(!this._isFirstShow&&this._currentTime-this._lastTime<D){this._timer=b;}else{this._timer=a;}if(this._showTimeOut){clearTimeout(this._showTimeOut);}function s(){this._setStatus(S.Appeared);}var d=c.globalSetting("disableTooltipTimer");if(d){s.call(this);}else{this._showTimeOut=setTimeout(s.bind(this),this._timer);}};T.prototype._standbyHandler=function(){if(this._showTimeOut){clearTimeout(this._showTimeOut);this._showTimeOut=null;}if(this._hideTimeOut){clearTimeout(this._hideTimeOut);this._hideTimeOut=null;}this._hideHandler();};T.prototype._appearedHandler=function(){this._lastTime=Date.now();this._isFirstShow=false;this._showHandler();if(this._mode!=="actionMode"){if(this._hideTimeOut){clearTimeout(this._hideTimeOut);}var h=function(){this._setStatus(S.Cleared);};var d=c.globalSetting("disableTooltipTimer");if(!d){this._hideTimeOut=setTimeout(h.bind(this),this._hideTimer);}}};T.prototype._selectedHandler=function(){if(this._showTimeOut){clearTimeout(this._showTimeOut);this._showTimeOut=null;}if(this._hideTimeOut){clearTimeout(this._hideTimeOut);this._hideTimeOut=null;}this._showHandler();this._lastTime=Date.now();};T.prototype._deselectedHandler=function(){if(this._showTimeOut){clearTimeout(this._showTimeOut);this._showTimeOut=null;}if(this._hideTimeOut){clearTimeout(this._hideTimeOut);this._hideTimeOut=null;}this._hideHandler();};T.prototype.hover=function(t){switch(this._status){case S.Cleared:if(t!=="nonDataPoint"){this._setStatus(S.Active);}break;case S.Active:if(t==="nonDataPoint"){this._setStatus(S.Standby);}else{this._setStatus(S.Active);}break;case S.Appeared:if(t==="nonDataPoint"){this._setStatus(S.Standby);}else if(i(this._target,t)){if(this._mode!=="actionMode"){this._setStatus(S.Appeared);}}else{this._setStatus(S.Active);}break;case S.Standby:if(t!=="nonDataPoint"){this._setStatus(S.Active);}break;case S.Selected:case S.Deselected:if(t!=="nonDataPoint"&&!i(this._target,t)){this._setStatus(S.Active);}break;}this._target=t;};function i(o,n){if(o&&o.getAttribute){return o.getAttribute("data-datapoint-id")===n.getAttribute("data-datapoint-id");}else{return o===n;}}T.prototype.select=function(t){this._setStatus(S.Selected);this._target=t;};T.prototype.deselect=function(t){this._setStatus(S.Deselected);this._target=t;};T.prototype.interrupt=function(){this._setStatus(S.Standby);};T.prototype._init=function(){this._status=S.Cleared;this._showTimeOut=null;this._hideTimeOut=null;this._timer=a;this._hideTimer=H;this._showHandler=null;this._hideHandler=null;this._currentTime=null;this._lastTime=null;this._target=null;this._isFirstShow=true;};T.prototype.reset=function(){clearTimeout(this._showTimeOut);clearTimeout(this._hideTimeOut);this._init();};return T;});define('sap/viz/chart/behavior/config/handler/TooltipBehaviorHandler',["sap/viz/chart/behavior/config/tooltip/Tooltip","sap/viz/chart/behavior/config/tooltip/AreaChartTooltip","sap/viz/chart/behavior/config/tooltip/ComboExTooltip","sap/viz/framework/common/util/DataGraphics","sap/viz/framework/common/util/Constants",'sap/viz/framework/common/util/DataUtils','sap/viz/framework/common/util/ObjectUtils','sap/viz/framework/common/util/TypeUtils','sap/viz/framework/common/format/FormatManager',"sap/viz/chart/components/util/DataPointUtils","sap/viz/framework/common/lang/LangManager","sap/viz/framework/common/util/DOM","sap/viz/chart/behavior/config/handler/TooltipTimerHandler"],function(T,A,C,D,a,b,O,c,F,d,L,f,g){var M="measureNames";var h="_context_row_number";var k="Dimension";var R="inLasso";var l="lassoEnd";function m(e,j){var u={body:[],footer:[],point:e.position,selectedValues:e.selectedNumber};if(j){u.plotArea=j;}var v=e.data;if(v&&v.length){for(var i=-1;++i<v.length;){var w=v[i];if(w.type==="Measure"){u.body.push({name:w.name,val:[{value:w.value}]});}else if(w.type==="Dimension"){u.footer.push({label:{val:w.name},value:{val:w.value}});}}}return u;}function n(i,j){var u=false;if(j.getProperties()){var v=j.getProperties().get("interaction.decorations");if(c.isArray(v)){v.forEach(function(e){if(e.name==='hideDetail'){e.fn.call(this,j.getStatus('tooltipMode'));u=true;}});}}if(!u){if(i.isShown()){i.hideTooltip();j.setStatus("tooltipMode",null);j.fireExternalEvent("hideTooltip",{name:a.Event.TooltipHide.name});}}}function o(e,i){if(c.isExist(e[i+b.DIMENSION_DISPLAYNAME_SUFFIX])){return e[i+b.DIMENSION_DISPLAYNAME_SUFFIX];}else if(c.isExist(e[i])){return e[i];}return null;}function p(e,i,j){if(c.isExist(e[i])){return e[i];}else if(j===true&&e[i]===undefined){return undefined;}return null;}function q(e,i){for(var u in i){if(i.hasOwnProperty(u)){for(var j=0;j<i[u].length;++j){var v=i[u][j];if(v.id===e){return v;}}}}return null;}function r(e,i){if(c.isExist(e[i+b.DIMENSION_DISPLAYNAME_SUFFIX])){return e[i+b.DIMENSION_DISPLAYNAME_SUFFIX];}return null;}var s=d3.format(".2%");var t=function(){};t.processDateFormat=function(e,j,u){if(e.timeDimensions!==undefined){var v=e.timeDimensions;for(var i=0;i<v.length;++i){var w=e[v[i]];w.bValueDate=true;if(j){w.timeAxis=u;}}}};t.prototype={standAloneInitialized:function(e,i){i.getProperties().origin.add({tooltip:{layinChart:true,visible:true,background:{color:"#ffffff",borderColor:"#cccccc"},bodyDimensionLabel:{color:"#666666"},bodyDimensionValue:{color:"#666666"},bodyMeasureLabel:{color:"#666666"},bodyMeasureValue:{color:"#000000"},closeButton:{backgroundColor:"#ffffff",borderColor:"#cccccc"},footerLabel:{color:"#000000"},separationLine:{color:"#a7a9ac"},preRender:null,postRender:null,formatString:null,unitFormatType:"FinancialUnits"}});},initialized:function(e,i){this._tooltipModule=new T(i.getProperties());this._tooltipModule.onClose(function(){i.fireExternalEvent("hideTooltip",{name:a.Event.TooltipHide.name});});i.setStatus("tooltipMode",null);this._createTooltipTimerHandler();},_createTooltipTimerHandler:function(){this._tooltipTimerHandler=new g();},initializedForArea:function(e,i){i.fireEvent(e,true);this._tooltipModule=new A(i.getProperties());this._tooltipModule.onClose(function(){i.fireExternalEvent("hideTooltip",{name:a.Event.TooltipHide.name});});i.setStatus("tooltipMode",null);},initializedForComboEx:function(e,i){i.fireEvent(e,true);this._tooltipModule=new C(i.getProperties());this._tooltipModule.onClose(function(){i.fireExternalEvent("hideTooltip",{name:a.Event.TooltipHide.name});});i.setStatus("tooltipMode",null);},unloadedClear:function(e,i){var j=this._tooltipModule;if(j){n.call(this,j,i);j.destroy();}delete this._tooltipModule;i.removeStatus("tooltipMode");this._tooltipTimerHandler.reset();},refreshedTooltip:function(e,i){var j=this._tooltipModule;if(!j){return;}n.call(this,j,i);this._tooltipTimerHandler.reset();},_getShowTooltipHandler:function(e,i){function j(){var u=this._tooltipModule;if(!u){return;}var v=this._handleShowDetail(e,i);var w=e.data.mode;i.setStatus("tooltipMode",w);i.fireExternalEvent("showTooltip",{name:a.Event.TooltipShow.name,data:v.eventtData});}return j.bind(this);},_getHideTooltipHandler:function(i,j){function u(){var v=this._tooltipModule;if(!v){return;}var w=j.getStatus("tooltipMode");if(!w||i.data.mode!==w){return;}var x=j.getProperties().get("interaction.decorations");var y=false;if(c.isArray(x)){x.forEach(function(e){if(e.name==='hideDetail'){e.fn.call(this,i.data.mode);y=true;}});}n.call(this,v,j);}return u.bind(this);},showDetail:function(e,i){var j=e.data.action;var u=this._getShowTooltipHandler(e,i);var v=this._getHideTooltipHandler(e,i);if(j){this._tooltipTimerHandler.setShowTooltipHandler(u);this._tooltipTimerHandler.setHideTooltipHandler(v);this._tooltipTimerHandler.setMode(e.data.mode);this._tooltipTimerHandler[j](e.data.target);}else{u();}},_handleShowDetail:function(i,j){var u=this._tooltipModule;var v;var w=j.getProperties().get("tooltip.applyTimeAxisFormat");var x=j.getProperties().get("tooltip.formatString");var y;var z=j.getModule("main.timeAxis");if(z){var B=j.getDataModel();if(B&&B._timeAxis){y=B._timeAxis.metaData[0].id;w=w&&!(c.isExist(x)&&c.isExist(x[y]));}}if(i.data.target&&!j.getStatus("rangeSelection")){j.fireEvent("extractTooltipData",{target:i.data.target});v=j.getStatus("tooltipData");t.processDateFormat(v,w,z);}else if(j.getStatus("rangeSelection")){var E=j.getStatus("rangeDomain");var G="From";var H="To";v=[{id:y,name:L.get("IDS_TIME_FROM")||G,value:E[0],type:k,bTimeRange:true,timeAxis:w?z:null},{id:y,name:L.get("IDS_TIME_TO")||H,value:E[1],type:k,bTimeRange:true,timeAxis:w?z:null}];v.timeDimensions=[0,1];v.rangeSelectionStage=R;if(i.data.bLassoEnd){v.rangeSelectionStage=l;}}var I=i.data.mode;var J={"data":v,"container":this._getTooltipContainer(j),"mode":I,"position":i.data.point,"isAnchored":!!i.data.isAnchored,"forceStyle":i.data.forceStyle};if(!v||v.rangeSelectionStage!==R){J["selectedNumber"]=j.getStatus("selectedDataPoints").length;}var K=m(J,j.getBBox(j.BoxType.PLOT_NODE));var N=j.getProperties().get("interaction.decorations");var P=false;if(c.isArray(N)){N.forEach(function(e){if(e.name==='showDetail'){e.fn.call(this,O.extend(true,{},J));P=true;}});}if(!P){this._processDecoration(u,J,j,i.data.target);}return{eventtData:K,tooltipData:J};},_processDecoration:function(i,j,u,v){var w=u?u.getSemanticManager():null,x;try{x=w?w.analyzeDataPoint('color,lineColor,lineType,pattern',d.getContext(v),true):null;}catch(e){x=null;}var y=u?u.getEnvManager():null;var z=false;if(y){z=y.isRTL();}i.showTooltip(j,x,z);},_getTooltipContainer:function(e){return e.getTooltipContainer();},hideDetail:function(e,i){var j=e.data.action;var u=this._getHideTooltipHandler(e,i);if(j){this._tooltipTimerHandler.setHideTooltipHandler(u);this._tooltipTimerHandler[j](e.data.target);}else{u();}},showTooltipHoverOnPlot:function(e,i){i.fireEvent("showDetail",e.data);},hideTooltipHoverOnPlot:function(e,i){i.fireEvent("hideDetail",e.data);},showTooltipClickBigData:function(e,i){e.data.action="select";i.fireEvent("showDetail",e.data);},hideTooltipClickBigData:function(e,i){e.data.action="deselect";i.fireEvent("hideDetail",e.data);},extractTooltipData:function(e,u){var v=u.getDataModel();var w=v.getBindingMetaData();var x=u.getProperties().get("general.hideNoValueLabel");var y=e.data.target,z,B=[],E=[],G=[];if(y.context){z=y.context;}else if(c.isString(y)||c.isNumber(y)){z=v.getDataPoint(y).context();}else{z=d.getContextByDataModel(y,v);}function q(N){for(var i in w){if(w.hasOwnProperty(i)){for(var j=0;j<w[i].length;++j){var X=w[i][j];if(X.id===N){return X;}}}}return null;}var H=v.context()&&v.context().metaData;function I(N){for(var i=0;H&&i<H.length;++i){if(H[i].id===N){return H[i];}}return null;}var J=u._statusMgr.get("data.unit"),K={};for(var N in z){if(z.hasOwnProperty(N)){if(N===M){continue;}var P=q(N)||{};var Q=null,S,U=P.type,V;S=U;if(U==="Dimension"){Q=B;V=o(z,N);}else if(U==="Measure"||N===h){Q=E;V=z[N];}else{P=I(N)||{};if(!P.showInTooltip){continue;}Q=G;S=P.type;V=o(z,N);}var W={"id":N,"name":P.name||N,"value":V,"type":S,"formatString":P.formatString};if(c.isExist(r(z,N))){W["value"+b.DIMENSION_DISPLAYNAME_SUFFIX]=r(z,N);W["value"+b.DIMENSION_VALUE_SUFFIX]=p(z,N,x);}if(U==="Measure"&&J[W.id]){W.unit=z[J[W.id]];K[J[W.id]]=true;}if(Q){Q.push(W);}}}u.setStatus("tooltipData",B.concat(G).concat(E));},extractTooltipDataPie:function(i,j){j.fireEvent(i,true);var u=j.getStatus("tooltipData");u.forEach(function(e){if(e.type==="Measure"){var v=D.getData(i.data.target).percentage;if(c.isNaN(v)){var w=d3.select(i.data.target.childNodes[0]).datum();v=(w.endAngle-w.startAngle)/(2*Math.PI);}e.bothValue={value:e.value,percentage:v,primaryKey:"value"};}});j.setStatus("tooltipData",u);},extractTooltipDataPercentage:function(i,j){j.fireEvent(i,true);var u=j.getStatus("tooltipData");u.forEach(function(e){if(e.type==="Measure"){e.value=D.getData(i.data.target).percentageValue;var v=D.getContext(i.data.target);e.bothValue={value:v[v.measureNames],percentage:e.value,primaryKey:"percentage"};}});j.setStatus("tooltipData",u);},extractTooltipDataTimebubble:function(e,i){i.fireEvent(e,true);var j=i.getStatus("tooltipData");j.timeMeasure=0;i.setStatus("tooltipData",j);},extractTooltipDataPercentageMekko:function(i,j){j.fireEvent(i,true);var u=j.getStatus("tooltipData");var v=j.getDataModel().getBindingMetaData();var w;if(v){w=v.valueAxis[0]?v.valueAxis[0].id:undefined;}u.forEach(function(e){if(e.type==="Measure"&&e.id===w){e.value=D.getData(i.data.target).percentageValue;var x=D.getContext(i.data.target);e.bothValue={value:x[x.measureNames],percentage:e.value,primaryKey:"percentage"};e.value=s(e.value);}});j.setStatus("tooltipData",u);},extractTooltipDataTimeLine:function(j,u){u.fireEvent(j,true);var v=u.getStatus("tooltipData");var w=D.getData(j.data.target);var x;if(w){x=w.timeField;}else{var y=u.getDataModel();var z=y.timeAxis();x=z.metaData.map(function(e){return e.id;});}var B=[];for(var i=0;i<v.length;++i){if(x.indexOf(v[i].id)>=0){B.push(i);}}v.timeDimensions=B;u.setStatus("tooltipData",v);},extractTooltipDataWaterfall:function(i,j){j.fireEvent(i,true);var u=j.getStatus("tooltipData");u=u.filter(function(e){var v=j.getDataModel();var w=v.waterfallType()?v.waterfallType().metaData:undefined;var x=w&&w[0]?w[0].id:undefined;return e.id!==x;});j.setStatus("tooltipData",u);},extractTooltipDataCombination:function(i,j){j.fireEvent(i,true);var u=j.getProperties().get("general.hideNoValueLabel");if(!u){return;}var v=j.getStatus("tooltipData");v=v.filter(function(e){if(e.hasOwnProperty("value"+b.DIMENSION_VALUE_SUFFIX)&&e["value"+b.DIMENSION_VALUE_SUFFIX]===undefined){return false;}return true;});j.setStatus("tooltipData",v);},extractTooltipDataComboEx:function(e,i){this.extractTooltipDataCombination(e,i);var j=i.getStatus("tooltipData");var u=e.data.target;if(!f.hasClass(u,"v-datapoint")){u=[].filter.call(i.getNodes(i.NodeType.DATA_POINT,false),function(v){return v.getAttribute("data-id")===e.data.target.getAttribute("data-id");})[0];}Object.defineProperty(j,"seriesType",{enumerable:false,value:D.getData(u).seriesType});i.setStatus("tooltipData",j);}};return t;});define('sap/viz/chart/behavior/config/TooltipBehaviorConfig',["sap/viz/chart/behavior/config/handler/TooltipBehaviorHandler"],function(T){return[{"id":"tooltipBehaviorDefinition","handler":T,"handlerType":"class","triggerEvent":[{"name":"standAloneInitialized","method":"standAloneInitialized"},{"name":"afterBehaviorLoaded","method":"initialized"},{"name":"afterBehaviorLoaded","supportedChartTypes":["info/area","info/horizontal_area","info/trellis_area","info/trellis_horizontal_area","info/100_area","info/100_horizontal_area","info/trellis_100_area","info/trellis_100_horizontal_area"],"method":"initializedForArea"},{"name":"afterBehaviorLoaded","supportedChartTypes":["info/combinationEx"],"method":"initializedForComboEx"},{"name":"beforeBehaviorUnloaded","method":"unloadedClear"},{"name":"afterChartRendered","method":"refreshedTooltip"},{"name":"showDetail","method":"showDetail"},{"name":"hideDetail","method":"hideDetail"},{"name":"showTooltipHoverOnPlot","method":"showTooltipHoverOnPlot"},{"name":"hideTooltipHoverOnPlot","method":"hideTooltipHoverOnPlot"},{"name":"showTooltipClickBigData","method":"showTooltipClickBigData"},{"name":"hideTooltipClickBigData","method":"hideTooltipClickBigData"},{"name":"extractTooltipData","method":"extractTooltipData"},{"name":"extractTooltipData","supportedChartTypes":["info/100_stacked_bar","info/100_stacked_column","info/100_dual_stacked_bar","info/100_dual_stacked_column","info/trellis_100_stacked_bar","info/trellis_100_stacked_column","info/trellis_100_dual_stacked_bar","info/trellis_100_dual_stacked_column","info/100_area","info/100_horizontal_area","info/trellis_100_area","info/trellis_100_horizontal_area"],"method":"extractTooltipDataPercentage"},{"name":"extractTooltipData","supportedChartTypes":["info/pie","info/donut",'info/trellis_pie','info/trellis_donut'],"method":"extractTooltipDataPie"},{"name":"extractTooltipData","supportedChartTypes":["info/time_bubble"],"method":"extractTooltipDataTimebubble"},{"name":"extractTooltipData","supportedChartTypes":["info/100_mekko","info/100_horizontal_mekko"],"method":"extractTooltipDataPercentageMekko"},{"name":"extractTooltipData","supportedChartTypes":["info/timeseries_waterfall","info/timeseries_line","info/timeseries_column","info/timeseries_stacked_column","info/timeseries_100_stacked_column","info/timeseries_scatter","info/timeseries_bubble","info/timeseries_combination","info/dual_timeseries_combination","info/timeseries_bullet"],"method":"extractTooltipDataTimeLine"},{"name":"extractTooltipData","supportedChartTypes":["info/waterfall","info/stacked_waterfall","info/horizontal_waterfall","info/horizontal_stacked_waterfall"],"method":"extractTooltipDataWaterfall"},{"name":"extractTooltipData","supportedChartTypes":["info/combination","info/horizontal_combination","info/stacked_combination","info/horizontal_stacked_combination","info/dual_combination","info/dual_horizontal_combination","info/dual_stacked_combination","info/dual_horizontal_stacked_combination"],"method":"extractTooltipDataCombination"},{"name":"extractTooltipData","supportedChartTypes":["info/combinationEx"],"method":"extractTooltipDataComboEx"}]}];});define('sap/viz/chart/behavior/config/ZoomBehaviorConfig',["sap/viz/framework/interaction/utils/PlotZoomUtils","sap/viz/chart/components/plots/PlotGeometryKeeper","sap/viz/framework/common/util/DataGraphics"],function(P,a,D){var C=["info/100_dual_stacked_bar","info/100_dual_stacked_column","info/100_stacked_bar","info/100_stacked_column","info/bar","info/bullet","info/vertical_bullet","info/column","info/combination","info/combinationEx","info/dual_combination","info/dual_bar","info/dual_column","info/dual_stacked_bar","info/dual_stacked_column","info/horizontal_combination","info/dual_horizontal_combination","info/stacked_bar","info/stacked_column","info/stacked_combination","info/horizontal_stacked_combination","info/dual_stacked_combination","info/dual_horizontal_stacked_combination","info/dual_horizontal_line","info/dual_line","info/horizontal_line","info/line","info/scatter","info/bubble","info/time_bubble","info/timeseries_line","info/timeseries_column","info/timeseries_stacked_column","info/timeseries_100_stacked_column","info/timeseries_bubble","info/timeseries_scatter","info/timeseries_combination","info/timeseries_bullet","info/dual_timeseries_combination","info/timeseries_waterfall","info/waterfall","info/horizontal_waterfall"];var A=["stroke","stroke-opacity","stroke-width","fill","fill-opacity"];return[{id:"restore_size_and_position_on_render",triggerEvent:{name:"afterChartRendered"},handler:function(e,s){if(s.getProperties().get("plotArea.scrollbar.visible")===false){s.setStatus("plotArea.window",[]);return;}if(a.hasRangeChange(s)){s.setStatus("plotArea.window",s.getStatusManager().get("plotArea.window"));a.size.save(s);a.scroll.save(s);}else{a.size.load(s);a.scroll.load(s);}}},{id:"discard_saved_zoom_onscalechange",triggerEvent:{name:"scalesUpdated"},handler:function(e,b){if(e.data instanceof Array&&e.data.some(function(s){return s.feed!=="color"&&s.feed!=="shape";})){a.size.clear(b);a.scroll.clear(b);}}},{id:"discard_saved_zoom_ondatachange",triggerEvent:{name:"dataUpdated"},handler:function(e,s){a.size.clear(s);a.scroll.clear(s);}},{id:"discard_saved_zoom",triggerEvent:{name:"discardSavedZoom"},handler:function(e,s){a.size.clear(s);a.scroll.clear(s);}},{id:"save_zoom",triggerEvent:{name:"saveZoom","supportedChartTypes":C},handler:function(e,s){a.size.save(s);a.scroll.save(s);}},{"id":"zoom_on_mousewheel_area_prezoom","triggerEvent":{"name":"wheelmove","targets":["v-m-plot","v-m-action-layerrange"],"supportedChartTypes":["info/combinationEx"]},"handler":function(e,s){if(!e.data.originalEvent.ctrlKey){return;}var b=[].slice.call(s.getNodes(s.NodeType.DATA_POINT,false)),c=b.filter(function(n){return D.getData(n).seriesType==="area";});s.setStatus("areaDpStyles",c.filter(function(n){return n.getAttribute("opacity")!=="0";}).map(function(n){var p=n.querySelector("path");return{dataId:n.getAttribute("data-id"),opacity:n.getAttribute("opacity"),pathAttrs:A.map(function(d){return p.getAttribute(d);})};}));}},{"id":"zoom_on_mousewheel","triggerEvent":{"name":"wheelmove","targets":["v-m-plot","v-m-action-layerrange"],"supportedChartTypes":C},"handler":function(e,s){if(e.data.originalEvent.ctrlKey){var d=e.data.wheelDelta>0?"in":"out";var i=s.isBigDataMode();s.getModule("main").getZoomer().zoomInOut(d,e.data.point,28);e.data.originalEvent.preventDefault();var b=s.isBigDataMode();if(i&&!b){var c=s._getDecorationLayer();c.clear();}}}},{"id":"zoom_on_mousewheel_area_rehighlight","triggerEvent":{"name":"wheelmove","targets":["v-m-plot","v-m-action-layerrange"],"supportedChartTypes":["info/combinationEx"]},"handler":function(e,s){var b=s.getStatus("areaDpStyles");if(!e.data.originalEvent.ctrlKey||!b||!b.length){return;}var d=s.getNodes(s.NodeType.DATA_POINT,false),c=[].reduce.call(d,function(f,n){f[n.getAttribute("data-id")]=n;return f;},{});b.forEach(function(f){var g=c[f.dataId],p;if(g){g.setAttribute("opacity",f.opacity);p=g.querySelector("path");A.forEach(function(j,i){p.setAttribute(j,f.pathAttrs[i]);});}});var h=s.getStatus("hoveringDataPoint");if(h){s.setStatus("hoveringDataPoint",c[h.getAttribute("data-id")]);}s.removeStatus("areaDpStyles");}}];});define('sap/viz/chart/components/accessibility/ChartComponentNavigator',["sap/viz/framework/common/util/ObjectUtils"],function(O){function C(o){this._isVerticalRender=o.isVerticalRender;this._renderType=o.renderType;this._navigatorType=o.navigatorType;this._constants={"UP":"up","DOWN":"down","LEFT":"left","RIGHT":"right"};O.extendByRepalceArray(true,this._constants,o.chartConstants);}var p=C.prototype;p.init=function(){};p.destroy=function(){this._renderType=null;this._isVerticalRender=null;this._constants=null;this._navigatorType=null;};p.left=function(i){return null;};p.right=function(i){return null;};p.up=function(i){return null;};p.down=function(i){return null;};p.getFirstStartPoint=function(){return null;};return C;});define('sap/viz/chart/components/accessibility/BaseDataPointNavigator',["sap/viz/framework/common/util/oo","sap/viz/framework/common/util/ObjectUtils","sap/viz/chart/components/util/SeriesUtil","sap/viz/chart/components/accessibility/ChartComponentNavigator"],function(o,O,S,C){function B(a){B.superclass.constructor.apply(this,arguments);this._dataModel=a.dataModel;this._sortedDataPointsByDirection=[];this._series=a.series?a.series:(a.dataModel?a.dataModel.series():null);this._propMgr=a.propertyManager;this._isDual=a.isDual;this._isPercentage=a.isPercentage;this._seriesTypeLookup=[];this._isTimeColumn=a.isTimeColumn;}o.extend(B,C);var p=B.prototype;p.destroy=function(){B.superclass.destroy.apply(this,arguments);this._dataModel=null;this._sortedDataPointsByDirection=[];this._series=null;this._propMgr=null;this._renderType=null;this._isDual=null;this._isPercentage=null;this._seriesTypeLookup=null;};p.locate=function(a){var r=this._series;for(var i=a.length-1;r&&i>=0;--i){r=r[a[i]];}return r||null;};p.address=function(i){return this._dataModel.getDataPoint(i).address();};p.getDataPoint=function(i){return this._dataModel?this._dataModel.getDataPoint(i):null;};p.getColumn=function(c){return this._dataModel.getDataPoints(c);};p.getRow=function(r){return this._dataModel.getDataPoints(null,r);};p.getPrevDataPointInSeries=function(i){return this.getDataPoint(i).prev();};p.getNextDataPointInSeries=function(i){return this.getDataPoint(i).next();};p.getFirstStartPoint=function(){if(this._series&&this._series.length){var c=this._series[0].length;for(var i=0;i<c;i++){for(var j=0;j<this._series.length;j++){if(this._series[j][i]){return this._series[j][i].dp;}}}}else{return null;}};p.dataPointValueSortInCategory=function(c){this._sortedDataPointsByDirection[c]=this.getColumn(c);var t=this;this._sortedDataPointsByDirection[c].sort(function(a,b){var d=t.locate(a.address());var D=t.locate(b.address());return d.valueAxis-D.valueAxis;});};p._getSeriesType=function(d){var a=this.locate(d.address());if(!this._dataShapes){var b="dataShape.primaryAxis";var i=a&&!a.hasOwnProperty("valueAxis");if(i){b="dataShape.secondaryAxis";}this._dataShapes=this._propMgr.get("plotArea."+b);if(!this._dataShapes){this._dataShapes=i?["line","line","line"]:["bar","line","line"];}}return S.getSeriesType(a,this._dataShapes,this._renderType);};p._setupSeriesTypeTable=function(){if(this._series){for(var i=0;i<this._series.length;i++){var j=0;while(!this._series[i][j]&&j<this._series[i].length){j++;}if(this._series[i][j]){this._seriesTypeLookup[i]=this._getSeriesType(this._series[i][j].dp);}else{this._seriesTypeLookup[i]=undefined;}}}};p._getMaxCategoryNum=function(){var m=0;for(var i=0;i<this._series.length;i++){if(this._series[i]&&this._series[i].length>m){m=this._series[i].length;}}return m;};p._getFirstPointBySeries=function(s){if(this._series&&s>-1&&s<this._series.length){if(this._series[s]){for(var i=0;i<this._series[s].length;i++){if(this._series[s][i]){return this._series[s][i].dp;}}}}return null;};p._prevSeriesFirstPoint=function(i){var d=this.getDataPoint(i);if(d){var s=d.address()[1];while((--s)>-1&&!(d=this._getFirstPointBySeries(s))){}}return d;};p._nextSeriesFirstPoint=function(i){var d=this.getDataPoint(i);if(d){var s=d.address()[1];var a=this._series.length;while((++s)<a&&!(d=this._getFirstPointBySeries(s))){}}return d;};p.leftSeries=function(i){return this._prevSeriesFirstPoint(i);};p.rightSeries=function(i){return this._nextSeriesFirstPoint(i);};p.upSeries=function(i){return this._prevSeriesFirstPoint(i);};p.downSeries=function(i){return this._nextSeriesFirstPoint(i);};return B;});define('sap/viz/chart/components/accessibility/ColumnDataPointNavigator',["sap/viz/framework/common/util/oo","sap/viz/chart/components/accessibility/BaseDataPointNavigator"],function(o,B){function C(){C.superclass.constructor.apply(this,arguments);this._allDataPoints=[];this._setupDataPointsMap();}o.extend(C,B);var p=C.prototype;p._setupDataPointsMap=function(){if(this._series){this._allDataPoints=[];if(!this._isTimeColumn){var c=this._getMaxCategoryNum();for(var a=0;a<c;a++){for(var s=0;s<this._series.length;s++){if(this._series[s][a]){this._allDataPoints.push(this._series[s][a].dp);}}}}else{var t;var d=this._dataModel.getDataPoints();var b=this._dataModel.timeAxis();if(d.length>0&&b){t=b.rowArray.map(function(e){return e[0].parsedValue;});t=t.filter(function(e,f,h){return h.indexOf(e)===f;});for(var i=0;i<t.length;i++){var g=d.filter(function(e){var f=e.context();if(e._model&&e._model.timeAxis&&e._model.timeAxis.metaData){var h=e._model.timeAxis.metaData[0].id+".parsedValue";if(f[h]===t[i]){return true;}}return false;});this._allDataPoints=this._allDataPoints.concat(g);}}}}};p.getFirstStartPoint=function(){return this._allDataPoints[0];};p.destroy=function(){C.superclass.destroy.apply(this,arguments);this._allDataPoints=null;};p.left=function(i){return this.getPrevDataPoint(i);};p.right=function(i){return this.getNextDataPoint(i);};p.up=function(i){return this.getPrevDataPoint(i);};p.down=function(i){return this.getNextDataPoint(i);};p.getNextDataPoint=function(i){var d=this.getDataPoint(i);var n=null;var a=this._allDataPoints.indexOf(d)+1;if(a<this._allDataPoints.length){n=this._allDataPoints[a];}return n;};p.getPrevDataPoint=function(i){var d=this.getDataPoint(i);var a=null;var b=this._allDataPoints.indexOf(d)-1;if(b>-1){a=this._allDataPoints[b];}return a;};return C;});define('sap/viz/chart/components/accessibility/StackedColumnDataPointNavigator',["sap/viz/framework/common/util/oo","sap/viz/chart/components/accessibility/BaseDataPointNavigator"],function(o,B){function S(){S.superclass.constructor.apply(this,arguments);this._allNegativeValueInCategory=[];this._negativeValueAxis1=[];this._negativeValueAxis2=[];}o.extend(S,B);var p=S.prototype;p.init=function(){if(this._series&&this._isPercentage){var c=this._getMaxCategoryNum();for(var a=0;a<c;a++){var n=0;var b=0;var v=0;var d=0;for(var s=0;s<this._series.length;s++){if(this._series[s][a]){if(this._series[s][a].valueAxis){v++;if(this._series[s][a].valueAxis<0){n++;}}if(this._isDual&&this._series[s][a].valueAxis2){d++;if(this._series[s][a].valueAxis2<0){b++;}}}}if(n===v){this._negativeValueAxis1[a]=true;}else{this._negativeValueAxis1[a]=false;}if(this._isDual){if(b===d){this._negativeValueAxis2[a]=true;}else{this._negativeValueAxis2[a]=false;}}}}};p.destroy=function(){S.superclass.destroy.apply(this,arguments);this._allNegativeValueInCategory=null;this._negativeValueAxis1=null;this._negativeValueAxis2=null;};p.left=function(i){return this._isVerticalRender?this._getPrevDataPointInSeries(i):this._getNextDataPointInStack(i);};p.right=function(i){return this._isVerticalRender?this._getNextDataPointInSeries(i):this._getPrevDataPointInStack(i);};p.up=function(i){return this._isVerticalRender?this._getPrevDataPointInStack(i):this._getPrevDataPointInSeries(i);};p.down=function(i){return this._isVerticalRender?this._getNextDataPointInStack(i):this._getNextDataPointInSeries(i);};p._getPrevDataPointInSeries=function(i){var a=this._prevNonNullDPInSeries(i);if(this._isPercentage){while(a&&((!this._negativeValueAxis1[a.address()[0]]&&this.locate(a.address()).valueAxis<0)||(this._isDual&&!this._negativeValueAxis2[a.address()[0]]&&this.locate(a.address()).valueAxis2<0))){a=this._prevNonNullDPInSeries(a.id);if(!a){break;}}}return a;};p._getNextDataPointInSeries=function(i){var n=this._nextNonNullDPInSeries(i);if(this._isPercentage){while(n&&((!this._negativeValueAxis1[n.address()[0]]&&this.locate(n.address()).valueAxis<0)||(this._isDual&&!this._negativeValueAxis2[n.address()[0]]&&this.locate(n.address()).valueAxis2<0))){n=this._nextNonNullDPInSeries(n.id);if(!n){break;}}}return n;};p._getNextDataPointInStack=function(i){var d=this.getDataPoint(i);var n=null;var a=null;var s=this._series.length;if(d){var b=d.address();if(b[1]!==s-1){n=this._downNonNullDPInSeries(d.id);if(n&&this._isPercentage){a=this.locate(n.address());if((a.valueAxis&&!this._negativeValueAxis1[b[0]])||(a.valueAxis2&&!this._negativeValueAxis2[b[0]])){var c=null;while(n&&n.address()[1]<s){a=this.locate(n.address());c=a.valueAxis||a.valueAxis2;if(c<0){n=this._downNonNullDPInSeries(n.id);}else{break;}}}}}}return n;};p._getPrevDataPointInStack=function(i){var d=this.getDataPoint(i);var a=null;var b=null;if(d){var c=d.address();if(c[1]!==0){a=this._upNonNullDPInSeries(d.id);if(a&&this._isPercentage){b=this.locate(a.address());if((b.valueAxis&&!this._negativeValueAxis1[c[0]])||(b.valueAxis2&&!this._negativeValueAxis2[c[0]])){var e=null;while(a&&a.address()[1]>-1){b=this.locate(a.address());e=b.valueAxis||b.valueAxis2;if(e<0){a=this._upNonNullDPInSeries(a.id);}else{break;}}}}}}return a;};p.getFirstStartPoint=function(){if(!this._isPercentage){return S.superclass.getFirstStartPoint.apply(this,arguments);}if(this._series){for(var i=0;i<this._series[i].length;i++){for(var j=0;i<this._series.length;j++){if(this._series[j][i]){if(this._isDual){if(!this._negativeValueAxis1[i]&&this._series[j][i].valueAxis<0){continue;}if(this._isDual&&!this._negativeValueAxis2[i]&&this._series[j][i].valueAxis2<0){continue;}return this._series[j][i].dp;}else{if(!this._negativeValueAxis1[i]&&this._series[j][i].valueAxis<0){continue;}else{return this._series[j][i].dp;}}}}}}else{return null;}};p._downNonNullDPInSeries=function(i){var c=this.getDataPoint(i);var d=c.address();var s=d[0];var a=this._series.length;var n=d[1]+1;var b=null;if(n>a){return b;}while(n<a){if(this._series[n]){b=this._series[n][s];if(b){return b.dp;}}n++;}return b;};p._upNonNullDPInSeries=function(i){var c=this.getDataPoint(i);var d=c.address();var s=d[0];var a=d[1]-1;var b=null;if(a<0){return b;}while(a>-1){if(this._series[a]){b=this._series[a][s];if(b){return b.dp;}}a--;}return b;};p._nextNonNullDPInSeries=function(i){var c=this.getDataPoint(i);var d=c.address();var s=this._series[d[1]].length;var n=d[0]+1;if(n>s){return null;}var a=this._series[d[1]][n];while(!a&&n<s){a=this._series[d[1]][n];n++;}return a?a.dp:null;};p._prevNonNullDPInSeries=function(i){var c=this.getDataPoint(i);var d=c.address();var a=d[0]-1;if(a<0){return null;}var b=this._series[d[1]][a];while(!b&&a>-1){b=this._series[d[1]][a];a--;}return b?b.dp:null;};p._getFirstPointBySeries=function(s){if(this._series&&s>-1&&s<this._series.length){if(this._series[s]){for(var i=0;i<this._series[s].length;i++){if(this._series[s][i]){if(this._isPercentage){if(!this._negativeValueAxis1[i]&&this._series[s][i].valueAxis<0){continue;}if(this._isDual&&!this._negativeValueAxis2[i]&&this._series[s][i].valueAxis2<0){continue;}}return this._series[s][i].dp;}}}}return null;};return S;});define('sap/viz/chart/components/accessibility/BulletDataPointNavigator',["sap/viz/framework/common/util/oo","sap/viz/chart/components/accessibility/BaseDataPointNavigator"],function(o,B){function a(){a.superclass.constructor.apply(this,arguments);this._dataPointIndexTable=[];this._setupDataPointsMap();}o.extend(a,B);var p=a.prototype;p._setupDataPointsMap=function(){if(this._series&&this._series[0]){var c=this._series[0].length;for(var b=0;b<c;b++){for(var s=0;s<this._series.length;s++){var i=this._series[s][b];if(i&&i.dp){this._dataPointIndexTable.push(i.dp);}}}}};p.destroy=function(){a.superclass.destroy.apply(this,arguments);this._dataPointIndexTable=null;};p.left=function(i){return this._isVerticalRender?this.getPrevDataPointInSeries(i):this.getPrevDataPointInSeries(i);};p.right=function(i){return this._isVerticalRender?this.getNextDataPointInSeries(i):this.getNextDataPointInSeries(i);};p.up=function(i){return this._isVerticalRender?this.getPrevDataPointInSeries(i):this.getPrevDataPointInSeries(i);};p.down=function(i){return this._isVerticalRender?this.getNextDataPointInSeries(i):this.getNextDataPointInSeries(i);};p.getPrevDataPointInSeries=function(i){var d=null;if(this._dataPointIndexTable){var c=this._dataPointIndexTable.indexOf(this.getDataPoint(i));c--;d=this._dataPointIndexTable[c];while(!d&&--c>-1){d=this._dataPointIndexTable[c];}}return d;};p.getNextDataPointInSeries=function(i){var d=null;if(this._dataPointIndexTable){var c=this._dataPointIndexTable.indexOf(this.getDataPoint(i));c++;d=this._dataPointIndexTable[c];while(!d&&++c<this._dataPointIndexTable.length){d=this._dataPointIndexTable[c];}}return d;};p.getFirstStartPoint=function(){if(this._series){return this._dataPointIndexTable[0];}else{return null;}};return a;});define('sap/viz/chart/components/accessibility/LineDataPointNavigator',["sap/viz/framework/common/util/oo","sap/viz/chart/components/accessibility/BaseDataPointNavigator",],function(o,B){function L(){L.superclass.constructor.apply(this,arguments);this._sortedDPByFirstValueAxis=[];this._sortedDPBySecondaryValueAxis=[];this._allDataPoints=[];this._setupDataPointsMap();}o.extend(L,B);var p=L.prototype;p._setupDataPointsMap=function(){if(this._series){var s=this._series.length;for(var a=0;a<this._series.length;a++){var b=[];if(this._series[a]){for(var c=0;c<this._series[a].length;c++){if(this._series[a][c]){b.push(this._series[a][c]);}}this._allDataPoints.push(b);}else{this._allDataPoints.push(undefined);}}}};p.destroy=function(){L.superclass.destroy.apply(this,arguments);this._sortedDPByFirstValueAxis=null;this._sortedDPBySecondaryValueAxis=null;this._allDataPoints=null;};p.left=function(i){return this._isVerticalRender?this.getPrevDataPointInSeries(i):this._getShortestDPInCategory(i,this._constants.LEFT);};p.right=function(i){return this._isVerticalRender?this.getNextDataPointInSeries(i):this._getShortestDPInCategory(i,this._constants.RIGHT);};p.up=function(i){return this._isVerticalRender?this._getShortestDPInCategory(i,this._constants.UP):this.getPrevDataPointInSeries(i);};p.down=function(i){return this._isVerticalRender?this._getShortestDPInCategory(i,this._constants.DOWN):this.getNextDataPointInSeries(i);};p.getNextDataPointInSeries=function(i){var c=this.getDataPoint(i);var a=this.locate(c.address());var b=c.address();var s=b[1];var n=null;if(this._allDataPoints[s]){var d=this._allDataPoints[s].indexOf(a)+1;if(d<this._allDataPoints[s].length){n=this._allDataPoints[s][d].dp;}}return n;};p.getPrevDataPointInSeries=function(i){var c=this.getDataPoint(i);var a=this.locate(c.address());var b=c.address();var s=b[1];var d=null;if(this._allDataPoints[s]){var e=this._allDataPoints[s].indexOf(a)-1;if(e>-1){d=this._allDataPoints[s][e].dp;}}return d;};function u(c){if(this._isDual){if(!this._sortedDPByFirstValueAxis[c]){this._sortedDPByFirstValueAxis[c]=[];this._sortedDPBySecondaryValueAxis[c]=[];var d=this.getColumn(c);for(var i=0;i<d.length;i++){if(this.locate(d[i].address()).valueAxis){this._sortedDPByFirstValueAxis[c].push(d[i]);}else if(this.locate(d[i].address()).valueAxis2){this._sortedDPBySecondaryValueAxis[c].push(d[i]);}}this._sortedDPByFirstValueAxis[c].sort((function(a,b){return this.locate(a.address()).valueAxis-this.locate(b.address()).valueAxis;}).bind(this));this._sortedDPBySecondaryValueAxis[c].sort((function(a,b){return this.locate(a.address()).valueAxis2-this.locate(b.address()).valueAxis2;}).bind(this));}}else{if(!this._sortedDataPointsByDirection[c]){this.dataPointValueSortInCategory(c);}}}p._getShortestDPInCategory=function(i,d){var c=this.getDataPoint(i);var s=null;var a=-1;var b=c.address();var e=b[0];var f=-1;var g=false;u.call(this,e);if(this._isDual){var h=this.locate(c.address());if(h.valueAxis){f=this._sortedDPByFirstValueAxis[e].indexOf(c);}else if(h.valueAxis2){g=true;f=this._sortedDPBySecondaryValueAxis[e].indexOf(c);}}else{f=this._sortedDataPointsByDirection[e].indexOf(c);}if(d===this._constants.UP||d===this._constants.RIGHT){a=f+1;}else if(d===this._constants.DOWN||d===this._constants.LEFT){a=f-1;}if(this._isDual){if(!g){if(a>this._sortedDPByFirstValueAxis[e].length-1){s=null;}else if(a===-1){a=this._sortedDPBySecondaryValueAxis[e].length-1;s=this._sortedDPBySecondaryValueAxis[e][a];}else{s=this._sortedDPByFirstValueAxis[e][a];}}else{if(a>this._sortedDPBySecondaryValueAxis[e].length-1){s=this._sortedDPByFirstValueAxis[e][0];}else if(a===-1){s=null;}else{s=this._sortedDPBySecondaryValueAxis[e][a];}}}else{s=this._sortedDataPointsByDirection[e][a];}return s;};p.getColumn=function(c){var a=[];if(this._series){for(var i=0;i<this._series.length;i++){if(this._series[i]&&this._series[i][c]){a.push(this._series[i][c].dp);}}}return a;};return L;});define('sap/viz/chart/components/accessibility/CombinationDataPointNavigator',["sap/viz/framework/common/util/oo","sap/viz/chart/components/accessibility/BaseDataPointNavigator","sap/viz/chart/components/accessibility/ColumnDataPointNavigator","sap/viz/chart/components/accessibility/LineDataPointNavigator"],function(o,B,C,L){function a(b){a.superclass.constructor.apply(this,arguments);this._dataShapes=null;this._barSeries=[];this._lineSeries=[];this._barNavigator=null;this._lineNavigator=null;this._initSubComponent(b);}o.extend(a,B);var p=a.prototype;p._initSubComponent=function(b){if(this._series){this._setupSeriesTypeTable();for(var k=0;k<this._seriesTypeLookup.length;k++){if(this._seriesTypeLookup[k]===this._constants.BAR){this._barSeries.push(this._series[k]);this._lineSeries.push(undefined);}else{this._lineSeries.push(this._series[k]);}}var c={isVerticalRender:b.isVerticalRender,dataModel:b.dataModel,series:this._barSeries};this._barNavigator=new C(c);var l={isVerticalRender:b.isVerticalRender,dataModel:b.dataModel,series:this._lineSeries};this._lineNavigator=new L(l);}};p.destroy=function(){a.superclass.destroy.apply(this,arguments);this._dataShapes=null;this._seriesTypeLookup=null;this._barSeries=null;this._lineSeries=null;if(this._lineNavigator){this._lineNavigator.destroy();}if(this._barNavigator){this._barNavigator.destroy();}this._lineNavigator=null;this._barNavigator=null;};p.left=function(i){return this._DPRouter(i,this._constants.LEFT);};p.right=function(i){return this._DPRouter(i,this._constants.RIGHT);};p.up=function(i){return this._DPRouter(i,this._constants.UP);};p.down=function(i){return this._DPRouter(i,this._constants.DOWN);};p._DPRouter=function(i,d){var b=this.getDataPoint(i);if(b){var s=this._getSeriesType(b);if(this._isVerticalRender){if(d===this._constants.UP||d===this._constants.DOWN){b=this._getShortestDPInCategory(i,d);}}else{if(d===this._constants.LEFT||d===this._constants.RIGHT){b=this._getShortestDPInCategory(i,d);}}switch(s){case this._constants.LINE:if(this._isVerticalRender){if(d===this._constants.LEFT){b=this._lineNavigator.left(i);}else if(d===this._constants.RIGHT){b=this._lineNavigator.right(i);}}else{if(d===this._constants.UP){b=this._lineNavigator.up(i);}else if(d===this._constants.DOWN){b=this._lineNavigator.down(i);}}break;case this._constants.BAR:if(this._isVerticalRender){if(d===this._constants.LEFT){b=this._barNavigator.left(i);}else if(d===this._constants.RIGHT){b=this._barNavigator.right(i);}}else{if(d===this._constants.UP){b=this._barNavigator.up(i);}else if(d===this._constants.DOWN){b=this._barNavigator.down(i);}}break;}}return b;};p._getShortestDPInCategory=function(i,d){var c=this.getDataPoint(i);var s=null;var b=-1;var e=c.address();var f=e[0];if(!this._sortedDataPointsByDirection[f]){this.dataPointValueSortInCategory(f);}var g=this._sortedDataPointsByDirection[f].indexOf(c);if(d===this._constants.UP||d===this._constants.RIGHT){b=g+1;}else if(d===this._constants.DOWN||d===this._constants.LEFT){b=g-1;}if(b>-1&&b<this._sortedDataPointsByDirection[f].length){s=this._sortedDataPointsByDirection[f][b];if(this._seriesTypeLookup[c.address()[1]]===this._constants.BAR){var h=this._seriesTypeLookup[s.address()[1]];while(h!==this._constants.LINE){b+=(d===this._constants.UP||d===this._constants.RIGHT)?1:-1;if(b>this._sortedDataPointsByDirection[f].length||b<0){s=null;break;}h=this._seriesTypeLookup[this._sortedDataPointsByDirection[f][b].address()[1]];}s=this._sortedDataPointsByDirection[f][b];}}return s;};return a;});define('sap/viz/chart/components/accessibility/StackedCombinationDataPointNavigator',["sap/viz/framework/common/util/oo","sap/viz/chart/components/util/SeriesUtil","sap/viz/chart/components/accessibility/BaseDataPointNavigator","sap/viz/chart/components/accessibility/StackedColumnDataPointNavigator","sap/viz/chart/components/accessibility/LineDataPointNavigator"],function(o,S,B,a,L){function b(c){b.superclass.constructor.apply(this,arguments);this._dataShapes=null;this._seriesTypeLookup=[];this._stackedColumnNavigator=null;this._lineNavigator=null;this._lineSortedDPInCategory=[];this._barDPInCategory=[];this._stackedSeries=[];this._lineSeries=[];this._initSubComponent(c);}o.extend(b,B);var p=b.prototype;p._initSubComponent=function(c){if(this._series){this._setupSeriesTypeTable();for(var k=0;k<this._seriesTypeLookup.length;k++){if(this._seriesTypeLookup[k]===this._constants.BAR){this._stackedSeries.push(this._series[k]);this._lineSeries.push(undefined);}else{this._stackedSeries.push(undefined);this._lineSeries.push(this._series[k]);}}var s={isVerticalRender:c.isVerticalRender,dataModel:c.dataModel,series:this._stackedSeries};this._stackedColumnNavigator=new a(s);var l={isDual:c.isDual,isVerticalRender:c.isVerticalRender,dataModel:c.dataModel,series:this._lineSeries};this._lineNavigator=new L(l);}};p.destroy=function(){b.superclass.destroy.apply(this,arguments);if(this._stackedColumnNavigator){this._stackedColumnNavigator.destroy();}if(this._lineNavigator){this._lineNavigator.destroy();}this._stackedColumnNavigator=null;this._lineNavigator=null;this._stackedSeries=null;this._lineSeries=null;this._lineSortedDPInCategory=null;this._barDPInCategory=null;};p.left=function(i){return this._DPRouter(i,this._constants.LEFT);};p.right=function(i){return this._DPRouter(i,this._constants.RIGHT);};p.up=function(i){return this._DPRouter(i,this._constants.UP);};p.down=function(i){return this._DPRouter(i,this._constants.DOWN);};p._DPRouter=function(i,d){var c=this.getDataPoint(i);var n=null;if(c){var e=this.getDataPoint(i).address();u.call(this,e[0]);var s=this._getSeriesType(c);if(s===this._constants.BAR){switch(d){case this._constants.UP:n=this._stackedColumnNavigator.up(i);if(this._isVerticalRender&&!n){n=this._getFirstDPByTypeInCategory(this._constants.LINE,e[0]);}break;case this._constants.DOWN:n=this._stackedColumnNavigator.down(i);break;case this._constants.LEFT:n=this._stackedColumnNavigator.left(i);break;case this._constants.RIGHT:n=this._stackedColumnNavigator.right(i);if(!this._isVerticalRender&&!n){n=this._getFirstDPByTypeInCategory(this._constants.LINE,e[0]);}break;}}else if(s===this._constants.LINE){switch(d){case this._constants.UP:n=this._lineNavigator.up(i);break;case this._constants.DOWN:n=this._lineNavigator.down(i);if(this._isVerticalRender&&!n){n=this._getFirstDPByTypeInCategory(this._constants.BAR,e[0]);}break;case this._constants.LEFT:n=this._lineNavigator.left(i);if(!this._isVerticalRender&&!n){n=this._getFirstDPByTypeInCategory(this._constants.BAR,e[0]);}break;case this._constants.RIGHT:n=this._lineNavigator.right(i);break;}}}return n;};p._getFirstDPByTypeInCategory=function(d,c){if(d===this._constants.BAR){return this._barDPInCategory[c][0];}else if(d===this._constants.LINE){return this._lineSortedDPInCategory[c][0];}};p._getLastDPByTypeInCategory=function(d,c){if(d===this._constants.BAR){var e=this._lineSortedDPInCategory[c].length;return this._barDPInCategory[c][e-1];}else if(d===this._constants.LINE){var l=this._lineSortedDPInCategory[c].length;return this._lineSortedDPInCategory[c][l-1];}};function u(c){if(!this._sortedDataPointsByDirection[c]){this.dataPointValueSortInCategory(c);}if(!this._lineSortedDPInCategory[c]){this._lineSortedDPInCategory[c]=[];for(var i=0;i<this._sortedDataPointsByDirection[c].length;i++){var d=this._sortedDataPointsByDirection[c][i];if(this._seriesTypeLookup[d.address()[1]]===this._constants.LINE){this._lineSortedDPInCategory[c].push(d);}}}if(!this._barDPInCategory[c]){this._barDPInCategory[c]=[];var e=this.getColumn(c);for(var j=0;j<e.length;j++){if(this._seriesTypeLookup[e[j].address()[1]]===this._constants.BAR){this._barDPInCategory[c].push(e[j]);}}}}p._getLineShortestDPInCategory=function(i,d){var c=this.getDataPoint(i);var s=null;var e=-1;var f=c.address();var g=f[0];var h=this._lineSortedDPInCategory[g].indexOf(c);if(h===-1){return this._lineSortedDPInCategory[g][0];}else{if(d===this._constants.UP||d===this._constants.RIGHT){e=h+1;}else if(d===this._constants.DOWN||d===this._constants.LEFT){e=h-1;}}if(e>-1&&e<this._lineSortedDPInCategory[g].length){s=this._lineSortedDPInCategory[g][e];}else{}return s;};return b;});define('sap/viz/chart/components/accessibility/ScatterDataPointNavigator',["sap/viz/framework/common/util/oo","sap/viz/chart/components/accessibility/BaseDataPointNavigator"],function(o,B){function S(){S.superclass.constructor.apply(this,arguments);this._vSortedDatapoint=[];this._hSortedDatapoint=[];}o.extend(S,B);var p=S.prototype;p.init=function(){if(this._series){for(var i=0;i<this._series.length;i++){for(var j=0;j<this._series[i].length;j++){this._vSortedDatapoint.push(this._series[i][j]);this._hSortedDatapoint.push(this._series[i][j]);}}if(this._renderType.match(/^timeseries/)){this._hSortedDatapoint.sort(function(a,b){return a.timeAxis[0].parsedValue-b.timeAxis[0].parsedValue;});this._vSortedDatapoint.sort(function(a,b){return a.valueAxis-b.valueAxis;});}else{this._hSortedDatapoint.sort(function(a,b){return a.valueAxis-b.valueAxis;});this._vSortedDatapoint.sort(function(a,b){return a.valueAxis2-b.valueAxis2;});}}};p.getFirstStartPoint=function(){if(this._series){for(var i=0;i<this._series.length;i++){for(var j=0;j<this._series[i].length;j++){if(this._isValidDataItem(this._series[i][j])){return this._series[i][j].dp;}}}}return null;};p.up=function(i){return this._move(i,1);};p.down=function(i){return this._move(i,-1);};p.left=function(i){return this._move(i,-1,true);};p.right=function(i){return this._move(i,1,true);};p.destroy=function(){S.superclass.destroy.apply(this,arguments);this._vSortedDatapoint=null;this._hSortedDatapoint=null;};p._isValidDataItem=function(i){return i&&i.valueAxis&&(i.valueAxis2||i.timeAxis);};p._move=function(i,s,a){var b=a?this._hSortedDatapoint:this._vSortedDatapoint;var d=this.getDataPoint(i);var c=this.locate(d.address());var n=b.indexOf(c)+s;var e=b[n];var l=b.length;while(n>=0&&n<l&&!e){n+=s;e=b[n];}return e?e.dp:null;};return S;});define('sap/viz/chart/components/accessibility/PieDataPointNavigator',["sap/viz/framework/common/util/oo","sap/viz/chart/components/accessibility/ColumnDataPointNavigator"],function(o,C){function P(){P.superclass.constructor.apply(this,arguments);this._isAllValueNegative=false;this._allDataPoints=[];this._setupDataPointsMap();}o.extend(P,C);var p=P.prototype;p._setupDataPointsMap=function(){if(this._series){var n=0;var a=this._series.length;for(var i=0;i<a;i++){if(this._series[i][0].size<0){n++;}}this._isAllValueNegative=(n===a);for(var j=0;j<a;j++){if(!this._isAllValueNegative&&this._series[j][0].size<0){continue;}else{this._allDataPoints.push(this._series[j][0].dp);}}}};p.getFirstStartPoint=function(){for(var i=0;i<this._series.length;i++){if(!this._isAllValueNegative&&this._series[i][0].size<0){continue;}else{return this._series[i][0].dp;}}};return P;});define('sap/viz/chart/components/accessibility/CategoryAxisNavigator',["sap/viz/framework/common/util/oo","sap/viz/chart/components/accessibility/ChartComponentNavigator","sap/viz/framework/common/util/ObjectUtils","sap/viz/framework/common/util/TypeUtils"],function(o,C,O,T){function a(c){a.superclass.constructor.apply(this,arguments);this._categoryLabels=[];if(T.isFunction(c.cells)){this._cells=c.cells;}else{this._cells=this.layers2cells(c.cells);}}o.extend(a,C);var p=a.prototype;var b=function(c){if(!c.visibleSpace){var v=0;if(c.children&&c.children.length){var i;for(i=0;i<c.children.length;i++){if(c.children[i].isVisible===undefined||c.children[i].isVisible===true){v+=b(c.children[i]);}}}if(v<=0){v=1;}c.visibleSpace=v;}return c.visibleSpace;};p.layers2cells=function(l){var c=[];for(var i=0;i<l.length;++i){c[i]=[];var s=0,d=0;for(var j=0;j<l[i].cells.length;++j){if(l[i].cells[j].isVisible){var e=l[i].cells[j];var v=b(e);c[i].push(e);e.spaceStart=s;e.spaceEnd=s+v-1;s+=v;e.index={row:i,col:d++};this._categoryLabels[e.id]={};this._categoryLabels[e.id].index=e.index;}}}return c;};p.init=function(){};p.destroy=function(){a.superclass.destroy.apply(this,arguments);this._cells=null;this._categoryLabels=null;};p.up=function(i){if(this.isSingleLayer()||!this._isVerticalRender){return this.getSiblingCell(i,-1);}else{return this.getFirstChildCell(i);}};p.down=function(i){if(this.isSingleLayer()||!this._isVerticalRender){return this.getSiblingCell(i,1);}else{return this.getParentCell(i);}};p.left=function(i){if(this.isSingleLayer()||this._isVerticalRender){return this.getSiblingCell(i,-1);}else{return this.getParentCell(i);}};p.right=function(i){if(this.isSingleLayer()||this._isVerticalRender){return this.getSiblingCell(i,1);}else{return this.getFirstChildCell(i);}};p.getCategoryLabelNode=function(i){return this._categoryLabels[i].cl;};p.getCells=function(){if(T.isFunction(this._cells)){return this.layers2cells(this._cells());}else{return this._cells;}};p.getCell=function(i){var c=this._categoryLabels[i].index;return this.getCells()[c.row][c.col]||null;};p.getSiblingCell=function(i,d){var c=this._categoryLabels[i].index;var s=this.getCells()[c.row][c.col+d];return s?s:null;};p.getFirstChildCell=function(c){var d=this._categoryLabels[c].index;var e=this.getCells()[d.row+1];if(!e){return null;}var f=this.getCells()[d.row][d.col];var i;for(i=0;i<e.length;++i){if(f.spaceStart==e[i].spaceStart){return e[i];}}};p.getParentCell=function(c){var d=this._categoryLabels[c].index;var e=this.getCells()[d.row-1];if(!e){return null;}var f=this.getCells()[d.row][d.col];var i;for(i=0;i<e.length;++i){if(f.spaceStart>=e[i].spaceStart&&f.spaceEnd<=e[i].spaceEnd){return e[i];}}};p.getFirstStartPoint=function(){var c=this.getCells();return c[c.length-1][0];};p.isSingleLayer=function(){return this.getCells().length==1?true:false;};p.updateCells=function(l){this._categoryLabels=[];this._cells=this.layers2cells(l);};p.findCell=function(d,e){if(!d){return null;}var f=this.getCells();for(var c,i=0,l=f.length;i<l;i++){for(var j=0,L=f[i].length;j<L;j++){c=this._cells[i][j];if(O.deepEqual(c.ctx,d)){return c;}}}return null;};return a;});define('sap/viz/chart/components/accessibility/ColorLegendNavigator',["sap/viz/framework/common/util/oo","sap/viz/chart/components/accessibility/ChartComponentNavigator"],function(o,C){function a(b){a.superclass.constructor.apply(this,arguments);this._legendLabels=this.buildLegendLabels(b.cells);this._cells=b.cells;this._horizontalSingle=this._cells.length==1?true:false;}o.extend(a,C);var p=a.prototype;p.buildLegendLabels=function(c){var l=[];this._verticalSingle=true;for(var i=0;i<c.length;++i){if(c[i].length>1){this._verticalSingle=false;}for(var j=0;j<c[i].length;++j){var b=c[i][j].id;var d={row:i,col:j};l[b]=d;}}return l;};p.destroy=function(){a.superclass.destroy.apply(this,arguments);this._cells=null;this._legendLabels=null;};p.up=function(i){if(this._horizontalSingle){return this.getSiblingCell(i,-1);}else{return this.getNextRowCell(i,-1);}};p.down=function(i){if(this._horizontalSingle){return this.getSiblingCell(i,1);}else{return this.getNextRowCell(i,1);}};p.left=function(i){if(this._verticalSingle){return this.getNextRowCell(i,-1);}else{return this.getSiblingCell(i,-1);}};p.right=function(i){if(this._verticalSingle){return this.getNextRowCell(i,1);}else{return this.getSiblingCell(i,1);}};p.getCell=function(i){var b=this._legendLabels[i];return this._cells[b.row][b.col]||null;};p.getSiblingCell=function(i,d){var b=this._legendLabels[i];var s=this._cells[b.row][b.col+d];return s?s:null;};p.getNextRowCell=function(i,d){var b=this._legendLabels[i];var n=this._cells[b.row+d];if(!n){return null;}return n[b.col]!=null?n[b.col]:n[n.length-1];};p.getFirstStartPoint=function(){return this._cells[0][0];};p.isLastCellID=function(i){if(this._cells){var l=this._cells.length;var b=this._cells[l-1].length;return i===this._cells[l-1][b-1].id;}else{return false;}};return a;});define('sap/viz/chart/components/accessibility/MBCLegendNavigator',["sap/viz/framework/common/util/oo","sap/viz/chart/components/accessibility/ColorLegendNavigator"],function(o,C){function M(a){M.superclass.constructor.apply(this,arguments);}o.extend(M,C);return M;});define('sap/viz/chart/components/accessibility/HeatMapDataPointNavigator',["sap/viz/framework/common/util/oo","sap/viz/chart/components/accessibility/BaseDataPointNavigator"],function(o,B){function H(){H.superclass.constructor.apply(this,arguments);this._datapointMap=[];}o.extend(H,B);var p=H.prototype;p.init=function(){if(this._series){var r=[];var i=0;for(i=0;i<this._series.length;i++){for(var j=0;j<this._series[i].length;j++){if(this._series[i][j]){r.push(this._series[i][j]);}}}if(r.length>0){r.sort(function(a,b){return(a.y-b.y);});var s=r[0];var e=null;var c=0;var d=0;var f=0;for(i=1;i<r.length+1;i++){e=r[i];if(e&&(Math.floor(s.y)===Math.floor(e.y))){f++;continue;}else{f++;this._datapointMap[c]=r.slice(d,f);c++;d=f;s=e;}}for(i=0;i<this._datapointMap.length;i++){this._datapointMap[i].sort(function(a,b){return(a.x-b.x);});}}}};p.getFirstStartPoint=function(){if(this._series){for(var i=0;i<this._series.length;i++){for(var j=0;j<this._series[i].length;j++){if(this._series[i][j]){return this._series[i][j].dp;}}}}return null;};p.up=function(i){return this._move(i,-1);};p.down=function(i){return this._move(i,1);};p.left=function(i){return this._move(i,-1,true);};p.right=function(i){return this._move(i,1,true);};p.destroy=function(){H.superclass.destroy.apply(this,arguments);this._datapointMap=null;};p._move=function(a,s,b){var d=this.getDataPoint(a);var c=this.locate(d.address());var x=-1,y=-1;for(var i=0;i<this._datapointMap.length;i++){x=this._datapointMap[i].indexOf(c);if(x>-1){y=i;break;}}if(b){x+=s;}else{y+=s;}return(this._datapointMap[y]&&this._datapointMap[y][x])?this._datapointMap[y][x].dp:null;};return H;});define('sap/viz/chart/components/accessibility/TimeAxisNavigator',["sap/viz/framework/common/util/oo","sap/viz/chart/components/accessibility/ChartComponentNavigator","sap/viz/framework/common/util/ObjectUtils"],function(o,C,O){function T(b){T.superclass.constructor.apply(this,arguments);this._timeLabels={};this._cells=this.label2cells(b.cells);}var a=3*24*3600000;o.extend(T,C);var p=T.prototype;p.label2cells=function(l){var c=[],b=[];for(var i=0;i<l.length;i++){var d=l[i].layers;for(var j=0;j<d.length;j++){var e=d[j];if(e.hasOwnProperty('rectX')&&e.text){if(!c[j]){c[j]=[];b[j]=0;}c[j].push(e);e.index={row:j,col:b[j]++};this._timeLabels[e.id]={};this._timeLabels[e.id].index=e.index;}}}return c;};p.init=function(){};p.destroy=function(){T.superclass.destroy.apply(this,arguments);this._cells=null;this._categoryLabels=null;};p.up=function(i,b){return this.getFirstChildCell(i,b);};p.down=function(i){return this.getParentCell(i);};p.left=function(i){return this.getSiblingCell(i,-1);};p.right=function(i){return this.getSiblingCell(i,1);};p.getCell=function(i){if(!this._timeLabels[i]){return null;}var b=this._timeLabels[i].index;return this._cells[b.row][b.col]||null;};p.getSiblingCell=function(i,d){var b;if(!this._timeLabels[i]){b={row:parseInt(i.split('-')[0]),col:0};return this._cells[b.row][b.col];}else{b=this._timeLabels[i].index;}var s=this._cells[b.row][b.col+d];return s?s:null;};p.getFirstChildCell=function(b,c){if(!this._timeLabels[b]){return null;}var d=this._timeLabels[b].index;var e=this._cells[d.row-1];if(!e){return null;}var g=function(f,e,i){if(e[i].rectX+c.x>=0){return e[i];}else{if(e[i+1]&&e[i+1].range.min<f.range.max){return e[i+1];}else{return e[i];}}};var f=this._cells[d.row][d.col],r;for(var i=0;i<e.length;++i){if(e[i].level==='week'){var t=e[i].range.min+a;if((f.range.min<=e[i].range.min&&t<=f.range.max)||(f.range.min<=t&&e[i].range.max<=f.range.max)){return g(f,e,i);}}else{if(e[i].range.min>=f.range.min&&e[i].range.max<=f.range.max){return g(f,e,i);}}}};p.getParentCell=function(b){if(!this._timeLabels[b]){return null;}var c=this._timeLabels[b].index;var d=this._cells[c.row+1];if(!d){return null;}var e=this._cells[c.row][c.col];for(var i=0;i<d.length;i++){if(e.level==='week'){var t=e.range.min+a;if((e.range.min>=d[i].range.min&&t<=d[i].range.max)||(t>=d[i].range.min&&e.range.max<=d[i].range.max)){return d[i];}}else{if(e.range.min>=d[i].range.min&&e.range.max<=d[i].range.max){return d[i];}}}};p.getFirstStartPoint=function(){var r=this._cells[0]?0:1;var l=(this._cells[r]&&this._cells[r].length)||0;for(var i=0;i<l;i++){if(this._cells[r][i]&&this._cells[r][i].text){return this._cells[r][i];}}return{id:null};};p.updateCells=function(l){this._timeLabels={};this._cells=this.label2cells(l);};p.findCell=function(b,d){if(!(b&&b.id)){return null;}var t=b.id.split('-');var i=t[0],v=t[1];if(!this._cells[i]){i++;}if(!this._cells[i]){return null;}for(var c,j=0,l=this._cells[i].length;j<l;j++){c=this._cells[i][j];if(b.id===c.id||(v>=c.range.min&&v<c.range.max)){return c;}}return null;};return T;});define('sap/viz/chart/components/accessibility/ChartComponentNavigatorFactory',["sap/viz/chart/components/util/ChartTypeUtils","sap/viz/chart/components/util/ChartConstants","sap/viz/chart/components/accessibility/ChartComponentNavigator","sap/viz/chart/components/accessibility/ColumnDataPointNavigator","sap/viz/chart/components/accessibility/StackedColumnDataPointNavigator","sap/viz/chart/components/accessibility/BulletDataPointNavigator","sap/viz/chart/components/accessibility/LineDataPointNavigator","sap/viz/chart/components/accessibility/CombinationDataPointNavigator","sap/viz/chart/components/accessibility/StackedCombinationDataPointNavigator","sap/viz/chart/components/accessibility/ScatterDataPointNavigator","sap/viz/chart/components/accessibility/PieDataPointNavigator","sap/viz/chart/components/accessibility/CategoryAxisNavigator","sap/viz/chart/components/accessibility/ColorLegendNavigator","sap/viz/chart/components/accessibility/MBCLegendNavigator","sap/viz/chart/components/accessibility/HeatMapDataPointNavigator","sap/viz/chart/components/accessibility/TimeAxisNavigator"],function(C,a,b,c,S,B,L,d,e,f,P,g,h,M,H,T){var i={};i.createNavigator=function(o,n){var r=o.renderType;var j=C.getChartTypeProperty(r);if(!j){return null;}o.renderType=j.type;if(j.isVerticalRender!==undefined){o.isVerticalRender=j.isVerticalRender;}o.chartConstants=a;o.isDual=r.indexOf("dual")>-1;o.isPercentage=r.indexOf("100")>-1;o.isTimeColumn=/timeseries_column/.test(r);var k=b;if(n==a.CATEGORYAXIS_NAVIGATOR){o.navigatorType=a.CATEGORYAXIS_NAVIGATOR;k=g;}else if(n==a.TIMEAXIS_NAVIGATOR){o.navigatorType=a.TIMEAXIS_NAVIGATOR;k=T;}else if(n==a.DATAPOINT_NAVIGATOR){o.navigatorType=a.DATAPOINT_NAVIGATOR;switch(j.type){case a.COLUMN:case a.WATERFALL:k=c;break;case a.LINE:k=L;break;case a.BULLET:k=B;break;case a.STACKED_COLUMN:k=S;break;case a.COLUMN_COMBINATION:k=d;break;case a.STACKED_COMBINATION:k=e;break;case a.PIE:k=P;break;case a.SCATTER:case a.TIMESCATTER:k=f;break;case a.HEATMAP:k=H;break;}}else if(n==a.COLORLEGEND_NAVIGATOR){o.navigatorType=a.COLORLEGEND_NAVIGATOR;k=h;}else if(n==a.MBCLEGEND_NAVIGATOR){o.navigatorType=a.MBCLEGEND_NAVIGATOR;k=M;}return new k(o);};return i;});define('sap/viz/chart/behavior/config/handler/KeyboardBehaviorHandler',["sap/viz/framework/common/util/UADetector",'sap/viz/framework/common/util/Constants',"sap/viz/chart/components/util/ScrollbarUtil","sap/viz/chart/components/util/ChartConstants","sap/viz/chart/components/accessibility/ChartComponentNavigatorFactory","sap/viz/chart/components/util/DataPointUtils","sap/viz/chart/behavior/config/SelectionUtil","sap/viz/framework/interaction/utils/PlotZoomUtils","sap/viz/framework/common/util/DataGraphics","sap/viz/framework/common/util/TypeUtils","sap/viz/framework/common/lang/LangManager","sap/viz/chart/components/plots/PlotGeometryKeeper",'sap/viz/framework/interaction/Constants',],function(U,C,S,a,b,D,c,P,d,T,L,e,f){var g="categoryAxisBound";var h="categoryAxis2Bound";var k="timeAxisBound";var l="legendBound";var m="plotBound";var n=0.05;var A=0.95;var o="tabOrder";var H="hours";var M="minutes";var p="senconds";var q=a.DATAPOINT_NAVIGATOR;var r=a.CATEGORYAXIS_NAVIGATOR;var s=a.CATEGORYAXIS2_NAVIGATOR;var t=a.TIMEAXIS_NAVIGATOR;var u=a.LEGEND_NAVIGATOR;var v=a.COLORLEGEND_NAVIGATOR;var w=a.MBCLEGEND_NAVIGATOR;var z='parsedValue';var B=function(i){return i.getModule("legendGroup.legend").getScrollbar();};var E=function(i){var x=i.getModule("main");if(!x){return null;}var j=i.isHorizontal();if(j===undefined){return null;}if(j){return x.getVScrollbar();}else{return x.getHScrollbar();}};var F=function(i,j,x,y){var d1=null;var e1=j.name;var f1=j.data.originalEvent.altKey;if(f1){switch(e1){case"uparrow":d1=i.upSeries(x);break;case"downarrow":d1=i.downSeries(x);break;case"leftarrow":d1=i.leftSeries(x);break;case"rightarrow":d1=i.rightSeries(x);break;}}else{switch(e1){case"uparrow":var g1=0;if(y){g1=J(y).getOffset();}d1=i.up(x,g1);break;case"downarrow":d1=i.down(x);break;case"leftarrow":d1=i.left(x);break;case"rightarrow":d1=i.right(x);break;}}return d1;};var G=function(i,j){var x=true;var y=i.getProperties().get("interaction.selectability");if(!y){x=false;}else{var d1=(y.mode||"").toUpperCase();var e1=(y.behavior||"").toUpperCase();if(d1===f.SELECTION_MODE.NONE){x=false;}else{switch(j){case 1:x=y.plotStdSelection;break;case 3:if(!y.legendSelection||(d1===f.SELECTION_MODE.SINGLE&&e1!==f.SELECTION_BEHAVIOR.SERIES)){x=false;}break;case 2:case 4:if(!y.axisLabelSelection||(d1===f.SELECTION_MODE.SINGLE&&e1!==f.SELECTION_BEHAVIOR.CATEGORY)){x=false;}break;}}}return x;};var I=function(i,j,x,y){var d1=i.getStatus("tabOrder");if(!G(i,d1)){return;}var e1=j.getAttribute("data-datapoint-id");var f1="";var g1;var h1;switch(d1){case 1:f1='Data Value '+f1;if(i&&e1){h1=D.getContextByDataModel(j,i.getDataModel());}if(h1){g1=Object.keys(h1);var i1={};var j1=[];var k1=[];var l1=[];var m1;g1.forEach(function(p1){if(/(\.d)$/.test(p1)){j1.push(p1);}else{k1.push(p1);}});if(j1.length>0){k1.forEach(function(p1){m1=j1.indexOf(p1+".d");if(m1>-1){j1.splice(m1,1);}});j1.forEach(function(p1){m1=j1.indexOf(p1+".d");if(m1>-1){j1.splice(m1,1);}});}l1=k1.concat(j1);if(l1.length!==g1.length){g1.forEach(function(p1){if(l1.indexOf(p1)>-1&&g1.indexOf(p1+".d")>-1){i1[p1]=h1[p1+".d"];}else if(l1.indexOf(p1)>-1){i1[p1]=h1[p1];}});h1=i1;g1=l1;}}d3.select(j).attr("role","listitem");break;case 2:case 4:f1=(x?'Time Axis Item ':'Category Axis Item ')+f1;f1+=d.getContext(j).text;d3.select(j).attr("role","option");break;case 3:if(y==='tab'){var n1=i.getProperties();if(n1.get('legend.title.visible')){f1="Legend title is "+i.getModule("legendGroup.legend").getLegendTitleText()+" ";}}f1=f1+'Legend Item ';g1=d.getContext(j).val;if(!T.isArray(g1)){if(g1==='N/A'){g1=L.get("IDS_ISNOVALUE");}f1+=g1;g1=null;}else{var o1=[];g1.forEach(function(p1){if(!T.isString(p1)&&T.isPlainObject(p1)){o1.push(p1.d);}});g1=o1.length>0?o1:g1;}d3.select(j).attr("role","option");break;}if(g1){g1.forEach(function(p1){if(d1!==3&&h1){var q1=h1[p1];if(!T.isExist(q1)){q1=L.get("IDS_ISNOVALUE");}if(p1!==C.BINDING.MEASURE_NAMES&&p1!==C.BINDING.CONTEXT_ID_NAME&&!(/(\.parsedValue)$/.test(p1))){var r1=i.getModule("main.timeAxis");if(p1.toLowerCase()===C.DATA_TYPE.DATE&&r1){var s1=false;var t1=r1.getFormatTimeValue(h1.Date);if(i.getProperties().get("interaction.behaviorType")==="noHoverBehavior"){var u1=new Date(q1);f1=t1.day+" "+u1.getHours()+" "+H+" "+u1.getMinutes()+" "+M+" "+u1.getSeconds()+" "+p+" ";}else{if(i.getProperties().get("tooltip")){s1=i.getProperties().get("tooltip").applyTimeAxisFormat;}if(s1){f1=(t1.time===null)?t1.day+" ":t1.time+" "+t1.day+" ";}else{var v1=new Date(q1);f1=t1.day+" "+v1.getHours()+" "+H+" "+v1.getMinutes()+" "+M+" "+v1.getSeconds()+" "+p+" ";}}}else{f1+=p1+" "+q1+" ";}}}else{if(!T.isExist(p1)){p1=L.get("IDS_ISNOVALUE");}f1+=p1+" ";}});}if(d1===1&&c.hasDataPoint(i.getStatus("selectedDataPoints"),e1)){f1=f1+' is selected.';}d3.select(j).attr('aria-label',f1).attr("focusable",true).style('outline','none');if(typeof j.focus==="function"){j.focus();}else{HTMLElement.prototype.focus.call(j);}};function J(i){return i.getModule('main.plot')||i.getModule('plot');}function K(i){return i.getModule('main')||i.getModule('plot');}function N(i,j,x,y,d1,e1){if(i.height!==j.height){x=x||{x:d1.x};x.y=null;if(e1){if(y.y+y.height+d1.y>j.height){x.y=-(y.y+y.height-j.height*A);}else if(y.y+y.height+d1.y<j.height*n){if(y.height>=j.height*(1-n)){x.y=-(y.y+y.height-j.height*A);}else{x.y=-(y.y-j.height*(1-A));}}}else{if(y.y+d1.y>j.height*(1-n)){if(y.height>=j.height*(1-n)){x.y=-(y.y-j.height*(1-A));}else{x.y=-(y.y+y.height-j.height*A);}}else if(y.y+d1.y<0){x.y=-(y.y-j.height*(1-A));}}}return x;}function O(i,j,x,y,d1,e1){if(i.width!==j.width){x=x||{y:d1.y};x.x=null;if(e1){if(y.x+d1.x<0){x.x=-(y.x-j.width*(1-A));}else if(y.x+d1.x>j.width*(1-n)){if(y.width>j.width*(1-n)){x.x=-(y.x-j.width*(1-A));}else{x.x=-(y.x+y.width-j.width*A);}}}else{if(y.x+y.width+d1.x<j.width*n){if(y.width>j.width*(1-n)){x.x=-(y.x+y.width-j.width*A);}else{x.x=-(y.x-j.width*(1-A));}}else if(y.x+y.width+d1.x>j.width){x.x=-(y.x+y.width-j.width*A);}}}return x;}function Q(i,j,x,y,d1){var e1=J(j);var f1=K(j);var g1=e1.getOffset();var h1=e1.getSize();var i1=e1.getRealSize();var j1=null;if(x.width===0||x.height===0){x.width=0;x.height=0;}if(y==null&&x.r!=null){if(x.x<-g1.x||x.x+x.r>-g1.x+h1.width||x.y<-g1.y||x.y+x.r>-g1.y+h1.height){if(i==="leftarrow"){j1={x:-x.x,y:null};}else if(i==="rightarrow"){j1={x:h1.width-x.x-x.width,y:null};}else if(i==="downarrow"){j1={x:null,y:h1.height-x.y-x.height};}else{j1={x:null,y:-x.y};}}if(d1.needAdjust){if(["rightarrow","leftarrow"].indexOf(i)!==-1){j1=N(i1,h1,j1,x,g1,true);}else{j1=O(i1,h1,j1,x,g1,true);}}}else if(y===true){if(x.y<-g1.y||x.y+x.height>h1.height-g1.y){if("downarrow"===i){var k1=x.y+x.height-h1.height;j1={x:null,y:-k1};}else{j1={x:null,y:-x.y};}}if(d1.needAdjust){j1=O(i1,h1,j1,x,g1,d1.isNegative);}}else{if(x.x<-g1.x||x.x+x.width>h1.width-g1.x){if("rightarrow"===i){var l1=x.x+x.width-h1.width;j1={x:-l1,y:null};}else{j1={x:-x.x,y:null};}}if(d1.needAdjust){j1=N(i1,h1,j1,x,g1,d1.isNegative);}}if(j1){f1.scroll(j1);if(this._isTimeseries){var m1=this[t];var n1=j.getModule("main.timeAxis.axisBody").getActiveLabels();m1.updateCells(n1);}return true;}return false;}var R=function(i,j,x){if(!x){return;}var y=j.getNodes(j.NodeType.LEGEND_BODY_BOUND_SELECTION,false)[0];if(!y){return;}var d1=y.getBoundingClientRect();if(!d1){return;}var e1=x.getBoundingClientRect();var f1=0;if(U.isIE()||U.isFirefox()){f1=2;}var g1;if(e1.right>d1.right+f1){g1=(e1.right-d1.right);}else if(e1.left<d1.left-f1){g1=(e1.left-d1.left);}else if(e1.top<d1.top-f1){g1=(e1.top-d1.top);}else if(e1.bottom>d1.bottom+f1){g1=(e1.bottom-d1.bottom);}if(g1!=null){var h1=j.getModule("legendGroup.legend");var i1=h1.getScrollbar();if(i1&&i1.isExist()){var j1=i1.getThumbRatio();g1/=j1?j1:1;h1.scroll(g1);}i.data.originalEvent.preventDefault();}};function V(i,j,d1,e1,f1){if(!e1){return;}if(d1==='hover'){I(j,e1,f1,i.name);}var g1=j.getStatus("tabOrder");var h1=e1.getBoundingClientRect();var i1=j.getBBox(j.BoxType.PLOT_BOUND_NODE);var j1,k1,l1,m1,n1;var x,y;if(g1===1){j1=Math.max(h1.left,i1.left);k1=Math.min(h1.right,i1.right);l1=Math.max(h1.top,i1.top);m1=null;n1=j._getRenderType();if(n1.indexOf("pie")>-1||n1.indexOf("donut")>-1||n1.indexOf("bubble")>-1||n1.indexOf("scatter")>-1||n1.indexOf("heatmap")>-1){m1=Math.min(h1.bottom,i1.bottom);}x=(j1+k1)/2;y=m1?(l1+m1)/2:l1;}else{x=(h1.left+h1.right)/2;y=(h1.top+h1.bottom)/2;}j.fireEvent(d1,{target:e1,ctrlKey:i.data.originalEvent.ctrlKey,point:{x:x,y:y}});}var W=function(i){i.attr("stroke","#5B9DD9").attr("stroke-width","1");};var X=function(i){i.attr("stroke",null).attr("stroke-width",null);};var Y=function(j){var i;var x,y,d1,e1;var f1,g1;if(j.length===0){return null;}var h1=j[0].getBoundingClientRect();x=h1.left;y=h1.right;d1=h1.top;e1=h1.bottom;for(i=1;i<j.length;++i){h1=j[i].getBoundingClientRect();x=(h1.left<x)?h1.left:x;y=(h1.right>y)?h1.right:y;d1=(h1.top<d1)?h1.top:d1;e1=(h1.bottom>e1)?h1.bottom:e1;}f1=(x+y)/2;g1=(d1+e1)/2;if(f1&&g1){return{x:f1,y:g1};}else{return null;}};var Z=function(i){var j=i.getStatus("keyArrowHoveredDataPoint");if(j){i.fireEvent("unhoverOnDataPoint",{targets:j});}i.fireEvent("cleanAxisHoverEffect");i.fireEvent("cleanLegendHoverEffect");i.setStatus("keyArrowHoveredDataPoint",null);i.setStatus("hoveredDataPointId",null);i.setStatus("keyArrowHoveredCategoryLabel",null);i.setStatus("keyArrowHoveredCategory2Label",null);i.setStatus("keyArrowHoveredTimeLabel",null);i.setStatus("hoveredCategoryLabelId",null);i.setStatus("hoveredCategory2LabelId",null);i.setStatus("hoveredTimeLabelId",null);i.setStatus("orgHoveredTimeLabelId",null);i.setStatus("keyArrowHoveredLegendLabel",null);i.setStatus("hoveredLegendLabelId",null);i._rootNode.selectAll('g[focusable="true"]').attr('focusable',false);};var $=function(i,j){_.call(this,i,j,undefined);};var _=function(j,x,y){var d1=x.getStatus("tabOrder");if(d1===-1){return;}j.data.originalEvent.preventDefault();var e1=null;var f1=null;var g1=null;var h1=null;var i1=null;var j1=null;var k1=x.isHorizontal();var l1;var m1={};switch(d1){case 1:e1=this[q];if(!e1){return;}f1=x.getStatus("keyArrowHoveredDataPoint");j1=x.getStatus("hoveredDataPointId");if(!f1){h1=e1.getFirstStartPoint();}else if(y){h1=e1.getDataPoint(j1);}else{h1=F(e1,j,j1,x);}if(!h1){return;}if(this.plotScrollable){var n1=h1.address();var o1=J(x);l1=o1.getDataPointPosition(n1[1],n1[0]);if(!l1){return;}m1.needAdjust=true;m1.isNegative=false;if(h1._data){m1.isNegative=h1._data[h1._data.measureNames]<0?true:false;}Q.call(this,j.name,x,l1,k1,m1);}g1=h1.id;i1=x.getNodes(x.NodeType.DATA_POINT_GROUP);f1=i1.selectAll("g.v-datapoint[data-datapoint-id='"+g1+"']").node();if(g1&&f1){x.setStatus("keyArrowHoveredDataPoint",f1);x.setStatus("hoveredDataPointId",g1);}x.fireEvent("saveZoom",{scroll:true});break;case 2:case 4:var p1=this._isTimeseries?x.getModule('main.timeAxis.axisBody'):(((d1==2)?x.getModule('main.categoryAxis.axisBody'):x.getModule('main.categoryAxis2.axisBody')));if(p1.isOnlyShowingFirstAndLastLabel&&p1.isOnlyShowingFirstAndLastLabel()){return;}e1=this._isTimeseries?this[t]:((d1==2)?this[r]:this[s]);f1=this._isTimeseries?x.getStatus("keyArrowHoveredTimeLabel"):((d1==2)?x.getStatus("keyArrowHoveredCategoryLabel"):x.getStatus("keyArrowHoveredCategory2Label"));j1=this._isTimeseries?x.getStatus("hoveredTimeLabelId"):((d1==2)?x.getStatus("hoveredCategoryLabelId"):x.getStatus("hoveredCategory2LabelId"));if(!f1){if(this._isTimeseries){e1.updateCells(x.getModule("main.timeAxis.axisBody").getActiveLabels());}g1=e1.getFirstStartPoint().id;}else if(y){h1=e1.getCell(j1);g1=h1&&h1.id||e1.getFirstStartPoint().id;}else{h1=F(e1,j,j1,x);g1=h1&&h1.id;}var q1=false;if(!g1&&j1&&this._isTimeseries&&["rightarrow","leftarrow"].indexOf(j.name)>-1){var r1=x.getModule("main.timeAxis.axisBody").getRange(),s1=j1.split('-')[1];if(("leftarrow"===j.name&&s1>r1[0])||("rightarrow"===j.name&&s1<r1[1])){g1=j1;q1=true;}}if(g1!=null){l1=p1.getCellPosition(g1);if(q1&&l1){if("rightarrow"===j.name){l1.x=l1.x+l1.width;}else if("leftarrow"===j.name){l1.x=l1.x-l1.width;}}m1.needAdjust=false;var t1;if(this._isTimeseries&&["rightarrow","leftarrow"].indexOf(j.name)===-1){t1=false;}else if(l1){t1=Q.call(this,j.name,x,l1,k1,m1);}if(this._isTimeseries){if(t1){h1=F(e1,j,j1,x);g1=h1&&h1.id;}if(!g1&&q1){g1=j1;}i1=x.getNodes(x.NodeType.TIME_LABEL_GROUP);f1=i1.node().querySelector("g.v-label-interaction .v-timeaxis-item[timelabel-id='"+g1+"']")||i1.node().querySelector("g.v-label-interaction .v-timeaxis-item-upperLevel[timelabel-id='"+g1+"']");}else{i1=(d1==2)?x.getNodes(x.NodeType.CATEGORY_LABEL_GROUP):x.getNodes(x.NodeType.CATEGORY2_LABEL_GROUP);f1=i1.node().querySelector("g.v-label[categorylabel-id='"+g1+"']");}if(f1){if(this._isTimeseries){x.setStatus("keyArrowHoveredTimeLabel",f1);x.setStatus("hoveredTimeLabelId",g1);x.setStatus("orgHoveredTimeLabelId",g1);}else{if(d1===2){x.setStatus("keyArrowHoveredCategoryLabel",f1);x.setStatus("hoveredCategoryLabelId",g1);}else{x.setStatus("keyArrowHoveredCategory2Label",f1);x.setStatus("hoveredCategory2LabelId",g1);}}}}break;case 3:var u1=x._getRenderType();if(u1.indexOf("bullet")>-1){x.fireEvent("cleanAxisHoverEffect");return;}e1=this[u];f1=x.getStatus("keyArrowHoveredLegendLabel");j1=x.getStatus("hoveredLegendLabelId");if(!f1){g1=e1.getFirstStartPoint().id;}else if(y){h1=e1.getCell(j1);g1=h1&&h1.id;}else{h1=F(e1,j,j1,x);g1=h1&&h1.id;}var v1=null;if(u1.indexOf("heatmap")>-1){v1=x.getNodes(x.NodeType.MBC_LEGEND_ITEM,false);}else{v1=x.getNodes(x.NodeType.LEGEND_ITEM,false);}function getLegendItemById(x1,id){if(id==null){return null;}for(var i=0;i<x1.length;++i){if(x1[i].getAttribute("legendlabel-id")===id.toString()){return x1[i];}}return null;};f1=getLegendItemById(v1,g1);if(g1!==null&&!f1){if(!e1.isLastCellID(g1)){var w1=x.getModule("legendGroup.legend");if(w1&&w1.loadMore){w1.loadMore();v1=x.getNodes(x.NodeType.LEGEND_ITEM,false);}f1=getLegendItemById(v1,g1);}}if(g1!=null&&f1){R(j,x,f1);x.setStatus("keyArrowHoveredLegendLabel",f1);x.setStatus("hoveredLegendLabelId",g1);}break;}V(j,x,"hover",f1,this._isTimeseries);};var a1=function(i,j){var x=j.getStatus("tabOrder");var y=null;switch(x){case 1:var d1=j.getStatus("hoveredDataPointId");var e1=j.getNodes(j.NodeType.DATA_POINT_GROUP);y=e1.node().querySelector("g.v-datapoint[data-datapoint-id='"+d1+"']");break;case 2:if(this._isTimeseries){var f1=j.getStatus("hoveredTimeLabelId");var g1=j.getNodes(j.NodeType.TIME_LABEL_GROUP);y=g1.node().querySelector("g.v-label-interaction .v-timeaxis-item[timelabel-id='"+f1+"']")||g1.node().querySelector("g.v-label-interaction .v-timeaxis-item-upperLevel[timelabel-id='"+f1+"']");}else{var h1=j.getStatus("hoveredCategoryLabelId");var i1=j.getNodes(j.NodeType.CATEGORY_LABEL_GROUP);y=i1.node().querySelector("g.v-label[categorylabel-id='"+h1+"']");}break;case 3:y=j.getStatus("keyArrowHoveredLegendLabel");break;case 4:y=j.getStatus("keyArrowHoveredCategory2Label");break;}if(y){V(i,j,"click",y);V(i,j,"down",y);setTimeout(function(){V(i,j,"up",y);},100);i.data.originalEvent.preventDefault();}};var b1=function(x,y){if(!y.getStatusManager().get("plot.zoom")){return;}if(x.data.originalEvent.altKey||x.data.originalEvent.ctrlKey){return;}var d1=y.getStatus("tabOrder");if(d1!=1&&d1!=2){return;}x.data.originalEvent.preventDefault();var e1=null;var f1,g1=[];if(x.name==="plus"){e1="in";}else if(x.name==="minus"){e1="out";}var h1,i1;var j1,k1,l1;switch(d1){case 1:h1=y.getStatus("hoveredDataPointId");i1=y.getNodes(y.NodeType.DATA_POINT_GROUP);f1=i1.node().querySelector("g.v-datapoint[data-datapoint-id='"+h1+"']");if(f1){g1=T.isArray(f1)?f1:[f1];}break;case 2:if(this._isTimeseries){j1=y.getStatus("hoveredTimeLabelId");l1=y.getNodes(y.NodeType.TIME_LABEL_GROUP);f1=l1.node().querySelector("g.v-label-interaction .v-timeaxis-item[timelabel-id='"+j1+"']")||l1.node().querySelector("g.v-label-interaction .v-timeaxis-item-upperLevel[timelabel-id='"+j1+"']");y.setStatus("keyArrowHoveredTimeLabel",f1);}else{j1=y.getStatus("hoveredCategoryLabelId");k1=y.getNodes(y.NodeType.CATEGORY_LABEL_GROUP);f1=k1.node().querySelector("g.v-label[categorylabel-id='"+j1+"']");y.setStatus("keyArrowHoveredCategoryLabel",f1);}if(f1){var m1;if(this._isTimeseries){m1=D.getContext(f1);var n1={},o1=y.getDataModel()._timeAxis.metaData[0].id;n1[o1+'.'+z]=m1.range;g1=c.getDataPointNodes(n1,y);}else{m1=D.getContext(f1).ctx;g1=c.getDataPointNodes(m1,y);}}break;}if(y._getRenderType().indexOf("bullet")>-1){var p1=false;var q1=false;var r1=[];for(var i=0;i<g1.length;++i){var s1=Array.prototype.slice.call(g1[i].querySelectorAll(".v-primary, .v-additional, .v-forecast"));r1=r1.concat(s1);if(!q1&&g1[i].querySelectorAll(".v-target").length>0){q1=true;}if(!p1){for(var j=0;j<s1.length;++j){var t1=s1[j].getBoundingClientRect();if(t1.width&&t1.height){p1=true;break;}}}}if(p1||!q1){g1=r1;}}var u1=Y(g1);if(!u1&&d1==2&&f1){var v1=f1.getBoundingClientRect();var w1,x1;if(y.isHorizontal()){w1=v1.right;x1=(v1.top+v1.bottom)/2;}else{w1=(v1.left+v1.right)/2;x1=v1.top;}u1={x:w1,y:x1};}var y1;if(d1===2){y1=this._isTimeseries?y.getModule("main.timeAxis.axisBody").getActiveLabels().length:y.getModule("main.categoryAxis.axisBody").getActiveLevels().length;}y.getModule("main").getZoomer().zoomInOut(e1,u1,14);if(d1===2){var z1=this._isTimeseries?l1.node():k1.node(),A1=this._isTimeseries?this[t]:this[r],B1=this._isTimeseries?y.getModule("main.timeAxis.axisBody").getActiveLabels():y.getModule("main.categoryAxis.axisBody").getActiveLevels(),C1=B1.length;var D1=j1,E1;if(y1!==C1&&!this._isTimeseries&&T.isExist(D1)){var F1=z1.querySelector("g.v-label[categorylabel-id='"+D1+"']"),G1=A1.getParentCell(D1);while(!F1&&G1){D1=G1.id;F1=z1.querySelector("g.v-label[categorylabel-id='"+D1+"']");G1=A1.getParentCell(D1);}E1=A1.getCell(D1).ctx;A1.updateCells(B1);j1=(A1.findCell(E1)||A1.getFirstStartPoint()).id;y.setStatus("hoveredCategoryLabelId",j1);}else if(this._isTimeseries){A1.updateCells(B1);var H1=y.getStatus("orgHoveredTimeLabelId");E1=H1?(A1.getCell(H1)||{id:H1}):(A1.getCell(D1)||{id:D1});j1=(A1.findCell(E1)||A1.getFirstStartPoint()).id;y.setStatus("hoveredTimeLabelId",j1);if(!H1){y.setStatus("orgHoveredTimeLabelId",j1);}}f1=this._isTimeseries?(z1.querySelector("g.v-label-interaction .v-timeaxis-item[timelabel-id='"+j1+"']")||z1.querySelector("g.v-label-interaction .v-timeaxis-item-upperLevel[timelabel-id='"+j1+"']")):z1.querySelector("g.v-label[categorylabel-id='"+j1+"']");if(this._isTimeseries){y.setStatus("keyArrowHoveredTimeLabel",f1);}}else if(d1===1){f1=i1.node().querySelector("g.v-datapoint[data-datapoint-id='"+h1+"']");}V(x,y,"hover",f1);return;};var c1=function(){};c1.prototype={initialized:function(i,j){j.setStatus("tabOrder",-1);this[m]=j.getNodes(j.NodeType.PLOT_BOUND_SELECTION);this[g]=j.getNodes(j.NodeType.CATEGORY_BOUND_SELECTION);this[h]=j.getNodes(j.NodeType.CATEGORY2_BOUND_SELECTION);this[k]=j.getNodes(j.NodeType.TIME_BOUND_SELECTION);this[l]=j.getNodes(j.NodeType.LEGEND_BOUND_SELECTION);var x=j._getRenderType();this._isTimeseries=x.indexOf('timeseries')>-1;var y={"renderType":x,"dataModel":j.getDataModel(),"propertyManager":j.getProperties()};var d1=b;var e1=!j.isBigDataMode()?d1.createNavigator(y,q):null;if(e1){e1.init();this[q]=e1;j.setStatus("keyArrowHoveredDataPoint",null);}y={"renderType":x,};if(j.getModule("main.categoryAxis")){var f1=j.getModule("main.categoryAxis.axisBody");if(j._propertyMgr.get("categoryAxis.label.overlapBehavior")!=="auto"){y.cells=f1.getActiveLevels.bind(f1);}else{y.cells=f1.getActiveLevels();}if(y.cells){y.isVerticalRender=true;e1=d1.createNavigator(y,r);}if(e1){e1.init();this[r]=e1;j.setStatus("keyArrowHoveredCategoryLabel",null);}}if(j.getModule("main.categoryAxis2")){y.cells=j.getModule("main.categoryAxis2.axisBody").getActiveLevels();if(y.cells){y.isVerticalRender=false;e1=d1.createNavigator(y,r);}if(e1){e1.init();this[s]=e1;j.setStatus("keyArrowHoveredCategory2Label",null);}}if(j.getModule("main.timeAxis")){y.cells=j.getModule("main.timeAxis.axisBody").getActiveLabels();if(y.cells){y.isVerticalRender=false;e1=d1.createNavigator(y,t);}if(e1){e1.init();this[t]=e1;j.setStatus("keyArrowHoveredTimeLabel",null);}}var g1=j.getModule("legendGroup.legend");if(g1&&g1.isVisible()){var h1=g1.getType();if(h1.search(/(ColorLegend|MBCLegend)/)!=-1){var i1=g1.getActiveLevels();if(i1){y={"renderType":j._getRenderType(),"cells":i1};var j1;switch(h1){case"ColorLegend":j1=v;break;case"MBCLegend":j1=w;break;}e1=d1.createNavigator(y,j1);}if(e1){e1.init();this[u]=e1;j.setStatus("keyArrowHoveredLegendLabel",null);}}}var k1=E(j);if(k1&&k1.isExist()){this.plotScrollable=true;}j.fireEvent(i,true);},unloaded:function(i,j){j.fireEvent(i,true);if(this[q]){this[q].destroy();this[q]=null;}if(this[r]){this[r].destroy();this[r]=null;}if(this[s]){this[s].destroy();this[s]=null;}if(this[t]){this[t].destroy();this[t]=null;}if(this[u]){this[u].destroy();this[u]=null;}this[m]=null;this[g]=null;this[h]=null;this[k]=null;this[l]=null;j.removeStatus("keyArrowHoveredDataPoint");j.removeStatus("keyArrowHoveredCategoryLabel");j.removeStatus("keyArrowHoveredCategory2Label");j.removeStatus("keyArrowHoveredTimeLabel");j.removeStatus("keyArrowHoveredLegendLabel");j.removeStatus("tabOrder");j.removeStatus("hoveredTimeLabelId");j.removeStatus("orgHoveredTimeLabelId");},uparrowHandler:function(i,j){$.call(this,i,j);},downarrowHandler:function(i,j){$.call(this,i,j);},leftarrowHandler:function(i,j){$.call(this,i,j);},rightarrowHandler:function(i,j){$.call(this,i,j);},tabKeyHandler:function(i,j){var x;var y=j.getStatus("tabOrder");var d1=false;var e1=i.data.originalEvent.shiftKey;var f1=j.getModule("main.categoryAxis");var g1=j.getModule("main.categoryAxis2");var h1=j.getModule("main.timeAxis");var i1=j.getModule("legendGroup.legend");var j1=null;if(y===-1){if(!e1){i.data.originalEvent.preventDefault();y=1;x=this[m];W(x);}else{y=-1;d1=true;}j.setStatus("tabOrder",y);}else{switch(y){case 1:X(this[m]);if(!e1){if(f1&&f1.isVisible()){x=this[g];y++;}else if(h1&&h1.isVisible()){x=this[k];y++;}else if(i1&&i1.isVisible()){x=this[l];y+=2;}else{y=-1;d1=true;}}else{y=-1;d1=true;}break;case 2:X(this[g][0].length>0?this[g]:this[k]);if(!e1){if(i1&&i1.isVisible()){x=this[l];y++;}else{y=-1;d1=true;}}else{x=this[m];y--;}break;case 3:X(this[l]);if(!e1){if(g1&&g1.isVisible()){x=this[h];y++;}else{y=-1;d1=true;}}else{if(f1&&f1.isVisible()){x=this[g];y--;}else if(h1&&h1.isVisible()){x=this[k];y--;}else{x=this[m];y=1;}}break;case 4:X(this[h]);if(!e1){y=-1;d1=true;}else if(i1&&i1.isVisible()){x=this[l];y=3;}else if(f1&&f1.isVisible()){x=this[g];y=2;}else{x=this[m];y=1;}break;}j.fireEvent("hideDetail",{mode:"infoMode",action:"interrupt"});j.setStatus("tabOrder",y);if(d1){Z(j);return;}else{i.data.originalEvent.preventDefault();W(x);}}switch(y){case 1:j1=j.getStatus("keyArrowHoveredDataPoint");break;case 2:j1=this._isTimeseries?j.getStatus("keyArrowHoveredTimeLabel"):j.getStatus("keyArrowHoveredCategoryLabel");break;case 3:j1=j.getStatus("keyArrowHoveredLegendLabel");break;case 4:j1=this._isTimeseries?j.getStatus("keyArrowHoveredTimeLabel"):j.getStatus("keyArrowHoveredCategory2Label");break;}_.call(this,i,j,!!j1);},spaceKeyHandler:function(i,j){a1.call(this,i,j);},enterKeyHandler:function(i,j){a1.call(this,i,j);},plusKeyHandler:function(i,j){b1.call(this,i,j);},minusKeyHandler:function(i,j){b1.call(this,i,j);},clearHighlightBorder:function(i,j){if(j.getStatus("tabOrder")===-1){X(this[m]);X(this[g]);X(this[k]);X(this[h]);X(this[l]);}},highlightBorder:function(i,j){var x=j.getStatus("tabOrder");var y=null;switch(x){case 1:y=this[m];break;case 2:y=this[g].length>0?this[g]:this[k];break;case 3:y=this[l];break;case 4:y=this[h];break;}if(y){W(y);}}};return c1;});define('sap/viz/chart/behavior/config/KeyboardBehaviorConfig',["sap/viz/chart/behavior/config/handler/KeyboardBehaviorHandler"],function(K){var s=["info/bar","info/dual_bar","info/stacked_bar","info/dual_stacked_bar","info/100_stacked_bar","info/100_dual_stacked_bar","info/column","info/dual_column","info/stacked_column","info/dual_stacked_column","info/100_stacked_column","info/100_dual_stacked_column","info/line","info/horizontal_line","info/combination","info/horizontal_combination","info/stacked_combination","info/horizontal_stacked_combination","info/dual_stacked_combination","info/dual_horizontal_stacked_combination","info/bullet","info/vertical_bullet","info/pie","info/donut","info/scatter","info/bubble","info/time_bubble","info/timeseries_scatter","info/timeseries_bubble","info/dual_line","info/dual_horizontal_line","info/timeseries_line","info/timeseries_column","info/timeseries_bullet","info/timeseries_stacked_column","info/timeseries_100_stacked_column","info/timeseries_combination","info/dual_timeseries_combination","info/dual_combination","info/dual_horizontal_combination","info/heatmap","info/waterfall","info/horizontal_waterfall","info/timeseries_waterfall"];return[{"id":"keyboardBehaviorDefinition","handler":K,"handlerType":"class","triggerEvent":[{"name":"afterChartRendered","supportedChartTypes":s,"method":"initialized"},{"name":"beforeBehaviorUnloaded","supportedChartTypes":s,"method":"unloaded"},{"name":"uparrow","targets":"*","supportedChartTypes":s,"method":"uparrowHandler"},{"name":"downarrow","targets":"*","supportedChartTypes":s,"method":"downarrowHandler"},{"name":"leftarrow","targets":"*","supportedChartTypes":s,"method":"leftarrowHandler"},{"name":"rightarrow","targets":"*","supportedChartTypes":s,"method":"rightarrowHandler"},{"name":"tab","targets":"*","supportedChartTypes":s,"method":"tabKeyHandler"},{"name":"space","targets":"*","supportedChartTypes":s,"method":"spaceKeyHandler"},{"name":"enter","targets":"*","supportedChartTypes":s,"method":"enterKeyHandler"},{"name":"blur","targets":"*","supportedChartTypes":s,"method":"clearHighlightBorder"},{"name":"focus","targets":"*","supportedChartTypes":s,"method":"highlightBorder"},{"name":"plus","targets":"*","supportedChartTypes":s,"method":"plusKeyHandler"},{"name":"minus","targets":"*","supportedChartTypes":s,"method":"minusKeyHandler"}]}];});define('sap/viz/chart/behavior/DefaultBehavior',["sap/viz/framework/interaction/Constants","sap/viz/framework/interaction/BehaviorFactory","sap/viz/framework/interaction/BehaviorManager",'sap/viz/chart/behavior/BuiltInBehavior',"sap/viz/chart/behavior/config/AxisBehaviorConfig","sap/viz/chart/behavior/config/ContextualDataConfig","sap/viz/chart/behavior/config/AxisBehaviorConfigForTreeMap","sap/viz/chart/behavior/config/AxisBehaviorConfigForRadar","sap/viz/chart/behavior/config/LegendBehaviorConfig","sap/viz/chart/behavior/config/MBCLegendBehaviorConfig","sap/viz/chart/behavior/config/LassoBehaviorConfig","sap/viz/chart/behavior/config/ComboExBehaviorConfig","sap/viz/chart/behavior/config/AreaBehaviorConfig","sap/viz/chart/behavior/config/DataPointBehaviorConfig","sap/viz/chart/behavior/config/DataPointBehaviorConfigForRadar","sap/viz/chart/behavior/config/DataPointBehaviorConfigForArea","sap/viz/chart/behavior/config/DataPointBehaviorConfigForBar","sap/viz/chart/behavior/config/DataPointBehaviorConfigForBullet","sap/viz/chart/behavior/config/DataPointBehaviorConfigForPie","sap/viz/chart/behavior/config/DataPointBehaviorConfigForLine","sap/viz/chart/behavior/config/DataPointBehaviorConfigForScatter","sap/viz/chart/behavior/config/DataPointBehaviorConfigForTreeMap","sap/viz/chart/behavior/config/DataPointBehaviorConfigForTagCloud","sap/viz/chart/behavior/config/ComboExBehaviorConfig","sap/viz/chart/behavior/config/RuntimeSelectionHelperConfig","sap/viz/chart/behavior/config/SelectionAPIConfig","sap/viz/chart/behavior/config/PinchBehaviorConfig","sap/viz/chart/behavior/config/TooltipBehaviorConfig","sap/viz/chart/behavior/config/ZoomBehaviorConfig","sap/viz/chart/behavior/config/KeyboardBehaviorConfig"],function(C,B,a){var b=a.get(C.BEHAVIOR.BUILTIN_BEHAVIOR_ID).clone();return a.register(C.BEHAVIOR.DEFAULT_BEHAVIOR_ID,B.buildBehavior([].slice.call(arguments,4),b));});define('sap/viz/chart/behavior/SFinBehavior',["sap/viz/framework/common/util/oo","sap/viz/framework/common/util/Constants",'sap/viz/framework/interaction/Constants',"sap/viz/chart/components/util/DataPointUtils","sap/viz/framework/common/util/DataGraphics","sap/viz/chart/components/util/BoundingBoxUtils","sap/viz/framework/interaction/BehaviorManager","sap/viz/chart/behavior/DefaultBehavior","sap/viz/chart/behavior/config/handler/RuntimeSelectionHelperHandler","sap/viz/chart/behavior/config/handler/TooltipBehaviorHandler","sap/viz/chart/behavior/config/SelectionUtil","sap/viz/chart/behavior/config/handler/DataPointBehaviorHandler","sap/viz/chart/behavior/config/SelectionTreeUtil","sap/viz/chart/behavior/config/handler/AxisBehaviorHandler","sap/viz/chart/behavior/config/handler/LegendBehaviorHandler","sap/viz/chart/behavior/config/handler/LassoBehaviorHandler","sap/viz/chart/behavior/config/handler/MBCLegendBehaviorHandler","sap/viz/framework/common/util/ArrayUtils",'sap/viz/framework/common/util/TypeUtils','sap/viz/framework/common/util/ObjectUtils',"sap/viz/chart/behavior/config/tooltip/TooltipUtils","sap/viz/chart/behavior/config/handler/TooltipTimerHandler",'sap/viz/framework/common/util/DOM'],function(o,C,S,D,c,B,e,R,f,T,g,h,j,A,L,l,M,m,n,O,p,q,r){var P="pop";function s(a){var b=a.getBoundingClientRect();return{x:b.left,y:b.top,height:b.height,width:b.width,right:b.right,bottom:b.bottom};}function t(d,k){var b1=k.getNodes(k.NodeType.PLOT_BOUND_SELECTION).node();if(!b1){return null;}var c1=k.getNodes(k.NodeType.DATA_POINT,false),d1=D.findByDataPointIds(c1,d);var e1=d.reduce(function(a,b,i){a[b]=i;return a;},{});d1.sort(function(a,b){return e1[D.getDataPointId(a)]-e1[D.getDataPointId(b)];});for(var i=0,f1=d1.length;i<f1;i++){if(u(d1[i],b1)){return d1[i];}}return null;}function u(a,b){var d=b?s(b):null;return a&&d&&B.intersects(d,s(a));}function v(a,b,d){var k,b1;var c1=j.bindingConfig;for(var d1 in b){if(b.hasOwnProperty(d1)&&b[d1]){var e1=c1[d1].selectionTree;k=j.getSelectionTree(a,d,e1);b1=a.getStatus(c1[d1].metaInfo);var f1=b[d1];if(f1.or||f1 instanceof Array){var g1=f1.or||f1;for(var i=0;i<g1.length;++i){j.applyDimensionalSelection(a,e1,k,g1[i],d.isDeselect,b1);}}else{j.applyDimensionalSelection(a,e1,k,f1,d.isDeselect,b1);}}}}var F=e.get("default").clone();var w=function(){};o.extend(w,f);w.prototype.processMultipleSelectionTooltip=function(a,b){if(b.getStatus("selectedDataPoints").length){b.fireEvent("showDetail");}else{b.fireEvent("hideDetail");}};w.prototype.deselectAll=function(a,b){w.superclass.deselectAll.apply(this,arguments);b.setStatus("categorySelectionTree",{});b.setStatus("category2SelectionTree",{});b.setStatus("seriesSelectionTree",{});};w.prototype.processSelection=function(a,b){var d=w.superclass.processSelection.apply(this,arguments);var i=b.getProperties().get("interaction.selectability.behavior");i=i?i.toUpperCase():i;if(a.data.ctx&&i!==S.SELECTION_BEHAVIOR.DATAPOINT){d.mode=a.data.mode;v(b,a.data.ctx,d);}};w.prototype.refreshedKeepSelection=function(a,b){var d=w.superclass.refreshedKeepSelection.apply(this,arguments);var i=b.getProperties().get("interaction.selectability.behavior");i=i?i.toUpperCase():i;if(d&&i!==S.SELECTION_BEHAVIOR.DATAPOINT){j.initSelectionTree(b);}};var E=["id","name","type","value"];w.prototype._buildEventData=function(a,b){var k=f.prototype._buildEventData.call(this,a,b);function b1(d){var i=Object.keys(d).reduce(function(f1,i1){if(E.indexOf(i1)!==-1){f1[i1]=d[i1];}return f1;},{});return i;}var c1=b.getProperties();var d1=b.getProperties().get("tooltip.applyTimeAxisFormat");var e1=b.getProperties().get("tooltip.formatString");var id;var g1=b.getModule("main.timeAxis");if(g1){var h1=b.getDataModel();if(h1&&h1._timeAxis){id=h1._timeAxis.metaData[0].id;d1=d1&&!(n.isExist(e1)&&n.isExist(e1[id]));}}if(c1.get("interaction.extraEventInfo")){k.forEach(function(d,i){b.fireEvent("extractTooltipData",{target:d.target||{context:d.data}});var f1=b.getStatus("tooltipData");T.processDateFormat.call(null,f1,d1,g1);d.tooltipText=p.format({data:f1},c1).data.map(b1);}.bind(this));}return k;};F.getActionById("runtimeSelectionHelperDefinition").setHandler(w);var x=function(){};o.extend(x,h);function y(a,b,d){if(!j.isSelectable(b,"DATAPOINT")){return;}var k=b.getProperties().get("interaction.selectability");var b1=k.mode?k.mode.toUpperCase():k.mode;if(!k.plotStdSelection||b1===S.SELECTION_MODE.NONE){return;}var c1=a.data;var dp=[],e1,i,f1,id,h1;switch(k.behavior){case S.SELECTION_BEHAVIOR.SERIES:f1=c.getContext(d);if(!f1){id=+d.getAttribute("data-datapoint-id");f1=b.getDataModel().getDataPoint(id).context();}f1=j.applyFilterDimension(f1,b,k.behavior);dp=g.getTargets([{data:f1.series}],b);break;case S.SELECTION_BEHAVIOR.CATEGORY:f1=c.getContext(d);f1=j.applyFilterDimension(f1,b,k.behavior);dp=g.getTargets([{data:f1.categoryAxis}],b);if(f1.categoryAxis2){var i1=g.getTargets([{data:f1.categoryAxis2}],b);dp=dp.concat(i1);dp=m.unique(dp);}break;default:dp=this._getDataPoint(d);}if(k.behavior!==S.SELECTION_BEHAVIOR.DATAPOINT){id=id||+d.getAttribute("data-datapoint-id");h1=dp.indexOf(id);dp=dp.slice(0,h1).concat(dp.slice(h1+1));dp=[id].concat(dp);}var j1=this._hasDataPoint(b.getStatus("selectedDataPoints"),id||dp);b.fireEvent("processSelection",{ctx:f1,targets:dp,deselectable:true,ctrlKeyPressed:c1.ctrlKey});var k1=b.getStatus("selectedDataPoints");if(this._hasDataPoint(b.getStatus("selectedDataPoints"),id||dp)){b.fireEvent("showDetail",{target:d});}else{if(j1){d=t(k1,b);if(d){b.fireEvent("showDetail",{target:d});}}else{b.fireEvent("hideDetail");}b.setStatus("isHoveringDeselectedDataPoint",j1);}b.fireEvent("hideDetail",{target:d,action:"select",type:"instantTooltip"});}function z(a,b,d){var i=a.data.point;var k=b.getStatus("hoveringDataPoint");var dp=this._getDataPoint(d);var b1=this._hasDataPoint(b.getStatus("selectedDataPoints"),dp);if(k){if(k===d){if(!b.getStatus("isHoveringDeselectedDataPoint")){b.fireEvent("showDetail",{target:d,point:i,action:"hover",originalEvent:a.data.originalEvent,type:"instantTooltip"});}return;}b.fireEvent("unhoverOnDataPoint",{targets:k});}if(k!==d){b.setStatus("isHoveringDeselectedDataPoint",false);}k=d;b.fireEvent("hoverOnDataPoint",{targets:k}).setStatus("hoveringDataPoint",k).fireEvent("showDetail",{target:d,point:i,action:"hover",originalEvent:a.data.originalEvent,type:"instantTooltip"});}x.prototype.clickOnDataPoint=function(a,b){y.call(this,a,b,a.data.currentTarget);};x.prototype.clickOnDataLabel=function(a,b){y.call(this,a,b,D.getDataPointByDataLabel(a.data.currentTarget,b));};x.prototype.hoverOnDataPoint=function(a,b){z.call(this,a,b,a.data.currentTarget);};x.prototype.hoverOnDataLabel=function(a,b){z.call(this,a,b,D.getDataPointByDataLabel(a.data.currentTarget,b));};x.prototype.hoverOnNonDataPoint=function(a,b){b.setStatus("isHoveringDeselectedDataPoint",false);var d=b.getStatus("hoveringDataPoint");if(d){b.fireEvent("unhoverOnDataPoint",{targets:d}).setStatus("hoveringDataPoint",null);}b.fireEvent("hideDetail",{mode:"infoMode",target:"nonDataPoint",action:"interrupt",type:"instantTooltip"});};var G=F.getActionById("dataPointBehaviorDefinition");G.setHandler(x);var H=function(){};o.extend(H,T);function I(a,b,d){b.x=-a.x;b.y=-a.y;return B.intersects(b,d);}function J(a,b){var d=b._getActionLayer();d.clear(P);var i=d.createLayer(P);var k=b.getOffsetMatrix(b.OffsetType.PLOT_NODE,true);var b1=b.getModule("main.plot");var c1=b1.getOffset();c1.x+=k.e;c1.y+=k.f;i.addRect({x:a.x+c1.x,y:a.y+c1.y,width:a.width,height:a.height,pointerEvent:"none",fill:"transparent",opacity:0});return d.drawLayer(i);}function K(a,b){var d,b1,c1,i,d1,e1=b.getSemanticManager();var f1=a.data.target;if(f1){b.fireEvent("extractTooltipData",{target:a.data.target});d=b.getStatus("tooltipData");c1=e1.analyzeDataPoint('color,lineColor,lineType,pattern',D.getContext(a.data.target),true);if(c1&&c1.dataName){for(var k=0;k<d.length;k++){var g1=c1.dataName[d[k].id];d[k].dataName=n.isNonEmptyString(g1)?g1:d[k].name;}}}var h1=b.getStatus("selectedDataPoints");var i1={data:{val:d},selectedValues:h1.length};if(a.data.type==="instantTooltip"){i1.point=a.data.point;}if(b.isBigDataMode()){var j1=b.getModule("main.plot");var k1=j1.getSize();var l1=j1.getOffset();var m1;if(f1){m1=j1.mappingDataPointInfo(f1);if(m1&&m1.position&&I(l1,k1,m1.position)){b1=m1.graphic;i1.target=J(m1.position,b);}}else{for(i=0,d1=h1.length;i<d1;i++){m1=j1.mappingDataPointInfo(h1[i]);if(m1&&m1.position&&I(l1,k1,m1.position)){b1=m1.graphic;i1.target=J(m1.position,b);break;}}}}else{if(f1){var n1=b.getNodes(b.NodeType.PLOT_BOUND_SELECTION).node();i1.target=u(f1,n1)?f1:null;b1=c.getData(f1);}else{i1.target=t(h1,b);if(i1.target){b1=c.getData(i1.target);}}}if(b1){if(b1.patternFill){i1.data.pattern=b1.patternFill;}else if(b1.pattern){i1.data.pattern=b1.pattern;}if(b1.color){i1.data.color=b1.color;}if(b1.fill){i1.data.color=b1.fill;}if(b1.shape){i1.data.shape=b1.shape;}if(b1.type){i1.data.type=b1.type;}if(b1.type==='line'){N(b,i1,b1,c1);}}return i1;}function N(a,b,d,i){var k=a.getSemanticManager();var b1=d.seriesIndex;var c1=a.getModule("main.plot");var d1=c1.getSeriesStyle(b1);b.data.lineInfo={};if(i){var e1=k.getOthersStyle('color,lineType,lineColor');if(i.properties&&i.properties.lineColor){b.data.lineInfo.lineColor=i.properties.lineColor;}else{if(!k.isOverrideMode()){b.data.lineInfo.lineColor=d.color;}else{b.data.lineInfo.lineColor=e1.properties.lineColor||e1.properties.color;if(!b.data.lineInfo.lineColor){b.data.lineInfo.lineColor=d1&&d1.color||"#000000";}}}b.data.lineInfo.lineType=d1&&d1.lineType;if(i.properties&&i.properties.lineType){b.data.lineInfo.lineType=i.properties.lineType;}else if(e1.lineType){b.data.lineInfo.lineType=e1.lineType;}}else{if(d1){b.data.lineInfo.lineColor=d1.color;b.data.lineInfo.lineType=d1.lineType;}}var f1=a.getProperties();if(f1.get("plotArea.dataPoint.stroke.visible")){b.data.stroke={};b.data.stroke.visible=true;b.data.stroke.color=f1.get("plotArea.dataPoint.stroke.color");}}var Q=function(){Q.superclass.constructor.apply(this,arguments);};o.extend(Q,q);H.prototype._createTooltipTimerHandler=function(a,b){this._tooltipTimerHandler=new Q();};Q.prototype._selectedHandler=function(){if(this._showTimeOut){clearTimeout(this._showTimeOut);this._showTimeOut=null;}if(this._hideTimeOut){clearTimeout(this._hideTimeOut);this._hideTimeOut=null;}this._hideHandler();};H.prototype._getShowTooltipHandler=function(a,b){function d(){var i=K(a,b);var k=b._getRenderType();if(k.indexOf('timeseries')>-1){var b1=this._handleShowDetail(a,b),c1;if(b1&&b1.tooltipData&&b1.tooltipData.data){c1=b1.tooltipData.data;}i=O.extend(true,i,{'timeTooltipData':c1});}var d1="showTooltip";if(a.data.type==="instantTooltip"){d1="showInstantTooltip";}b.fireExternalEvent(d1,{name:C.Event.TooltipShow.name,data:i});}return d.bind(this);};H.prototype._getHideTooltipHandler=function(a,b){function d(){var i="hideTooltip";if(a.data.type==="instantTooltip"){i="hideInstantTooltip";}b.fireExternalEvent(i,{name:C.Event.TooltipHide.name});}return d.bind(this);};H.prototype._processDecoration=function(a,b){var d=a._formatTooltipData(b);};H.prototype.refreshedTooltip=function(a,b){this.hideDetail.apply(this,arguments);this._tooltipTimerHandler.reset();};H.prototype.showTooltipHoverOnPlot=function(a,b){a.data.type="instantTooltip";b.fireEvent("showDetail",a.data);};H.prototype.hideTooltipHoverOnPlot=function(a,b){a.data.type="instantTooltip";b.fireEvent("hideDetail",a.data);};H.prototype.showTooltipClickBigData=function(a,b){b.fireEvent("showDetail",a.data);b.fireEvent("hideDetail",{target:a.data.target,action:"select",type:"instantTooltip"});};H.prototype.hideTooltipClickBigData=function(a,b){b.fireEvent("hideDetail",a.data);b.fireEvent("hideDetail",{target:a.data.target,action:"deselect",type:"instantTooltip"});};var U=F.getActionById("tooltipBehaviorDefinition");U.setHandler(H);var V=function(){};o.extend(V,A);V.prototype.clickOnAxisLabel=function(a,b){if(j.isSelectable(b,"CATEGORY")){V.superclass.clickOnAxisLabel.apply(this,arguments);}};V.prototype.filterCtx=function(a,b){var d={};if(b&&b.name==="categoryAxis2"){d["categoryAxis2"]=a;}else{d["categoryAxis"]=a;}return d;};var W=F.getActionById("axisBehaviorDefinition");W.setHandler(V);var X=function(){};o.extend(X,L);X.prototype.click=function(a,b){var d=b.getProperties().get("interaction.selectability.behavior");d=d?d.toUpperCase():d;var i=D.getContext(a.data.currentTarget).isSemantic;if(d===S.SELECTION_BEHAVIOR.SERIES&&i){return;}if(j.isSelectable(b,"SERIES")){X.superclass.click.apply(this,arguments);}};var Y=F.getActionById("legendBehaviorDefinition");Y.setHandler(X);var Z=function(){};o.extend(Z,l);Z.prototype.lassoStart=function(a,b){var d=b.getProperties().get("interaction.selectability.behavior");if(d===S.SELECTION_BEHAVIOR.DATAPOINT){Z.superclass.lassoStart.apply(this,arguments);}};Z.prototype._fireShowDetail=function(a,d,b){a.fireEvent("showDetail",{target:d,mode:"actionMode",point:b,bLassoEnd:true});a.fireEvent("hideDetail",{action:"select",type:"instantTooltip"});};Z.prototype._fireHideDetail=function(a){a.fireEvent("hideDetail",{mode:"actionMode"});a.fireEvent("hideDetail",{action:"select",type:"instantTooltip"});};var $=F.getActionById("lassoBehaviorDefinition");$.setHandler(Z);var _=function(){};o.extend(_,M);_.prototype.click=function(a,b){if(j.isSelectable(b,"MBC")){_.superclass.click.apply(this,arguments);}};var a1=F.getActionById("mbcLegendBehaviorDefinition");a1.setHandler(_);e.register("noHoverBehavior",F);});define('sap/viz/chart/behavior/AllBehaviors',['sap/viz/chart/behavior/DefaultBehavior','sap/viz/chart/behavior/SFinBehavior','require'],function(){return Array.prototype.slice.apply(arguments);});define('sap/viz/chart/views/ChartView',["sap/viz/framework/common/util/Constants",'sap/viz/framework/common/util/DOM','sap/viz/framework/common/util/oo','sap/viz/framework/common/util/TypeUtils',"sap/viz/chart/layout/GridLayout",'sap/viz/chart/components/title/Title','sap/viz/chart/components/Background','sap/viz/chart/components/scrollbar/PaginationScrollbar','sap/viz/chart/components/legend/ColorLegend','sap/viz/chart/components/legend/LegendGroup','sap/viz/chart/components/container/UIContainer','sap/viz/chart/metadata/properties/PropertyLoader',"sap/viz/chart/behavior/AllBehaviors","sap/viz/chart/components/util/TextUtils"],function(C,D,o,T,G,a,B,P,b,L,U,c,A,d){var e=function(r,f){e.superclass.constructor.apply(this,arguments);var p=c.getProperties(f.chartType,this._isTrellis());this._properties.add(p);this._exposeMoreEvents("ready");this._exposeMoreEvents("renderComplete");this._exposeMoreEvents("reRenderComplete");this._exposeMoreEvents("initialized");this._exposeMoreEvents("plotScroll");this.runtime().statusManager().add('ChartPaddingInfo');var g=this._getLayoutDefinition();this._supportLazyRender=false;this.setLayoutAlgorithm(new g());this._outline={visible:false};this._background=null;this._backgroundNode=null;this._paginationScrollbar=null;this._paginationScrollbarNode=null;this._initialized=false;this._legendIsAUTO=false;this._createChildren();this._plotAreaLayout=null;};o.extend(e,U);e.prototype._createChildren=function(){this._createBackground();this._createTitle();this._createLegendGroup();this._createPaginationScrollbar();};e.prototype._createPaginationScrollbar=function(){var m=this._getPaginationScrollbarKey();this._paginationScrollbar=new P(this.runtime(),{name:m});};e.prototype._createTitle=function(p){var m=this._getTitleModuleKey();var M=this._getTitleDefinition();var f=new M(this.runtime(),{name:m});if(T.isFunction(f.setPosition)){f.setPosition(p);}this.setChild(m,f,{priority:1,spacing:{spacingWithMainToRough:C.TITLE.SPACING_WITH_MAIN_TO_ROUGH,spacingMaxInPX:C.TITLE.SPACING_MAX_IN_PX}});};e.prototype._createLegendGroup=function(p){var l=this._getLegendGroupModuleKey();var f=this._getLegendGroupDefinition();var g=new f(this.runtime(),{name:l});if(T.isFunction(g.setPosition)){g.setPosition(p);}var h=this._getLegendDefinition();var i=this._getLegendInitOptions();var j=this._getLegendModuleKey();var k;if(T.isArray(h)){for(var m=0;m<h.length;m++){var n=h[m];var q=j[m];k=new n(this.runtime(),{name:q,options:i[m]});g.setChild(q,k);}}else{k=new h(this.runtime(),{name:j,options:i});g.setChild(j,k);}this.setChild(l,g,{priority:2,spacing:{spacingWithMainToRough:C.LEGEND_GROUP.SPACING_WITH_MAIN_TO_ROUGH,spacingMaxInPX:C.LEGEND_GROUP.SPACING_MAX_IN_PX}});};e.prototype._createBackground=function(){this._background=new B(this.runtime(),{name:'general.background'});};e.prototype.clear=function(){if(this._backgroundNode){this._backgroundNode.select('.v-background-body').remove();this._backgroundNode.select('.v-background-border').remove();}if(this._paginationScrollbarNode){this._paginationScrollbarNode.select('.v-background-body').remove();}var t;if(this.getChild(this._getTitleModuleKey())){t=this.getChild(this._getTitleModuleKey()).module;}if(t){t.clear();}var l;if(this.getChild(this._getLegendGroupModuleKey())){l=this.getChild(this._getLegendGroupModuleKey()).module;}if(l){l.clear();}};e.prototype.paginationOptions=function(){var p;var f=this.getData();if(f&&f.dataModel&&f.dataModel.getPaginationOptions){p=f.dataModel.getPaginationOptions();}return p;};e.prototype.savePlotAreaLayout=function(p){var f=this._plotArea._children;for(var k in f){if(f.hasOwnProperty(k)){var m=f[k].module;if(m._size){p[k]={};p[k].module={};p[k].module._size={};p[k].module._size.width=m._size.width;p[k].module._size.height=m._size.height;}}}};e.prototype._resetPlotContainer=function(){if(this._plotArea){if(this._selections&&this._selections[this._plotArea.alias]){var p=this.paginationOptions();if(p){this._selections[this._plotArea.alias].selectAll("*").remove();if(!this._plotAreaLayout){this._plotAreaLayout={};this.savePlotAreaLayout(this._plotAreaLayout);}if(p.mode!==C.PAGINATION_MODE.UPDATE){this._plotAreaLayout=null;}}else{this._plotAreaLayout=null;this._selections[this._plotArea.alias].remove();this._selections[this._plotArea.alias]=null;}}this._plotArea.destroy();this._plotArea=null;}};e.prototype._createPlotContainer=function(i){};e.prototype._getPaginationScrollbarKey=function(){return"paginationScrollbar";};e.prototype._getLegendGroupDefinition=function(){return L;};e.prototype._getLegendGroupModuleKey=function(){return C.LEGEND_GROUP.KEY;};e.prototype._getTitleDefinition=function(){return a;};e.prototype._getTitleModuleKey=function(){return"title";};e.prototype._getLegendDefinition=function(){return[b];};e.prototype._getLegendInitOptions=function(){return[null];};e.prototype._getLegendModuleKey=function(){return["legend"];};e.prototype._getLayoutDefinition=function(){return G;};e.prototype.layoutPaginationScrollbar=function(n){var p=this._plotArea._categoryAxis._position;var m=this._layoutResult.main;var f=this._plotArea._layoutResult.plot;var g=this._plotArea._layoutResult.categoryAxis;var h=this._plotArea._categoryAxis._layoutResult.axisTitle;var i=this._plotArea._categoryAxis._layoutResult.axisScrollbar;var j=this.paginationOptions();var k=1;if(j){k=j.ratio;}this._paginationScrollbar.setPosition(p);var x;var y;var t;if(this._paginationScrollbar._isVertical()){var l=0;if(this._plotArea._valueAxis&&this._plotArea._valueAxis._position==="top"){l=this._plotArea._layoutResult.valueAxis.height;}x=m.x+f.x+f.width;y=m.y+l;t=this._plotArea.getVScrollbar()._trackSize;}else{if(this._paginationScrollbarOffset===undefined||this._paginationScrollbarOffset===null){if(h.y>0&&i.height>0){this._paginationScrollbarOffset=h.y-i.y-i.height;}else{this._paginationScrollbarOffset=0;}}x=m.x+f.x;y=m.y+f.height+g.height-h.height-i.height-this._paginationScrollbarOffset;t=this._plotArea.getHScrollbar()._trackSize;}n.attr("transform","translate("+x+","+y+")");if(k!==null&&k!==undefined){this._paginationScrollbar.setContentSize(t/k);}else{var q=this._paginationScrollbar.getTrackSize()/this._paginationScrollbar.getContentSize();if(q){this._paginationScrollbar.setContentSize(t/q);}}this._paginationScrollbar.setTrackSize(t);};e.prototype.render=function(r,f){if(!this._size.width||!this._size.height){return;}var g=r.node().parentNode;if(g){g.setAttribute("tabIndex",this._properties.get('general.tabIndex'));if(this._outline.visible||this._properties.get("interaction.enableKeyboard")){g.style.outline=null;}else{g.style.outline="none";}}if(this._background){this._background.setSize(this._size);var t=r.node().tagName;if(t.toLowerCase()==="div"){this._backgroundNode=this._backgroundNode||r.append('svg').attr('style',"position:absolute;height: 100%; width: 100%;").append('g').attr('class','v-m-background');}else{this._backgroundNode=this._backgroundNode||r.append('g').attr('class','v-m-background');}this._background.render(this._backgroundNode);}this._initRenderBase(r);this.clearSize(true);f=f||{};var p=this.paginationOptions();if(p){f.pagination=p;if((f.dataChanged&&p&&p.mode===C.PAGINATION_MODE.UPDATE)||(!f.isSizeChanged&&!f.propertiesChanged)){f.plotAreaLayout=this._plotAreaLayout;}else{this._plotAreaLayout=null;this._paginationScrollbarOffset=null;}f._paginationScrollbar=this._paginationScrollbar;}this.layout(f);var h=this._layoutAlgorithm.config;this._runtime.statusManager().set('ChartPaddingInfo',{padding:h.get('padding'),paddingLeft:h.get('paddingLeft'),paddingRight:h.get('paddingRight'),paddingTop:h.get('paddingTop'),paddingBottom:h.get('paddingBottom')});for(var k in this._children){if(k!=='plot'){if(this._children.hasOwnProperty(k)){this.getChild(k).module.render(this._selections[k]);}}}if(this.getChild('plot')){this.getChild('plot').module.render(this._selections['plot']);}this._renderForPagination(r,p,f);this._dispatchInitialized();};e.prototype._renderForPagination=function(r,p,f){if(p&&this._plotArea&&this._plotArea._categoryAxis){var g=this._plotArea._categoryAxis.getChild("axisScrollbar");var h=this._plotArea.getChild("scrollbar");if((g&&g.module&&g.module.isVisible()&&g.module.isExist())||(h&&h.module&&h.module.isVisible()&&h.module.isExist())){if(!this._paginationScrollbar){this._createPaginationScrollbar();}if(!this._paginationScrollbarNode){this._paginationScrollbarNode=r.append('g').attr('class','v-m-paginationScrollbar');}if(p.mode===C.PAGINATION_MODE.RESET){this._paginationScrollbarOffset=null;}if(f.isSizeChanged||f.propertiesChanged||p.mode===C.PAGINATION_MODE.RESET||p.mode===C.PAGINATION_MODE.UPDATE){this.layoutPaginationScrollbar(this._paginationScrollbarNode);this._paginationScrollbar.render(this._paginationScrollbarNode);}if(!f.isSizeChanged&&f.dataChanged&&p.mode===C.PAGINATION_MODE.RESET){this._paginationScrollbar.setThumbPosition(0);this._paginationScrollbar._thumbRatio=0;}else{if(this._paginationScrollbar._thumbRatio){this._paginationScrollbar.setThumbPosition(this._paginationScrollbar._thumbRatio*this._paginationScrollbar._maxThumbPosition);}}}}else{if(this._paginationScrollbarNode){this._paginationScrollbarNode.remove();}this._paginationScrollbarNode=null;if(this._paginationScrollbar&&T.isFunction(this._paginationScrollbar.destroy)){this._paginationScrollbar.destroy();}this._paginationScrollbar=null;}};e.prototype._dispatchInitialized=function(){if(this._eventDispatch){this._eventDispatch.ready();}d.destroy();window.setTimeout((function(){if(this._eventDispatch){this._initialized=true;this._eventDispatch.initialized();if(this._customerDispatch&&this._customerDispatch.initialized){this._customerDispatch.initialized();}if(this._eventDispatch){this._eventDispatch.renderComplete();}if(this._customerDispatch&&this._customerDispatch.renderComplete){this._customerDispatch.renderComplete();}}window.setTimeout(function(){if(window._sap_viz_notify_load_complete){window._sap_viz_notify_load_complete();}},0);}).bind(this),0);};e.prototype._configLayout=function(){var f=this._getLayoutComponents();var p=this.calculatePaddingInPX(this._properties.origin,this._size.width,this._size.height);var g=p.propertyPaddingInPX;var h=p.propertyPaddingTopInPX;var i=p.propertyPaddingRightInPX;var j=p.propertyPaddingBottomInPX;var k=p.propertyPaddingLeftInPX;var l=this._layoutAlgorithm.config;l.set('totalWidth',this._size.width);l.set('totalHeight',this._size.height);l.set('padding',g);l.set('paddingTop',h);l.set('paddingRight',i);l.set('paddingBottom',j);l.set('paddingLeft',k);l.set('isTrellis',this._isTrellis());l.set('legendGroup.layout.respectPlotPosition',this._properties.origin.get("legendGroup.layout.respectPlotPosition"));l.set('legendGroup.layout.alignment',this._properties.origin.get("legendGroup.layout.alignment"));return f;};e.prototype._postLayout=function(){var r=this._layoutResult;for(var k in r){if(r.hasOwnProperty(k)){var s=this._selections[k];if(s.node().tagName==='DIV'){s.style({position:'absolute',left:r[k].x+'px',top:r[k].y+'px',height:r[k].height+"px",width:r[k].width+"px"});}else{s.attr('transform','translate('+r[k].x+', '+r[k].y+')');}}}};e.prototype._getLayoutComponents=function(){for(var k in this._children){if(this._children.hasOwnProperty(k)){var f=this.getChild(k);var g=f.option;var l=this._properties.proxy(k+".layout");var p=l.get('position');var m=l.get("maxWidth");var h=l.get("maxHeight");var w=l.get("width");var i=l.get("height");var j=null;var n=null;if(k===C.LEGEND_GROUP.KEY){if(p==="auto"){j="right";if(this._size.width<C.LEGEND_GROUP.AUTO_THRESHOLD){j="bottom";}}else{j=p;}f.module.setPosition(j);if(this._properties.origin.get("legendGroup.forceToShow")&&!this._isTrellis()){m=1;h=1;}j=f.module.getPosition();}else{j=f.module.getPosition?f.module.getPosition():p;}if(j){g.position=j;}if(!f.module.getPosition){g.defaultPosition=l.getDefault("position");}if(m){g.maxWidth=m;}if(h){g.maxHeight=h;}if(w){g.width=w;g.maxWidth=w;}else{g.width=null;}if(i){g.height=i;g.maxHeight=i;}else{g.height=null;}}}return this._children;};e.prototype.setSize=function(){e.superclass.setSize.apply(this,arguments);if(this._rawData){this._updateData();}};e.prototype.getData=function(){return this._rawData;};e.prototype.setData=function(f){this._rawData=f;this._updateData();};e.prototype._updateData=function(){var f=this._rawData;var g=this._getDataItems();this._data={};for(var i=0;i<g.length;i++){var h=g[i];if(!f.dataModel[h]){continue;}this._data[h]=f.dataModel[h]();if(f.scales.hasOwnProperty(h)){this._data[h].scale=f.scales[h];}}if(T.isFunction(f.dataModel.context)){var j=f.dataModel.context();this._data['context']=j;}this._data._dataPoints=f.dataModel._dataPoints;this._data._seriesType=f.dataModel._seriesType;this._extendData();this._dataChanged();};e.prototype._extendData=function(){this._data.rawData=this._rawData;};e.prototype.getBindingMetaData=function(){var f={},g=this._getDataItems();for(var i=0;i<g.length;++i){var h=this._data[g[i]];if(h==null){continue;}var m=h.metaData;if(m==null){continue;}f[g[i]]=m;}return f;};e.prototype._getDataItems=function(){return[];};e.prototype._isTrellis=function(){return!!(this._data&&(this._data.trellisRow||this._data.trellisColumn));};e.prototype._dataChanged=function(){this._resetPlotContainer();this._createPlotContainer(this._isTrellis());if(this._supportLazyRender){this._plotArea.getDispatch().on("reRenderComplete.chartview",this._reRenderComplete.bind(this));}if(this._data){for(var k in this._children){if(this._children.hasOwnProperty(k)){this.getChild(k).module.setData(this._data);}}}};e.prototype._reRenderComplete=function(){if(this._eventDispatch){this._eventDispatch.reRenderComplete();}};e.prototype.properties=function(p){if(!arguments.length){return this._properties.get();}this._properties.set(p);return this;};e.prototype.chartType=function(f){if(!arguments.length){return this._chartType;}this._chartType=f;return this;};e.prototype.destroy=function(){e.superclass.destroy.call(this);if(this._backgroundNode){this._backgroundNode.remove();}this._backgroundNode=null;if(this._background&&T.isFunction(this._background.destroy)){this._background.destroy();}this._background=null;if(this._paginationScrollbarNode){this._paginationScrollbarNode.remove();}this._paginationScrollbarNode=null;if(this._paginationScrollbar&&T.isFunction(this._paginationScrollbar.destroy)){this._paginationScrollbar.destroy();}this._paginationScrollbar=null;this._chartType=null;this._properties=null;this._plotArea=null;this._plotAreaLayout=null;this._data=null;if(this._rawData){if(this._rawData.dataModel){var f=this._rawData.dataModel;if(T.isFunction(f.destroy)){f.destroy();}}if(this._rawData.scales){var s=this._rawData.scales;for(var k in s){if(s.hasOwnProperty(k)&&s[k]&&T.isFunction(s[k].destroy)){s[k].destroy();s[k]=null;}}}}this._rawData=null;this._outline=null;};e.prototype.changes=function(f){if(f.dataChanged){this.runtime().fireInteractionEvent("dataUpdated");}if(f.scalesChanged){this.runtime().fireInteractionEvent("scalesUpdated",f.scalesChanged);}};e.prototype.changePaddingTop=function(p,f){var g=p.get("valueAxis.label.style");var v=d.canvasMeasure('',g['fontSize'],g['fontWeight'],g['fontFamily']).height;if(T.isExist(f.propertyPaddingInPX)&&f.propertyPaddingInPX<v/2){f.propertyPaddingTopInPX=v/2;}if(T.isExist(f.propertyPaddingTopInPX)&&f.propertyPaddingTopInPX<v/2){f.propertyPaddingTopInPX=v/2;}};return e;});define('sap/viz/chart/components/callout/CalloutContainer',['sap/viz/framework/common/util/oo','sap/viz/chart/components/UIComponent','sap/viz/framework/chartmodel/DataSelector','sap/viz/chart/components/util/TextUtils',"sap/viz/chart/components/util/DataPointUtils",'sap/viz/framework/common/format/UnitFormat','sap/viz/framework/common/lang/LangManager','sap/viz/framework/common/util/ObjectUtils'],function(o,U,D,T,c,e,L,O){var M=2,C={top:{labelGap:12,labelMargin:2,lineExt:8,occupy:"width",prefer:"height",alignKey:"y",positionKey:"left",positionKey2:"top",offsetKey:"x"},left:{labelGap:0,labelMargin:2,lineExt:8,occupy:"height",prefer:"width",alignKey:"x",positionKey:"top",positionKey2:"left",offsetKey:"y"}},f="v-callout",g="2,3";var h=function(r,a){h.superclass.constructor.apply(this,arguments);this._callouts=[];this._plotOffset={x:0,y:0};this._plotRealSize=null;};o.extend(h,U);function j(p){return C[p||this._options.position];}h.prototype.getPreferredSize=function(b){var p=this._options.position,r=this.properties(p),a={width:0,height:0};var d=r&&r.length;if(d){var k=this.properties("label.style.fontFamily"),l=this.properties("label.style.fontSize"),m=this.properties("label.style.fontWeight"),n=this.properties("label.style.fontStyle"),q=this.properties("label.formatString"),u=this.properties("label.unitFormatType");var i,s=j.call(this,p),t=s.occupy,v=s.prefer,w=b[t]-s.lineExt,x=s.labelGap,y=0,z=this._callouts,A=0,B=false,E=this.getData();for(i=0;i<d;i++){var F=r[i];new D(F.dataContext,E).iterateDataPoints(function(G){var H={decimalFormatString:e.getDecimalFormatString(e.SUPPORT_CUSTOM_COMPONENTS.DATALABEL)};var I=G.context(),J=e.format(I[I.measureNames],q,u,H);if(J===null||J===undefined){J=L.get('IDS_ISNOVALUE');}var K=T.fastMeasure(J,l,m,k,n);var N=K[v];if(N<=(b[v]-s.lineExt)){var P=K[t];if(P<=w){if(!z[y]){z[y]={};}z[y].dpId=G.id;z[y].text=J;z[y].textMeasure=K;z[y].offset=0;y++;A=Math.max(A,N);if(y===M||(w-=P+x)<=0){B=true;return false;}}}});if(B){break;}}if(z.length){a[t]=b[t];a[v]=A+s.labelMargin+s.lineExt;}}return a;};h.prototype.render=function(s){var a=this._options.position;var b=this._callouts;if(!b.length){return;}this._selection=s;s.selectAll('*').remove();var r=this._rootSelection=s.append("g");var m=this._mainSelection=r.append("g");var i=j.call(this),p=i.prefer,k=i.alignKey,l=this._size[i.prefer]-i.labelMargin-i.lineExt;var n=this._calloutsSelection=m.selectAll("."+f).data(b).enter().append("g").attr("class",f);var t=null;var q=this.runtime().envManager();if(q){t=q.textAnchor();}this._labelSelection=n.append("text").text(function(d){return d.text;}).attr("font-family",this.properties("label.style.fontFamily")).attr("font-size",this.properties("label.style.fontSize")).attr("font-style",this.properties("label.style.fontStyle")).attr("font-weight",this.properties("label.style.fontWeight")).attr("fill",this.properties("label.style.color")).attr("text-anchor",t).attr(k,function(d){var v=d.textMeasure;var w=l;if(a==="left"){w=l-v[p]-v[k];}return w;});var u=this._properties.get("line.color");if(!u){u=this._properties.getDefault('line.color');}this._lineSelection=n.append("polyline").attr("stroke",u).attr("fill","none").attr("stroke-dasharray",g);};h.prototype.postRender=function(p,a,b){var d=this._callouts;if(!d.length){return;}this._plotNode=p;var i={};i.width=p.getBoundingClientRect().width;i.height=p.getBoundingClientRect().height;this._plotBoundRect=i;var s=this._size;var k={width:s.width,height:s.height};var l=j.call(this),m=l.prefer;k[m]+=a[m];var n="callout_clipPath"+O.guid();this._selection.append("clipPath").attr("id",n).append("rect").attr("width",k.width).attr("height",k.height);this._rootSelection.attr("clip-path","url(#"+n+")");this._plotRealSize=b;this.update();};h.prototype.update=function(){var k=this._calloutsSelection;if(!k){return;}this._selection.selectAll('text').attr("visibility","hidden");if(this._options.position==="top"){this._selection.selectAll('text').attr("x",0);}else{this._selection.selectAll('text').attr("y",0);}var l=j.call(this),m=l.positionKey,n=l.positionKey2,q=l.occupy,r=l.prefer,s=this._plotNode;var t=this._plotBoundRect;var u=d3.select(s).select(".v-plot-bound").node();if(u){t=u.getBoundingClientRect();}var v=this._mainSelection.append("rect");var w=v.node().getBoundingClientRect();v.remove();t={left:t.left-w.left,top:t.top-w.top,width:t.width,height:t.height};var x=this._callouts;x.forEach(function(d){d.visible=false;var a=d.dpRect;var b=c.findByDataPointId(s,d.dpId);if(b){a=b.getBoundingClientRect();a=d.dpRect={left:a.left-w.left,top:a.top-w.top,width:a.width,height:a.height};d.visible=(a[n]+a[r]>t[n])&&(a[n]<t[n]+t[r])&&(a[m]+a[q]>t[m])&&(a[m]<t[m]+t[q]);}var p=d.lineStart={};var N=d.lineJoint={};if(a&&a[m]&&a[q]){var P=a[m]+a[q]/2;p[m]=N[m]=P;p[n]=Math.max(a[n],t[n]);N[n]=t[n];}});var y=k.select("text");y.each(function(d){var a=d.labelRect=this.getBoundingClientRect();a=d.labelRect={left:a.left-w.left,top:a.top-w.top,width:a.width,height:a.height};if(d.visible){d.offset=d.lineStart[m]-a[m]-a[q]/2;}});var z=x.filter(function(d){return d.visible;});z.sort(function(a,b){return a.lineStart[m]-b.lineStart[m];});var A=l.offsetKey;var B=false;var E;if(z.length>0){var F=z[0];E=F.labelRect[m]+F.offset;if(E<0){F.offset-=E;B=true;}}var G;var i;var H;G=z.length;H=l.labelGap;this.layoutCallouts(z,m,q,H);var I=l.lineExt;var J=this._options.position;y.attr(A,function(d){return d.offset;}).each(function(d){var a=this.getBoundingClientRect();var b=d.lineJoint;var p=b[m];var N=a[m]-w[m],P;if(p<N){P=N;}else{var Q=N+a[q];if(p>Q){P=Q;}else{P=p;}}var R=d.lineEnd={};R[n]=b[n]-I;R[m]=P;});var K=k.attr("visibility",function(d){return d.visible?null:"hidden";}).filter(function(d){return d.visible;});K.select("polyline").attr("points",function(d){return[d.lineStart,d.lineJoint,d.lineEnd].map(function(p){return p.left+","+p.top;}).join(" ");});this._selection.selectAll('text').attr("visibility",null);};h.prototype.normalizeItem=function(a,p,b){if(a.offset<0){a.offset=0;}else if((a.offset+a.labelRect[b])>this._plotRealSize[b]){a.offset=this._plotRealSize[b]-a.labelRect[b];}};h.prototype.layoutCallouts=function(s,p,a,l){var b=this._plotRealSize[a];if(s.length>0){s[0].offset+=s[0].labelRect[p];if(s[1]){s[1].offset+=s[1].labelRect[p];}}if(s.length===1){var d=s[0];this.normalizeItem(d,p,a);}else if(s.length===2){var i=s[0];var k=s[1];this.normalizeItem(i,p,a);this.normalizeItem(k,p,a);var m=false;if((i.offset+i.labelRect[a]+l)>k.offset){m=true;}if(m){var t;t=(i.offset+i.labelRect[a]+l);if((t+k.labelRect[a])<=b){k.offset=t;}else{t=(k.offset-l-i.labelRect[a]);if((t)>0){i.offset=t;}else{if(i.offset<(b-k.offset)){i.offset=0;k.offset=i.labelRect[a]+l;}else{k.offset=b-k.labelRect[a];i.offset=b-k.labelRect[a]-l-i.labelRect[a];}}}}}if(s.length>0){s[0].offset-=s[0].labelRect[p];if(s[1]){s[1].offset-=s[1].labelRect[p];}}};h.prototype.afterPlotZoom=function(){this.update();};h.prototype.setPlotRealSize=function(p){this._plotRealSize=p;};h.prototype.scroll=function(a){var m=this._mainSelection;if(m){this._mainSelection.attr("transform","translate("+a.x+","+a.y+")");}};h.prototype.afterPlotScroll=function(a){var b=this._plotOffset;if(a.x!=null){b.x=a.x;}if(a.y!=null){b.y=a.y;}this.update();};h.prototype.destroy=function(){h.superclass.destroy.apply(this,arguments);this._selection=null;this._rootSelection=null;this._mainSelection=null;this._calloutsSelection=null;this._plotNode=null;this._plotRealSize=null;};return h;});define('sap/viz/chart/layout/XYLayout',["sap/viz/framework/common/util/NumberUtils",'sap/viz/framework/common/util/TypeUtils',"sap/viz/framework/common/util/oo","sap/viz/chart/layout/BaseLayout"],function Setup(N,T,a,B){var l={'height':{max:'maxHeight',fix:'height'},'width':{max:'maxWidth',fix:'width'}};var p={left:"width",right:"width",top:"height",bottom:"height"};var b={left:"height",right:"height",top:"width",bottom:"width"};var c=0;var L=1;var d=2;var R=3;var D=1/3;var e=1/3;function X(){X.superclass.constructor.apply(this,arguments);this.config.add({padding:[0,0,0,0],rootWidth:0,rootHeight:0,layoutSequence:[]});}a.extend(X,B);X.prototype.layout=function(j,k){var r={};var m=this.config;var i=0;var w=m.get('totalWidth');var n=m.get('totalHeight');var q=m.get('rootWidth');var s=m.get('rootHeight');var t={width:m.get("rootWidth"),height:m.get("rootHeight")};var u=m.get('padding');var v=m.get('layoutSequence');var x=w-(u[L]+u[R]);var y=n-(u[c]+u[d]);x=x>0?x:0;y=y>0?y:0;var z;var A,o;var C;var E;var F={};for(var G in j){if(j.hasOwnProperty(G)){z=j[G];C=z.option;E=C.position;if(!F.hasOwnProperty(E)){F[E]=[];}var H=C.priority;if(H==null){H=-1;}var I=F[E];var J=I.length;for(i=0;i<J;i++){if(H>=I[i].option.priority){break;}}I.splice(i,0,{module:z.module,option:{unique:C.unique,priority:H,position:E,padding:{paddingTop:f(C.paddingTop),paddingBottom:f(C.paddingBottom),paddingLeft:f(C.paddingLeft),paddingRight:f(C.paddingRight)},maxWidth:h(C.maxWidth)?C.maxWidth:D,maxHeight:h(C.maxHeight)?C.maxHeight:e,width:h(C.width)?C.width:null,height:h(C.height)?C.height:null}});}}var K=[];for(i=0;i<v.length;++i){E=v[i];if(T.isFunction(E)){K.push(E);continue;}var M=F[E];if(M){Array.prototype.push.apply(K,M);}}K.push(F.center[0]);if(!F.center){throw"Cannot solve layout without plot";}var O={width:q?q:x,height:s?s:y};var P={width:x,height:y,x:u[L],y:u[c]};var Q={center:false};var S=[];var U=K.length;for(i=0;i<U;i++){A=K[i];if(T.isFunction(A)){A(r,P);continue;}o={};r[A.module.alias]=o;C=A.option;var V=A.module;E=C.position;if(E==='center'){continue;}var W=p[E];var Y=b[E];o.padding=C.padding;var Z={width:0,height:0};Z.height+=o.padding.paddingTop+o.padding.paddingBottom;Z.width+=o.padding.paddingLeft+o.padding.paddingRight;var $=0;var _={},a1=C[l[W].fix],b1=A.module.properties('visible')===true&&a1!==null?N.getSizeValue(a1,O[W]):undefined;if(b1===undefined){if(T.isFunction(V.getPreferredSize)){var c1=N.getSizeValue(C[l[W].max],O[W]);c1=c1>P[W]?P[W]:c1;_[Y]=P[Y];_[W]=c1;if(!S[E]){$=V.getPreferredSize(_)[W]+Z[W];}c1=$>c1?c1:$;P[W]=P[W]-c1;o[W]=c1;}else{o[W]=0;}}else{b1=b1>P[W]?P[W]:b1;if(T.isFunction(V.getPreferredSize)){_[Y]=P[Y];_[W]=b1;if(!S[E]){$=V.getPreferredSize(_,k);}}P[W]=P[W]-b1;o[W]=b1;}if($&&A.option.unique){S[E]=true;}}for(i=0;i<U;i++){A=K[i];if(!A){continue;}else if(T.isFunction(A)){A(r,P);continue;}o=r[A.module.alias];if(!o.hasOwnProperty('width')){o.width=P.width;}else if(!o.hasOwnProperty('height')){o.height=P.height;}switch(A.option.position){case"top":P.y=P.y+o.height;break;case"left":P.x=P.x+o.width;break;}}var d1=P.y,e1=P.x,f1=P.y+P.height,g1=P.x+P.width;for(i=U-1;i>=0;i--){A=K[i];if(T.isFunction(A)){A(r,P);continue;}else if(A){C=A.option;o=r[A.module.alias];switch(C.position){case"top":o.x=P.x;o.y=d1-=o.height;break;case"left":o.x=e1-=o.width;o.y=P.y;break;case"bottom":o.x=P.x;o.y=f1;f1+=o.height;break;case"right":o.x=g1;g1+=o.width;o.y=P.y;break;case"center":o=r[A.module.alias]={};o.x=P.x;o.y=P.y;o.width=P.width;o.height=P.height;break;}if(!T.isPlainObject(o.padding)){o.padding=C.padding;}if(C.position==='top'){o.y+=o.padding.paddingTop;}if(C.position==='left'){o.x+=o.padding.paddingLeft;}o.height-=o.padding.paddingTop+o.padding.paddingBottom;o.width-=o.padding.paddingLeft+o.padding.paddingRight;P.height=P.height>0?P.height:0;P.width=P.width>0?P.width:0;}}return r;};function g(i){return{paddingTop:parseFloat(i.paddingTop),paddingBottom:parseFloat(i.paddingBottom),paddingLeft:parseFloat(i.paddingLeft),paddingRight:parseFloat(i.paddingRight)};}function f(v){var r=parseFloat(v);if(isNaN(r)){r=0;}return r;}function h(v){var i=parseFloat(v);return T.isNumber(i)&&i>=0;}return X;});define('sap/viz/chart/components/container/utils/xyTransformUtils',["sap/viz/framework/common/util/DataGraphics"],function(D){function z(b){var c=b.getChildrenByPosition("center")[0],r=c.getRealSize(),v=c.getSize();var x=r.width/v.width;var y=r.height/v.height;if(!isFinite(x)){if(r.width===0){x=1;}else{return null;}}if(!isFinite(y)){if(r.height===0){y=1;}else{return null;}}return{x:x,y:y};}function d(x){return{"scale":{set:function(v){x.zoom(v);x.getChildrenByPosition("center")[0].update();return z(x);},get:z.bind(null,x)},"translate":{set:function(v){if(v.x!==undefined||v.y!==undefined){x.scroll(v);}else if(v.translateByPage){x.scrollByPage(v.translateByPage);}return v;},get:function(){var p=x.getChildrenByPosition("center")[0];var t=p.getOffset();if(!t){t={};}t.position=0;if(x._paginationScrollbarRef){t.position=x._paginationScrollbarRef._thumbPosition/x._paginationScrollbarRef._maxThumbPosition;if(isNaN(t.position)){t.position=0;}}return t;}}};}function a(n,s,t,o){var b=D.getData(n);if(!b||!s){return;}var p=D.getData(n).pos,c=p*s.x+t.x,e=p*s.y+t.y;if(o.indexOf("h")!==-1&&!isNaN(e)){n.setAttribute("transform","translate("+0+", "+e+")");}if(o.indexOf("v")!==-1&&!isNaN(c)){n.setAttribute("transform","translate("+c+", "+0+")");}}return{defstatus:d,adjustTranslate:a};});define('sap/viz/chart/components/container/XYContainer',["sap/viz/framework/common/util/oo","sap/viz/chart/components/container/UIContainer","sap/viz/framework/common/util/PositionUtil",'sap/viz/framework/common/util/TypeUtils',"sap/viz/chart/layout/XYLayout",'sap/viz/framework/common/util/PropertyZoneUtil','sap/viz/framework/common/util/NumberUtils','sap/viz/framework/common/util/Constants','sap/viz/framework/common/util/FeedingZoneUtil',"sap/viz/chart/components/container/utils/xyTransformUtils","sap/viz/chart/behavior/config/SelectionUtil"],function(o,U,P,T,X,a,N,C,F,b,S){var c=function(r,e){c.superclass.constructor.apply(this,arguments);this._initLayout();this._layoutSequence=null;this._roughSize={width:0,height:0};this._posToModuleMap={};this._vScrollbar=null;this._hScrollbar=null;this._registerZoneManager(r,e);r.statusManager().proxy("plot.transform").add(b.defstatus(this));this._exposeMoreEvents("reRenderComplete");this._zoomer=this._getZoomer();};o.extend(c,U);c.prototype._registerZoneManager=function(r){r.zoneManager().add(a.plot(this));r.zoneManager().add(F.plot(this));};c.prototype._getLayoutDefinition=function(){return X;};c.prototype._initLayout=function(){var L=this._getLayoutDefinition();this.setLayoutAlgorithm(new L());};c.prototype.setRoughSize=function(v){if(v.width!=null){this._roughSize.width=v.width;}if(v.height!=null){this._roughSize.height=v.height;}var u=this.updateValueScale();var e=this.runtime().statusManager();if(u&&e.has("updatedScaleValue")){e.set('updatedScaleValue',u);}for(var k in this._children){if(this._children.hasOwnProperty(k)){if(this._children[k].module&&this._children[k].module.setRoughSize){this._children[k].module.setRoughSize(v);}}}return this;};c.prototype.getVScrollbar=function(){return this._vScrollbar;};c.prototype.getHScrollbar=function(){return this._hScrollbar;};c.prototype.updateValueScale=function(v){};c.prototype.setLayoutSequence=function(v){this._layoutSequence=v;return this;};c.prototype.render=function(r){c.superclass.render.apply(this,arguments);if(this._size.width>0&&this._size.height>0&&this._layoutResult){this._initRenderBase(r);P.positionElements(this._layoutResult,this._selections);this._preRender();this._renderSub();this._postRender();}};function _(e){this._scroll({y:e.offset});}function d(e){this._scroll({x:e.offset});}c.prototype._preRender=function(){var e=this.getChildrenByPosition("center")[0];if(e&&(this._vScrollbar||this._hScrollbar)){var f=e.getSize();var r=e.getRealSize();if(this._vScrollbar){this._vScrollbar.setTrackSize(f.height).setContentSize(r.height);this._vScrollbar.getDispatch().on("scroll.xycontainer",_.bind(this));}if(this._hScrollbar){this._hScrollbar.setTrackSize(f.width).setContentSize(r.width);this._hScrollbar.getDispatch().on("scroll.xycontainer",d.bind(this));}}};c.prototype._postRender=function(){var e=this.getZoomer();if(e){e.reset(this._selections);}};c.prototype.scroll=function(e){var f=this.getChildrenByPosition("center")[0];var g=f.getSize();var r=f.getRealSize();var x,y,m,t,p;if(e.x!=null){m=g.width-r.width;x=Math.min(0,Math.max(m,e.x));if(this._hScrollbar){p=-x;t=this._hScrollbar.getThumbRatio();if(t){p/=t;}this._hScrollbar.setThumbPosition(p);}}if(e.y!=null){m=g.height-r.height;y=Math.min(0,Math.max(m,e.y));if(this._vScrollbar){p=-y;t=this._vScrollbar.getThumbRatio();if(t){p/=t;}this._vScrollbar.setThumbPosition(p);}}var h=this.getOffset();this._scroll({x:T.isNumber(x)?x:h.x,y:T.isNumber(y)?y:h.y});};c.prototype.scrollByPage=function(t){var e;if(t.context){var f=this.getChild("categoryAxis").module;if(f){var g=f.getChild("axisBody").module;e=g.getLabelOffsetByCtx(t.context);}}if(T.isNumber(t.offset)){var h=this.getChildrenByPosition("center")[0];e=h.getRemainingPlotOffset(e,t.offset);}if(e!==null&&e!==undefined){this.scroll(e);}};function z(e,f){var g=f.zoom;if(g){g.call(f,e);}}c.prototype.zoom=function(e){var f=this.getChildrenByPosition("center")[0];var g=f.getSize();var r=f.getRealSize();var h;if(e.x){h=z.bind(null,{x:e.x,y:1});r.width=g.width*e.x;this.getChildrenByPosition("top").forEach(h);this.getChildrenByPosition("bottom").forEach(h);}if(e.y){h=z.bind(null,{x:1,y:e.y});r.height=g.height*e.y;this.getChildrenByPosition("left").forEach(h);this.getChildrenByPosition("right").forEach(h);}f.setRealSize(r);if(this._vScrollbar){this._vScrollbar.setContentSize(r.height).render();}if(this._hScrollbar){this._hScrollbar.setContentSize(r.width).render();}var i=this.getChildrenByPosition("center")[0];if(i){z(e,i);}};c.prototype.getOffset=function(){var e=this.getChildrenByPosition("center")[0];return e&&e.getOffset();};function s(e,f){var g=f.scroll;if(g){g.call(f,e);}}c.prototype._scroll=function(e){if(!e){return;}var f;if(e.x!=null){f=s.bind(null,{x:e.x,y:0});this.getChildrenByPosition("top").forEach(f);this.getChildrenByPosition("bottom").forEach(f);}if(e.y!=null){f=s.bind(null,{x:0,y:e.y});this.getChildrenByPosition("left").forEach(f);this.getChildrenByPosition("right").forEach(f);}var g=this.getChildrenByPosition("center")[0];if(g){s(e,g);}this.runtime().fireInteractionEvent('plotScroll',e);this.runtime().eventDispatcher().fire('plotScroll',e);};c.prototype.setChild=function(k,m,e){c.superclass.setChild.apply(this,arguments);if(e.position){var p=e.position;var f=this._posToModuleMap;if(!f.hasOwnProperty(p)){f[p]=[];}var g=f[p];var i,t;var h=true;for(i=0;i<g.length;i++){t=g[i];if(t===m||t.alias==m.alias){h=false;g[i]=m;break;}}if(h){g.push(m);}if(m.setPosition){m.setPosition(p);}}};c.prototype.getChildrenByPosition=function(p){return this._posToModuleMap[p]||[];};c.prototype.removeChild=function(k){var e=this._children[k];var f=this._posToModuleMap[e.option.position];f.splice(f.indexOf(e.module),1);delete this._children[k];};c.prototype.getPlotPosition=function(){return this._layoutResult.plot;};c.prototype._configLayout=function(e){var g=N.getPositiveInt;var f=this._properties.origin;var p=this.calculatePaddingInPX(f,this._roughSize.width,this._roughSize.height);var h=g(p.propertyPaddingInPX,p.constantPaddingInPX);var i=g(p.propertyPaddingTopInPX,h);var j=g(p.propertyPaddingRightInPX,h);var k=g(p.propertyPaddingBottomInPX,h);var l=g(p.propertyPaddingLeftInPX,h);var m=this._layoutAlgorithm.config;m.set('totalWidth',this._size.width);m.set('totalHeight',this._size.height);m.set('rootWidth',this._roughSize.width-(j+l));m.set('rootHeight',this._roughSize.height-(i+k));m.set('paddings',[i,l,k,j]);m.set('layoutSequence',this._layoutSequence);for(var n in this._children){if(this._children.hasOwnProperty(n)){var q=this.getChild(n);var r=q.option;var t=this._properties.proxy(n+'.layout');var u=t.get("maxWidth");var v=t.get("maxHeight");var w=t.get("width");var x=t.get("height");if(w){r.width=w;}else{r.width=null;}if(x){r.height=x;}else{r.height=null;}if(u){r.maxWidth=u;}if(v){r.maxHeight=v;}if(e&&e.pagination&&e.pagination.mode===C.PAGINATION_MODE.UPDATE&&e.plotAreaLayout&&e.plotAreaLayout[n]){var y=e.plotAreaLayout[n].module._size;if(!r.width&&y.width){r.width=y.width;}if(!r.height&&y.height){r.height=y.height;}}}}return this._children;};c.prototype._postLayout=function(r){for(var k in this._children){if(this._children.hasOwnProperty(k)){var m=this._children[k].module;var e=r[k];m.setSize(e,m._needOtherSize?r:undefined);}}};c.prototype.paginationOptions=function(){var e=this._runtime&&this._runtime._interaction&&this._runtime._interaction._service&&this._runtime._interaction._service.getDataModel();var p;if(e&&e.getPaginationOptions){p=e.getPaginationOptions();}return p;};c.prototype._renderSub=function(){var e=this.getChild("categoryAxis");var f;if(e){f=e.module;}var p=this._layoutSequence||['left','right','bottom','top'];if(p.indexOf("center")<0){p.push("center");}var g=function(h){if(!this.paginationOptions()||h.alias!==C.SCROLLBAR.ALIAS||!f||f._position==="top"||f._position==="bottom"){h.render(this._selections[h.alias]);}}.bind(this);for(var i=0;i<p.length;i++){this.getChildrenByPosition(p[i]).forEach(g);}};c.prototype._initRenderBase=function(p){if(this._selections){return;}this._selections={};for(var k in this._children){if(this._children.hasOwnProperty(k)){if(this._selections[k]==null){if(this._children[k].option.position==="center"){this._selections[k]=p.insert("g",":first-child").attr('class','v-m-'+k);}else{this._selections[k]=p.append("g").attr('class','v-m-'+k);}}}}};c.prototype.destroy=function(){c.superclass.destroy.call(this);this._layoutSequence=null;this._layoutResult=null;this._roughSize=null;this._posToModuleMap={};this._vScrollbar=null;this._hScrollbar=null;if(this._zoomer){this._zoomer.destroy();this._zoomer=null;}};c.prototype.getZoomer=function(){return this._zoomer;};c.prototype._getZoomer=function(){return null;};c.prototype._hasScrollbar=function(){var i=!!this._properties.get('plotArea.isFixedDataPointSize');var w=this._properties.get("plotArea.window.start");var e=this._properties.get("plotArea.window.end");var f=!this._properties.get("interaction.noninteractiveMode");var r=(i||!!w||!!e)&&f&&!(w==="firstDataPoint"&&e==="lastDataPoint");return r;};return c;});define('sap/viz/chart/components/axis/sub/AxisComponent',["sap/viz/framework/common/util/oo","sap/viz/framework/common/util/Constants","sap/viz/chart/components/UIComponent","sap/viz/framework/common/util/NumberUtils","sap/viz/chart/components/util/TextUtils","sap/viz/framework/common/util/PositionUtil"],function(o,C,U,N,T,P){var A=C.CSS.CLASS.AXIS;var a=function(r,b){a.superclass.constructor.apply(this,arguments);this._position=null;this._formerProperties=null;this._preferredSize={minWidth:0,minHeight:0};};o.extend(a,U);a.prototype.setPosition=function(p){this._position=p;return this;};a.prototype._isVertical=function(){return P.isVertical(this._position);};a.prototype._isHorizontal=function(){return P.isHorizontal(this._position);};a.prototype._measureTextSize=function(t,s){var b=T.canvasMeasure(t,s['fontSize'],s['fontWeight'],s['fontFamily']);return N.preciseObject(b);};a.prototype._updatePfdSize=function(s){if(s.minWidth!=null){this._preferredSize.minWidth=s.minWidth;}if(s.minHeight!=null){this._preferredSize.minHeight=s.minHeight;}};a.prototype._isSpaceEnough=function(){if(this._realSize.width===0||this._realSize.height===0){return false;}var p=this._preferredSize;return Math.ceil(p.minWidth)<=Math.ceil(this._realSize.width)&&Math.ceil(p.minHeight)<=Math.ceil(this._realSize.height);};a.prototype.mayOnlyFirstAndLastLabel=function(){return false;};a.prototype.destroy=function(){a.superclass.destroy.call(this);this._position=null;this._formerProperties=null;this._preferredSize=null;};return a;});define('sap/viz/migrate/PropertyUtil',['sap/viz/framework/common/util/ObjectUtils','sap/viz/framework/common/util/TypeUtils'],function Setup(O,T){var p={};var h=Object.prototype.hasOwnProperty;function a(o){if(!o){return true;}for(var k in o){if(h.call(o,k)){return false;}}if(T.isFunction(o)){return false;}return true;}function c(d,e){var f=e.split('.'),i,j;for(i=f.length-2;i>=0;i--){var g=d;for(j=0;j<i;j++){g=g[f[j]];}if(a(g[f[i]])){delete g[f[i]];}}}function b(d,s){if(!d){return false;}for(var i=0;i<d.length;++i){if(d[i].properties&&d[i].properties[s]){return true;}}return false;}p.getProperty=function(d,e){var f=e.split('.'),g=d,i;for(i=0;i<f.length;i++){if(g===null){return undefined;}if(g[f[i]]===undefined){return undefined;}g=g[f[i]];}return g;};p.setProperty=function(d,e,v){var f=e.split('.'),g=d,i;for(i=0;i<f.length-1;i++){if(g[f[i]]===undefined||g[f[i]]===null){g[f[i]]={};}g=g[f[i]];}g[f[f.length-1]]=v;};p.setPropertyWithMergence=function(d,e,v){var f=e.split('.'),n={},t=n,i;for(i=0;i<f.length-1;i++){t[f[i]]={};t=t[f[i]];}t[f[f.length-1]]=v;O.extend(true,d,n);};p.removeProperty=function(d,e){var f=e.split('.'),g=d,i;for(i=0;i<f.length-1;i++){if(g[f[i]]===undefined){return;}g=g[f[i]];}delete g[f[f.length-1]];c(d,e);};function r(t,s){if(t&&t.rules&&t.rules.length){var d=t.rules;for(var i=d.length-1;i>=0;--i){var e=d[i];var f=e.properties;delete f[s];if(T.isEmptyObject(f)){d.splice(i,1);}}}}p.migrateSeriesStyle=function(d,s,e,f){var t=p.getProperty(d,f.to);r(t,f.subProp);t=t||{rules:[]};if(e&&e.rules){var g=e.rules;for(var i=0;i<g.length;++i){var k={};var l=g[i];O.extend(true,k,l);if(l&&l.dataContext&&l.dataContext.length){var m=l.dataContext;for(var j=0;j<m.length;++j){if(m[j]===undefined){k.dataContext[j]=undefined;}}}if(k.properties){var n=k.properties;delete k.properties;k.properties={};k.properties[f.subProp]=n;}t.rules.push(k);}}p.setProperty(d,f.to,t);};p.getComplexProperty=function(k,v,i,d){var e;if(v[i]!==undefined){e=v[i];}else{var t=d.get(k,'templateValue');if(t&&t[i]){e=t[i];}else{var f=d.get(k,'defaultValue');if(T.isArray(f)){e=f[i];}else{e=f;}}}return e;};return p;});define('sap/viz/chart/components/axis/sub/AxisTitle',["sap/viz/framework/common/util/Constants","sap/viz/framework/common/util/oo","sap/viz/chart/components/axis/sub/AxisComponent","sap/viz/framework/common/util/TypeUtils","sap/viz/framework/common/util/NumberUtils","sap/viz/chart/components/util/StyleUtils","sap/viz/chart/components/util/TextUtils","sap/viz/framework/common/util/UADetector","sap/viz/framework/common/util/NameColorUtils","sap/viz/framework/common/util/DataGraphics","sap/viz/migrate/PropertyUtil"],function(C,o,A,T,N,S,a,U,b,D,P){var c=C.CSS.CLASS.AXIS;var d=function(r,e){d.superclass.constructor.apply(this,arguments);this._valueAxes=[];if(e){this._valueAxes=e.valueAxes;}var _=this;this._properties.add('title.style.color',{get:function(v){if(_._isApplyAxisLineColor()){v=_._properties.get('color');}return _._isAllHidden()?C.AXIS.HIDDEN_TITLE.COLOR:v;}});this.visibleItemsNumber=-1;};o.extend(d,A);d.prototype._adjustTitleItems=function(e,l){var i;for(i=0;i<e.length;i++){if(i>=l){e[i].isHidden=true;}else{e[i].isHidden=false;}}};d.prototype._isApplyAxisLineColor=function(){if(this._properties.has("title.style.color","value")){return false;}var e=this._properties.get('title.applyAxislineColor');if(T.isArray(e)){var i=this._valueAxes.length>1?1:0;e=P.getComplexProperty('title.applyAxislineColor',e,i,this._properties);}return e===true;};d.prototype.render=function(s){s.select("g."+c.TITLE).remove();s.selectAll(".v-m-axisTitleEventLayer").remove();var p=this._properties;if(T.isString(this._data.text)&&this._isSpaceEnough()&&p.get('visible')&&p.get('title.visible')){var t=this._data.text;var e=c.TITLE+" "+c.TITLE_BACKWORD;var h=c.TITLE_HIDDEN;var f=p.get('title.style');if(f&&f.color){f.color=b.convertColor(f.color);}var g=a.getTextBaselineOffset(f);var i=this.runtime().effectManager();var j=p.get('color');if(T.isArray(j)){var k=this._valueAxes.length>1?1:0;j=P.getComplexProperty("color",j,k,p);}var l=i.register({fillColor:(this._isApplyAxisLineColor())?b.convertColor(j):f.color});var m=i.register({fillColor:C.AXIS.HIDDEN_TITLE.COLOR});var n=s.append("g").attr("class",e).attr("fill",l).attr("font-size",f.fontSize).attr("font-weight",f.fontWeight).attr("font-family",f.fontFamily).attr("font-style",f.fontStyle).append("text").text(t).attr("dominant-baseline","auto");var q=this.runtime().envManager();if(q){n=n.attr("text-anchor",q.textAnchor());}var r="";var u=S.convertToCss(f);var v;if(this._isVertical()){v=this._size.height;}else{v=this._size.width;}var w={};w.needRealLength=true;w.reverseDots=(q&&q.reverseDots());var x=a.ellipsis(t,n.node(),v,u,w);r=x.text;var y=x.realLength;if(this._isVertical()){n.attr("x",this._size.width-g-y/2).attr("y",this._size.height/2).attr("transform","rotate(-90,"+(this._size.width-g)+","+(this._size.height/2)+")");}else{n.attr("x",this._size.width/2-y/2).attr("y",this._size.height-g);}var z=p.has('title.style.color','value');var B=this._data;if(!B.isCustomized){this._adjustTitleItems(B.items,this.visibleItemsNumber);n.text("");if(r!==t&&n.select("title").empty()){n.append("title").text(t);}var I;for(I=0;I<B.items.length;I++){var E=n.append("tspan");E.attr("class",e);E.attr("dominant-baseline","auto");if(B.items[I].isHidden&&!this._isApplyAxisLineColor()&&!z&&!B.noNeedApplyHiddenTitleColor){E.attr("class",e+" "+h);E.attr("fill",m);}if(r.length>B.items[I].text.length){if(((r.length-3)<B.items[I].text.length)&&r.substring(r.length-3)==="..."){E.text(r);break;}else{E.text(B.items[I].text);r=r.substring(B.items[I].text.length);}}else{E.text(r);break;}}}else{if(!B.isCustomizedColor&&this.visibleItemsNumber===0&&!z&&!this._isApplyAxisLineColor()){n.attr("class",e+" "+h);n.attr("fill",m);}}}};d.prototype._isAllHidden=function(){var u=this._properties.has('title.style.color','value');var t=this._data;if(t){if(!u&&t.isCustomized&&!t.isCustomizedColor&&this.visibleItemsNumber===0&&!t.noNeedApplyHiddenTitleColor){return true;}if(!u&&!t.isCustomized&&!this._isApplyAxisLineColor()&&!t.noNeedApplyHiddenTitleColor){var l=t.items.length;for(var i=0;i<l;++i){if(!t.items[i].isHidden){return false;}}return true;}}return false;};d.prototype.setTitleHiddenItems=function(_){this.visibleItemsNumber=_;};d.prototype.getPreferredSize=function(){var p={minWidth:0,maxWidth:0,minHeight:0,maxHeight:0,spacings:[{"interval":0,"type":C.SPACING_TYPE.STEP}]};var e=this._properties;if(T.isString(this._data.text)&&e.get('visible')&&e.get('title.visible')){var t=e.get('title.style');var s=this._measureTextSize(this._data.text,t);var m=this._getMinTextWidth(this._data.text,t);if(this._isVertical()){p.minWidth=s.height;p.maxWidth=s.height;p.minHeight=m;p.maxHeight=s.width;}else{p.minWidth=m;p.maxWidth=s.width;p.minHeight=s.height;p.maxHeight=s.height;}p.spacings[0].interval=s.height;}var f=N.preciseObject(p);this._updatePfdSize(f);return f;};d.prototype._getMinTextWidth=function(t,s){var e=this._measureTextSize(t,s);var m=e.width;if(m>0&&t.length){var f=this._measureTextSize(t[0]+"...",s);if(m>f.width){m=f.width;}}return m;};d.prototype.destroy=function(){this._properties.add('title.style.color',{get:null});d.superclass.destroy.call(this);this.visibleItemsNumber=null;};return d;});define('sap/viz/chart/components/axis/renderer/DefaultCategoryLabelRenderer',["sap/viz/framework/common/util/Constants","sap/viz/framework/common/util/SVG","sap/viz/framework/common/util/NumberUtils","sap/viz/chart/components/util/StyleUtils","sap/viz/chart/components/util/TextUtils","sap/viz/framework/common/util/DataGraphics"],function(C,S,N,a,T,D){function m(t,s,w,b){if(w&&w>1){var c=N.preciseSimple(parseFloat(s.fontSize)*1.2);var e=T.wrapText(t,[" "],b,w,s);var f=e.maxWidth;var l=e.lines.length;if(e.beyond){f=T.getTextLength(e.lines[l-1],a.convertToCss(s));}return{"width":f,"height":l*c,"minHeight":c};}else{return T.canvasMeasure(t,s.fontSize,s.fontWeight,s.fontFamily);}}var u=function(t,c){var V=90;var b=5;var L=6;var e=L;var f=c.text;var s=c.styles;var l=c.labelOffset;var h=c.size;var i=c.sizeLimit;var o=T.getTextBaselineOffset({fontSize:s.fontSize,fontWeight:s.fontWeight,fontFamily:s.fontFamily});var n=c.needRowAxisOffset;var j=m(f,s);var k=t.firstChild;while(k){t.removeChild(k);k=t.firstChild;}var p=d3.select(t);var q,r,v;q=N.preciseSimple(j.height);var w=false;var z=c.wrap;if(z&&z>1){var A=(h.height-b-L).toFixed(1);z=Math.min(z,Math.floor(A/q));w=z>1;}var B,E;var F;if(w){F={};F.middleText=true;r=T.drawWrappedText(p,f,[" "],z,i,q,s,F);v=p.selectAll("tspan")[0];q=q*v.length;}else{r=N.preciseSimple(j.width);if(i>=0&&r>i){F={};F.needRealLength=true;F.reverseDots=c.reverseDots;var G=T.ellipsis(f,t,i,a.convertToCss(s),F);r=G.realLength;B=G.text;E=r;}else{t.textContent=f;}}var x,y;var H=E||r;switch(c.position){case C.POSITION.LEFT:case C.POSITION.RIGHT:y=q/2-o;if(n){y+=q/2-o+l;}else{var I=0;if(c.labelAlignment!=="center"&&c.childCells&&c.childCells.length){var J=0;for(var K=0;K<c.childCells.length;K++){if(c.childCells[K].isVisible){J++;if(c.childCells[K].yOffset){I+=c.childCells[K].yOffset;}else{I+=c.childCells[K].cellHeight/2;}break;}else{I+=c.childCells[K].cellHeight;}}if(J===0){I=h.height/2;}}else{I=h.height/2;}y+=I;if(I===h.height/2){c.cell.yOffset=c.cell.cellHeight/2;}else{c.cell.yOffset=I;}}if(c.position===C.POSITION.LEFT){x=h.width-e-r;}else{x=e;}break;case C.POSITION.TOP:if(c.rotated){x=h.width/2+q/2-o;y=h.height-e;}else{x=h.width/2-r/2;y=h.height-e-o;}break;case C.POSITION.BOTTOM:if(c.rotated){x=h.width/2+q/2-o;y=e;x-=r*(Math.cos(c.rotationAngle*Math.PI/180));y+=r*(Math.sin(c.rotationAngle*Math.PI/180));}else{if(c.alignMode==="ALIGIN_RIGHT_MOST"){x=c.cellWidth-H/2;}else if(c.alignMode==="ALIGIN_LEFT_MOST"){x=H/2;}else{x=h.width/2;}x-=r/2;y=e+q-o;}break;}t.setAttribute("x",x);t.setAttribute("y",y);if(c.rotated){var M=g(q,c.rotationAngle);t.setAttribute("transform","translate(0,"+M+") rotate(-"+c.rotationAngle+","+x+","+y+")");}if(w){var O=N.preciseSimple(parseFloat(s.fontSize)*0.2);p.selectAll("tspan").attr("dy","1em").attr("y",null);p.attr("y",e-o+O);}var P={};P.x=x;P.y=y;return P;};function d(c){var t=S.create("text");u(t,c);D.setCustomizationInfo(t,{'defaultRenderer':true});return t;}var g=function(t,b){return(t*Math.cos(b*Math.PI/180)*0.7);};d.update=function(t,c){var n=u(t,c);if(c.rotated){var r={'r':'-'+c.rotationAngle,'x':n.x,'y':n.y};D.setData(t,r);}else{t.setAttribute("transform","translate(0,0)");}};d.getPreferredSize=function(c){var V=90;var L=6;var t=c.text,s=c.styles;var w=c.wrap;if(c.disableAutoRotation===false||c.rotationAngle!==0){w=1;}var b=c.size;var e=C.AXIS.FIRST_LETTER;if(t&&t.length>0){e=t[0];}e+=C.AXIS.FIRST_LETTER;var f=m(e,s);var h=m(t,s,w,b);var i=h.height;var j=g(i,c.rotationAngle);var k=h.height,l=h.width,r;if((c.rotated||h.width>c.size)&&(c.position===C.POSITION.TOP||c.position===C.POSITION.BOTTOM)){if(!c.rotated&&c.disableAutoRotation){r=false;l=c.size;}else{r=true;l=h.height;if(c.rotationAngle===V){k=h.width;}else{var n=c.cellWidth/2+c.cellStart+(c.additionalWidth?c.additionalWidth:0);var o=n/(Math.cos(c.rotationAngle*Math.PI/180));if(h.width<o){o=h.width;}k=o*(Math.sin(c.rotationAngle*Math.PI/180));k+=j;var p=(l/Math.sin(c.rotationAngle*Math.PI/180))*0.9;if(p>l){l=p;}}}}var q={cellWidth:l,cellHeight:k,rotated:r,textSize:h};if(c.position===C.POSITION.TOP||c.position===C.POSITION.BOTTOM){if(r){q['minCellHeight']=Math.min(f.width,h.width);if(c.rotationAngle!==V){q['minCellHeight']=q['minCellHeight']*Math.sin(c.rotationAngle*Math.PI/180);q['minCellHeight']+=(2*j-2*L+1);}}else{if(h.hasOwnProperty("minHeight")){q['minCellHeight']=h.minHeight;}else{q['minCellHeight']=h.height;}if(q.cellWidth<Math.min(f.width,h.width)){q.noLabelSpace=true;}}}else{q['minCellWidth']=Math.min(f.width,h.width);}return q;};d.autoHide=function(i,l){return true;};return d;});define('sap/viz/chart/components/util/BuildLayerUtil',["sap/viz/framework/common/util/NumberUtils","sap/viz/framework/common/util/DataUtils","sap/viz/framework/common/util/ArrayUtils","sap/viz/chart/components/axis/renderer/DefaultCategoryLabelRenderer"],function(N,D,A,c){var L=6;var T=5;var V=90;var _={};_._filter=function(a,b){return b.reduce(function(j,k,i){return(!k.invisible&&a[i])?j.concat(a[i]):j;},[]);};_._getLayerslength=function(a){var b=0;if(a.length&&a[0].length){b=a[0].length;}return b;};_._getDisplayTexts=function(a,b){return A.map(a,D.getDisplayTextsConverter(b));};function m(a,b){if(a&&!a.or){var t={or:[a]};t.or.push(b);a=t;}else{a.or.push(b);}return a;}_._mergeCtx=function(a,b){var j=a.length;var k={};for(var i=0;i<j;++i){var v=a[i];var s=b[i];if(!D.isPlainValue(v)){k[s]=D.getDimensionValue(v);k[s+D.DIMENSION_DISPLAYNAME_SUFFIX]=D.getDimensionDisplayName(v);}else{k[s]=v;}}return k;};function d(a,b){return D.getDimensionValue(a)===D.getDimensionValue(b);}_.mergeLabels=function(a,b,k,s,t){var u=[];var v=this._getLayerslength(b);var w=this._getDisplayTexts(b,a._bindingFields);var x=a._cellDict={};var y=0;var z;var B=b.length;for(var i=0;i<v;++i){var C=new Array(B);var E=new Array(B+1);var F=0;var G=0;var H=0;var I=0;var J=true;var K=u[i-1];var M=0;for(var j=0;j<B;++j){var O=this._mergeCtx(b[j],k);var P=1;if(i!==v-1){++G;++H;P=G;G=0;J=H===1;if(i>0&&H>=u[i-1].cells[I].space){H=0;++I;}if(j>0&&!J&&d(b[j][i],b[j-1][i])){var Q=F-1;C[Q].ctx=m(C[Q].ctx,O);C[Q].space++;continue;}}var R=t&&(j!==0&&j!==B-1)?"":w[j][i];var S=x[y]=C[F]={id:y,layer:i,text:R,ctx:O,space:P};E[F]=j;F++;y++;if(K){if(j>=z[M+1]){M++;}var U=K.cells[M];U.children=U.children||[];U.children.push(S);}}C.length=F;E[F]=B;E.length=F+1;z=E;u.push({cells:C});}return u;};_.assignCellSize=function(a,b,k,s){var t=a._isVertical();for(var i=0,u=b.length;i<u;++i){var v=b[i];var w=0;var x=v.cells;for(var j=0,y=x.length;j<y;++j){var z=x[j];q.getRangeInfo(k,w,s,z,t);w+=z.space;}}};function e(a){return a.length===1;}function f(a){return a._isTrellisAxis||a._isInTrellis;}function g(a,b,j,t,k,s,u,v){var w=j[b];var x=a.length*t;var y=0;var z;if(w.rotated||t===0){z=false;}else if(t===1){z=true;}else{z=true;var i;for(i=0;i<a.length;i++){var B=a[i];var C=s(B,b,w);k.push(C);if(C.rotated&&!w.rotated){y++;if(y>x){z=false;break;}}if(!u&&C[v]>B[v]){z=false;break;}}}if(z||(k.length!==a.length)){k.splice(0,k.length);}return z;}_.layoutCells=function(a,b,k,s,t){if(!s){return;}var u=s.propStyle;var v=s.labelVisible;var w=s.checkLabelVisible;var x=+s.truncatedLabelRatioSetting;if(isNaN(x)){x=0.2;}x=Math.max(0,Math.min(1,x));var y=s.defaultRotationAngle;var z=s.autoRotateSetting;if(z!=="auto"&&z!=="fixed"){z="auto";}var B=s.rotationAngleSetting;var C=[0,30,45,60,90];if(C.indexOf(B)<0){B=y;}var E=s.labelRenderer||c;var F;var G=a._isVertical();var H=function(O,q1,K,g1,f1){var r1=u;if(K.isParentLayer){r1=s.propParentStyle;}return q.fillPreferredSize(E,G,O,r1,q1,a._position,K.rotated,g1,f1,s.otherSize,s.wrap);};var I=L+T;var J=k.slice();if(J[0]>J[1]){J.reverse();}var K,M,O;var i,P,j,Q,R,S;var U,W,X;if(a._isVertical()){U="cellHeight";W="minCellWidth";X="cellWidth";}else{U="cellWidth";W="minCellHeight";X="cellHeight";}var Y={};Y.getPreferredSize=H;Y.cellSizeField=U;Y.minCellBandField=W;Y.cellRefSizeField=X;Y.offset=I;Y.isVertical=G;P=b.length;for(i=P-1;i>=0;--i){var Z=!E.autoHide||!E.autoHide(a._isVertical(),i);K=b[i];K.onlyKeepFirstAndLast=t;K.isVisible=true;K.rotated=false;M=K.cells;R=0;if(i!==(P-1)){K.isParentLayer=true;}if(w&&v===false){K.isVisible=false;continue;}var $=x;var a1=f(a);if(a1){$=0;}else if(s.paginationOptions||t){$=1;}var b1;if(i===0){var c1,d1;b1=0;var e1=false;var f1=B;var g1=false;if(B===0){g1=true;}var h1=e(b);if(!h1||a1){if(a._isVertical()){f1=0;}else{f1=V;}}var i1=function(O){return H(O,0,K,g1,f1);};var j1;if(t){M[0].isFirstLabel=true;if(M.length>1){M[M.length-1].isLastLabel=true;j1=[M[0],M[M.length-1]];}else{j1=[M[0]];}}else{j1=M.slice();}var k1;var l1=function(){var q1;var r1=false;if(!Z&&!t){q.excludeCrossBoundCells(j1,J,i1);}var s1=j1.length;k1=Z?1:q.getStep(j1,0,i1);if($===1){k1=1;}var t1=0;var u1=0;var v1=0;for(j=0;j<s1;j+=k1){O=j1[j];if(k1===undefined||j<0){r1=true;break;}F=i1(O);v1++;if(F.rotated){u1++;}if($===0&&u1>0){r1=true;break;}if(!Z&&j!==0&&O.start<q1.end-0.001){u1=0;v1=0;j=-k1;k1=q.getStep(j1,t1,i1);continue;}t1=j;q1=O;}if(f1===0||($===1&&z!=="fixed")){r1=false;}else if(!G&&j1.length===0){r1=true;}else{if(z==="fixed"&&h1){r1=true;}if(u1>0&&v1>0){if(N.preciseSimple(u1/v1)>N.preciseSimple($)){r1=true;}}}return r1;};K.rotated=l1();if(K.rotated){K.rotationAngle=f1;}if(f1===0&&s.wrap){K.wrap=s.wrap;}else{K.wrap=null;}e1=K.rotated;g1=true;if(!Z&&!t){q.excludeCrossBoundCells(j1,J,i1);}c1=[];R=b1=0;for(j=0;j<j1.length;j+=k1){O=j1[j];if(k1===undefined){if(K.rotated&&K.rotationAngle!==V){break;}else{if(!O._preferredSize.noLabelSpace){c1.push(O);F=O._preferredSize;R=F[X];b1=F[W];}break;}}if(w===false&&v===false){F={cellWidth:0,cellHeight:0,minCellHeight:0};if(O){O._preferredSize=F;}}else{F=i1(O);}if(!F.noLabelSpace||t){c1.push(O);}else{continue;}F=O._preferredSize;if(R<F[X]){R=F[X];}d1=F[W];if(d1&&b1<d1){b1=d1;}}if(c1.length===0){K.isVisible=false;R=-I;b1=-I;}S=N.preciseSimple(R+I);for(j=0,Q=M.length;j<Q;++j){O=M[j];O.isVisible=false;}for(j=0,Q=c1.length;j<Q;++j){O=c1[j];O[X]=S;O.isVisible=true;}K.layerBand=S;K.minLayerBand=N.preciseSimple(b1+I);if(s.isFlexibleLayers&&(G||K.rotated)){K.reCalculateLayerContext=true;}}else{b1=0;var m1=[];var n1=g(K.cells,i,b,$,m1,H,Z,U);for(j=0,Q=M.length;j<Q;++j){O=M[j];O.isVisible=true;if(m1.length>0){F=m1[j];}else{F=H(O,i,K,n1);}if(F[W]&&b1<F[W]){b1=F[W];}if(F.rotated&&!K.rotated){K.rotated=true;K.rotationAngle=V;j=-1;continue;}else if(F.noLabelSpace){O.isVisible=false;}if(R<F[X]){R=F[X];}if(!Z&&F[U]>O[U]){if(s.isFlexibleLayers){K.reCalculateLayerContext=true;}else{K.isVisible=false;R=-I;}break;}}S=N.preciseSimple(R+I);var o1=0;for(j=0,Q=M.length;j<Q;++j){M[j][X]=S;if(M[j].isVisible){o1++;}}K.layerBand=S;K.minLayerBand=N.preciseSimple(b1+I);if(o1<=0){K.isVisible=false;}}if(K.reCalculateLayerContext){r(b,i,Y,s.isAllowEmptySegement,s.isSetParentStyleProp);}if(!K.isVisible){for(var p1=b.length-1;p1>i;p1--){b[p1].isVisible=false;}}n(K,G);}};var r=function(a,b,i,j,k){var s=a[b];var t;var C;if(b>0){var u=a[b-1].cells;for(t=0;t<u.length;t++){for(C=0;C<u[t].children.length;C++){u[t].children[C].parentIndex=t;}}}else{for(t=0;t<s.cells.length;t++){s.cells[t].parentIndex=-1;}}var v=[];var w=[];h(s.cells,a,b,i.isVertical,v,w,j);if(v.length===0&&k&&b<(a.length-1)&&a[b+1].isVisible){var x;for(x=b+1;x<a.length;x++){a[x].isVisible=false;}w=[];h(s.cells,a,b,i.isVertical,v,w,j);}for(t=0;t<s.cells.length;t++){s.cells[t].isVisible=false;}for(t=0;t<w.length;t++){if(i.getPreferredSize){var y=i.getPreferredSize(w[t],b,s);w[t].textBand=y[i.cellRefSizeField];w[t].minTextBand=y[i.minCellBandField];}}if(v.length>0){s.isVisible=true;s.layerBand=0;s.minLayerBand=0;for(t=0;t<v.length;t++){v[t].isVisible=true;if(s.layerBand<v[t].textBand){s.layerBand=v[t].textBand;}if(s.minLayerBand<v[t].minTextBand){s.minLayerBand=v[t].minTextBand;}}s.layerBand=N.preciseSimple(s.layerBand+i.offset);for(t=0;t<v.length;t++){v[t][i.cellRefSizeField]=s.layerBand;}s.minLayerBand=N.preciseSimple(s.minLayerBand+i.offset);n(s,i.isVertical);}else{s.isVisible=false;}};var h=function(a,b,j,k,s,t,u){var v;for(var i=0;i<a.length;i++){if(k){if(a[i].contentHeight){v=a[i].contentHeight;break;}}else{if(a[i].contentHeight){v=a[i].contentWidth;break;}}}var w;var x=-1;for(w=(b.length-1);w>=0;w--){if(b[w].isVisible||b[w].isVisible===undefined){x=w;break;}}var y=[];var C;var z=null;var B=null;for(C=0;C<a.length;C++){if(B===null||B!==a[C].parentIndex){if(z){y.push(z);}z=[];B=a[C].parentIndex;}if(B===a[C].parentIndex){z.push(a[C]);}if(C===(a.length-1)){y.push(z);}}var S;for(S=0;S<y.length;S++){if(j!==x){l(v,y[S],k,t);for(C=0;C<y[S].length;C++){if(k){if(v<y[S][C].cellHeight){s.push(y[S][C]);}}else{if(v<y[S][C].cellWidth){s.push(y[S][C]);}}}for(C=0;C<s.length;C++){if(t.indexOf(s[C])<0){t.push(s[C]);}}}else{var E=l(v,y[S],k,s);if(!u){if(E===0){s.splice(0,s.length);break;}}for(C=0;C<s.length;C++){t.push(s[C]);}}}};var l=function(a,s,i,b){var j="cellWidth";if(i){j="cellHeight";}var k=0;var C;var t=0;for(C=0;C<s.length;C++){t+=s[C][j];}var u=0;var v;for(C=0;C<s.length;C++){if(C===0){v=s[C][j]/2-a/2;}else{v+=(s[C-1][j]/2+s[C][j]/2);}if(v>u&&(v+a)<=t){u=v+a;b.push(s[C]);k++;}}return k;};var n=function(i,j){var k=0.8;if(!j&&!i.rotated){i.niceLayerBand=i.layerBand;i.maxLayerBand=i.layerBand;}else{var s=i.layerBand;if(i.minLayerBand){s=i.minLayerBand;}i.minLayerBand=s;i.maxLayerBand=s;i.niceLayerBand=s;if(i.isVisible){if(i.layerBand){i.maxLayerBand=N.preciseSimple(i.layerBand);}var t=[];var C;for(C=0;C<i.cells.length;C++){if(i.cells[C].isVisible){if(j){if(i.cells[C].contentWidth!==undefined&&i.cells[C].contentWidth!==null){t.push(i.cells[C].contentWidth);}}else{if(i.cells[C].contentHeight!==undefined&&i.cells[C].contentHeight!==null){t.push(i.cells[C].contentHeight);}}}}var u=function(a,b){return a-b;};t.sort(u);var v=t[Math.ceil(t.length*k)-1];i.niceLayerBand=N.preciseSimple(v);if(i.maxLayerBand<i.minLayerBand){i.maxLayerBand=i.minLayerBand;}if(i.niceLayerBand<i.minLayerBand){i.niceLayerBand=i.minLayerBand;}}}};var o=function(a,s){var b=N.preciseSimple;var k=0;var v=0;var t;var u=b(s);var w;for(t=0;t<a.length;t++){if(b(a[t].minLayerBand)>b(u)){break;}else{v++;u-=a[t].minLayerBand;}}for(t=0;t<a.length;t++){a[t].isVisible=false;a[t].layerBand=0;}if(v>0){var x=[];var y=0;var z=0;for(t=0;t<v;t++){a[t].isVisible=true;x.push(a[t]);y+=a[t].niceLayerBand;z+=a[t].maxLayerBand;}y=b(y);z=b(z);u=b(s);if(u>=z){for(t=0;t<x.length;t++){x[t].layerBand=x[t].maxLayerBand;}}else{var B=y;for(t=(x.length-1);t>=0;t--){x[t].layerBand=u*(x[t].niceLayerBand/B);}for(var i=0;i<x.length;i++){u=s;B=y;w=false;for(t=(x.length-1);t>=0;t--){if(x[t].layerBand<x[t].minLayerBand){x[t].layerBand=x[t].minLayerBand;x[t].adjusted=true;w=true;}if(x[t].adjusted){u-=x[t].layerBand;B-=x[t].niceLayerBand;}}if(w){for(t=(x.length-1);t>=0;t--){if(!x[t].adjusted){x[t].layerBand=u*(x[t].niceLayerBand/B);}}}else{break;}}u=b(s);B=b(y);for(t=0;t<x.length;t++){delete x[t].adjusted;w=false;if(x[t].layerBand>x[t].maxLayerBand){x[t].layerBand=x[t].maxLayerBand;w=true;}u-=x[t].layerBand;B-=x[t].niceLayerBand;if(w){for(var j=t+1;j<x.length;j++){x[j].layerBand=u*(x[j].niceLayerBand/B);}}}for(t=0;t<x.length;t++){if(u>0){if(x[t].layerBand<x[t].maxLayerBand){if(u>(x[t].maxLayerBand-x[t].layerBand)){u-=(x[t].maxLayerBand-x[t].layerBand);x[t].layerBand=x[t].maxLayerBand;}else{x[t].layerBand+=u;u=0;}}}else{break;}}}k=0;for(t=0;t<x.length;t++){k+=x[t].layerBand;}k=b(k);}return k;};_.flexibleLayoutLayers=function(a,b,s,j){var k=L+T;var t=0;var u;var C;if(s===undefined||s===null){s=Infinity;}var v=[];for(u=0;u<a.length;u++){if(a[u].isVisible===undefined||a[u].isVisible===true){v.push(a[u]);}if(a[u].isVisible&&a[u].cells){a[u].hasEmptyCell=false;for(C=0;C<a[u].cells.length;C++){if(!a[u].cells[C].isVisible){a[u].hasEmptyCell=true;break;}}}}for(u=0;u<a.length;u++){var w=v.length;t=o(v,s);if(!j){for(u=0;u<v.length;u++){var x=false;if(v[u].isVisible&&v[u].hasEmptyCell&&u!==(v.length-1)){x=true;}if(v[u].isVisible&&v[u].cells){for(C=0;C<v[u].cells.length;C++){if(p(v[u].cells[C])){x=true;break;}}}if(x){for(var i=v.length-1;i>u;i--){v[i].isVisible=false;}}}}v=[];for(u=0;u<a.length;u++){if(a[u].isVisible===undefined||a[u].isVisible===true){v.push(a[u]);}}if(v.length>0&&w!==v.length&&v[v.length-1].cells&&v[v.length-1].reCalculateLayerContext){var y={};if(b){y.cellSizeField="cellHeight";y.minCellBandField="minCellWidth";y.cellRefSizeField="cellWidth";}else{y.cellSizeField="cellWidth";y.minCellBandField="minCellHeight";y.cellRefSizeField="cellHeight";}y.offset=(L+T);y.isVertical=b;r(v,v.length-1,y,j);}else{break;}}for(u=0;u<a.length;u++){if(a[u].isVisible&&a[u].cells){for(C=0;C<a[u].cells.length;C++){if(b){a[u].cells[C].cellWidth=a[u].layerBand;if(a[u].cells[C].contentWidth>a[u].layerBand-k){a[u].cells[C].contentWidth=a[u].layerBand-k;}}else{if(a[u].cells[C].cellHeight>a[u].layerBand){a[u].cells[C].cellHeight=a[u].layerBand;}if(a[u].cells[C].contentHeight>a[u].layerBand-k){a[u].cells[C].contentHeight=a[u].layerBand-k;}}}}}t=N.preciseSimple(t);return t;};var p=function(a){var b=true;if(a.children){for(var C=0;C<a.children.length;C++){if(a.children[C].isVisible){b=false;break;}}}return b;};_.getVisibleLayers=function(a,b){var v=[];if(a._properties.get('label.hideSubLevels')){if(b.length){if(b[0].isVisible){v.push(b[0]);}v=[b[0]];}}else{for(var i=0,j=b.length;i<j;++i){if(b[i].isVisible){v.push(b[i]);}}}return v;};var q={};q.defaultLabelGetPreferredSize=function(a){return{cellWidth:a.size,cellHeight:a.size};};q.getRangeInfo=function(j,k,s,t,u){var v=0;var w,x;var y=t.space;for(var i=0;i<y;++i){var z=j[i+k];var a=z[0]*s;var b=z[1]*s;v+=Math.abs(a-b);if(i===0){w=a;}if(i===y-1){x=b;}}if(u){t.cellHeight=v;}else{t.cellWidth=v;}t.cellStart=w;t.cellEnd=x;t.middle=(w+x)/2;};q.fillPreferredSize=function(a,i,b,s,j,k,t,u,v,w,x){var y,z;if(i){y="cellHeight";z="minCellWidth";}else{y="cellWidth";z="minCellHeight";}var B,C;var E=a.getPreferredSize!==undefined;if(E){B=a.getPreferredSize;}else{B=c.getPreferredSize;}if(v===undefined){v=V;}var F=0;if(w){if(w.valueAxis){F=w.valueAxis.width;}else if(w.categoryAxis2){F=w.categoryAxis2.width;}}var G={ctx:b.ctx,styles:s,text:b.text,layer:j,size:b[y],position:k,rotated:t,rotationAngle:v,cellWidth:b.cellWidth,cellStart:b.cellStart,disableAutoRotation:u,additionalWidth:F};if(!t||v===0){G.wrap=x;}C=B.call(a,G);if(!C){C=c.getPreferredSize(G);}if(C[z]===undefined){C[z]=0;}b._preferredSize=C;b.contentWidth=C.cellWidth;b.contentHeight=C.cellHeight;var H=b.middle;var I=C[y]/2;b.start=H-I;b.end=H+I;return C;};q.isCellOutOfBound=function(a,b){var i=[a.start,a.end];if(i[0]>i[1]){i.reverse();}return i[0]<b[0]||i[1]>b[1];};q.findBoundaryBinary=function(a,b,i,s,j){if(j-s===1){return s;}var k=Math.floor((j+s)/2);i(a[k]);if(q.isCellOutOfBound(a[k],b)){return q.findBoundaryBinary(a,b,i,k,j);}else{return q.findBoundaryBinary(a,b,i,s,k);}};q.excludeCrossBoundCells=function(a,b,j){var k;var s=Math.floor(a.length*0.1)||1;var i,t=-1,u=a.length;for(i=0;i<u;){j(a[i]);if(!q.isCellOutOfBound(a[i],b)){t=i;break;}if(i===u-1){break;}i=Math.min(i+s,u-1);}if(t>0){k=q.findBoundaryBinary(a,b,j,t-s,t);}else if(t<0){a.splice(0);return;}if(k!==undefined){a.splice(0,k+1);u=a.length;var v=u-(k+1);if(v>=0){k=undefined;j(a[v]);if(q.isCellOutOfBound(a[v],b)){k=v;for(i=v-1;i>=0;i--){j(a[i]);if(!q.isCellOutOfBound(a[i],b)){break;}k=i;}}else{for(i=v+1;i<u;i++){j(a[i]);if(q.isCellOutOfBound(a[i],b)){k=i;break;}}}a.splice(k,u-k);}}};q.getStep=function(a,s,b){if(a.length<=1){return 1;}var i;var t=a[s];var u=t.end-0.001;var v=a.length;var w;for(var j=s+1;j<v;j++){w=a[j];if(w.cellStart>=u){for(var k=j;k<v;k++){b(a[k]);if(a[k].start>=u){i=k-s;break;}}break;}}return i;};return _;});define('sap/viz/chart/layout/AxisLayout',["sap/viz/framework/common/util/oo","sap/viz/framework/common/util/Constants","sap/viz/framework/common/util/NumberUtils","sap/viz/framework/common/util/PositionUtil","sap/viz/chart/layout/BaseLayout","sap/viz/chart/components/util/BuildLayerUtil"],function(o,C,N,P,B,c){var S=C.DIRECTION.HORIZONTAL;var d=C.DIRECTION.VERTICAL;var e=C.AXIS.SPACING_TO_ROUGH;var f=C.AXIS.SPACING_MAX_IN_PX;var A="axisTitle";function s(a,b){return a.option.order-b.option.order;}function g(a,b){return a.option.priority-b.option.priority;}function h(x,a){return x.module.getPreferredSize(a);}function j(x,a){if(x.option.offsetType===C.AXIS.FIX_LAYOUT_TYPE){return C.AXIS.FIX_TITLE_OFFSET;}else{return x.option.offset*a;}}var k=function(){k.superclass.constructor.apply(this,arguments);this.config.add({sortOrderFn:s,sortPriorityFn:g,offsetFn:j,sizeFn:h,rootWidth:0,rootHeight:0,roughWidth:0,roughHeight:0,position:'',layoutAlgorithm:'auto',isFlexibleLayers:false});};o.extend(k,B);k.prototype.layout=function(a){var b=this.config;var u=b.get('totalWidth');var v=b.get('totalHeight');var w=b.get('position');var x=b.get('offsetFn');var y=b.get('sizeFn');var z=b.get('rootWidth');var D=b.get('rootHeight');var E=b.get('roughWidth');var F=b.get('roughHeight');var G=b.get('isFlexibleLayers');var H=p(w,u,v);var I=q(w,u,v);var J=m(w);var K=n(w);var L=this._dictToArray(a);var M=r(L,b);var O=t(L,b);var Q=K===S;var R,T,U,V,W,X,Y,Z;Z=Math.min(E,F);if(Q){V="minWidth";W="maxWidth";X="minHeight";R="width";T="height";U="x";Y=z;}else{V="minHeight";W="maxHeight";X="minWidth";R="height";T="width";U="y";Y=D;}var $=I;var i=0,_=M.length,a1,b1,c1;var d1=false;var e1=0;var f1=e*Z;for(;i<_;++i){a1=M[i];if(d1){a1.isEnough=false;continue;}b1=y(a1);e1=x(a1,Y);c1=Math.min(e1,f1);c1=Math.min(c1,f);if(b1[W]&&N.preciseSimple($-c1-b1[V])>=0&&Math.ceil(b1[X])<=Math.ceil(H)){a1.isEnough=true;$=N.preciseSimple($-c1);if($>=b1[W]){a1[R]=b1[W];$=N.preciseSimple($-b1[W]);}else{a1[R]=l($,b1.spacings,G);$=0;}}else{a1.isEnough=false;if(b1[W]){d1=true;}}$=N.preciseSimple($);}i=0;_=O.length;var g1={};var h1,i1;if(J<0){i1=0;for(;i<_;++i){h1={x:0,y:0,width:0,height:0};a1=O[i];if(a1.isEnough){e1=x(a1,Y);c1=Math.min(e1,f1);c1=Math.min(c1,f);i1+=c1;h1[U]=i1;i1+=(h1[R]=a1[R]);h1[T]=H;if(b.get("layoutAlgorithm")==="fixed"&&a1.module.alias===A){h1[U]=I-a1[R];}}g1[a1.module.alias]=h1;}}else{i1=I;for(;i<_;++i){h1={x:0,y:0,width:0,height:0};a1=O[i];if(a1.isEnough){e1=x(a1,Y);c1=Math.min(e1,f1);c1=Math.min(c1,f);i1-=c1;i1-=(h1[R]=a1[R]);h1[T]=H;if(b.get("layoutAlgorithm")==="fixed"&&a1.module.alias===A){i1=0;}}h1[U]=i1;g1[a1.module.alias]=h1;}}return g1;};k.prototype.getPreferredSize=function(a){var b=this.config;var u=b.get('totalWidth');var v=b.get('totalHeight');var w=b.get('position');var x=b.get('sizeFn');var y=b.get('offsetFn');var z=this._dictToArray(a);var D=b.get('rootWidth');var E=b.get('rootHeight');var F=b.get('roughWidth');var G=b.get('roughHeight');var H=[];var i=0;var I=0;var J=r(z,b);var K=J.length;var L=n(w);var M=L===S;var O=M?'height':'width';var Q=M?'width':'height';var R=p(w,u,v);var T=P.isVertical(w)?u:v;var U,V,W,X,Y,Z,$,_;_=Math.min(F,G);if(M){Y="maxWidth";Z="minHeight";$=D;}else{Y="maxHeight";Z="minWidth";$=E;}var a1=false;for(;i<K&&!a1;++i){U=J[i];var b1=y(U,$);var c1=e*_;X=Math.min(b1,c1);X=Math.min(X,f);var d1={};d1[Q]=T-I-X;d1[O]=R;V=x(U,d1);if(Math.ceil(V[Z])<=Math.ceil(R)&&V[Y]&&N.preciseSimple(I+X+V[Y])<=N.preciseSimple(T)){I+=X+V[Y];}else if(V[Y]!==0){a1=true;}}var e1=0,f1=0;if(M){e1=I;f1=R;}else{e1=R;f1=I;}return{width:e1,height:f1};};function l(a,b,u){var v;if(u){v=c.flexibleLayoutLayers(b,true,a);}else{v=0;var w;if(!b){return v;}for(var i=0,x=b.length;i<x;++i){w=b[i];v+=w.interval;v=N.preciseSimple(v);if(v>a){switch(w.type){case C.SPACING_TYPE.STEP:v-=w.interval;break;case C.SPACING_TYPE.RANGE:v=a;break;}}}}return v;}function m(a){if(a===C.POSITION.TOP||a===C.POSITION.LEFT){return 1;}else{return-1;}}function n(a){if(a===C.POSITION.TOP||a===C.POSITION.BOTTOM){return d;}else{return S;}}function p(a,w,b){return P.isVertical(a)?b:w;}function q(a,w,b){return P.isVertical(a)?w:b;}function r(a,b){return a.slice().sort(b.get('sortPriorityFn'));}function t(a,b){return a.slice().sort(b.get('sortOrderFn'));}return k;});define('sap/viz/chart/components/util/AxisBodyUtil',[],function(){var s=function(i,t){var a="translate("+t.x+", "+t.y+")";if(i._tickGroupNode){i._tickGroupNode.attr("transform",a);}if(i._labelGroupNode){i._labelGroupNode.attr("transform",a);}};var g=function(m){var b;if(m){b=[];for(var i=0,l=m.length;i<l;++i){var a={id:m[i].id,name:m[i].name,invisible:m[i].hidden};if(m[i].values){var c={};m[i].values.forEach(function(d){c[d.id]=d.name;});a.values=c;}b.push(a);}}return b;};return{setTransform:s,getBindingFields:g};});define('sap/viz/chart/components/axis/AxisContainer',["sap/viz/framework/common/util/Constants","sap/viz/framework/common/util/oo","sap/viz/chart/components/container/UIContainer","sap/viz/framework/common/util/NumberUtils",'sap/viz/framework/common/util/TypeUtils',"sap/viz/framework/common/util/PositionUtil",'sap/viz/chart/components/util/BoundUtil',"sap/viz/chart/components/axis/sub/AxisTitle","sap/viz/chart/components/scrollbar/Scrollbar","sap/viz/chart/layout/AxisLayout",'sap/viz/framework/common/util/PropertyZoneUtil','sap/viz/framework/common/util/FeedingZoneUtil','sap/viz/chart/components/util/AxisBodyUtil','sap/viz/framework/interaction/Constants'],function(C,o,U,N,T,P,B,A,S,a,b,F,c,I){var D="Axis Title";var d={'left':'v-m-yAxis','top':'v-m-xAxis2','right':'v-m-yAxis2','bottom':'v-m-xAxis'};var f=function(r,h){f.superclass.constructor.apply(this,arguments);this._valueAxes=h.valueAxes;this._disableTitle=!!h.disableTitle;this.categoryTitleXoffset=null;this.categoryTitleYoffset=null;this._roughSize={width:0,height:0};this._bodyLayersNumber=-1;var p=this._properties;var t=this;if(h&&h.hasScrollbar){this.setChild(C.AXIS.SCROLLBAR_NAME,new S(r,{name:'plotArea.scrollbar'}),{order:2,priority:0,offset:0});}['height','width'].forEach(function(e){var l={set:function(v,n){if(v===null||parseFloat(v)>=0){return v;}else{return n.value;}}},m={layout:{}};m.layout[e]=l;p.add(m);});if(!h.isTrellis){var i={},j={};i[this._name]={value:[],readonly:true,serializable:false,get:function(){var e=[],z,l,m,n,q,s,u;var v=0;var w=0;if(t._properties.get('title.visible')&&t._selections&&t._selections["axisTitle"]&&t._selections["axisTitle"].length>0){l=t._selections["axisTitle"].node().getBoundingClientRect();if(l.width>1.5&&l.height>1.5){n=[[]];n[0].push([l.left,l.top]);n[0].push([l.right,l.top]);n[0].push([l.right,l.bottom]);n[0].push([l.left,l.bottom]);e.push({"name":t._name+' title',"bound":n});}}if(t._parent&&t._parent.select(".v-m-axisBody").node()){var x=t._parent.select(".v-m-axisBody").node();var y=x.getAttribute('clip-path');if(y&&y.length>0){y=y.replace(/\s/g,"");var E=/^url\(/;y=y.replace(E,"");y=y.replace(/\)$/,"");y=y.replace(/^\"/,"");y=y.replace(/\"$/,"");x=t._parent.select(y).node();}s=x.getBoundingClientRect();if(y&&y.length>0){if(s.width===0&&s.height===0){var G=x.querySelector('rect');if(G){s=G.getBoundingClientRect();}}}if(s.width>1.5||s.height>1.5){m={left:s.left,right:s.right,top:s.top,bottom:s.bottom};q=[[]];q[0].push([m.left+v,m.top+w]);q[0].push([m.right+v,m.top+w]);q[0].push([m.right+v,m.bottom+w]);q[0].push([m.left+v,m.bottom+w]);e.push({"name":t._name,"bound":q});}u=t._parent.node().ownerSVGElement;}b.calcOffsetFromChart(u,e);return e;}};j[this._name]={value:[],readonly:true,serializable:false,get:function(){var e,z,l;if(t._parent){var m=d3.select(t._parent.node().ownerSVGElement);e=F.buildRes(t._name,l,m,t.isByBound());}return e;}};r.zoneManager().add({tempPropertyZone:i,tempFeedingZone:j});}this.setLayoutAlgorithm(new a());this._scale=null;this._bindingFields=[];if(!this._disableTitle){this.setChild("axisTitle",new A(r,h),{order:3,priority:1,offset:C.AXIS.SPACING_TO_ROOT});}this._position=null;this._parent=null;var k=this.runtime().graphicModel();if(k){k.registerExposedModule(h.name);}};o.extend(f,U);f.prototype.zoom=function(s){if(s){this._realSize.width=this._size.width*s.x;this._realSize.height=this._size.height*s.y;this._updateData(this._getSizeInfo());}this._updateSubModules(s);};f.prototype.update=function(){this._updateData(this._getSizeInfo());this._updateSubModules();};f.prototype._updateSubModules=function(){if(this.getChild("axisBody")){this.getChild("axisBody").module.update();}};f.prototype.scroll=function(e){for(var k in this._children){if(this._children.hasOwnProperty(k)){var m=this.getChild(k).module;if(m.scroll){m.scroll(e);}}}};f.prototype.setData=function(e){this._bindingFields=c.getBindingFields(e.metaData)||this._bindingFields;};f.prototype.setPosition=function(p){var e=this._properties;var v=e.get('visible');var h=parseFloat(e.get('layout.height'));var w=parseFloat(e.get('layout.width'));this._position=p;for(var k in this._children){if(this._children.hasOwnProperty(k)){var i=this.getChild(k);i.module.setPosition(this._position);if(k==='axisTitle'){var j=i.option;if(v&&P.isHorizontal(j.position)?h>=0:w>=0){j.offsetType=C.AXIS.FIX_LAYOUT_TYPE;}}}}return this;};f.prototype._isVertical=function(){return P.isVertical(this._position);};f.prototype._isHorizontal=function(){return P.isHorizontal(this._position);};f.prototype._updateData=function(){if(!this._disableTitle){this.getChild("axisTitle").module.setData(this._getTitle());}};f.prototype._getTitle=function(){var t={};t.text="";t.isCustomized=false;t.items=[];var e="";var h=this._properties.get('title.text');if(T.isString(h)){e=h;t.isCustomized=true;}else if(this._bindingFields){e=this._constructTitle(this._bindingFields,t.items);}else{e=D;t.isCustomized=true;}t.text=e;return t;};f.prototype._constructTitle=function(h,t){return"";};f.prototype.getParent=function(){if(this._parent){return this._parent.select("g."+C.CSS.CLASS.AXIS.CONTAINER);}else{return null;}};f.prototype.addARIATag=function(r){};f.prototype.render=function(r){this.addARIATag(r);this._parent=r;f.superclass.render.apply(this,arguments);B.drawBound(r,this._size.width,this._size.height,undefined,true);var p=r.select("g."+C.CSS.CLASS.AXIS.CONTAINER);if(this._size.width>0||this._size.height>0){if(!p.node()){delete this._selections;this._selections=null;p=r.append("g").attr("class",C.CSS.CLASS.AXIS.CONTAINER);}this._initRenderBase(p);this.layout();if(this.getChild("axisBody")){var e=this.getChild("axisBody").module.getAvailableLayersNumber();this._bodyLayersNumber=e;if(!this._disableTitle){this.getChild("axisTitle").module.setTitleHiddenItems(e);}}this._renderSub();}var s=d[this._position];r.classed(s,true);};f.prototype.isVisible=function(){return this._bodyLayersNumber>0;};f.prototype.setChild=function(k,m,e){f.superclass.setChild.apply(this,arguments);if(m.setPosition&&e.position){m.setPosition(e.position);}};f.prototype._setupLayout=function(i,e){this._updateData(i);var h=N.getPositiveInt;var j=this._properties.origin;var p=this.calculatePaddingInPX(j,this._roughSize.width,this._roughSize.height);var k=h(p.propertyPaddingInPX,p.constantPaddingInPX);var l=h(p.propertyPaddingTopInPX,k);var m=h(p.propertyPaddingRightInPX,k);var n=h(p.propertyPaddingBottomInPX,k);var q=h(p.propertyPaddingLeftInPX,k);var r=false;var s=this.getChild("axisBody");if(s&&s.module){if(s.module.isFlexibleLayers){r=s.module.isFlexibleLayers();}}var t=this._layoutAlgorithm.config;t.set('position',this._position);t.set('rootWidth',this._roughSize.width-(m+q));t.set('rootHeight',this._roughSize.height-(l+n));t.set('roughWidth',this._roughSize.width);t.set('roughHeight',this._roughSize.height);t.set('isFlexibleLayers',r);if(i.width!==undefined){t.set('totalWidth',i.width);}if(i.height!==undefined){t.set('totalHeight',i.height);}if((['left','right'].indexOf(this._position)>-1&&this._properties.get("layout.width")!==null)||(['top','bottom'].indexOf(this._position)>-1&&this._properties.get("layout.height")!==null)||(e&&e.pagination)){t.set("layoutAlgorithm","fixed");}};f.prototype._getSizeInfo=function(i){var s={width:this._size.width,height:this._size.height};if(i){if(i.width){s.width=i.width;}if(i.height){s.height=i.height;}}else if(this._realSize.width>this._size.width||this._realSize.height>this._size.height){if(this._isHorizontal()){s.width=this._realSize.width;}else{s.height=this._realSize.height;}}return s;};f.prototype._configLayout=function(){this._setupLayout(this._getSizeInfo());};f.prototype._postLayout=function(){var r=this._layoutResult;var s=this._selections;for(var k in this._children){if(this._children.hasOwnProperty(k)){var m=this._children[k].module;var e=s?s[k]:null;var h=r[k];if(this._isHorizontal()){m.setSize({width:this._size.width,height:h.height});}else{m.setSize({width:h.width,height:this._size.height});}m.setRealSize({width:h.width,height:h.height});if(m.layout){m.layout();}if(e){e.attr("transform","translate("+h.x+","+h.y+")");if((this._name=="categoryAxis"||this._name=="categoryAxis2")&&k=="axisBody"){this.categoryTitleXoffset=h.x;this.categoryTitleYoffset=h.y;}}}}};f.prototype.getPreferredSize=function(i,e){this._setupLayout(this._getSizeInfo(i),e);var l=this._layoutAlgorithm.getPreferredSize(this._children);return N.preciseObject(l);};f.prototype._renderSub=function(){for(var k in this._children){if(this._children.hasOwnProperty(k)){this.getChild(k).module.render(this._selections[k]);}}};function g(e,h,p){var i={left:e.left,right:e.right,top:e.top,bottom:e.bottom};if(p==='left'){i.left=h[0][1][0]+1;}else if(p==='right'){i.right=h[0][0][0]-1;}else if(p==='top'){i.top=h[0][3][1]+1;}else if(p==='bottom'){i.bottom=h[0][0][1]-1;}return i;}f.prototype.appendSynonymClass=function(e,s){var h=d[this._position];e.classed(h,true);};f.prototype.destroy=function(){f.superclass.destroy.call(this);this._bindingFields=null;this._disableTitle=null;this._parent=null;this._position=null;this.categoryTitleXoffset=null;this.categoryTitleYoffset=null;};f.prototype.setRoughSize=function(v){if(v.width!=null){this._roughSize.width=v.width;}if(v.height!=null){this._roughSize.height=v.height;}};f.prototype.isByBound=function(e){return false;};return f;});define('sap/viz/chart/components/axis/renderer/ValueBodyRenderer',["sap/viz/framework/common/util/Constants","sap/viz/framework/common/util/NumberUtils","sap/viz/framework/common/util/PositionUtil","sap/viz/chart/components/util/TextUtils","sap/viz/framework/common/util/TypeUtils","sap/viz/framework/common/util/SVG","sap/viz/framework/property/PropertyManager",'sap/viz/chart/components/util/ValueAxisUtils',"sap/viz/framework/common/util/NameColorUtils","sap/viz/migrate/PropertyUtil"],function(C,N,P,T,a,S,b,V,c,e){var A=C.CSS.CLASS.AXIS;var f=1;var g=6;var h=5;var L=6;var j=3;var r={};r.drawLines=function(s,d,w,i,p,n,o,v){var q=A.PERIMETER+" "+A.LINE;var t=n instanceof b;var u=t?n.get('color'):n.color;if(a.isArray(u)&&v){var x=v.length>1?1:0;u=e.getComplexProperty("color",u,x,n);}var y=0;var z=0;var B=0;var D=0;var E=o.register({fillColor:c.convertColor(u)});var F=t?n.get('axisLine.size'):n.axisLine.size;if(!a.isNumber(F)){F=1;}var G,H,I;if(p===C.POSITION.TOP||p===C.POSITION.BOTTOM){I=w;}else{I=i;}if(d[0]<d[1]){G=d[0]-F/2;H=I+F/2;}else{G=d[1]-F/2;H=I+F/2;}switch(p){case C.POSITION.LEFT:y=w;z=G;B=w;D=H;break;case C.POSITION.RIGHT:y=0;z=G;B=0;D=H;break;case C.POSITION.TOP:y=G;z=i;B=H;D=i;break;case C.POSITION.BOTTOM:y=G;z=0;B=H;D=0;break;}var J=s.select("."+A.LINE);if(!J.node()){J=s.append("line").style("pointer-events","none").attr("class",q).attr("shape-rendering","crispEdges");}J.attr("stroke",E).attr("stroke-width",F);J.attr("x1",y).attr("y1",z).attr("x2",B).attr("y2",D);return J;};var k="."+A.TICK+", ."+A.LONGTICK;function l(t,d){var n=t.length;if(n<=2){return t;}var s=true;var i;for(i=n-1;i>0;--i){if(Math.abs(t[i]-t[i-1])>=d){s=false;break;}}if(s){t.splice(1,n-2);}else{for(i=n-1;i>0;--i){if(Math.abs(t[i]-t[i-1])<d){t.splice(i-1||i,1);}}}return t;}function m(t,d){var i=[];if(t&&a.isArray(t)){i=t.slice(0);l(i,f);if(!d){l(i,g);}}return i;}r.drawTicks=function(s,t,w,n,p,o,q,u,v){var x=o instanceof b;var y=A.PERIMETER+" "+A.TICK;var z=x?o.get('color'):o.color;if(a.isArray(z)&&v){var B=v.length>1?1:0;z=e.getComplexProperty("color",z,B,o);}var D=q.register({fillColor:c.convertColor(z)});var E=x?o.get('axisLine.size'):o.axisLine.size;var F=m(t,u);var i=0,G=F.length;var H=[],I=[],J=[],K=[];switch(p){case C.POSITION.LEFT:for(;i<G;++i){H[i]=w;I[i]=F[i];J[i]=w-h;K[i]=F[i];}break;case C.POSITION.RIGHT:for(;i<G;++i){H[i]=0;I[i]=F[i];J[i]=h;K[i]=F[i];}break;case C.POSITION.TOP:for(;i<G;++i){H[i]=F[i];I[i]=n;J[i]=F[i];K[i]=n-h;}break;case C.POSITION.BOTTOM:for(;i<G;++i){H[i]=F[i];I[i]=0;J[i]=F[i];K[i]=h;}break;}var M=s.selectAll(k).data(F);M.enter().append("line").each(function(){this.setAttribute("class",y);this.setAttribute("stroke",D);this.setAttribute("stroke-width",E);this.setAttribute("shape-rendering","crispEdges");});M.exit().remove();M.each(function(d,i){this.setAttribute("x1",N.preciseSimple(H[i]));this.setAttribute("y1",N.preciseSimple(I[i]));this.setAttribute("x2",N.preciseSimple(J[i]));this.setAttribute("y2",N.preciseSimple(K[i]));});};r.getTrellisBaseValueIndex=function(d){var i=d.length-1;var n=d[0].value,o=d[i].value;var p=V.getTrellisBaseValueIndex(n,o);return(p===1)?i:p;};r.drawLabels=function(s,n,o,w,p,q,t,u,v,x){if(!s){return;}var y=A.LABEL+" "+A.MORPHABLE_LABEL+" "+A.LABEL_BACKWORD;var z=t instanceof b?t.get('label.style'):t.label.style;var B=T.getTextBaselineOffset(z);var i=0;var D=o.length;var E;var F=!!u.applyTrellisBehavior;var G=r.getTrellisBaseValueIndex(o);var H=null;var I=this.runtime().envManager();if(I){H=I.textAnchor();}if(P.isVertical(q)){for(;i<D;++i){E=o[i];E.textAnchor=H;E.x=h+L;if(q===C.POSITION.LEFT){E.x=(w-E.x-E.width);}E.y=n.scale(E.value)-B;E.y+=(F&&i===G)?-j:E.height/2;}}else{for(;i<D;++i){E=o[i];E.textAnchor=H;E.x=n.scale(E.value);if(x&&(i===D-1)){E.x-=E.width;}else if(F&&i===G){E.x+=j;}else{E.x-=E.width/2;}if(q===C.POSITION.TOP){E.y=p-h-L-B;}else{E.y=h+L+E.height-B;}}}var J=v.register({fillColor:z.color});var K=z['fontSize'];var M=z['fontWeight'];var O=z['fontFamily'];var Q=z['fontStyle'];var R=s.selectAll("."+A.LABEL).data(o);R.enter().append("g").each(function(d,i){this.setAttribute("class",y);this.setAttribute("fill",J);this.setAttribute("font-size",K);this.setAttribute("font-weight",M);this.setAttribute("font-family",O);this.setAttribute("font-style",Q);var U=S.create("text");this.appendChild(U);});R.exit().remove();R.each(function(d,i){var U=this.querySelector('text');U.textContent=d.text;U.setAttribute("text-anchor",d.textAnchor);U.setAttribute("x",d.x);U.setAttribute("y",d.y);});};return r;});define('sap/viz/chart/components/util/ClippathUtil',['sap/viz/framework/common/util/ObjectUtils','sap/viz/framework/common/util/Constants'],function Setup(O,C){var c=C.CSS.CLASS.CLIPPATH;var a={drawClippath:function(s,w,h,x,y,p){var b=c;if(p){b=b+"-"+p;}if(w<0){w=0;}if(h<0){h=0;}if(s.select('.'+b).node()===null){var i='clip-path-'+O.guid();var d=s.insert('clipPath',':first-child').attr('class',b).attr('id',i);d.append('rect').attr('x',x).attr('y',y).attr('width',w).attr('height',h);return i;}else{s.select('.'+b).select('rect').attr('width',w).attr('height',h).attr('x',x).attr('y',y);return s.select('.'+b).attr('id');}}};return a;});define('sap/viz/chart/components/axis/sub/ValueAxisBody',["sap/viz/framework/common/util/oo","sap/viz/chart/components/axis/sub/AxisComponent","sap/viz/framework/common/util/Constants","sap/viz/framework/common/util/NumberUtils","sap/viz/chart/components/util/BoundUtil","sap/viz/chart/components/axis/renderer/ValueBodyRenderer","sap/viz/framework/scale/ValueScaleUtil",'sap/viz/framework/common/util/ObjectUtils',"sap/viz/chart/components/util/ValueAxisUtils","sap/viz/framework/common/format/UnitFormat","sap/viz/chart/components/util/ClippathUtil","sap/viz/chart/components/util/AxisBodyUtil","sap/viz/framework/common/util/TypeUtils","sap/viz/framework/common/util/DataGraphics","sap/viz/framework/scale/ValueScale","sap/viz/framework/common/format/FormatManager"],function(o,A,C,N,B,V,a,O,b,U,c,d,T,D,e,F){var f=5;var L=6;var g=5;var j=3;var k=C.CSS.CLASS.AXIS;var l=function(r,h){l.superclass.constructor.apply(this,arguments);this._isPercentageMode=false;this._tickGroupNode=null;this._labelGroupNode=null;this._offset={x:0,y:0};this._valueAxes=h.valueAxes;};o.extend(l,A);l.prototype.setPercentageMode=function(_){this._isPercentageMode=!!_;return this;};l.prototype.update=function(){var p=this._properties;if(p.get('visible')&&this._data){var w=this._size.width;var h=this._size.height;var i=this._position;var s=this._data;if(this._isSpaceEnough()){var t=this._getTicksToRender();var m=a.getTicksPosition(t,s);var n=this._getAllLabels(t,s);var q=this.runtime().effectManager();if(p.get('axisTick.visible')){this.drawTicks(this._tickGroupNode,m,w,h,i,p,q);}if(p.get('label.visible')&&n.length){this.drawLabels(this._labelGroupNode,s,n,w,h,i,p,this._options,q,this._adjustLastLabel);}}}};l.prototype.scroll=function(h){d.setTransform(this,h);this._offset.x=h.x;this._offset.y=h.y;};l.prototype.render=function(s){var p=this._properties;var w=this._size.width;var h=this._size.height;B.drawBound(s,w,h,null,true);s.select("g."+k.LINE_GROUP).remove();s.select("g."+k.TICK_GROUP).remove();s.select("g."+k.LABEL_GROUP).remove();if(this._data&&p.get('visible')){var i=this._position;var m=this._data;var r=m.getRange();var n=null;var q=this.runtime().effectManager();if(this._isSpaceEnough()){var t=this._isVertical();if(p.get('axisLine.visible')){n=s.append("g").attr("class",k.LINE_GROUP);var u=this.drawLines(n,r,w,h,i,p,q,this._valueAxes);D.setData(n.node(),{isVertical:t,isPercentage:this._isPercentageMode});}var v=this._getTicksToRender();var x=a.getTicksPosition(v,m);var y=this._getAllLabels(v,m,false);var z;if(p.get('axisTick.visible')){z=c.drawClippath(s,this._size.width+2,this._size.height+2,-1,-1,"ticks");n=s.append("g").attr('clip-path','url(#'+z+')');this._tickGroupNode=n.append("g").attr("class",k.TICK_GROUP);this.drawTicks(this._tickGroupNode,x,w,h,i,p,q);}if(p.get('label.visible')&&y.length){var E=this.getPadding(this._data);var G={x:0,y:0,width:this._size.width,height:this._size.height};var H=this._getWidestLabel(y)+L+f;var I=0;if(t){G.y-=E.start;G.height+=E.start+E.end;I=H-G.width;if(this._noReLayout&&I>0){G.width+=I;G.x-=I;}}else{G.x-=E.start;G.width+=E.start+E.end;I=H-G.height;if(this._noReLayout&&I>0){G.height+=I;G.y-=I;}}z=c.drawClippath(s,G.width+2,G.height+2,G.x-1,G.y-1,"labels");n=s.append("g").attr('clip-path','url(#'+z+')');this._labelGroupNode=n.append("g").attr("class",k.LABEL_GROUP);this.drawLabels(this._labelGroupNode,m,y,w,h,i,p,this._options,q,this._adjustLastLabel);}}}if(this._offset.x||this._offset.y){d.setTransform(this,this._offset);}};l.prototype._getTicksToRender=function(){return a.getTicks(this._data);};l.prototype.drawLines=V.drawLines;l.prototype.drawTicks=function(i,t,w,h,p,m,n){return V.drawTicks(i,t,w,h,p,m,n,false,this._valueAxes);};l.prototype.drawLabels=V.drawLabels;l.prototype.setData=function(h,n){this._noReLayout=n;if(n){this._fullScale=this._fullScale||this._data;}else{this._fullScale=null;}l.superclass.setData.apply(this,arguments);};l.prototype.paginationOptions=function(){var h;if(this._runtime&&this._runtime._interaction&&this._runtime._interaction._service&&this._runtime._interaction._service.getDataModel){var i=this._runtime._interaction._service.getDataModel();h=i&&i._rawData&&i._rawData._FlatTableD&&i._rawData._FlatTableD._dataset&&i._rawData._FlatTableD._dataset.metadata&&i._rawData._FlatTableD._dataset.metadata.options;}return h;};l.prototype.getMaximizedLabelWidth=function(h,s){var m=h;var i=0;var n=s._domain;var p=s.maximizedDomain;var q=this.paginationOptions();if(q&&p&&n&&!s.isFixed()){if(!T.isNumber(p[0])){p[0]=0;}if(!T.isNumber(p[1])){p[1]=0;}var t=s.getTickHint();var r=new e(p,s.getRange());var u=t*t;r.setTickHint(u);a.perfectTicks(r,u);var v=a.getTicks(r);var w=this._getAllLabels(v,r,true,true);i=this._getWidestLabel(w);}if(m<i){m=i;}return m;};l.prototype.getPreferredSize=function(){var p={minWidth:0,maxWidth:0,minHeight:0,maxHeight:0,spacings:[{"interval":0,"type":C.SPACING_TYPE.STEP}]};var h=this._properties;if(this._data&&h.get('visible')){var s=this._noReLayout?this._fullScale:this._data;var r=s.getRange();var i=Math.abs(r[0]-r[1]);var m=L+f;var t=[],n=[];if(h.get('label.visible')){t=a.getTicks(s);n=this._getAllLabels(t,s,true);}if(this._isVertical()){var q=this._getWidestLabel(n);m+=q;p.minWidth=m;p.maxWidth=L+f+this.getMaximizedLabelWidth(q,s);p.minHeight=i;p.maxHeight=i;}else{m+=this._getHighestLabel(n);p.minWidth=i;p.maxWidth=i;p.minHeight=m;p.maxHeight=m;}p.spacings=[{"interval":m,"type":C.SPACING_TYPE.STEP}];}var u=N.preciseObject(p);this._updatePfdSize(u);return u;};l.prototype.getAvailableLayersNumber=function(){var h=0;if(this._data&&this._properties.get('visible')&&this._isSpaceEnough()){h=1;}return h;};l.prototype.formatTickValue=function(v,i,p,s){var h=p.get("label.formatString");var u=p.get("label.unitFormatType");var m=v;var n;var q={decimalFormatString:U.getDecimalFormatString(U.SUPPORT_CUSTOM_COMPONENTS.VALUEAXIS)};if(i){if(h&&(h.indexOf("u")!==h.length-1)){m=U.format(v,h,u,q);}else{m=N.preciseSimple(v*100).toString();}}else{if(h||u){m=U.format(v,h,u,q);}else{m=N.preciseSimple(v).toString();}}return m;};l.prototype.getPadding=function(s){var h=s.getDomain();var i=this._properties.get("visible");var m=this._properties.get("label.style");var n=this._properties.get("label.visible");if(!i||!n){return{start:g,end:g};}var p={start:j,end:j};p.start+=this._getPadding(this.formatTickValue(h[0],this._isPercentageMode,this._properties,s),m);if(this._isVertical()||!this._adjustLastLabel){p.end+=this._getPadding(this.formatTickValue(h[1],this._isPercentageMode,this._properties,s),m);}return p;};l.prototype._getPadding=function(t,s){var p=0;var h=this._measureTextSize(t,s);if(this._isVertical()){p=h.height/2;}else{p=h.width/2;}return p;};l.prototype._getAllLabels=function(t,s,h,m){var n=[];var p=t.length;for(var i=0;i<p;i++){var q={};var r=t[i];q.value=r;q.text=this.formatTickValue(r,this._isPercentageMode,this._properties);n.push(q);}this._setLabelsPosition(n,s);var u=n;if(!m){u=this._filterLabels(n,h);}return u;};l.prototype._setLabelsPosition=function(h,s){var m=h.length;var p=this._properties;var n=p.get('label.style');var q=this._options&&this._options.applyTrellisBehavior;var t=q?V.getTrellisBaseValueIndex(h):-1;for(var i=0;i<m;++i){var r=h[i];if(!N.isNoValue(r.value)){var u=this._measureTextSize(r.text,n);var w=u.width,v=u.height;r.width=w;r.height=v;var x=s.scale(r.value);if(this._isVertical()){if(t===i){if(i===0){r.start=x;r.end=x+v;}else{r.start=x-v;r.end=x;}}else{r.start=x-v/2;r.end=x+v/2;}}else{if(t===i){if(i===0){r.start=x;r.end=x+w;}else{r.start=x-w;r.end=x;}}else{if((i===m-1)&&(this._isAdjustLastLabel(w))){r.start=x-w;r.end=x+w;}else{r.start=x-w/2;r.end=x+w/2;}}}}}};l.prototype._getOriginalDomainMinMaxSize=function(h){var i=this._properties.get('label.style');return h.map(function(m){var t=this.formatTickValue(m,this._isPercentageMode,this._properties,this._data);return this._measureTextSize(t,i);}.bind(this));};l.prototype._isAdjustLastLabel=function(h){var _=false;var s=this._runtime.statusManager();var p=s.get('ChartPaddingInfo');if(p){var i=p.paddingRight?p.paddingRight:p.padding;if(!this._isVertical()&&(h/2>i)&&((this._properties.origin.get('legendGroup.computedVisibility')===false)||(s.get('legendGroup.isHorizontal')!==false))){_=true;}}this._adjustLastLabel=_;return _;};l.prototype._getWidestLabel=function(h){var t=0;var m=h.length;var s=[];var n=this._name==='valueAxis2'?this._runtime.statusManager().get('globalDomain2'):this._runtime.statusManager().get('globalDomain');if(n){s=this._getOriginalDomainMinMaxSize(n);}for(var i=0;i<m;++i){if(t<h[i].width){t=h[i].width;}}s.forEach(function(p){if(t<p.width){t=p.width;}});return t;};l.prototype._getHighestLabel=function(h){var t=0;var m=h.length;for(var i=0;i<m;++i){if(t<h[i].height){t=h[i].height;}}return t;};l.prototype._filterLabels=function(h,m){var n=this._runtime.propertyManager().get("plotArea.adjustScale");var p=[];var q;var r=this._data.getDomain();var s=false;if(n&&!m&&this._data.getDomainChanged()){var t=this.runtime().statusManager();var u=function(q,r){if(q&&r){if(q[0]>=0&&r[0]<0){s=true;}}};if(this.getName()==="valueAxis"){q=t.get("valueAxisScaleDomain");u(q,r);}else if(this.getName()==="valueAxis2"){q=t.get("valueAxis2ScaleDomain");u(q,r);}}if(h.length>0){var v=h.length;if((h[0].value<0||h[v-1].value<0)&&(h[0].value>0||h[v-1].value>0)){var w=[];var x=[];for(var i=0;i<h.length;i++){if(h[i].value<=0){w.push(h[i]);}if(h[i].value>=0){x.push(h[i]);}}var y;var z=w.length;if(w[0].value<=w[z-1].value){y=w[0];}else{y=w[z-1];}var E;var G=x.length;if(x[0].value<=x[G-1].value){E=x[G-1];}else{E=x[0];}w=b.calculateLabelsToDrawHelper(w,false);x=b.calculateLabelsToDrawHelper(x,false);if(w[0].value>w[w.length-1].value){w.reverse();}if(x[0].value>x[x.length-1].value){x.reverse();}if(w[w.length-1].value===0&&x[0].value===0){w.pop();}var H=w.concat(x);if(y.value!==H[0].value){H.splice(0,0,y);}if(E.value!==H[H.length-1].value){H.push(E);}if(H[0].start>H[H.length-1].start){H.reverse();}p=b.calculateLabelsToDrawHelper(H,s);}else{p=b.calculateLabelsToDrawHelper(h,false);}if(p.length<=1||(p.length===2&&b.isOverLapped(p[0],p[1]))){p=[];}}var I=function(q,r,J,K){if(q&&r){var M=J.length;var i=K?0:M-1;for(;K?i<J.length:i>0;K?i++:i--){if(J[i].value<0){J[i].text="";}else{break;}}}};if(s){if(this.getName()==="valueAxis"){I(q,r,p,this._position==="left"?false:true);}else if(this.getName()==="valueAxis2"){I(q,r,p,false);}}return p;};l.prototype.destroy=function(){l.superclass.destroy.call(this);this._isPercentageMode=null;this._tickGroupNode=null;this._labelGroupNode=null;};return l;});define('sap/viz/chart/components/axis/ValueAxis',["sap/viz/framework/common/util/oo","sap/viz/chart/components/axis/AxisContainer","sap/viz/chart/components/axis/sub/ValueAxisBody","sap/viz/framework/scale/ValueScale"],function(a,A,V,b){var c=function(r,o){c.superclass.constructor.apply(this,arguments);this.setChild("axisBody",new V(r,o),{order:1,priority:2,offset:0});var t=this;var d,e,m,f,s,g;if(this._name==='valueAxis'){s='primaryScale';}if(this._name==='valueAxis2'){s='secondaryScale';}d='plotArea.'+s+'.autoMinValue';e='plotArea.'+s+'.autoMaxValue';m='plotArea.'+s+'.minValue';f='plotArea.'+s+'.maxValue';g='plotArea.'+s+'.fixedRange';this._properties.origin.add(d,{defaultValue:[],serializable:false,get:function(){return(t._scale?(t._scale.getAutoDomain()?t._scale.getAutoDomain()[0]:t._scale.getDomain()[0]):undefined);}});this._properties.origin.add(e,{defaultValue:[],serializable:false,get:function(){return(t._scale?(t._scale.getAutoDomain()?t._scale.getAutoDomain()[1]:t._scale.getDomain()[1]):undefined);}});this._properties.origin.add(m,{defaultValue:[],serializable:false,get:function(){if(t._scale&&t._scale.getDomainFixed()[0]){return t._scale.getDomain()[0];}return null;}});this._properties.origin.add(f,{defaultValue:[],serializable:false,get:function(){if(t._scale&&t._scale.getDomainFixed()[1]){return t._scale.getDomain()[1];}return null;}});this._properties.origin.add(g,{defaultValue:[],serializable:false,get:function(){if(t._scale&&t._scale.getDomainFixed()){var h=t._scale.getDomainFixed();var i=h[0];var j=h[1];if(!i&&!j){return false;}return true;}return false;}});};a.extend(c,A);c.prototype.setPercentageMode=function(_){this.getChild("axisBody").module.setPercentageMode(!!_);return this;};c.prototype.getMaxZoomRatio=function(){var r=this._scale.getTickHint();if(r>=1){return r;}else{return Number.MAX_VALUE;}};c.prototype.setScale=function(d){if(d.scale){this._scale=new b(d.scale.getDomain(),[0,1],d.scale.getDomainFixed(),undefined,d.scale.maximizedDomain);this._scale.setDomainChanged(d.scale.getDomainChanged());this._scale.setZeroAdjusted(d.scale.getZeroAdjusted());}};c.prototype.setData=function(d,n){this._noReLayout=n;c.superclass.setData.apply(this,arguments);this.setScale(d);if(d.scale){this._scale.setAutoDomain(d.scale.getAutoDomain());this._scale.setTickHint(d.tickHint);}};c.prototype.getPadding=function(s){var d=this.getChild("axisBody");if(!d||!s){return{start:0,end:0};}return d.module.getPadding(s);};c.prototype._updateData=function(i){c.superclass._updateData.apply(this,arguments);if(this._scale){if(this._isVertical()){this._scale.setRange([i.height,0]);}else{this._scale.setRange([0,i.width]);}}this.getChild("axisBody").module.setData(this._scale,this._noReLayout);};c.prototype._constructTitle=function(h,t){var d=h.map(function(o){return o.name||o.id;}).join(" & ");var i={};i.isHidden=false;i.text=d;t.push(i);return d;};c.prototype.destroy=function(){c.superclass.destroy.call(this);this._scale=null;};c.prototype.supportFixedLayout=true;return c;});define('sap/viz/chart/components/axis/renderer/OrdinalCommonBodyRenderer',["sap/viz/framework/common/util/Constants","sap/viz/framework/common/util/ArrayUtils","sap/viz/framework/common/util/NumberUtils","sap/viz/chart/components/util/TextUtils","sap/viz/framework/common/util/TypeUtils","sap/viz/chart/components/axis/renderer/ValueBodyRenderer","sap/viz/chart/components/axis/renderer/DefaultCategoryLabelRenderer","sap/viz/framework/common/util/SVG","sap/viz/framework/common/util/PositionUtil","sap/viz/framework/common/util/RuleUtil","sap/viz/chart/components/util/StyleUtils","sap/viz/framework/common/util/GeometryUtils","sap/viz/framework/common/util/DataGraphics"],function(C,A,N,T,a,V,D,S,P,R,b,G,c){var f=C.CSS.CLASS.AXIS;var g="categorylabel-id";var h=5;var L=6;var j=90;var k="#B3B3B3";var l=h+L-1;function m(d,e){var q=0;for(var i=0;i<e;++i){q+=d[i].layerBand;}return q;}var n=function(d){var e=-1;if(d.position===C.POSITION.TOP||d.position===C.POSITION.BOTTOM){if(d.rotated){e=d.size.height;if(d.rotationAngle!==j){var i=d.styles;var q=T.canvasMeasure(d.text,i.fontSize,i.fontWeight,i.fontFamily).height;q=N.preciseSimple(q);var x=(q/Math.tan(d.rotationAngle*Math.PI/180));e=e/(Math.sin(d.rotationAngle*Math.PI/180));e-=x;var y=d.cellWidth/2+d.cellStart+(d.additionalWidth?d.additionalWidth:0);var F=y/(Math.cos(d.rotationAngle*Math.PI/180));if(e>F){e=F;}e+=l;}}else{e=d.size.width+l;}}else{e=d.size.width;}if(e>=0){e-=l;}return e;};var r=function(){this.defaultCategoryLabelRenderer=D;};r.prototype.drawLines=function(d,e,i,q,x,y,F,H){V.drawLines(d,i,q,x,y,F,H);};function o(d,e,q){var x=d.length;var y=e[x-1].length;var F=d.slice().reverse();var H=new Array(y);for(var i=0;i<y;++i){var I=x-1;var J=e[I][i];while(I>0&&e[I-1].indexOf(J)>-1){I--;}I=x-I;var K=I>1;var O=!q||K?m(F,I):h;H[i]={length:O,isLongTick:K};}return H;}r.prototype.drawTicks=function(d,e,q,x,y,F,H,I){if(!e.length||!q.length){return;}var J=x.width;var K=x.height;var O=F.axisTick.shortTickVisible;var Q=F.axisTick.visible;var U=t(q,x,y);var W=e.length;var X=o(e,U,true);var Y;if(W===1){Y=U[0];}else{Y=U[U.length-1];}if(((O===false)&&Q)||((O===true)&&!Q)){var i;for(i=(X.length-1);i>=0;i--){if((Q&&!X[i].isLongTick)||(!Q&&X[i].isLongTick)){Y.splice(i,1);X.splice(i,1);}}}if(W===1){if(O||Q){var Z=I||this._isForceDrawTicks(U,q);V.drawTicks(d,Y,J,K,y,F,H,Z);}}else if(W>1){this._drawTicks(d,Y,J,K,y,X,F,H,F.axisLine.size);}};r.prototype._isForceDrawTicks=function(d,e){return d[0].length<e[0].length;};r.prototype._forceLabelRectRotation=function(){return false;};r.prototype._drawTicks=function(e,q,x,y,F,H,I,J,K){var O=f.PERIMETER;var Q=O+" "+f.TICK;var U=O+" "+f.LONGTICK;var W=J.register({fillColor:I.color});var i=0,X=q.length;var Y=[],Z=[],$=[],_=[];switch(F){case C.POSITION.LEFT:for(;i<X;++i){Y[i]=x;Z[i]=q[i];$[i]=x-H[i].length;_[i]=q[i];}break;case C.POSITION.RIGHT:for(;i<X;++i){Y[i]=0;Z[i]=q[i];$[i]=H[i].length;_[i]=q[i];}break;case C.POSITION.TOP:for(;i<X;++i){Y[i]=q[i];Z[i]=y;$[i]=q[i];_[i]=y-H[i].length;}break;case C.POSITION.BOTTOM:for(;i<X;++i){Y[i]=q[i];Z[i]=0;$[i]=q[i];_[i]=H[i].length;}break;}var a1=e.selectAll("."+O).data(q);a1.enter().append("line").each(function(d,i){var b1=Q;if(H[i].isLongTick){b1=U;}this.setAttribute("class",b1);this.setAttribute("stroke",W);this.setAttribute("stroke-width",K);this.setAttribute("shape-rendering","crispEdges");});a1.exit().remove();a1.each(function(d,i){this.setAttribute("x1",N.preciseSimple(Y[i]));this.setAttribute("y1",N.preciseSimple(Z[i]));this.setAttribute("x2",N.preciseSimple($[i]));this.setAttribute("y2",N.preciseSimple(_[i]));});};r.prototype.drawGridTicks=function(d,e,i,q,x,y,F,H){var I=e.length;if(I===0){return;}var J=o(e,i);this._drawTicks(d,i[i.length-1],q,x,y,J,F,H,F.size);};r.prototype.drawLabels=function(d,e,q,x,y,F,H,I,J){var K=e.slice().reverse();var O=K.length;var Q=0;var i=0;for(;i<O;++i){Q=m(K,i);this.drawSingleLayerLabels(d,K[i],q,x,y,Q,i,K,F,H,I,J);}while(d.select(".index_"+i).node()){d.selectAll(".index_"+i).remove();++i;}};var p=function(d,e,i,q){var F=2;var x=parseFloat(d.getAttribute("x"));var y=parseFloat(d.getAttribute("y"));var H=parseFloat(d.getAttribute("width"));var I=parseFloat(d.getAttribute("height"));d.setAttribute("width",H+2*F);d.setAttribute("height",I+2*F);var J=i;var K=q;var O=Math.sqrt(2)*F;var Q;if(e===j/2){K=q-O;}else if(e<j/2){Q=2*j-(j-e)-(j/2);K=q-O*Math.sin(Q*Math.PI/180);J=i+O*Math.cos(Q*Math.PI/180);}else{Q=(j-e)+(j/2);K=q-O*Math.sin(Q*Math.PI/180);J=i-O*Math.cos(Q*Math.PI/180);}return"translate("+J+","+K+")";};r.prototype._setLabelRectSize=function(d,e,i){if(d&&e){d.setAttribute("width",e.width);d.setAttribute("height",e.height);}};function s(d,e){var i=d.windowSize||d;var x=0,y=0;if(d.positionInWindow){x=d.positionInWindow.x;y=d.positionInWindow.y;}var q=i.width,F=i.height,H=d.offset;var I,J;switch(e){case C.POSITION.LEFT:case C.POSITION.RIGHT:I=-H.y-y;J=F+I;break;default:I=-H.x-x;J=q+I;break;}return{min:N.preciseSimple(I)-0.0001,max:N.preciseSimple(J)+0.0001};}function t(d,e,q){var x=s(e,q);var y=[];for(var i=0,F=d.length;i<F;i++){var H=d[i];var I=A.bisearch(H,x.min);var J=A.bisearch(H,x.max);y.push(H.slice(I,J+1));}return y;}function u(d,e,q){var x=s(e,q);var y=[];for(var i=0,F=d.length;i<F;i++){var H=d[i];if(H.cellStart<=x.max&&H.cellEnd>=x.min){y.push(H);}}return y;}var v=f.LABEL+" "+f.MORPHABLE_LABEL+" "+f.LABEL_BACKWORD+" "+f.LABEL_SELECTION;r.prototype._createLabelStyle=function(e,d){this._propStyle=d.style;this._propParentStyle=b.buildParentStyle(d.style,d.parentStyle);};r.prototype._getLabelStyle=function(d,i){var e=this._propStyle;if(i){e=this._propParentStyle;}return e;};var M=3;var E=3;var w=24;r.prototype.drawSingleLayerLabels=function(q,x,y,F,H,I,J,K,O,Q,U,W){var X=g;var Y=y.width;var Z=y.realSize&&y.realSize.width;var $=y.height;var _=H.labelRenderer;var a1=true;if(!a.isFunction(_)){_=this.defaultCategoryLabelRenderer;a1=false;}var b1=x.onlyKeepFirstAndLast;this._createLabelStyle(O,H.label);var c1=this._getLabelStyle(null,x.isParentLayer);var d1=O.register({fillColor:c1.color});var e1=[];var i;var f1;for(i=0,f1=x.cells.length;i<f1;++i){var g1=x.cells[i];if(g1.isVisible){g1._cellIndex=i;e1.push(g1);g1.cellStart=N.preciseSimple(g1.cellStart);g1.cellEnd=N.preciseSimple(g1.cellEnd);g1.cellWidth=N.preciseSimple(g1.cellWidth);g1.end=N.preciseSimple(g1.end);g1.middle=N.preciseSimple(g1.middle);g1.start=N.preciseSimple(g1.start);}}var h1=x.rotated;var i1=K.length===1?L:h;this._setLabelParameters(e1,F,I,Y,$,i1,x);var j1=false;if(b1){e1.forEach(function(e,i){e.textBiggerThanCell=e._preferredSize.textSize&&e._preferredSize.textSize.width>e.cellWidth;if(e.textBiggerThanCell){e.alignMode=e.isFirstLabel?"ALIGIN_LEFT_MOST":"ALIGIN_RIGHT_MOST";}});var k1,l1;if(e1.length===2&&(e1[0].textBiggerThanCell||e1[1].textBiggerThanCell)){var m1=e1[0]._preferredSize.textSize.width;var n1=e1[1]._preferredSize.textSize.width;var o1=e1[0].textBiggerThanCell?m1:(e1[0].middle+m1/2);var p1=e1[1].textBiggerThanCell?(Z-n1):(e1[1].middle-n1/2);var q1=p1-w;if(o1>q1){if(e1[0].text.length>M){k1=e1[0].text.slice(0,M)+"...";l1=z(k1,c1);var r1=e1[0].textBiggerThanCell?l1:(e1[0].middle+l1/2);if(l1>q1){e1=[e1[1]];}else{if(e1[0].textBiggerThanCell){j1=q1;}else{j1=Math.max((q1-e1[0].middle)*2,0);}if(j1<l1){e1=[e1[1]];}}}else{e1=[e1[1]];}}}if(e1.length===1&&e1[0].textBiggerThanCell&&e1[0]._preferredSize.textSize.width>Z){if(e1[0].text.length>M){k1=e1[0].text.slice(0,M)+"...";l1=z(k1,c1);if(l1>Z){e1=[];}}else{e1=[];}}}else{e1=u(e1,y,F);}var s1=P.isVertical(F);var t1=s1?"cellHeight":"cellWidth";var u1=0;if(W){if(W.valueAxis){u1=W.valueAxis.width;}else if(W.categoryAxis2){u1=W.categoryAxis2.width;}}var v1={cellStart:null,cellWidth:null,size:null,text:null,ctx:null,childCells:null,position:F,rotated:h1,rotationAngle:x.rotationAngle,styles:null,needRowAxisOffset:Q,labelOffset:U,additionalWidth:u1,reverseDots:H.reverseDots,wrap:x.wrap};var me=this;var x1=q.selectAll(".index_"+J).data(e1);x1.enter().append("g").each(function(d,i){var e=me._getLabelStyle(d,x.isParentLayer);this.setAttribute("class",v+" index_"+J);this.setAttribute("fill",d1);this.setAttribute("font-size",e.fontSize);this.setAttribute("font-weight",e.fontWeight);this.setAttribute("font-family",e.fontFamily);this.setAttribute("font-style",e.fontStyle);});x1.exit().remove();var y1=this._forceLabelRectRotation();x1.each(function(d,i){var e=me._getLabelStyle(d,x.isParentLayer);var w1=e.fontSize;var z1=e.fontWeight;var A1=e.fontFamily;var B1=e.fontStyle;v1.styles=e;this.setAttribute("font-size",e.fontSize);this.setAttribute("font-weight",e.fontWeight);this.setAttribute("font-family",e.fontFamily);this.setAttribute("font-style",e.fontStyle);this.setAttribute(X,d.id);this.setAttribute("transform","translate("+d.x+","+d.y+")");var C1=d._preferredSize;var D1=Math.max(d[t1],C1[t1]);v1.size=s1?{width:d.cellWidth,height:D1}:{width:D1,height:d.cellHeight};v1.cellStart=d.cellStart;v1.cellWidth=d.cellWidth;v1.text=d.text;v1.ctx=d.ctx;var E1=false;if(K[J-1]&&K[J-1].isVisible){E1=true;}if(K.length>1&&E1){v1.childCells=K[J].cells[d._cellIndex].children;}v1.unfilteredFirstChild=d.children&&d.children[0];var F1;if(b1){if(d.isFirstLabel&&j1!==false){F1=j1;}else{F1=Z;}}else{F1=n(v1);}v1.sizeLimit=F1;v1.cell=d;v1.labelAlignment="top";if(H.label.alignment==="center"){v1.labelAlignment=H.label.alignment;}var G1=z(d.text,e);var H1=0;if(d.text.length>1){H1=z(d.text[0]+"...",e);}var I1=null;if(F1>=Math.min(H1,G1)){I1=this.querySelector("."+f.BACKGROUND_RECT);if(!I1){I1=S.create("rect");I1.setAttribute("class",f.BACKGROUND_RECT);I1.setAttribute("fill","transparent");this.appendChild(I1);}else if(b1){I1.setAttribute("fill","transparent");}I1.setAttribute("x",d.rectX);I1.setAttribute("y",d.rectY);}if(d.alignMode){v1.alignMode=d.alignMode;}else{delete v1.alignMode;}var J1=this.querySelector(".v-axis-label-wrapper");var K1=null;if(J1&&a.isFunction(_.update)){if(J1.childNodes&&J1.childNodes.length>0){K1=J1.childNodes[0];}_.update(J1.firstChild,v1);}else{K1=_(v1);if(K1===undefined){K1=me.defaultCategoryLabelRenderer(v1);}if(K1){if(J1){J1.parentNode.removeChild(J1);}J1=S.create("g");J1.setAttribute("class","v-axis-label-wrapper");J1.appendChild(K1);this.appendChild(J1);}}if(!a1&&H.textAnchor){K1.setAttribute("text-anchor",H.textAnchor);}if(I1){var L1;if(me.labelRectSizeNeedTextNodeSize){if(K1){var M1=G.getBBox(K1);if(y1&&h1){L1={width:M1.height,height:M1.width};}else{L1=M1;}}}var N1={width:y1&&h1?d.rectHeight:d.rectWidth,height:y1&&h1?d.rectWidth:d.rectHeight};me._setLabelRectSize(I1,N1,L1);var O1,P1,Q1;if(x.rotated&&x.rotationAngle!==j&&x.rotationAngle!==0){if(d.isEventRectLimited){O1=T.canvasMeasure(d.text,w1,z1,A1);P1=N.preciseSimple(O1.height);Q1=N.preciseSimple(O1.width);var R1=Math.min(F1,Q1);I1.setAttribute("width",P1);I1.setAttribute("height",R1);var S1=P1/4*Math.sin(v1.rotationAngle*Math.PI/180);var T1=p(I1,v1.rotationAngle,-S1,h);var U1="rotate("+(90-v1.rotationAngle)+","+d.rectX+","+d.rectY+") ";I1.setAttribute("transform",T1+' '+U1);}else{I1.setAttribute("transform","skewX(-"+(90-x.rotationAngle)+")");var V1=d.contentWidth*3;if(V1<d.cellWidth){I1.setAttribute("width",V1);I1.setAttribute("x",d.rectX+d.cellWidth/2-V1/2);}}}else{I1.removeAttribute("transform");}}if(J1){this._cellIndex=d._cellIndex;var i1=d[t1]-C1[t1];if(i1<0){J1.setAttribute("transform","translate("+(s1?("0, "+i1/2):(i1/2+",0"))+")");}else{J1.removeAttribute("transform");}}});};var z=function(d,e){var i=T.canvasMeasure(d,e['fontSize'],e['fontWeight'],e['fontFamily']).width;i=N.preciseSimple(i);return i;};function B(d,e,i){if(!d||e<1||!d.length||!d[0].cells.length){return null;}var x=[];var y=d[0].cells[0].layer;var F=d[e].cells[i];if(F.children){var q=F.children.slice();while(q.length){var H=q.shift();if(H.layer<y){q=q.concat(H.children);}else if(H.layer===y){x.push(H);}}}return x;}r.prototype._setLabelParameters=function(d,e,q,x,y,F,H){var i=0,I=d.length,J;switch(e){case C.POSITION.LEFT:for(i=0;i<I;++i){J=d[i];J.x=x-q-J.cellWidth;J.y=J.cellStart;}break;case C.POSITION.RIGHT:for(i=0;i<I;++i){J=d[i];J.x=q;J.y=J.cellStart;}break;case C.POSITION.TOP:for(i=0;i<I;++i){J=d[i];J.x=J.cellStart;J.y=y-q-J.cellHeight;}break;case C.POSITION.BOTTOM:for(i=0;i<I;++i){J=d[i];J.x=J.cellStart;J.y=q;}break;}for(i=0;i<I;++i){var K=false;switch(e){case C.POSITION.LEFT:case C.POSITION.RIGHT:if(d[i].cellHeight-2<d[i].contentHeight){K=true;}break;case C.POSITION.TOP:case C.POSITION.BOTTOM:if(!H.rotated||H.rotationAngle===0){K=false;}else{if(d[i].cellWidth-2<d[i].contentWidth){K=true;}if(H.rotated&&H.rotationAngle!==j&&d[i].cellWidth<(d[i].contentWidth*3)){K=true;}}break;}J=d[i];if(K){switch(e){case C.POSITION.LEFT:J.rectX=J.cellWidth-J.contentWidth-F;J.rectY=(J.cellHeight-J.contentHeight)/2;J.rectWidth=J.contentWidth;J.rectHeight=J.contentHeight;break;case C.POSITION.RIGHT:J.rectX=F;J.rectY=(J.cellHeight-J.contentHeight)/2;J.rectWidth=J.contentWidth;J.rectHeight=J.contentHeight;break;case C.POSITION.TOP:J.rectX=(J.cellWidth-J.contentWidth)/2;J.rectWidth=J.contentWidth;J.rectHeight=J.contentHeight;J.rectY=J.cellHeight-J.contentHeight-F;break;case C.POSITION.BOTTOM:J.rectX=(J.cellWidth-J.contentWidth)/2;J.rectY=F;J.rectWidth=J.contentWidth;J.rectHeight=J.contentHeight;break;}if(e===C.POSITION.BOTTOM||e===C.POSITION.TOP){if(H.rotated&&H.rotationAngle!==j){d[i].rectY=0;d[i].rectX=J.cellWidth/2;}}}else{J.rectX=1;J.rectY=1;J.rectWidth=J.cellWidth-2<0?0:J.cellWidth-2;J.rectHeight=J.cellHeight-2<0?0:J.cellHeight-2;}J.isEventRectLimited=K;}};return r;});define('sap/viz/chart/components/axis/sub/OrdinalCommonAxisBody',["sap/viz/framework/common/util/Constants","sap/viz/framework/common/util/StatusConstants","sap/viz/framework/common/util/oo","sap/viz/chart/components/axis/sub/AxisComponent","sap/viz/framework/common/util/NumberUtils","sap/viz/framework/common/util/TypeUtils","sap/viz/chart/components/util/StyleUtils","sap/viz/chart/components/util/BoundUtil","sap/viz/chart/components/axis/renderer/OrdinalCommonBodyRenderer","sap/viz/chart/components/util/ClippathUtil","sap/viz/chart/components/util/AxisBodyUtil","sap/viz/chart/components/axis/renderer/DefaultCategoryLabelRenderer","sap/viz/chart/components/util/BuildLayerUtil"],function(C,S,a,A,N,T,b,B,O,c,d,D,f){var g='in';var h=C.CSS.CLASS.AXIS;var V=90;var M=3;var k=function(){k.superclass.constructor.apply(this,arguments);this._layers=null;this._domainChanged=true;this._rawLayers=null;this._bindingFieldIds=null;this._hasNegativeValue=false;this._styleChanged=true;this._localeChanged=true;this._labelOffset=5;var s=function(){this._styleChanged=true;};["fontFamily","fontSize","fontWeight","fontStyle"].forEach(function(e){this[e+"PW"]=this._properties.watch("label.style."+e,s.bind(this));this[e+"ParentPW"]=this._properties.watch("label.parentStyle."+e,s.bind(this));},this);this._isInTrellis=false;this._tickGroupNode=null;this._labelGroupNode=null;this._offset={x:0,y:0};this._cellDict={};this._bodyRenderer=new O();this._deltaBound=null;this._otherSize=null;this._buildUtils=f;this._selection=null;};a.extend(k,A);k.prototype.setBuildLayerUtil=function(e){this._buildUtils=e;};k.prototype.setBodyRenderer=function(r){if(r){this._bodyRenderer=r;}};k.prototype.setData=function(_){var e=this._data;if(!e){this._domainChanged=true;}else{var o=e.getDomain();var n=_.getDomain();if(o!==n&&JSON.stringify(o())!==JSON.stringify(n())){this._domainChanged=true;}}return k.superclass.setData.apply(this,arguments);};k.prototype.setInTrellis=function(_){this._isInTrellis=_;};k.prototype.isFlexibleLayers=function(l){var i=false;if(!this._isInTrellis&&this._rawLayers){if(this._rawLayers.length>1){i=true;}}return i;};k.prototype.isAllowEmptySegement=function(){var i=false;if(this._properties){var l=this._properties.get('labelRenderer');if(l&&(l!==D)){if(l.isAllowEmptySegement&&T.isFunction(l.isAllowEmptySegement)){i=l.isAllowEmptySegement();}else{i=true;}}}return i;};k.prototype.setBindingFields=function(_){var e=_.map(function(o){return o.id;});if(JSON.stringify(this._bindingFieldIds)!==JSON.stringify(e)){this._domainChanged=true;}this._bindingFieldIds=e;this._bindingFields=_;return this;};k.prototype.setHasNegativeValue=function(v){this._hasNegativeValue=!!v;return this;};k.prototype.update=function(){this._update(true);var e=0;if(this._needExtened()&&this._otherSize){if(this._otherSize.valueAxis){e=this._otherSize.valueAxis.width;}else if(this._otherSize.categoryAxis2){e=this._otherSize.categoryAxis2.width;}}var r=this._selection.select('.v-clippath rect');r.attr('width',this._size.width+2+e).attr('x',-1-e);};k.prototype._update=function(r){if(!this._tickGroupNode&&!this._labelGroupNode){return;}var p=this._properties.get();if(this._data&&p.visible){var w=this._size.width;var e=this._size.height;var i=this._position;if(r){this._layers=this._buildLayers(this._data);this.layout();}var l=this._getAvailableLayers();var j=l.length>0?l:this._layers;var o=this._properties.origin;var u=o.get("plotArea.gridline.zeroLine.unhighlightAxis");if(this._hasNegativeValue===true&&u===true){p.color=o.get("plotArea.gridline.color");}if(this._isSpaceEnough()){var m={width:w,height:e,offset:this._offset,windowSize:this._windowSize,positionInWindow:this._positionInWindow,realSize:this._realSize};if(p.axisTick&&(p.axisTick.visible||p.axisTick.shortTickVisible)){if(r){this._ticks=this._getTicks(j);}var t=this._ticks;this._bodyRenderer.drawTicks(this._tickGroupNode,j,t,m,i,p,this.runtime().effectManager(),this._froce);}if(p.label&&p.label.visible){this._renderLabels(p,l,m,i);}}}};k.prototype.setVisibleWindow=function(s,p){this._windowSize=s;this._positionInWindow=p;this._update(false);};k.prototype.scroll=function(o){d.setTransform(this,o);this._offset.x=o.x;this._offset.y=o.y;this._update(false);};k.prototype.render=function(s){this._selection=s;s.select("g."+h.LINE_GROUP).remove();s.select("g."+h.TICK_GROUP).remove();s.select("g."+h.LABEL_GROUP).remove();var e=0;if(this._needExtened()&&this._otherSize){if(this._otherSize.valueAxis){e=this._otherSize.valueAxis.width;}else if(this._otherSize.categoryAxis2){e=this._otherSize.categoryAxis2.width;}}var i=c.drawClippath(d3.select(s.node()),this._size.width+2+e,this._size.height+2,-1-e,-1);s.attr('clip-path','url(#'+i+')');var p=this._properties.get();if(this._data&&p.visible){var w=this._size.width;var j=this._size.height;var l=this._position;var m=this._getAvailableLayers();var n=null;var o=this._properties.origin;var u=o.get("plotArea.gridline.zeroLine.unhighlightAxis");if(this._hasNegativeValue===true&&u===true){p.color=o.get("plotArea.gridline.color");}if(this._isSpaceEnough()){var q=this.runtime().effectManager();var r={width:w,height:j,offset:this._offset,windowSize:this._windowSize,positionInWindow:this._positionInWindow,realSize:this._realSize};this._drawTicks(m,w,j,l,p,s,q,r);this._drawAxisLine(m,w,j,l,p,s,q);if(p.label&&p.label.visible){this._labelGroupNode=s.append("g").attr("class",h.LABEL_GROUP);this._renderLabels(p,m,r,l);}}}if(this._offset.x||this._offset.y){d.setTransform(this,this._offset);}};k.prototype._renderLabels=function(p,l,e,i){var j=this.runtime().envManager();if(j){p.textAnchor=j.textAnchor();p.reverseDots=j.reverseDots();}this._bodyRenderer.drawLabels(this._labelGroupNode,l,e,i,p,this.runtime().effectManager(),this._needRowAxisOffset(),this._labelOffset,this._needExtened()?this._otherSize:undefined);if(this._bodyRenderer&&this._bodyRenderer.applyLabelStyle){this._bodyRenderer.applyLabelStyle(this._labelGroupNode);}};k.prototype._drawAxisLine=function(l,w,e,p,i,s,j){var m;if(i.axisLine&&i.axisLine.visible){m=s.append("g").attr("class",h.LINE_GROUP);var n=this._isVertical()?e:w;var r=[0,n];var o=this._bodyRenderer.drawLines(m,l,r,w,e,p,i,j);}return m;};k.prototype._drawTicks=function(l,w,e,p,i,s,j,m){var t=this._ticks=this._getTicks(l);if(i.axisTick&&(i.axisTick.visible||i.axisTick.shortTickVisible)){this._tickGroupNode=s.append("g").attr("class",h.TICK_GROUP);this._bodyRenderer.drawTicks(this._tickGroupNode,l,t,m,p,i,j,this._froce);}};k.prototype.getPreferredSize=function(r){var l;if(this._data&&this._properties.get('visible')){l=(this._layers=this._buildLayers(this._data));}var p={minWidth:0,maxWidth:0,minHeight:0,maxHeight:0,spacings:[{"interval":0,"type":C.SPACING_TYPE.STEP}]};if(this._isVertical()){p.minWidth=p.maxWidth=0.1;}else{p.minHeight=p.maxHeight=0.1;}if(l){var e=this._data.getRange();var j=Math.abs(e[0]-e[1]);var m=this._isVertical()?"height":"width";j*=this._realSize[m];var v=r?r[m]:(this._size[m]||j);var i,n=l.length;var o,q,s,t;if(n){s=(p.spacings=[]);for(i=0;i<n;++i){t=l[i];if(this.isFlexibleLayers()){var u={};if(!t.maxLayerBand&&!t.minLayerBand&&!t.niceLayerBand){u.maxLayerBand=0;u.minLayerBand=0;u.niceLayerBand=0;}else{u.maxLayerBand=t.maxLayerBand;u.minLayerBand=t.minLayerBand;u.niceLayerBand=t.niceLayerBand;}s.push(u);}else{if(i===0&&t.minLayerBand<t.layerBand){s.push({"interval":t.minLayerBand,"type":C.SPACING_TYPE.STEP});s.push({"interval":t.layerBand-t.minLayerBand,"type":C.SPACING_TYPE.RANGE});}else{s.push({"interval":t.layerBand,"type":C.SPACING_TYPE.STEP});}}}o=this._getMinLayersSize(s);var w=r&&r[this._isVertical()?'width':'height'];if(this.isFlexibleLayers()){q=this._buildUtils.flexibleLayoutLayers(s,this._isVertical(),w,this.isAllowEmptySegement());}else{q=this._getMaxLayersSize(s,w);}if(this._isVertical()){p.minWidth=o;p.maxWidth=q;p.minHeight=v;p.maxHeight=v;}else{p.minWidth=v;p.maxWidth=v;p.minHeight=o;p.maxHeight=q;}}}var x=N.preciseObject(p);this._updatePfdSize(x);return x;};k.prototype.destroy=function(){["fontFamily","fontSize","fontWeight","fontStyle"].forEach(function(e){if(this[e+"PW"]==null){return;}this[e+"PW"].remove();this[e+"PW"]=null;if(this[e+"ParentPW"]==null){return;}this[e+"ParentPW"].remove();this[e+"ParentPW"]=null;},this);k.superclass.destroy.apply(this,arguments);this._layers=null;this._rawLayers=null;this._bindingFieldIds=null;this._bindingFields=null;this._domainChanged=null;this._hasNegativeValue=null;this._styleChanged=null;this._tickGroupNode=null;this._labelGroupNode=null;this._cellDict=null;this._otherSize=null;this._deltaBound=null;this._selection=null;};k.prototype._getMinLayersSize=function(s){var m=s[0].interval;if(this.isFlexibleLayers()){m=s[0].minLayerBand;}return m;};k.prototype._getMaxLayersSize=function(s,e){var j=0;for(var i=0,l=s.length;i<l;++i){if(typeof e!=='number'||j+s[i].interval<=e){j+=s[i].interval;}else{if(s[i].type===C.SPACING_TYPE.RANGE){j=Math.min(j+s[i].interval,e);}break;}}return j;};k.prototype._getTicks=function(l){var t=[];var e=this._isVertical()?"cellHeight":"cellWidth";var m=l.length;for(var i=0;i<m;++i){var n=0;var o=l[i].cells;var p=o.length;var q=new Array(p+1);q[0]=0;for(var j=0;j<p;++j){n+=o[j][e];q[j+1]=m===1?n:N.preciseSimple(n);}t.push(q);}return t;};k.prototype.getAvailableLayersNumber=function(){var l=this._getAvailableLayers();return l.length;};k.prototype._getAvailableLayers=function(){var s;if(this._isVertical()){s=N.preciseSimple(this._realSize.width);}else{s=N.preciseSimple(this._realSize.height);}var l=this._layers;var e;var j=[];if(this.isFlexibleLayers()){this._buildUtils.flexibleLayoutLayers(l,this._isVertical(),s,this.isAllowEmptySegement());for(var L=0;L<l.length;L++){if(l[L].layerBand>0&&l[L].isVisible){j.push(l[L]);}}}else{if(l){for(var i=0,m=l.length;i<m;++i){e=l[i];s-=e.layerBand;s=N.preciseSimple(s);if(s<0){if(i===0&&N.preciseSimple(s+e.layerBand-e.minLayerBand)>=0){j.push(e);}break;}else{j.push(e);}}}}this._availableLayers=j;return j;};k.prototype.getActiveLevels=function(){return this._availableLayers;};k.prototype.getCellPosition=function(e){var i=this._cellDict[e];return{x:i.x,y:i.y,width:i.cellWidth,height:i.cellHeight};};k.prototype._getCellsRange=function(s){return s.getRangeInterval();};k.prototype.getLayoutCellsConfig=function(){var e={};if(this._properties){var p=this._properties;var i=p.get('label.style');var j=b.buildParentStyle(i,p.get('label.parentStyle'));e={propStyle:i,propParentStyle:j,isSetParentStyleProp:!!(p.get('label.parentStyle')),labelVisible:p.get('label.visible'),truncatedLabelRatioSetting:parseFloat(p.get("label.truncatedLabelRatio")),autoRotateSetting:p.get("label.rotation"),labelRenderer:p.get('labelRenderer'),defaultRotationAngle:parseInt(p.getDefault("label.angle")),rotationAngleSetting:parseInt(p.get("label.angle")),checkLabelVisible:true,labelOverlapBehavior:p.get("label.overlapBehavior")};}return e;};k.prototype._getScaleDomain=function(s){return s.getDomain();};k.prototype.mayOnlyFirstAndLastLabel=function(e,l){return e.labelVisible&&e.autoRotateSetting==="auto"&&l===1&&!this._isVertical()&&this._options.name==="categoryAxis"&&!this._isInTrellis&&e.labelOverlapBehavior==="showFirstLastOnly";};k.prototype._buildLayers=function(s){var e=this.getLayoutCellsConfig();var r;if(this._domainChanged||this._styleChanged||this._localeChanged||this.mayOnlyFirstAndLastLabel(e,this._rawLayers.length)){this._domainChanged=false;this._styleChanged=false;this._localeChanged=false;r=this._buildUtils.mergeLabels(this,this._getScaleDomain(s),this._bindingFieldIds,e);this._rawLayers=this._buildUtils._filter(r,this._bindingFields);this._formatLayerLabel();}var i=this._isVertical()?'height':'width';var j=this._realSize[i];var p=this.runtime().statusManager().get('plotRealSize');if(p){j=Math.max(p[i]||0,j);this.runtime().statusManager().set('plotRealSize',null);}var l=this._rawLayers;this._buildUtils.assignCellSize(this,l,this._getCellsRange(s),j);var m=s.getRange();if(this._needExtened&&this._otherSize){e.otherSize=this._otherSize;}if(this._options.name==="categoryAxis"&&this._isHorizontal()&&!this._isInTrellis&&l.length===1&&e.rotationAngleSetting===0){var w=this._getWrapText();if(w>1){e.wrap=w;}}e.isFlexibleLayers=this.isFlexibleLayers();e.isAllowEmptySegement=this.isAllowEmptySegement();e.paginationOptions=this.paginationOptions();this._buildUtils.layoutCells(this,l,[0,m[1]*j],e);this._isOnlyShowingFirstAndLastLabel=false;if(this.mayOnlyFirstAndLastLabel(e,l.length)&&this.willHaveTruncationOrRotation(l)){delete e.wrap;r=this._buildUtils.mergeLabels(this,this._getScaleDomain(s),this._bindingFieldIds,e,true);this._rawLayers=this._buildUtils._filter(r,this._bindingFields);this._formatLayerLabel();this._buildUtils.layoutCells(this,l,[0,m[1]*j],e,true);this._isOnlyShowingFirstAndLastLabel=true;}if(this.isFlexibleLayers()){this._buildUtils.flexibleLayoutLayers(l,this._isVertical(),Infinity,this.isAllowEmptySegement());}return this._buildUtils.getVisibleLayers(this,l);};k.prototype.isOnlyShowingFirstAndLastLabel=function(){return this._isOnlyShowingFirstAndLastLabel;};k.prototype.willHaveTruncationOrRotation=function(l){var e=l[0];if(e.rotated){return true;}var i=e.cells;var j,m;for(j=0;j<i.length;j++){m=i[j];if(m._preferredSize.textSize&&m._preferredSize.textSize.width>m.cellWidth){return true;}}return false;};k.prototype.paginationOptions=function(){var e=this._runtime&&this._runtime._interaction&&this._runtime._interaction._service&&this._runtime._interaction._service.getDataModel();var p;if(e&&e.getPaginationOptions){p=e.getPaginationOptions();}return p;};k.prototype._getWrapText=function(){var w=1;var i=false;var e=this.runtime().envManager();if(e){i=e.isRTL();}if(!i){w=parseInt(this._properties.get('label.linesOfWrap'));if(isNaN(w)||w<1){w=1;}else if(w>M){w=M;}}return w;};k.prototype._formatLayerLabel=function(){};k.prototype.layout=function(){if(!(this._layers&&this._layers.length)){return;}var e=this._isVertical()?this._size.width:this._size.height;var l=this._layers[0],j,m,i;if(e<l.layerBand&&e>=l.minLayerBand){j=l.cells;for(i=-1;++i<j.length;){m=j[i];if(this._isVertical()){if(m.cellWidth>0){m.cellWidth=e;}}else{if(m.cellHeight>0){m.cellHeight=e;}}}}};k.prototype._needRowAxisOffset=function(){return false;};k.prototype.statusChanged=function(s){if(s===S.LOCALE_CHANGED){this._localeChanged=true;}};k.prototype._needExtened=function(){var l=this._layers,n;var s=this._isVertical()?'height':'width';var e=this._realSize[s];if(l&&l.length>0){n=(l[0].rotated&&l[0].rotationAngle!==V&&e===this._size[s]);}else{n=false;}return n;};k.prototype.getLabelOffsetByCtx=function(e){if(!this._layers){this._layers=this._buildLayers(this._data);}var i=this._layers[this._layers.length-1];var j;i.cells.forEach(function(l){var r=true;for(var m in l.ctx){if(e[m]!==l.ctx[m]){r=false;break;}}if(r){j=l.id;}});if(j!==undefined){var l=this._cellDict[j];var p={start:l.cellStart,width:l.cellWidth,height:l.cellHeight};if(this._isHorizontal()){return{x:-(p.start+p.width-this.getSize().width)};}else{return{y:-(p.start+p.height-this.getSize().height)};}}else{return null;}};return k;});define('sap/viz/chart/components/axis/renderer/CategoryBodyRenderer',["sap/viz/chart/components/axis/renderer/OrdinalCommonBodyRenderer",],function(O){return O;});define('sap/viz/chart/components/axis/sub/CategoryAxisBody',["sap/viz/framework/common/util/oo","sap/viz/chart/components/axis/sub/OrdinalCommonAxisBody","sap/viz/chart/components/axis/renderer/CategoryBodyRenderer","sap/viz/framework/common/util/DOM",'sap/viz/framework/common/util/SVG'],function(o,O,C,D,S){var a=function(){a.superclass.constructor.apply(this,arguments);this.setBodyRenderer(new C());if(this._properties.has("layout.categoryWidth")){this._properties.set("layout.categoryWidth",function(){if(this._realSize.width>0&&this._data&&this._data._domain&&this._data._domain.length>0){return this._realSize.width/this._data._domain.length;}else{return 0;}}.bind(this),true,"get");}if(this._properties.has("layout.offsetToChart")){this._properties.set("layout.offsetToChart",function(){if(!this._selection){return 0;}var n=this._selection.node();while(!D.hasClass(n,"v-m-root")&&!D.hasClass(n,"v-m-categoryAxis")){n=n.parentNode;}if(D.hasClass(n,"v-m-categoryAxis")){var t=S.getTransformToElement(n,n.ownerSVGElement);if(t){return t.e;}}else{return 0;}}.bind(this),true,"get");}};o.extend(a,O);a.prototype._setOtherSize=function(b){this._otherSize=b;this._deltaBound={'width':0,'height':0,'x':0,'y':0};if(this._otherSize){if(this._otherSize.valueAxis){this._deltaBound.width=this._otherSize.valueAxis.width;this._deltaBound.x=-this._otherSize.valueAxis.width;}else if(this._otherSize.categoryAxis2){this._deltaBound.width=this._otherSize.categoryAxis2.width;this._deltaBound.x=-this._otherSize.categoryAxis2.width;}}return this;};return a;});define('sap/viz/chart/components/axis/CategoryAxis',["sap/viz/framework/common/util/Constants","sap/viz/framework/common/util/oo","sap/viz/chart/components/axis/AxisContainer","sap/viz/framework/scale/CategoryScale","sap/viz/chart/components/axis/sub/CategoryAxisBody","sap/viz/chart/components/axis/renderer/DefaultCategoryLabelRenderer","sap/viz/framework/common/util/DataUtils","sap/viz/framework/common/lang/LangManager","sap/viz/framework/common/util/NumberUtils","sap/viz/chart/components/util/TextUtils","sap/viz/framework/common/util/TypeUtils"],function(C,a,A,b,c,D,d,L,N,T,f){var M="measureNames";var g=function(r,o){g.superclass.constructor.apply(this,arguments);this._hasNegativeValue=null;this._isAxisBodyOptional=false;this._isInTrellis=false;this._needOtherSize=true;this._otherSize=null;this._setAxisBody(r,o);};a.extend(g,A);g.prototype.addARIATag=function(r){r.attr('role','listbox');};g.prototype._setAxisBody=function(r,o){this.setChild("axisBody",new c(r,o),{order:1,priority:2,offset:0});};g.prototype.setInTrellis=function(_){this._isInTrellis=_;this.getChild("axisBody").module.setInTrellis(_);};g.prototype.setData=function(e,h,p){g.superclass.setData.call(this,e);this._hasNegativeValue=h;if(e.scale){this._scale=e.scale;}};g.prototype.isAxisBodyOptional=function(e){this._isAxisBodyOptional=e;};g.prototype._getTitle=function(){var t=g.superclass._getTitle.call(this);if(this._isAxisBodyOptional){t.noNeedApplyHiddenTitleColor=true;}return t;};g.prototype.getMaxZoomRatio=function(){var r=Number.MAX_VALUE;if(this._scale&&this._scale.getRangeInterval().length){var i=this._scale.getRangeInterval();var e=Math.abs(i[0][0]-i[0][1]);r=1/e;}return r;};g.prototype.setVisibleWindow=function(s,p){var e=this.getChild("axisBody");if(e&&e.module){e.module.setVisibleWindow(s,p);}};g.prototype._updateData=function(i){g.superclass._updateData.apply(this,arguments);if(!this._scale){return;}var e=this.getChild("axisBody").module;var s=e.getSize();var r=e.getSize();if(this._isVertical()){s.height=this._size.height;r.height=i.height;}else{s.width=this._size.width;r.width=i.width;}if(!this._isAxisBodyOptional){e.setSize(s).setRealSize(r).setData(this._scale).setBindingFields(this._bindingFields).setHasNegativeValue(this._hasNegativeValue);}if(this._needOtherSize){e._setOtherSize(this._otherSize);}};g.prototype._constructTitle=function(h,t){if(h.length>0){var e=h.filter(function(m){return!m.invisible;}).map(function(o){var m=o.name||o.id;if(m===M){m=L.get("IDS_DEFAULTMND");}return m;});t.splice(0,t.length);var j="";var k="";for(var i=0;i<e.length;i++){if(i===0){k=e[i];}else{k=" / "+e[i];}j+=k;var l={};l.isHidden=false;l.text=k;t.push(l);}return j;}};g.prototype.getLabelOffset=function(){var l=this._children.axisBody.module._getAvailableLayers();var i=l[l.length-1];var h;if(i){h=i.cells;}else{return 0;}var j;h.some(function(e){if(e.isVisible===true){j=e.middle;return true;}});var p=this._properties.get();var k=p.label.style;var t=this._getTextHeight(k);var o=this._getBaseLineOffset(k);return j-t/2+o;};g.prototype._getTextHeight=function(p){var t=T.canvasMeasure('',p['fontSize'],p['fontWeight'],p['fontFamily']).height;t=N.preciseSimple(t);return t;};g.prototype._getBaseLineOffset=function(p){var o=T.getTextBaselineOffset({fontSize:p['fontSize'],fontWeight:p['fontWeight'],fontFamily:p['fontFamily']});return o;};g.prototype.isByBound=function(){return true;};g.prototype.destroy=function(){g.superclass.destroy.call(this);this._scale=null;this._hasNegativeValue=null;};g.prototype.paginationOptions=function(){var e=this._runtime&&this._runtime._interaction&&this._runtime._interaction._service&&this._runtime._interaction._service.getDataModel();var p;if(e&&e.getPaginationOptions){p=e.getPaginationOptions();}return p;};g.prototype._renderSub=function(){for(var e in this._children){if(this._children.hasOwnProperty(e)){var h=this.getChild(e).module;if(!this.paginationOptions()||e!==C.AXIS.SCROLLBAR_NAME){h.render(this._selections[e]);}if(f.isFunction(h._needExtened)&&h._needExtened()&&h._deltaBound){var i=this._parent.select('.v-bound');if(i){for(var k in h._deltaBound){if(h._deltaBound.hasOwnProperty(k)){var j=(i.attr(k)?parseFloat(i.attr(k)):0)+(h._deltaBound[k]?parseFloat(h._deltaBound[k]):0);i.attr(k,j);}}}}}}};g.prototype.setSize=function(s,o){g.superclass.setSize.apply(this,arguments);if(this._needOtherSize){this._otherSize=o;}return this;};g.prototype.supportFixedLayout=true;return g;});define('sap/viz/chart/components/plots/DataHandler',[],function Setup(){var H=function(){};H.prototype.reset=function(){};H.prototype.getBase=function(i,v){return 0;};H.prototype.add=function(i,v){return v;};H.prototype.destroy=function(){};var P=function(){};P.prototype.reset=function(l){this._sum=[];};P.prototype.getBase=function(i,v){if(this._sum[i]==null){this._sum[i]=0;}return this._sum[i];};P.prototype.add=function(i,v){if(this._sum[i]===0){this._sum[i]=v;}else if(this._sum[i]<0&&v>0){this._sum[i]=v;}else if(this._sum[i]*v>0){this._sum[i]+=v;}return this._sum[i];};P.prototype.destroy=function(){this._sum=null;};var S=function(){};S.prototype.destroy=function(){this._sum=null;};S.prototype.reset=function(l){this._sum=[];};S.prototype.getBase=function(i,v){if(this._sum[i]==null){this._sum[i]=0;}return this._sum[i];};S.prototype.add=function(i,v){return this._sum[i]+=v;};var a=function(){this._stackedBase=[];};a.prototype.reset=function(l){this._positiveSum=[];this._negativeSum=[];this._stackedBase=[];};a.prototype.destroy=function(){this._positiveSum=null;this._negativeSum=null;this._stackedBase=null;};a.prototype.getBase=function(i,v,s){if(this._positiveSum[i]==null){this._positiveSum[i]=0;}if(this._negativeSum[i]==null){this._negativeSum[i]=0;}if(this._stackedBase[i]&&this._stackedBase[i][s]!=null){return this._stackedBase[i][s];}else{if(v>=0){return this._positiveSum[i];}else{return this._negativeSum[i];}}};a.prototype.add=function(i,v,s){if(this._stackedBase[i]==null){this._stackedBase[i]=[];}if(this._stackedBase[i][s]==null){if(v>=0){this._stackedBase[i][s]=this._positiveSum[i];return this._positiveSum[i]+=v;}else{this._stackedBase[i][s]=this._negativeSum[i];return this._negativeSum[i]+=v;}}else{return this._stackedBase[i][s]+v;}};var b=function(){this._stackedBase=[];};b.prototype.reset=function(l){this._sum=[];this._stackedBase=[];};b.prototype.getBase=function(i,v,s){if(this._sum[i]==null){this._sum[i]=0;}if(this._stackedBase[i]&&this._stackedBase[i][s]!=null){return this._stackedBase[i][s];}else{return this._sum[i];}};b.prototype.add=function(i,v,s){if(this._stackedBase[i]==null){this._stackedBase[i]=[];}if(this._stackedBase[i][s]==null){this._stackedBase[i][s]=this._sum[i];if(this._sum[i]===0){this._sum[i]=v;}else if(this._sum[i]<0&&v>0){this._sum[i]=v;}else if(this._sum[i]*v>0){this._sum[i]+=v;}return this._sum[i];}else{return this._stackedBase[i][s]+v;}};b.prototype.destroy=function(){this._sum=null;this._stackedBase=null;};var W=function(){this._sum=[];this._base=[];this._addHistory={};};W.prototype.destroy=function(){this._sum=null;this._base=null;this._addHistory=null;};W.prototype.reset=function(l){this._sum=[];this._base=[];this._addHistory={};};W.prototype.getBase=function(i,v){if(this._base[i]==null){this._base[i]=v;this._sum[i]=v;}return this._base[i];};W.prototype.add=function(i,v){var k=i+"-"+v;if(!this._addHistory[k]){this._sum[i]+=v;this._addHistory[k]=true;}return this._sum[i];};var c=function(){};c.prototype.destroy=function(){this._sum=null;};c.prototype.reset=function(l){this._sum=[];};c.prototype.getBase=function(i,v){if(this._sum[i]==null){this._sum[i]=v;}return this._sum[i];};c.prototype.add=function(i,v){return this._sum[i]+=v;};return{getHandler:function(){return new H();},getStackHandler:function(s,i){if(s){return new a();}else if(i){return new P();}else{return new S();}},getPercentageStackHandler:function(){return new b();},getWTFHandler:function(){return new W();},getSTKWTFHandler:function(){return new c();},};});define('sap/viz/chart/components/plots/SeriesIterator',[],function(){function c(l,t){var i;switch(t){case"reverse":i={current:l,hasNext:function(){return this.current>0;},next:function(){return--this.current;},index:function(){return this.current;}};break;case"reverse_with_series":i={current:l,hasNext:function(){return this.current>0;},next:function(){return--this.current;},index:function(){return l-this.current-1;}};break;default:i={limit:l,current:-1,hasNext:function(){return this.current<this.limit-1;},next:function(){return++this.current;},index:function(){return this.current;}};break;}return i;}return{create:c};});define('sap/viz/chart/components/plots/model/DataPointInfo',[],function(){var D=function(s,i,r,a){this._seriesIndex=s;this._itemIndex=i;this._rawData=r;this._id=a;this._node=null;this._position=null;this._isVisible=true;this._refNode=null;};D.prototype.getSeriesIndex=function(){return this._seriesIndex;};D.prototype.getItemIndex=function(){return this._itemIndex;};D.prototype.getRawData=function(){return this._rawData;};D.prototype.setRawData=function(r){this._rawData=r;return this;};D.prototype.getId=function(){return this._id;};D.prototype.init=function(c,d,a,b,o){this._config=c;this._dataId=d;this._data=a;this._dataPointId=b;this._onlyOneMndIndex=o;};D.prototype.reset=function(){this._position=null;this._config=null;this._dataId=null;this._data=null;this._dataPointId=null;};D.prototype.getOnlyOneMndIndex=function(){return this._onlyOneMndIndex;};D.prototype.getConfig=function(){return this._config;};D.prototype.setConfig=function(c){this._config=c;};D.prototype.getDataId=function(){return this._dataId;};D.prototype.getData=function(){return this._data;};D.prototype.setData=function(d){this._data=d;};D.prototype.getDataPointId=function(){return this._dataPointId;};D.prototype.getContext=function(){return this._config.ctx;};D.prototype.getPosition=function(){return this._position;};D.prototype.getNode=function(){return this._node;};D.prototype.setNode=function(n){this._node=n;return this;};D.prototype.getRefNode=function(){return this._refNode;};D.prototype.setRefNode=function(n){this._refNode=n;return this;};D.prototype.setPosition=function(p){this._position=p;return this;};D.prototype.setVisible=function(_){this._isVisible=_;return this;};D.prototype.isVisible=function(){return this._isVisible;};return D;});define('sap/viz/chart/components/plots/model/Series',[],function(){var S=function(){this._datapoints=[];this._context=null;};var p=S.prototype;p.setDataPoint=function(i,d){this._datapoints[i]=d;return this;};p.getDataPoint=function(i){return this._datapoints[i];};p.setLength=function(l){this._datapoints.length=l;return this;};p.getDataPoints=function(){return this._datapoints;};p.setContext=function(_){this._context=_;return this;};p.getContext=function(){return this._context;};return S;});define('sap/viz/chart/components/datalabels/DataLabels',['sap/viz/framework/common/util/oo',"sap/viz/framework/common/util/TypeUtils","sap/viz/framework/common/util/ColorUtils",'sap/viz/framework/common/util/SVG','sap/viz/framework/common/util/DOM',"sap/viz/framework/common/util/DataGraphics",'sap/viz/framework/common/util/Constants',"sap/viz/framework/common/format/FormatManager",'sap/viz/framework/common/format/UnitFormat','sap/viz/chart/components/UIComponent',"sap/viz/chart/components/util/DataPointUtils","sap/viz/chart/components/util/ColorUtil","sap/viz/framework/common/util/RuleUtil",'sap/viz/framework/common/util/ObjectUtils',"sap/viz/framework/common/util/GeometryUtils","sap/viz/framework/common/lang/LangManager"],function(o,T,C,S,D,c,d,F,U,e,f,g,R,O,G,l){function h(a){var b=S.create("text");b.textContent=a.text;c.setCustomizationInfo(b,{'defaultRenderer':true});return b;}var n=d.CSS.CLASS.DATALABEL+" "+d.CSS.CLASS.MORPHABLELABEL,p=d.CSS.CLASS.DATALABEL_GROUP,q="g";function r(a,b,i){var j=i.analyzeDataPointDataLabel(a),k=O.extend(true,{},b);if(j&&j.hasOwnProperty("dataLabel")){if(j.dataLabel instanceof Object&&j.dataLabel.hasOwnProperty("visible")){k.visible=j.dataLabel.visible;}else{k.visible=!!j.dataLabel;}}return k;}var s=function(a,b){s.superclass.constructor.apply(this,arguments);this._options=b;this._labelPosition="up";this._horizontal=b.horizontal;this._ignoreEmptyDataLabel=false;this._isTrellis=false;this._trellisCellSize=null;this._trellisPadding=null;this._gridlineScale=null;};o.extend(s,e);s.prototype.setDataShapesGroupNode=function(a){this._dataShapesGroupNode=a;};s.prototype._getDataLabelInfo=function(a){var b=this._data&&this._data.rawData&&this._data.rawData.dataModel;var i=f.getContextByDataModel(a,b);return{key:i.measureNames,value:i[i.measureNames]};};s.prototype._processDataLabelRendererConfig=function(a,b){var i=a.dpBBox||G.getBBox(b);a.dataPointWidth=i.width;a.dataPointHeight=i.height;};s.prototype._getMarkFromNode=function(a){return null;};s.prototype._getDataLabelSizeFromMark=function(m){if(!m){return null;}var b=G.getBBox(m);return{width:b.width,height:b.height};};s.prototype._computeDataLabelPosition=function(a,b,i,j,k,m){var x,y;var B=b.x+a.e;var E=b.y+a.f;if(i==="up"||i==="down"||i==="inside"){x=(B+b.width/2)-(j.x+j.width/2);if(i!=="inside"){y=E-(j.y+j.height);if(i==="down"){y+=b.height;}}}if(i==="left"||i==="right"||i==="inside"){y=(E+b.height/2)-(j.y+j.height/2);if(i!=="inside"){x=B-(j.x+j.width);if(i==="right"){x+=b.width+j.width;}}}return[x,y];};s.prototype.needForceInner=function(a){return true;};s.prototype._forceInner=function(a,b,i){var B=1;var j=this.getBound();if(a&&a.length>1&&this.needForceInner(i)){if((a[0]+b.x+b.width)>(j.width+j.left)){a[0]=(j.width+j.left)-B-b.width-b.x;}if((a[0]+b.x)<j.left){a[0]=j.left+B-b.x;}if((a[1]+b.y+b.height)>(j.height+j.top)){a[1]=(j.height+j.top)-B-b.height-b.y;}if((a[1]+b.y)<j.top){a[1]=j.top+B-b.y;}}};s.prototype._computeDataLabelTranslate=function(a,b,i,j,k){var m=this._computeDataLabelPosition(b,this._fixBBoxWhenInvisible(a,k&&k.dpBBox),i,j,k,a);this._forceInner(m,j,i);return m;};s.prototype._fixBBoxWhenInvisible=function(a,b){var i=b||G.getBBox(a);var j={"height":i.height,"width":i.width,"y":i.y,"x":i.x};var k=a.querySelector(".v-clippath");if(k){var B=G.getBBox(k);j={"height":B.height,"width":B.width,"y":B.y,"x":B.x};if(j.height===0&&j.width===0){j.height=k.getAttribute("height")!=null?+k.getAttribute("height"):0;j.width=k.getAttribute("width")!=null?+k.getAttribute("width"):0;j.x=k.getAttribute("x")!=null?+k.getAttribute("x"):0;j.y=k.getAttribute("y")!=null?+k.getAttribute("y"):0;}}if(j.height!==0||j.width!==0){return j;}var m=a.childNodes;for(var x=0,y=m.length;x<y;x++){var E=+m[x].getAttribute("height");var H=+m[x].getAttribute("width");if(E>j.height){j.height=E;}if(H>j.width){j.width=H;}}return j;};s.prototype._getStyle=function(a){var b;if(a){b=c.getData(a);}var i=this._properties;var j=C.getColorFromEffectManager(i.get('style.color'),this._runtime.effectManager(),b?b.color:"#000000");var k=this.runtime().effectManager().register({fillColor:j});return{"fill":k,"font-family":i.get('style.fontFamily'),"font-size":i.get('style.fontSize'),"font-weight":i.get('style.fontWeight'),"font-style":i.get('style.fontStyle'),"cssString":"fill:"+k+";font-family:"+i.get('style.fontFamily')+";font-size:"+i.get('style.fontSize')+";font-weight:"+i.get('style.fontWeight')+";font-style:"+i.get('style.fontStyle')+";"};};s.prototype.respectShapeWidth=function(a){};s.prototype.truncateText=function(a){};s.prototype.sortDataLabelInfos=function(i){i.sort(function(a,b){var j=f.getDataId(a.dataPoint)-f.getDataId(b.dataPoint);return j;});};s.prototype.hideLabelsWhenOutOfPlotArea=function(a,b){var i=a.length;for(var k=0;k<i;k++){var j=a[k];if(j.left<b.left||j.right>b.width||j.top<b.top||j.bottom>b.height){j.skip=true;}}};s.prototype.getBound=function(){return{left:0,width:this._realSize.width,top:0,height:this._realSize.height};};s.prototype.hideConditional=function(a){var b=this.getBound();this.sortDataLabelInfos(a);this.hideLabelsWhenOutOfPlotArea(a,b);this.detectAndRemoveOverlappedDataLabel(a);};s.prototype.detectAndRemoveOverlappedDataLabel=function(a){var b=parseFloat(this._properties.get('style.fontSize'));var k=b*d.DATALABEL.HORIZONTAL_OVERLAPPING_PADDING;var m=a.length;for(var i=m-1;i>=0;--i){var x=a[i];if(x.skip){continue;}for(var j=i-1;j>=0;--j){var y=a[j];if(!y.skip){y.skip=!((x.left>=(y.right+k))||(x.top>=y.bottom)||(x.right<=(y.left-k))||(x.bottom<=y.top));}}}a.forEach(function(B){if(B.skip){D.remove(B.node);}});};s.prototype.isDataLabelInNoFillDataPoint=function(a){var b=c.getData(a);if(b&&b.pattern==="noFill"){return true;}return false;};s.prototype.isDataLabelWidthOutOfDataPoint=function(a,b){var i=true;var j=a.getBoundingClientRect();var k=b.getBoundingClientRect();if((j.left>=k.left)&&(j.right<=k.right)){i=false;}return i;};s.prototype.isDataPointSupportInside=function(){return true;};s.prototype.isDataLabelOutOfDataPoint=function(a,i){var b=true;if(this.isDataPointSupportInside(i)&&!this.isDataLabelInNoFillDataPoint(i.dataPoint)){var j=a.getBoundingClientRect();var k=i.dataPoint.getBoundingClientRect();if((j.left>=k.left)&&(j.top>=k.top)&&(j.right<=k.right)&&(j.bottom<=k.bottom)){b=false;}}return b;};s.prototype.intersectResult=function(a,b,i,j){return null;};s.prototype.indexOfDataLabelIntersectDataPoints=function(a,b,j,k){var m=-1;var i;var x=this.intersectResult(a,b,j,k);if(!x||(!x.intersected&&!x.hitPoint)){for(i=0;i<b.length;i++){if(j[i]!==k){var y=b[i];if(!(a.left>y.right||a.right<y.left||a.top>y.bottom||a.bottom<y.top)){m=i;break;}}}}return m;};s.prototype.updateColor=function(a,b){var i=this._properties.get('style.color');var j=this._properties.get("style.colorRange");var k;for(var m=0;m<a.length;m++){var x=a[m];if(x.node){var y=i;if(!y||j==='outside'){var B=this.isDataLabelOutOfDataPoint(x.node,x);k=null;if(y&&j==='outside'&&!B){k=x.referColor||"#000000";}else if(!y){k=(B?b:x.referColor)||"#000000";}if(k){y=g.getDataLabelColor(k);var E=this.runtime().effectManager().register({fillColor:y});x.node.setAttribute("fill",E);}}}}};s.prototype.drawZero=function(){return true;};s.prototype.updatePosition=function(a,b){var j=a;var k=j.select("."+p);var m={};var B={};if(k.node()){var E=this._dataShapesGroupNode;var H=[];var I=k.node().querySelectorAll(".v-datalabel");for(var i=0,J=I.length;i<J;i++){var K=I[i];var L=c.getData(K).id;var M=f.find(E,L);if(!M){D.remove(K);continue;}var N=f.getDataPointId(M);var P=this._getStyle(M);H.push(L);var Q=f.getContext(M),V=this._getDataLabelInfo(M),W=d3.select(K).text();var X={dataLabelInfo:V,val:V.value,text:W,ctx:Q,styles:P,horizontal:this._horizontal,plotSize:this.getSize()};if(this.getDataLabelDefaultPosition){this.getDataLabelDefaultPosition(M);}this._processDataLabelRendererConfig(X,M);m[N]=X;var Y=G.getBBox(K);var Z=this._computeDataLabelTranslate(M,S.getTransformToElement(M,j.node()),this._labelPosition,Y,X);B[N]={trans:Z,bbox:Y};var x=Z[0],y=Z[1];K.setAttribute("transform","translate("+x+","+y+")");}if(b){var $=b.filter(function(M){return H.indexOf(f.getDataId(M))===-1;});if($.length){var _=this._beforeRender($);this._render(a,_);}}this._afterRender(a,m,B);}};s.prototype.update=function(a,b){var i=this._beforeRender(b);this._render(a,i);this._afterRender(a);};s.prototype.setTrellisCell=function(a,b){this._isTrellis=true;this._trellisPadding=a;this._trellisCellSize=b;};s.prototype.render=function(a){var b=this._dataShapesGroupNode;var i=this._beforeRender(f.findAll(b));this._render(a,i);this._afterRender(a);};s.prototype._beforeRender=function(a){var b=this._properties.get();var i=this.runtime().semanticManager();var j;if(i.hasDataPointDataLabelStyle()){var k=this._data.rawData.dataModel;j=Array.prototype.slice.call(a).filter(function(m){var x=f.getDataPointId(m);return r(k.getDataPoint(x).context(),b,i).visible;});}else{if(b.visible){j=a;}}return j;};s.prototype._afterRender=function(a,b,k){var m=this._properties.get('visible')||this._properties.get('showTotal');if(!m&&!this.runtime().semanticManager().hasDataPointDataLabelStyle()){return;}var x=[];var y=a;var B=a.node().querySelectorAll("."+d.CSS.CLASS.DATAPOINT);for(var i=0;i<B.length;i++){var E=B[i];var H=this._getStyle(E);var I=f.getDataPointId(E);var J=a.selectAll("g.v-datalabel[data-datapoint-id='"+I+"']").node();if(J){var K=b&&b[I];var L;if(!K){var M=f.getContext(E),N=d3.select(J).text();L=this._getDataLabelInfo(E);K={val:L.value,text:N,ctx:M,styles:H,horizontal:this._horizontal,plotSize:this.getSize(),zeroLineAdjust:true};if(this.getDataLabelDefaultPosition){this.getDataLabelDefaultPosition(E);}this._processDataLabelRendererConfig(K,E);}else{L=K.dataLabelInfo;}var P=k&&k[I]&&k[I].trans;var Q=k&&k[I]&&k[I].bbox;if(!P){Q=G.getBBox(J);P=this._computeDataLabelTranslate(E,S.getTransformToElement(E,y.node()),this._labelPosition,Q,K);}if(P){x.push(z(y.node(),J,E,P,L,Q));}for(var j in H){if(H.hasOwnProperty(j)){J.setAttribute(j,H[j]);}}}}if(x){this.truncateText(x);var V=this._properties.get('hideWhenOverlap');if(V){this.hideConditional(x,B);}var W=a.node();var X=g.getBackgroundColor(W);this.updateColor(x,X);this.renderDataLabelLine(x);}};s.prototype.renderDataLabelLine=function(a){};s.prototype._render=function(a,b){var k=a.node();var B=this._dataShapesGroupNode;var E=this._size;var H=this._properties;var I=H.get('visible');if(!I&&this.runtime().semanticManager().hasDataPointDataLabelStyle()){I=b.length>0;}if(I){var J=k.querySelector("."+p);if(!J){J=S.create(q,k);J.setAttribute("class",p);}var K=null;var L=this.runtime().envManager();if(L){K=L.textAnchor();}J.setAttribute("text-anchor",K);var M=H.get('renderer')||h;var N=H.get('hideWhenOverlap');var P;var Q=J.querySelectorAll("."+d.CSS.CLASS.DATALABEL);for(var i=0,V=b.length;i<V;i++){var W=b[i];var X=this._getStyle(W);var Y=this._getDataLabelInfo(W);var Z=false;P=H.get('formatString');if(!P&&this._data&&this._data.rawData){P=this._formatStrFromMetadata(this._data,this._data.rawData.dataModel._bindingFeeds,Y.key);Z=true;}var $=f.getContext(W);var _=(this.runtime().statusManager().get("data.unit")||{})[Y.key];var a1=$&&$[_];Y.unit=a1;var b1=this._buildDataLabelText(P,Y,$,Z,W);if(this._ignoreEmptyDataLabel===true&&(b1===null||b1===undefined)){continue;}if(T.isExist(b1)&&T.isExist(b1.text)){Y.formattedValue=b1.formattedValue;b1=b1.text;}var c1=f.getDataPointId(W);var d1=f.findByDataPointIds(Q,c1);if(d1.length){d1=d1[0];var e1=d1.firstChild;while(e1){d1.removeChild(e1);e1=d1.firstChild;}}else{d1=S.create("g",J);f.setDataPointId(d1,c1);c.setContext(d1,$);c.setData(d1,{"id":f.getDataId(W)});d1.setAttribute("class",n);}for(var j in X){if(X.hasOwnProperty(j)){d1.setAttribute(j,X[j]);}}if(!$){$=this._data.rawData.dataModel.getDataPoint(c1).context();}var f1={val:Y.value,text:b1,ctx:$,info:Y,styles:X,horizontal:this._horizontal,dpBBox:G.getBBox(W),plotSize:this.getSize(),zeroLineAdjust:true};this._processDataLabelRendererConfig(f1,W);var g1=M(f1)||h(f1);if(g1){d1.appendChild(g1);if(this.getDataLabelDefaultPosition){this.getDataLabelDefaultPosition(W);}var h1=G.getBBox(d1);var i1=S.getTransformToElement(W,k);var j1=this._computeDataLabelTranslate(W,i1,this._labelPosition,h1,f1);this._renderAfterPositioning(W,d1);if(!j1){d1.removeChild(g1);continue;}var x=j1[0];var y=j1[1];d1.setAttribute("transform","translate("+x+","+y+")");if(this.setExtraDataOfDataPoint){W=this.setExtraDataOfDataPoint(c,W,d1);}}}}else{if(this.removeExtraDataOfDataPoint){var k1=f.findAll(B);for(var m=0,l1=k1.length;m<l1;m++){var m1=k1[m];this.removeExtraDataOfDataPoint(c,m1);}}}};s.prototype._formatStrFromMetadata=function(a,b,k){var j=null;if(b){b.some(function(m){if(a[m]&&a[m].metaData){for(var i=0;i<a[m].metaData.length;i++){if(a[m].metaData[i].id===k){j=a[m].metaData[i].formatString;return true;}}}});}return j;};s.prototype._renderAfterPositioning=function(){};s.buildDataLabelText=function(a,b,i,j,k,m,x,y){var B=(i.value!==null&&b!==null)?t(b,i):[];var E=m?m(a):['value'];B=k?v(B,E):B;var H=u(E,B,j,i,a,y);var I=x?x(a,H,i):H[0];return I;};s.prototype._buildDataLabelText=function(a,b,i,j,k){if(b.value===0&&!this.drawZero(k)){return null;}return s.buildDataLabelText(this._properties,a,b,i,j);};function t(a,b){var i=[];if(T.isArray(a)&&T.isArray(a[0])){i=a[0];}else if(T.isPlainObject(a)){i=a[b.key];if(!T.isArray(i)){i=[i];}}else if(!T.isArray(a)){i=[a];}else{i=a;}return i;}function u(a,b,j,k,m,x){var i,y,B,E,H,I=[];var J=0;for(i=0;i<a.length;i++){H=a[i];if(w(H)){B=k.value;E=k.percentage;y=b[i-J];if(B!==null){if(H==='date'){k.formattedValue=F.format(new Date(B),"dd/mm/yyyy hh:mm");}else{var K={decimalFormatString:U.getDecimalFormatString(U.SUPPORT_CUSTOM_COMPONENTS.DATALABEL)};k.formattedValue=U.format(B,y,m.get('unitFormatType'),K);}}else{k.formattedValue=l.get("IDS_ISNOVALUE");}if(E!==null){k.formattedPercentage=U.format(E,y||d.FORMAT.PERCENTAGE_FORMAT,m.get('unitFormatType'),U.SUPPORT_CUSTOM_COMPONENTS.DATALABEL);}if(k.unit){k.formattedValue+=" "+k.unit;}if(H==='percentage'){B=k.formattedPercentage;}else{B=k.formattedValue;}I.push(B);}else{if(x){I.push(x(j,k));J++;}}}return I;}function v(a,b){var m;if(b.indexOf('percentage')>-1&&b.indexOf('value')===-1){m=[a[1]];}else{m=a;}return m;}function w(a){if(a==='valueAxis'||a==='valueAxis2'||a==='bubbleWidth'||a==='value'||a==='percentage'||a==='date'){return true;}else{return false;}}s.getFirstFormatPattern=function(a,b){return t(a,b)[0];};s.prototype.destroy=function(){s.superclass.destroy.call(this);this._labelPosition=null;this._dataShapesGroupNode=null;this._isTrellis=null;this._trellisCellSize=null;this._trellisPadding=null;this._gridlineScale=null;};function z(a,b,i,j,k,m){var x=j[0],y=j[1];var B=S.getTransformToElement(i,a);var E=A(a,i);return{node:b,referColor:E,dataPoint:i,center:{x:B.e,y:B.f},info:k,left:x+m.x,right:x+m.x+m.width,top:y+m.y,bottom:y+m.y+m.height,originalCenterX:j.originalCenterX,originalCenterY:j.originalCenterY,};}function A(a,b){var i;var j=1;var k=c.getData(b);if(k){i=k.color;if(k.fillOpacity!==undefined){j=k.fillOpacity;}}var m=g.getBackgroundColor(a);return g.getMixedColor(i,m,j);}return s;});define('sap/viz/chart/components/renderers/ReferenceLineRenderer',['sap/viz/framework/common/util/SVG','sap/viz/chart/components/util/TextUtils','sap/viz/framework/common/util/Constants',"sap/viz/chart/components/util/StyleUtils",'sap/viz/framework/common/util/TypeUtils',"sap/viz/framework/common/util/DataGraphics"],function(S,T,C,a,b,D){var R={};var P=4;var c=3;var M=30;var d=C.DASH_TYPE_ARRAY;var L=0.35;var e="v-referenceline-group";R._combineConfig=function(f,h){var i={};i.strokeColor=f.color?f.color:h.color;i.lineType=f.type?f.type:h.type;i.strokeWidth=f.size?f.size:h.size;if(i.strokeWidth<1||i.strokeWidth>7){i.strokeWidth=1;}i.label={};i.label.background=h.label.background;i=this._checkLabelVisible(f,i);if(i.label.visible===false){return i;}var l=h.label;i=this._getLabelStyle(i,f,l);i.label.visible=true;i.label.text=f.label.text;i.label.opacity=L;i.label.fontSize=T.validateFontStyle(i.label.fontSize);i.label.textSize=T.fastMeasure(i.label.text,i.label.fontSize,i.label.fontWeight,i.label.fontFamily);return i;};R._checkLabelVisible=function(f,h){if(f.label==null||f.label.visible===false||f.label.text==null){h.label.visible=false;}return h;};R._getLabelStyle=function(f,h,l){for(var k in l){if(l.hasOwnProperty(k)){if(h.label.style&&h.label.style.hasOwnProperty(k)){f.label[k]=h.label.style[k];continue;}f.label[k]=l[k];}}return f;};R._drawReferenceLine=function(f,k,p,h,i,w,j){var l=S.create("g",p);l.setAttribute("class","v-referenceline v-referenceline-"+k);var m=S.create("line",l);var r=S.create("rect",l);m.setAttribute("stroke",f.strokeColor);m.setAttribute("stroke-width",f.strokeWidth);m.setAttribute("shape-rendering","crispEdges");if(C.GRIDLINE_TYPE.DASHED===f.lineType||C.GRIDLINE_TYPE.DOTTED===f.lineType){m.setAttribute("stroke-dasharray",d);}else if(C.GRIDLINE_TYPE.INCISED===f.lineType){m.setAttribute("stroke","#ffffff");}if(i){m.setAttribute("x1",0);m.setAttribute("y1",0);m.setAttribute("x2",w);m.setAttribute("y2",0);r.setAttribute("y","-"+f.strokeWidth/2);r.setAttribute("fill","transparent");r.setAttribute("height",f.strokeWidth);r.setAttribute("width",w);}else{m.setAttribute("x1",0);m.setAttribute("y1",j);m.setAttribute("x2",0);m.setAttribute("y2",0);r.setAttribute("x","-"+f.strokeWidth/2);r.setAttribute("fill","transparent");r.setAttribute("width",f.strokeWidth);r.setAttribute("height",j);}};R._drawLabel=function(f,k,p,h,i,w,j,l){var m=S.create("g",p);m.setAttribute("class","v-referenceline-label v-referenceline-label-"+k);m.setAttribute("style","pointer-events:none");m.setAttribute("fill",f.label.color?f.label.color:f.axisColor);m.setAttribute("font-size",f.label.fontSize);m.setAttribute("font-weight",f.label.fontWeight);m.setAttribute("font-family",f.label.fontFamily);m.setAttribute("font-style",f.label.fontStyle);var t=f.label.textSize;var r=S.create("rect",m);var n=t.width+2*(i?P:c);var o=t.height+P;r.setAttribute("width",n);r.setAttribute("height",o);r.setAttribute("fill",f.label.background);r.setAttribute("opacity",f.label.opacity);var q=S.create("text",m);q.textContent=f.label.text;q.setAttribute("text-anchor",f.textAnchor);var s=a.convertToCss(f.label);var u;if(i===false){var v=h*w;if(l[k]==="bottom"){q.setAttribute("y",j-o+P/2-t.y-1);r.setAttribute("y",j-o-1);}else{q.setAttribute("y",P/2-t.y+1);r.setAttribute("y",1);}if(v+t.width+c*2+1<=w){q.setAttribute("x",c+1);r.setAttribute("x",1);}else if(v-t.width-1>=c*2){q.setAttribute("x",0-t.width-c-1);r.setAttribute("x",0-t.width-c*2-1);}else{u=w-v-c*2-1;if(u>=M){q.setAttribute("x",c+1);r.setAttribute("x",1);}else{u=v-c*2-1;if(u>=M){q.setAttribute("x",0-u-c-1);r.setAttribute("x",0-u-c*2-1);}else{u=w-v-c*2-1;q.setAttribute("x",0+c+1);r.setAttribute("x",0+1);}}r.setAttribute("width",u+2*c);if(!b.isNonEmptyString(T.ellipsis(f.label.text,q,u,s,f.ellipsisOptions))){m.removeChild(r);}}}else{var x=(1-h)*j;if(l[k]==="right"){q.setAttribute("x",w-n+P);r.setAttribute("x",w-n);}else{q.setAttribute("x",P);r.setAttribute("x",0);}if(x-t.height-P-1>=0){q.setAttribute("y",0-t.height-P/2-t.y);r.setAttribute("y",0-t.height-P);}else{q.setAttribute("y",P/2-t.y);r.setAttribute("y",0);}if(t.width+P*2>w){u=w-P*2;r.setAttribute("width",w);if(!b.isNonEmptyString(T.ellipsis(f.label.text,q,u,s,f.ellipsisOptions))){m.removeChild(r);}}}};R._searchXYAxisHandler=function(x,y,k){var f=this._searchAxisHandler(x,k);if(f){return{handler:f,isHorizontal:false};}f=this._searchAxisHandler(y,k);if(f){return{handler:f,isHorizontal:true};}return null;};R._searchAxisHandler=function(h,k){for(var i=0;i<h.length;i++){if(h[i].id===k&&h[i].continuous){return h[i]._scale;}}return null;};R._calculatePosition=function(i,f,h){var v=f.handler.normalizeValue(h);var p=i?v:f.handler.scale(v);return p;};function g(x,y){var l={};var f=x.filter(function(h){return h.type==="value";}).map(function(h){return h.id;}).sort();var i=y.filter(function(h){return h.type==="value";}).map(function(h){return h.id;}).sort();if(f.length===2&&i.length===0){l[f[0]]="top";l[f[1]]="bottom";}else if(f.length===0&&i.length===2){l[i[0]]="left";l[i[1]]="right";}else{if(f[0]){l[f[0]]="top";}if(i[0]){l[i[0]]="left";}}return l;}R._renderSub=function(l,x,y,k,f,h,p,r,j,w){var m=g(x,y);for(var i=0;i<l[k].length;i++){var n=l[k][i];if(n.visible===false){continue;}if(n.value==null||isNaN(n.value)||n.value===""){continue;}var o=this._searchXYAxisHandler(x,y,k);if(o==null){continue;}var q=this._calculatePosition(f,o,n.value);if(q<0||q>1){continue;}var s=this._combineConfig(n,h);s.axisColor=p[k+'Color'];s.textAnchor=p.textAnchor;s.ellipsisOptions=p.ellipsisOptions;var t=S.create("g",r);t.setAttribute("class",o.isHorizontal?"v-referenceline-horizontal":"v-referenceline-vertical");var u=o.isHorizontal?(1-q)*j:q*w;t.setAttribute("transform",o.isHorizontal?"translate("+0+", "+u+")":"translate("+u+", "+0+")");D.setData(t,{value:Number(n.value),pos:u,id:i});this._drawReferenceLine(s,k,t,q,o.isHorizontal,w,j);if(s.label.visible){this._drawLabel(s,k,t,q,o.isHorizontal,w,j,m);}}};R.render=function(x,y,p,w,h,f,i){if(p.referenceLine==null){return;}var r=p.referenceLine;var j=r.defaultStyle;var l=r.line;if(l&&l.timeAxis){l.timeAxis.forEach(function(s){s.value=new Date(s.value);});}var k=f.querySelector("."+e);if(!k){k=S.create("g",f);k.setAttribute("class",e);var m=f.getElementsByTagName('clipPath');if(m&&m.length>0){var n=m[0].getAttribute('id');k.setAttribute("clip-path","url(#"+n+")");}}else{var o=null;while((o=k.firstChild)!=null){k.removeChild(o);}}for(var q in l){if(l.hasOwnProperty(q)){this._renderSub(l,x,y,q,i,j,p,k,h,w);}}};return R;});define('sap/viz/chart/components/util/ZoomUtil',['sap/viz/framework/common/util/TypeUtils','sap/viz/framework/common/util/Constants',],function Setup(T,C){return{isZoomRangeValid:function(z,a,d){if(T.isExist(z)){z=new Date(z).getTime();}z=parseInt(z);if(T.isExist(a)){a=new Date(a).getTime();}a=parseInt(a);if(!isNaN(z)||!isNaN(a)){if(isNaN(z)){z=d[0];}if(isNaN(a)){a=d[1];}return!(z>d[1]||a<d[0]||z>=a);}return false;},getZoomRange:function(p,d,h){function a(b){if(b===C.PLOTAREA.FIRST_DATAPOINT){return d[0];}else if(b===C.PLOTAREA.LAST_DATAPOINT){return d[1];}else if(!!b&&h){return b.categoryAxis;}else{return b;}}var s,e,i=!p.get('interaction.noninteractiveMode');if(i){s=p.get('plotArea.window.start');e=p.get('plotArea.window.end');s=a(s);e=a(e);}return[s,e];},isRangeIncomplete:function(r){if(!T.isExist(r)){return false;}var e=T.isExist(r[0]);var a=T.isExist(r[1]);return(e&&!a)||(!e&&a);}};});define('sap/viz/chart/components/plots/BasePlot',['sap/viz/framework/common/util/oo','sap/viz/framework/common/util/ObjectUtils','sap/viz/chart/components/UIComponent','sap/viz/chart/components/plots/DataHandler','sap/viz/chart/components/plots/SeriesIterator','sap/viz/chart/components/plots/model/DataPointInfo','sap/viz/chart/components/plots/model/Series','sap/viz/chart/components/datalabels/DataLabels','sap/viz/framework/common/util/Constants',"sap/viz/chart/components/util/DataPointUtils","sap/viz/framework/common/util/NameColorUtils","sap/viz/chart/components/Background","sap/viz/framework/common/util/DataGraphics","sap/viz/framework/common/util/DOM",'sap/viz/framework/common/util/SVG','sap/viz/chart/components/renderers/ReferenceLineRenderer','sap/viz/framework/common/util/TypeUtils',"sap/viz/chart/components/container/utils/xyTransformUtils","sap/viz/framework/interaction/utils/PlotZoomUtils","sap/viz/chart/components/util/ZoomUtil","sap/viz/chart/components/util/ColorUtil"],function Setup(o,O,U,D,S,a,b,c,C,d,N,B,e,f,g,r,T,x,P,Z,h){var l=C.CSS.CLASS;var m=function(i,j){m.superclass.constructor.apply(this,arguments);this._options=j||{};this._isInTrellis=this._options.inTrellis;this._needApplyChanges=false;this._dataHandler=this._getDataHandler();this._dataPointRenderer=undefined;this._seriesRenderer=this._getSeriesRenderer();this._randomSuffix=O.guid();this._xHandlers=this._getXHandlers();this._yHandlers=this._getYHandlers();this._dataLabels=this._getDataLabels(this._name+'.dataLabel',i);this._semanticMgr=this.runtime().semanticManager();this._semanticMgr.bindDataPointProperty(this._name+".dataPointStyle",this._name+".dataPointStyleMode");this._semanticMgr.bindSeriesStyleProperty(this._name+".seriesStyle");this._effectManager=this.runtime().effectManager();this._background=new B(i,{name:'background',properties:this._properties});this._selection=null;this._parent_trellis=null;this._exposeMoreEvents("reRenderComplete");this._offset={x:0,y:0};this._strokeProp=this._properties.origin.get('plotArea.dataPoint.stroke');this._graphicModel=this.runtime().graphicModel();if(this._graphicModel){this._graphicModel.registerExposedModule('plot');}this._dataPointClasses=[l.DATAPOINT,l.MORPHABLEDATAPOINT,l.DATAPOINTDEFAULT];this.runtime().statusManager().add("plotArea.window");};o.extend(m,U);m.prototype._getXHandlers=function(){return[];};m.prototype._getYHandlers=function(){return[];};m.prototype._getDataHandler=function(){return{"valueAxis":D.getHandler()};};m.prototype._getSeriesRenderer=function(){};m.prototype._getDataLabels=function(i,j){return new c(j,{name:i});};m.prototype.setData=function(i){m.superclass.setData.apply(this,arguments);this._dataLabels.setData(i);this._needApplyChanges=true;this._recordPlotWindow();};m.prototype.setSize=function(i){m.superclass.setSize.apply(this,arguments);this._background.setSize(i);this._dataLabels.setSize(i);this._needApplyChanges=true;};m.prototype.getRealSize=function(){return{width:this._realSize.width,height:this._realSize.height};};function n(t,u){if(!u){return[];}var v=t.categoryAxis;var w=v.scale.getDomain();var y=v.metaData;var z=[];for(var i=0;i<y.length;++i){if(u.hasOwnProperty(y[i].id)){z.push(u[y[i].id]);}else{break;}}var A=[];var j=0,k=0;var E=-1;var F=0;var G=0;if(z.length){for(;j<w.length;++j){for(k=0;k<z.length;++k){if(w[j][k]!=z[k]){break;}}if(k>0){if(k>E+1){E=k-1;F=j;}if(k===E+1){G=j;}}}}if(E>=0){A.push(F);A.push(G);}return A;}m.prototype._getCategoryRange=function(i){if(!this._data.categoryAxis){return null;}var j=this._data.categoryAxis.scale.getDomain().length-1;var k=[0,j];var t=Z.getZoomRange(this._properties.origin,k,true);var u=t[0];var v=t[1];if(!T.isExist(u)&&!T.isExist(v)){return null;}var w=[0,j];var y=T.isNumber(u)?[u,u]:n(this._data,u);var z=T.isNumber(v)?[v,v]:n(this._data,v);if(y.length>0&&z.length>0){w[0]=Math.min(y[0],z[0]);w[1]=Math.max(y[1],z[1]);}else if(y.length>0){w[0]=y[0];w[1]=null;}else if(z.length>0){w[0]=null;w[1]=z[1];}return w;};m.prototype._getTimeRange=function(){function i(w){var y=w;if(T.isExist(y)){y=new Date(y).getTime();y=parseInt(y);}return y;}if(!this._data.timeAxis){return null;}var j=this._data.timeAxis.scale.getDomain();var k=this._properties.origin;var t=Z.getZoomRange(k,j);var u=i(t[0]);var v=i(t[1]);return[u,v];};m.prototype._isRangeIncomplete=function(i){return Z.isRangeIncomplete(i);};m.prototype._fillRange=function(i){if(!T.isExist(i[0])){i[0]=0;}if(!T.isExist(i[1])){var j=this._data.categoryAxis.scale.getDomain().length-1;i[1]=j;}return i;};m.prototype._shiftOffsetForIncompleteRange=function(i,j){var k=this.isHorizontal()?this._realSize.height:this._realSize.width;var t=this.isHorizontal()?this._size.height:this._size.width;var u=k/j;var v;if(!T.isNumber(i[0])){v=-(i[1]+1)*u+t;}else{v=-i[0]*u;}if(v>0||-v+t>k){this._fillRange(i);return false;}else{if(this.isHorizontal()){this._offset.y=v;}else{this._offset.x=v;}return true;}};m.prototype.destroy=function(){m.superclass.destroy.call(this);this._properties=null;this._options=null;this._needApplyChanges=null;if(this._dataHandler){for(var k in this._dataHandler){if(this._dataHandler.hasOwnProperty(k)){if(this._dataHandler[k]){this._dataHandler[k].destroy();}delete this._dataHandler[k];}}}this._dataHandler=null;this._dataPointRenderer=null;this._seriesRenderer=null;this._randomSuffix=null;if(this._xHandlers){this._xHandlers.forEach(function(i){i.destroy();});}this._xHandlers=null;if(this._yHandlers){this._yHandlers.forEach(function(i){i.destroy();});}this._yHandlers=null;if(this._dataLabels&&this._dataLabels.destroy){this._dataLabels.destroy();}this._dataLabels=null;this._background=null;if(this._selection){this._selection.remove();}this._selection=null;if(this._parent_trellis){this._parent_trellis.remove();}this._parent_trellis=null;this._series=[];this._customMarkerRenderer=null;this._semanticMgr=null;this._strokeProp=null;this._effectManager=null;};m.prototype._updateBackgroundColor=function(){if(this._isInTrellis){this._background.setData({'color':'transparent','hasBorder':false});}else{this._background.setData({'color':this._properties.get('background.color')||'transparent'});}};m.prototype.render=function(i){this._selection=i;if(this._needApplyChanges){this._applyChanges();this._needApplyChanges=false;}this._drawingEffect=this._properties.get('drawingEffect');this._preRender();var j=i.node();f.empty(j);this._updateBackgroundColor();this._background.render(i);var k=d3.select(this._createMainNode(j));if(!this._isInTrellis){var t="translate("+(this._offset.x)+", "+(this._offset.y)+")";k.node().setAttribute("transform",t);}this._drawGridlines(k);this._semanticMgr.beginSession();this._drawDatapoints(k);this._semanticMgr.endSession();};m.prototype._preRender=function(){this._customMarkerRenderer=this._properties.get("markerRenderer");this._series=[];};m.prototype._postRender=function(i){this._drawReferenceLine();};m.prototype._recordPlotWindow=function(){var w=this._properties.get("window");w=w&&(w.start||w.end)?w:null;this.runtime().statusManager().set("plotArea.window",w);};m.prototype._drawReferenceLine=function(){var i=O.extend(true,{},this._properties.get('referenceLine'));if(null==i||!r){return;}var j={referenceLine:i};var k=this._properties.origin;var t=i.line;for(var u in t){if(t.hasOwnProperty(u)){j[u+'Color']=k.get(u+'.color');}}j.textAnchor=null;if(this.runtime){var v=this.runtime().envManager();if(v){j.textAnchor=v.textAnchor();}j.ellipsisOptions={};j.ellipsisOptions.reverseDots=(v&&v.reverseDots());}r.render(this._xHandlers,this._yHandlers,j,this._size.width,this._size.height,this._selection.node(),this._data._seriesType==='percentage');};m.prototype._repositionReferenceLine=function(j,t){if(!this._selection){return;}var k=this._selection.node(),u=k.querySelectorAll(".v-referenceline-horizontal"),v=k.querySelectorAll(".v-referenceline-vertical"),i;j=j||this.runtime().statusManager().get("plot.transform.scale");t=this.runtime().statusManager().get("plot.transform.translate");for(i=0;i<u.length;i++){x.adjustTranslate(u[i],j,t,"h");}for(i=0;i<v.length;i++){x.adjustTranslate(v[i],j,t,"v");}};m.prototype._drawDataLabels=function(i,j){this._dataLabels.setDataShapesGroupNode(j);this._dataLabels.setRealSize(this._realSize);this._parent_trellis=i;var k=this._dataLabels;if(!this._isInTrellis){k._gridlineScale=this._gridlineScale;k.render(i);}};m.prototype.drawTrellisDataLabels=function(i,j){if(!this._parent_trellis){return;}var k=this._dataLabels;k.setTrellisCell(i,j);k.render(this._parent_trellis);};m.prototype._createMainNode=function(i){var w=this._size.width,j=this._size.height;var k;var t=!this._options.disableClipPath;if(t){var u=g.create("clipPath",i);k="plot_main_clipPath_"+this._randomSuffix;u.setAttribute("id",k);var v=g.create("rect",u);var y=this._getClipPathSize(w,j);for(var z in y){if(y.hasOwnProperty(z)){v.setAttribute(z,y[z]);}}}var A=g.create("rect",i);A.setAttribute("class","v-plot-bound v-bound "+P.ZOOM_CONTAINER_CLASS);A.setAttribute("width",w);A.setAttribute("height",j);A.setAttribute("fill","transparent");var E=g.create("g",i);var F=g.create("g",E);F.setAttribute("class","v-plot-main");F.setAttribute('role','list');if(t){E.setAttribute("clip-path","url(#"+k+")");}return F;};m.prototype._getClipPathSize=function(w,i){return{y:-1,width:w+1,height:i+1};};m.prototype._applyChanges=function(){var i=this._realSize;var j=this._data.trellisSeriesLength?this._data.trellisSeriesLength:this._data.series.length;this._initXHandler(this._xHandlers,this._data,i.width,j);this._initYHandler(this._yHandlers,this._data,i.height,j);};m.prototype._initXHandler=function(i,j,k,t){p(i,j,k,t);};m.prototype._initYHandler=function(i,j,k,t){p(i,j,k,t);};function p(j,k,t,u){var v=null;for(var i=0,w=j.length;i<w;i++){var y=j[i].id;var z=k[y];if(z==null||z.scale==null){continue;}v=z.scale;j[i].init(v,u,t);}}m.prototype._drawGridlines=function(i){};m.prototype._getSeries=function(){return this._data.series;};m.prototype._buildLegendTextData=function(i){return[];};m.prototype._getOnlyOneMndIndex=function(i,j){return-1;};m.prototype.createSeriesIterator=function(i){return S.create(i);};m.prototype._drawDatapoints=function(i){var j=this._getSeries();var k=j.length;if(this._seriesRenderer){this._seriesRenderer.init(k);}for(var t in this._dataHandler){if(this._dataHandler[t].reset){this._dataHandler[t].reset();}}var u;var v=0;var w=-1;if(this._properties.get("dataLabel.visible")){var y=this._buildLegendTextData(j);if(k>0){w=this._getOnlyOneMndIndex(j[0],y);}}var z;var A;var E;var F;var G;var H;var I;var J;var K=this.createSeriesIterator(k);while(K.hasNext()){z=K.next();E=j[z];if(!E){continue;}this._series[z]=new b();for(A=0;A<E.length;A++){F=E[A];if(!F){continue;}G=this._getPosition(z,A,F);if(!G){continue;}u=v++;H=this._buildWrapperConfig(F,G,F.dp.context());I=this._buildData(H);J=this._createDataPoint(z,A,H,I,G,u,F,w);this._series[z].setDataPoint(A,J);}}var L=g.create("g");L.setAttribute("class",l.DATAPOINT_GROUP);this._showDataPoints(L);if(this._seriesRenderer){this._seriesRenderer.render(L);}this._postRender(L);i.node().appendChild(L);this._drawDataLabels(i,L);};m.prototype._preShowDataPoints=function(){};m.prototype._showDataPoints=function(i){this._preShowDataPoints();var j=[];var k=false;var t;var u;var v;var w;var y;var z;var A;var E;var F=this._series.length;var G;for(t=0;t<F;t++){v=this._series[t];if(!v){continue;}w=this._getDataPointRenderer(t);if(!w){continue;}y=v.getDataPoints();z=false;G=y.length;for(u=0;u<G;u++){A=y[u];if(!A){continue;}z=true;E=this._drawDataPoint(w,A);A.setNode(E);if(E){j.push(E);}if(this._seriesRenderer){this._seriesRenderer.addDataPoint(t,u,A.getConfig(),A.getPosition(),E);}else{if(E){i.appendChild(E);}}if(E){v.setDataPoint(u,null);}}if(!z){this._series[t]=null;}else{k=true;}}if(!k){this._series=[];}return j;};m.prototype._setOffset=function(i){if(!i){return;}if(i.hasOwnProperty("x")&&i.x!=null){this._offset.x=i.x;}if(i.hasOwnProperty("y")&&i.y!=null){this._offset.y=i.y;}};m.prototype.getOffset=function(i){return{x:this._offset.x,y:this._offset.y};};m.prototype.scroll=function(i){this._setOffset(i);if(!this._selection){return;}if(!this._isInTrellis){var j=this._selection.select("g.v-plot-main");var t="translate("+(this._offset.x)+", "+(this._offset.y)+")";j.node().setAttribute("transform",t);}this._applyScroll();this._repositionReferenceLine();};m.prototype._applyScroll=function(){if(!this._selection){return;}var i=this._selection.select("g."+l.DATAPOINT_GROUP).node();var j=this._showDataPoints(i);var k=this._selection.select("g.v-plot-main");if(j.length){if(this._seriesRenderer){this._seriesRenderer.update();}this._dataLabels.update(k,j);}if(this._eventDispatch){this._eventDispatch.reRenderComplete();}if(!this._isInTrellis){var t="translate("+(this._offset.x)+", "+(this._offset.y)+")";k.node().setAttribute("transform",t);}};m.prototype.getSeries=function(){return this._series;};m.prototype._getAxisPosition=function(j,k,t,u,v){var w=this._dataHandler;var y={index:t,seriesIndex:k,shape:v};for(var i=0,z=j.length;i<z;i++){var A=j[i];if(u.hasOwnProperty(A.id)){y.dataHandler=w[A.id];return A.scale(u[A.id],y);}}y.rawData=u;y.dataHandler=null;return j[0].scale(null,y);};m.prototype._getXPosition=function(i,j,k){return this._getAxisPosition(this._xHandlers,i,j,k);};m.prototype._getYPosition=function(i,j,k){return this._getAxisPosition(this._yHandlers,i,j,k);};m.prototype.getDataPointPosition=function(i,j){var k=this._data.series[i][j];return this._getPosition(i,j,k);};m.prototype._getPosition=function(i,j,k){var t=this._getXPosition(i,j,k);var y=this._getYPosition(i,j,k);if(isNaN(t[0])||isNaN(t[1])||isNaN(y[0])||isNaN(y[1])){return null;}return{x:t[0],width:t[1],y:y[0],height:y[1]};};var q=["plotArea.grid.background.color","plotArea.background.color","general.background.color"];m.prototype._buildWrapperConfig=function(i,j,k,t){t=t||{};var u=this._buildConfig(i,j,k);if(this._strokeProp&&this._strokeProp.visible&&u.graphic){u.graphic.stroke=u.graphic.stroke||this._strokeProp.color;u.graphic.strokeWidth=u.graphic.strokeWidth||1;}if(t.seriesStyle&&t.seriesStyle.dpPattern){u.graphic.pattern=t.seriesStyle.dpPattern;}var v=this.runtime().propertyManager();var w="plotArea.dataPoint.stroke.color";var y="plotArea.dataPoint.stroke.visible";u.graphic.bgColor=h.getBgColor(v,v.get(y)?q.concat(w):q);if(!i.isNullValue){k=k||i.dp.context();}if(u.isMatchedHighlightContext===false){t.disableSemantic=true;}u=this._getFillColorConfig(u,k,t,i);if(i.dp){u.dataId=i.dp.id;}u.rawData=i;if(i.trellisRow||i.trellisColumn){u.trellisInfo={trellisRow:i.trellisRow,trellisColumn:i.trellisColumn};}return u;};m.prototype._getFillColorConfig=function(i,j,k,t){var u=k.disableSemantic?null:this._semanticMgr.analyzeDataPoint("color",j,true);var v=true;if(u==null||(u.properties==null)||!(this._semanticMgr.hasDataPointColorStyle()||this._semanticMgr.hasDataPointLineStyle())){if(i.graphic){if(i.graphic.fill){i.graphic.fill=N.convertColor(i.graphic.fill);}if(i.graphic.color){i.graphic.color=N.convertColor(i.graphic.color);}if(i.graphic.borderColor){i.graphic.borderColor=N.convertColor(i.graphic.borderColor);}}if(i.data&&i.data.color){i.data.color=N.convertColor(i.data.color);}v=false;}if(v){if(u.properties.hasOwnProperty("color")){var w=N.convertColor(u.properties.color||this._semanticMgr._propMgr.get("plotArea.defaultOthersStyle.color"));if(i.graphic){if(i.graphic.hasOwnProperty("fill")){i.graphic.fill=w;}if(i.graphic.hasOwnProperty("color")){i.graphic.color=w;}}if(i.data&&i.data.color){i.data.color=w;}i.isOthers=u.isOthers;i.useDefaultOtherName=u.useDefaultOtherName;i.displayName=u.displayName;}if(u.properties.stroke){i.graphic.stroke=u.properties.stroke;}if(u.properties.strokeWidth){i.graphic.strokeWidth=u.properties.strokeWidth;}}i=this._getPatternConfig(i,j,k);return i;};m.prototype._getColor=function(i){var j=null;if(this._data.color2&&i.color2){j=this._data.color2.scale.scale(i.color2);}else if(this._data.color){j=this._data.color.scale.scale(i.color);}else if(this._data.color2){j=this._data.color2.scale.scale();}return j;};m.prototype._buildConfig=function(i,j,k){var t=this._getColor(i);var u={width:j.width,height:j.height,drawingEffect:this._drawingEffect,fill:t,opacity:1};return{graphic:u,data:{color:t,width:j.width,height:j.height,translate:[j.x,j.y]},ctx:k,effectManager:this._effectManager};};m.prototype._createDataPoint=function(i,j,k,t,u,v,w,y){var z=new a(-1,-1,null,-1);z.init(k,v,t,w&&w.dp&&w.dp.id?w.dp.id:C.NULL_VALUE,y);z.setPosition(u);z.setRawData(w);return z;};m.prototype._applyDataPointRenderer=function(i,j){return i(j);};var s=C.CSS.CLASS.DATAPOINT+' '+C.CSS.CLASS.MORPHABLEDATAPOINT+' '+C.CSS.CLASS.DATAPOINTDEFAULT;m.prototype._drawDataPoint=function(i,j){var k=g.create("g");d.setDataId(k,j.getDataId());d.setDataPointId(k,j.getDataPointId());e.setContext(k,j.getContext());var t=j.getData();t.seriesIndex=j.getSeriesIndex();t.itemIndex=j.getItemIndex();e.setData(k,t);k.setAttribute("class",this._dataPointClasses.join(' '));var u=j.getPosition();if(T.isExist(u.x)&&T.isExist(u.y)){k.setAttribute("transform",'translate('+u.x+', '+u.y+')');}var v=j.getConfig();var w=this._renderNode(i,v,k,t);var y=this._drawShadowNode(v.graphic,k,w,t,i);return k;};m.prototype._isSupportNoFill=function(){return false;};m.prototype._drawShadowNode=function(i,j,k,t,u){var v;u=u||this._dataPointRenderer;if(this._isSupportNoFill()&&i.pattern==="noFill"){var w=O.clone(i);delete w.bgColor;delete w.drawingEffect;delete w.pattern;w.fill="transparent";v=u({graphic:w});if(v){j.appendChild(v);}}k=v||k;if(k){var y=k.getAttribute("stroke-width");if(y){t.strokeWidth=parseInt(y);}}return v;};m.prototype._renderNode=function(i,j,k,t){var u=this._applyDataPointRenderer(i,j);if(!u&&this._dataPointRenderer){u=this._dataPointRenderer(j);}k.appendChild(u);if(j.graphic&&j.graphic.pattern){if(j.graphic.pattern==='noFill'){t.pattern='noFill';}else{t.patternFill=u.getAttribute('fill');}}return u;};m.prototype._appendDataPointClass=function(i){this._dataPointClasses.push(i);};m.prototype._buildData=function(i){var j={color:i.graphic.fill,trellisInfo:i.trellisInfo};if(this._semanticMgr.isUseSemanticPattern()){j.pattern=i.graphic.pattern;if(i.ctx){j.isNegative=(i.ctx[i.ctx.measureNames]<0)?true:false;}}return j;};m.prototype._getDataPointRenderer=function(i){return this._customMarkerRenderer||this._dataPointRenderer;};m.prototype.isBigDataMode=function(){return false;};m.prototype.getAxisBinding=function(){var i={};if(this._xHandlers){i.horizontal=this._xHandlers.map(function(j){return j.id;});}if(this._yHandlers){i.vertical=this._yHandlers.map(function(j){return j.id;});}return i;};m.prototype.mappingDataPointInfo=function(i){return{};};m.prototype.getRemainingPlotOffset=function(i,j){var k=this.getRealSize();var t=this.getSize();var u={};var v=i?(i.x||i.y||0):0;if(this.isHorizontal()){u.y=(k.height-t.height+v)*(-j);return{y:u.y+v};}else{u.x=(k.width-t.width+v)*(-j);return{x:u.x+v};}};m.prototype._getPatternConfig=function(i,j,k){if(!k.disableSemantic&&this._useSemanticPattern()){var t=this._semanticMgr.analyzeDataPoint("pattern",j,true);if(t&&t.properties&&t.properties.pattern){if(this._isSupportNoFill()||t.properties.pattern!=='noFill'){i.graphic.pattern=t.properties.pattern;}if(i.ctx[i.ctx.measureNames]<0){i.graphic.isNegative=true;}else{i.graphic.isNegative=false;}}}return i;};m.prototype._useSemanticPattern=function(){return this._semanticMgr.isUseSemanticPattern()&&this._semanticMgr.hasDataPointStyle();};return m;});define('sap/viz/chart/components/plots/BarWidthUtils',['sap/viz/framework/common/util/NumberUtils'],function(N){var u={};u.getBarInfo=function(s,o){var S=1;var r={};if(o.hasOwnProperty("barWidth")){r.barWidth=o.barWidth;if(s===1){r.itemWidth=r.barWidth;r.gap=(S-r.barWidth)/2;}else{r.itemWidth=r.barWidth*(1+o.innerGroupSpacing);r.gap=(S-r.itemWidth*(s-1)-r.barWidth)/2;}}else if(s===1){r.barWidth=S/(s+o.barSpacing);r.gap=r.barWidth*o.barSpacing/2;r.itemWidth=r.barWidth;}else{r.barWidth=S/(s+o.innerGroupSpacing*(s-1)+o.groupSpacing);r.gap=r.barWidth*o.groupSpacing/2;r.itemWidth=r.barWidth*(1+o.innerGroupSpacing);}return r;};u.getBarProperties=function(p){var i=parseFloat(p.get("plotArea.gap.innerGroupSpacing"));if(N.isNoValue(i)||i<0){i=p.getDefault("plotArea.gap.innerGroupSpacing")||0;}var g=parseFloat(p.get("plotArea.gap.groupSpacing"));if(N.isNoValue(g)||g<0){g=p.getDefault("plotArea.gap.groupSpacing")||0;}var b=parseFloat(p.get("plotArea.gap.barSpacing"));if(N.isNoValue(b)||b<0){b=p.getDefault("plotArea.gap.barSpacing")||0;}return{innerGroupSpacing:i,groupSpacing:g,barSpacing:b,forBar:true};};return u;});define('sap/viz/chart/components/plots/ItemScaleHandler',['sap/viz/framework/common/util/oo','sap/viz/framework/common/util/ObjectUtils','sap/viz/chart/components/plots/BarWidthUtils'],function Setup(o,O,B){function g(s,a){var r=[];var b=B.getBarInfo(s,a);for(var i=0;i<s;i++){r[i]=[b.gap+i*b.itemWidth,b.gap+i*b.itemWidth+b.barWidth];}return r;}var I=function(a){this._result=[];this._options=a||{};};I.prototype.updateOptions=function(a){O.extend(true,this._options,a);};I.prototype.init=function(s){var r=this._result=[];var a=1;var b;if(!this._options.hasOwnProperty("barSpacing")){b=[a*0.25,a*0.75];if(this._options&&this._options.hasOwnProperty("barWidth")){var h=this._options.barWidth/2;b=[a*(0.5-h),a*(0.5+h)];}}else{b=g(1,this._options)[0];}for(var i=0;i<s;i++){r[i]=b;}};I.prototype.get=function(s){return this._result[s];};I.prototype.updateOptions=function(a){O.extend(true,this._options,a);};var S=function(a){S.superclass.constructor.apply(this,arguments);this._options=a||{forBar:true};};o.extend(S,I);S.prototype.init=function(s){if(this._options.isMekkoCategoryAxis){this._result=[];for(var j=0;j<s;j++){this._result[j]=[0.0,1.0];}}else if(!this._options.forBar){this._result=[];for(var i=0;i<s;i++){this._result[i]=[i/s,(i+1)/s];}}else{this._result=g(s,this._options);}};S.prototype.get=function(s){return this._result[s];};var M=function(a){M.superclass.constructor.apply(this,arguments);this._items=a.valueAxis;};o.extend(M,I);M.prototype.init=function(s){this._result=g(this._items.length,this._options);};M.prototype.get=function(s,r){for(var i=0;i<this._items.length;i++){if(r&&r.hasOwnProperty(this._items[i])){return this._result[i];}}};return{get:function(i,a){if(a&&a.isMekkoCategoryAxis){return new S(a);}else if(i){return new S(a);}else if(a&&a.valueAxis){return new M(a);}else{return new I(a);}},extend:function(s){var b=I;o.extend(s,b);return s;}};});define('sap/viz/chart/components/plots/ScaleHandler',['sap/viz/framework/common/util/oo','sap/viz/framework/common/util/TimeUtil','sap/viz/framework/common/util/TypeUtils','sap/viz/framework/common/util/DataUtils'],function Setup(o,T,a,D){var S=function(i,e){this.id=i;this._options=e||{isHorizontal:true};};var L="line";S.prototype.init=function(s,e,r){this._scale=s;this._range=r;};S.prototype.scale=function(v,i){return this._scale(v);};S.prototype.destroy=function(){this.id=null;this._options=null;this._range=null;this._scale=null;this.type=null;};var C=function(i,e){C.superclass.constructor.apply(this,arguments);this.type="category";};o.extend(C,S);C.prototype.init=function(e,s){C.superclass.init.apply(this,arguments);if(!e){this._scaleByIndex=null;return;}var f=e.getDomain();var g=e.scale.bind(e);this._scaleByIndex=[];for(var i=0;i<f.length;i++){this._scaleByIndex[i]=g(f[i]);}this._options.itemScaleHandler.init(s);};C.prototype.destroy=function(){C.superclass.destroy.call(this);this._scaleByIndex=null;};C.prototype.scale=function(v,e){var i=e.index,s=e.seriesIndex;var r=this._scaleByIndex&&this._scaleByIndex[i]?this._scaleByIndex[i]:[0,1];var f=this._options.itemScaleHandler.get(s,e.rawData)||[0,1];var g=r[1]-r[0];var h=g*(f[1]-f[0])*this._range;var j=(r[0]+g*f[0])*this._range;if(this._options.alignment==="center"){return[j+h/2,0];}else{return[j,h];}};var P=function(i,e){P.superclass.constructor.apply(this,arguments);this.type="polar";};o.extend(P,C);P.prototype.scale=function(v,e){var i=e.index,s=e.seriesIndex;var r=this._scaleByIndex?this._scaleByIndex[i]:[0,1];return[Math.PI*2*r[0],0];};P.prototype.categorySum=function(v,e){return this._scaleByIndex.length;};var V=function(i,e){V.superclass.constructor.apply(this,arguments);this.type="value";this.continuous=true;};o.extend(V,S);V.prototype.scale=function(v,e){var i=e.index,s=e.seriesIndex,f=e.dataHandler;var g=this._scale.scale(f?f.getBase(i,v,s):0);var n=f?f.add(i,v,s):v;var h=this._scale.scale(n);var j=(h-g)*this._range;if(this._options.isHorizontal){if(this._options.alignment==="right"){return[h*this._range,j];}else{return[g*this._range,j];}}else{return[(1-h)*this._range,j];}};var b=function(i,e){b.superclass.constructor.apply(this,arguments);this.type="value";this.continuous=true;};o.extend(b,S);b.prototype.scale=function(v,e){var i=e.index,s=e.seriesIndex,f=e.dataHandler;var g,n,h,j;var m,k,l,p,q,r;l=this._scale.getAutoDomain();p=this._scale.getDomain();q=this._scale.getDomainFixed();r=this._scale.getRange();m=q[0]?p[0]:l[0];k=q[1]?p[1]:l[1];if(m>=k){m=l[0];k=l[1];}if(v<m){g=r[0];}else if(v>k){g=r[1];}else{g=this._scale.scale(f?f.getBase(i,v,s):0);}n=f?f.add(i,v,s):v;if(n>k){h=r[1];}else if(n<m){h=r[0];}else{h=this._scale.scale(n);}j=(h-g)*this._range;if(this._options.isHorizontal){if(this._options.alignment==="right"){return[h*this._range,j];}else{return[g*this._range,j];}}else{return[(1-h)*this._range,j];}};var c=function(i,e){c.superclass.constructor.apply(this,arguments);this.type="time";};o.extend(c,V);c.prototype.scale=function(v,e){var i=e.index,f=e.dataHandler;var n=f?f.add(i,v):v;var m=this._scale.scale(n);return[m*this._range,0];};var d=function(i,e){d.superclass.constructor.apply(this,arguments);this.type="time";this._barWidth=null;this._innerSpace=null;this._columnCount=null;this._isSingleBar=e.forSingleBar;};o.extend(d,V);d.prototype.scale=function(v,e){var i=e.index,f=e.dataHandler;var h=this._options;var m=h.minTimeLevel;var u=h.showAsUTC;var n=f?f.add(i,v):v;var g=this._scale.scale(n);var p;if(this._isSingleBar){p=this._barWidth/2;}else{p=(this._columnCount*this._barWidth+(this._columnCount-1)*this._innerSpace)/2-e.seriesIndex*(this._barWidth+this._innerSpace);}return[(g-(e.shape===L?0:p))*this._range,this._barWidth*this._range];};d.prototype.updateBarWidth=function(e,i,f){this._barWidth=e;this._innerSpace=i;this._columnCount=f;};var W=function(i,e){V.superclass.constructor.apply(this,arguments);this.type="value";this.continuous=true;};o.extend(W,S);W.prototype.scale=function(e,f){var i=f.index,s=f.seriesIndex,g=f.dataHandler;var v=e.value;var t=e.total;var h=e.base;var j=this._scale.scale(g?g.getBase(i,h,s):h);var n=g?g.add(i,v,s):v;var k=this._scale.scale(n);var l=(k-j)*this._range;if(this._options.isHorizontal){if(this._options.alignment==="right"){return[k*this._range,l];}else{return[j*this._range,l];}}else{return[(1-k)*this._range,l];}};return{getCategoryScaleHandler:function(i,e){return new C(i,e);},getValueScaleHandler:function(i,e){return new V(i,e);},getTimeScaleHandler:function(i,e){if(e.forBar){return new d(i,e);}else{return new c(i,e);}},getPolarScaleHandler:function(i,e){return new P(i,e);},getPerfectValueScaleHandler:function(i,e){return new b(i,e);},getWTFScaleHandler:function(i,e){return new W(i,e);},extend:function(s){var e=S;o.extend(s,e);return s;}};});define('sap/viz/chart/components/renderers/BarRenderer',["sap/viz/framework/common/util/SVG",'sap/viz/framework/common/util/DataGraphics',"sap/viz/chart/components/util/DrawUtil"],function(S,D,a){var M=2;var b=function(c){var n;var g=c.graphic;var w=g.width<1&&g.width!==0?1:g.width;var h=g.height<1&&g.height!==0?1:g.height;var f=g.fill;if(g.pattern==="noFill"&&c.path){n=S.create("path");n.setAttribute("d",c.path);n.setAttribute("stroke-width",isNaN(g.pathStrokeWidth)?3:g.pathStrokeWidth);n.setAttribute("fill",g.bgColor);n.setAttribute("stroke",g.fill);}else{n=S.create("rect");if(c.effectManager){f=c.effectManager.register({drawingEffect:g.drawingEffect,fillColor:g.fill,patternEffect:g.pattern,isNegative:g.isNegative,direction:c.horizontal?'vertical':'horizontal'});}n.setAttribute("width",w);n.setAttribute("height",h);n.setAttribute("fill",f);if(g.shapeRendering){n.setAttribute('shape-rendering',g.shapeRendering);}if(g.stroke){var m=c.twoDirection?Math.min(h,w):(c.horizontal?h:w);var s=m>g.strokeWidth+M?g.strokeWidth:m-M;if(s>=1){n.setAttribute('stroke',g.stroke);n.setAttribute('stroke-width',g.strokeWidth);}}}D.setCustomizationInfo(n,{'defaultRenderer':true});return n;};b.update=function(n,c){var g=c.graphic;var w=g.width<1&&g.width!==0?1:g.width;var h=g.height<1&&g.height!==0?1:g.height;var s={width:w,height:h,minSize:c.twoDirection?Math.min(h,w):(c.horizontal?h:w)};a.barUpdate(n,c,s);};return b;});define('sap/viz/chart/components/renderers/GridlineRenderer',["sap/viz/framework/common/util/NumberUtils","sap/viz/framework/common/util/Constants","sap/viz/framework/scale/ValueScaleUtil","sap/viz/framework/common/util/SVG","sap/viz/framework/common/util/DataGraphics"],function(N,C,V,S,D){var G=C.CSS.CLASS.GRIDLINE_GROUP;var a=C.CSS.CLASS.GRIDLINE;var I=C.CSS.CLASS.GRIDLINE_INCISED;var b="#ffffff";var c="v-zeroline-group";var e="v-zeroline";var M="v-gridline-mainline";var f="v-gridline-incisedline";var r={};r.drawZeroLine=function(s,w,d,i,p,j,k,o){var n;var l=p.get("gridline.zeroLine.highlight");if(!l){return;}var t=V.getTicks(i);var z=t.indexOf(0);if(z<1){n=s.select("."+c);if(!n.empty()){n.remove();}return;}var m=p.get("gridline.zeroLine.color")||k;m=m||p.origin.get("categoryAxis.color");n=s.select("."+c);var g,q;if(!n.node()){n=s.append("g").attr("class",c).attr("style","pointer-events:none");}g=n.select("."+e);if(!g.node()){g=n.append("g").attr("class",e);q=g.append("line");}else{q=g.select("line");}n.attr("stroke",m).attr("stroke-width",p.get("gridline.size")||1).attr("shape-rendering","crispEdges");if(p.get("gridline.type")===C.GRIDLINE_TYPE.DASHED||p.get("gridline.type")===C.GRIDLINE_TYPE.DOTTED){n.attr("stroke-dasharray",C.DASH_TYPE_ARRAY);}else{n.node().removeAttribute("stroke-dasharray");}var u=s.node().getElementsByTagName('clipPath');if(u&&u.length>0){var v=u[0].getAttribute('id');n.attr("clip-path","url(#"+v+")");}var x,y,A,B;var E=N.preciseSimple(i.scale(0));if(j===C.DIRECTION.HORIZONTAL){x=0;y=N.preciseSimple(w);A=B=!o?E:0;if(o){g.attr("transform","translate("+0+", "+E+")");}}else{A=0;B=N.preciseSimple(d);x=y=!o?E:0;if(o){g.attr("transform","translate("+E+", "+0+")");}}q.attr('x1',x).attr('x2',y).attr('y1',A).attr('y2',B);if(o){D.setData(g.node(),{pos:E});}};r.drawValueGridline=function(s,w,g,j,p,k){var n=s.select("."+G);if(p.get('visible')){var l=p.get('color');var m=p.get('size');var v=V.getTicks(j);var t=V.getTicksPosition(v,j);var i=0;var o=t.length;var x=[];var y=[];var q=[];var u=[];switch(k){case C.DIRECTION.HORIZONTAL:for(;i<o;++i){x[i]=0;y[i]=t[i];q[i]=N.preciseSimple(w);u[i]=t[i];}break;case C.DIRECTION.VERTICAL:for(;i<o;++i){x[i]=t[i];y[i]=0;q[i]=t[i];u[i]=N.preciseSimple(g);}break;}if(!n.node()){n=s.append("g").attr("class",G);}var z=n.selectAll("."+a).data(v);z.enter().append("g");z.exit().remove();var A=p.get('zeroLine.unhighlightAxis');z.each(function(d,i){this.setAttribute("class",a);this.setAttribute("stroke",l);this.setAttribute("stroke-width",m);this.setAttribute("shape-rendering","crispEdges");var E=this.querySelector("line."+M);if(!E){E=S.create("line");E.setAttribute("class",M);this.appendChild(E);}E.setAttribute("x1",x[i]);E.setAttribute("y1",y[i]);E.setAttribute("x2",q[i]);E.setAttribute("y2",u[i]);if(i===0&&d!==0&&A===false){E.setAttribute("stroke-opacity",0);}});var B=p.get('type');if(B===C.GRIDLINE_TYPE.DASHED||B===C.GRIDLINE_TYPE.DOTTED){z.attr("stroke-dasharray",C.DASH_TYPE_ARRAY);}if(B===C.GRIDLINE_TYPE.INCISED){switch(k){case C.DIRECTION.HORIZONTAL:z.each(function(d,i){var E=this.querySelector("line."+f);if(!E){E=S.create("line");E.setAttribute("class",f);this.appendChild(E);}E.setAttribute("stroke",b);E.setAttribute("x1",x[i]);E.setAttribute("y1",y[i]+1);E.setAttribute("x2",q[i]);E.setAttribute("y2",u[i]+1);});break;case C.DIRECTION.VERTICAL:z.each(function(d,i){var E=this.querySelector("line."+f);if(!E){E=S.create("line");E.setAttribute("class",f);this.appendChild(E);}E.setAttribute("stroke",b);E.setAttribute("x1",x[i]-1);E.setAttribute("y1",y[i]);E.setAttribute("x2",q[i]-1);E.setAttribute("y2",u[i]);});break;}}}else{n.remove();}};r.drawRadarGridLine=function(s,d,g,k,p){if(!p.visible){return;}var n=s.select("."+G);if(!n.node()){n=s.append("g").attr("class",G);}var l=p.color;var m=p.size;var t=h(k);function o(d,y,z){if(z===0){return;}var A=z*Math.sin(y);var B=z*Math.cos(y);return{x:d.x-A,y:d.y-B};}for(var i=0;i<t.length;i++){if(t[i]===0){continue;}var q=S.create("g");var u=[];for(var j=0;j<g.length;j++){var v=S.create("line");v.setAttribute("class",f);v.setAttribute("stroke",l);v.setAttribute("stroke-width",m);var w=j===0?o(d,g[g.length-1],t[i]):u[j-1];var x=o(d,g[j],t[i]);u.push(x);v.setAttribute("x1",w.x);v.setAttribute("y1",w.y);v.setAttribute("x2",x.x);v.setAttribute("y2",x.y);q.appendChild(v);}n.node().appendChild(q);}};function h(s){var t=V.getTicks(s);return V.getTicksPosition(t,s);}return r;});define('sap/viz/chart/components/plots/BaseColumnPlot',['sap/viz/framework/common/util/oo','sap/viz/framework/common/util/SVG','sap/viz/framework/common/util/DOM','sap/viz/framework/scale/ValueScale','sap/viz/framework/common/util/Constants','sap/viz/chart/components/plots/BasePlot','sap/viz/chart/components/plots/DataHandler','sap/viz/chart/components/plots/ItemScaleHandler','sap/viz/chart/components/plots/ScaleHandler','sap/viz/chart/components/plots/model/DataPointInfo','sap/viz/chart/components/plots/model/Series','sap/viz/chart/components/renderers/BarRenderer','sap/viz/chart/components/renderers/GridlineRenderer','sap/viz/framework/common/util/DataGraphics',"sap/viz/chart/components/util/DataPointUtils",'sap/viz/framework/common/util/UADetector','sap/viz/framework/common/util/ObjectUtils','sap/viz/framework/common/util/DataUtils','sap/viz/framework/common/util/TypeUtils','sap/viz/chart/components/plots/BarWidthUtils','sap/viz/framework/common/util/NumberUtils',"sap/viz/chart/components/container/utils/xyTransformUtils","sap/viz/framework/chartmodel/ContextBuilder","sap/viz/chart/components/util/DrawUtil"],function Setup(o,S,D,V,C,B,a,I,b,c,e,f,G,h,j,U,O,k,T,l,N,x,m,n){var p="negative-datapoint";var t={desktop:{minWidth:8,maxWidth:100},mobile:{minWidth:8,maxWidth:100}};var q=function(r,d){d=d||{isHorizontal:false};this._valueAxisIndex=d.valueAxisIndex||"valueAxis";q.superclass.constructor.apply(this,arguments);this._dataPointRenderer=f;this._flipNegativeShape=true;this._drawZeroLineBeforeDatapoints=true;};o.extend(q,B);q.prototype._getBarProperties=function(){if(!this._barInfoProperties){this._barInfoProperties=l.getBarProperties(this._properties.origin);}return this._barInfoProperties;};q.prototype.destroy=function(){q.superclass.destroy.call(this);if(this._categoryScaleHandler){this._categoryScaleHandler.destroy();}this._categoryScaleHandler=null;if(this._gridlineScale){this._gridlineScale.destroy();}this._gridlineScale=null;this._dataPointRenderer=null;this._flipNegativeShape=null;this._drawZeroLineBeforeDatapoints=null;this._options=null;};q.prototype.setVisibleWindow=function(d,g){this._windowSize=d;this._positionInWindow=g;this._applyScroll();};q.prototype._getColorData=function(){return this._data.color;};q.prototype._getColor2Data=function(){return this._data.color2;};q.prototype._buildLegendTextData=function(d){var g=d.length;var i=[];var r;var v;for(r=0;r<g;r++){v=d[r];var w;for(w=0;w<v.length;w++){if(v[w]){if(v[w].color){i.push(v[w].color);}else{i.push(v[w].color2);}break;}}}return i;};q.prototype._getOnlyOneMndIndex=function(d,g){var i=-1;if(!this._options.inTrellis){var r;if(d.length>0&&d[0].color){r=this._getColorData();}else if(d.length>0){r=this._getColor2Data();}if(r){i=k.checkMndStatus(r.metaData,g).mndIndex;}}return i;};q.prototype._getMaxVisibleSize=function(){var v=this._windowSize||this._size;return{width:v.width,height:v.height};};q.prototype._preShowDataPoints=function(){q.superclass._preShowDataPoints.apply(this,arguments);var d=this._offset;var g=d.hasOwnProperty("x")?d.x:0;var i=d.hasOwnProperty("y")?d.y:0;if(this._positionInWindow){g+=this._positionInWindow.hasOwnProperty("x")?this._positionInWindow.x:0;i+=this._positionInWindow.hasOwnProperty("y")?this._positionInWindow.y:0;}var r=this._getMaxVisibleSize();this._visibleBound={x:r.width-g,y:r.height-i};};q.prototype._drawDataPoint=function(d,g){var i=g.getConfig();var r=q.superclass._drawDataPoint.apply(this,arguments);this._updateStrokeWidth(r);if(this._flipNegativeShape){var v=g.getConfig();if(v.ctx){var w=v.ctx[v.ctx.measureNames]<0;if(w){this._addNegativeClass(r,v);}}}return r;};q.prototype._addNegativeClass=function(d,r){var g=document.createElementNS('http://www.w3.org/2000/svg',"g");for(var i=0,v=d.childNodes.length;i<v;++i){g.appendChild(d.childNodes[0]);}g.setAttribute("class",p);this._updateNegativeDatapoint(r,g);d.appendChild(g);};q.prototype._generateMarkerPath=function(){var d=this._markerPropName&&this._properties.get(this._markerPropName);if(d){var r=d.size/2;this._markerD=n.createMarkerData({type:this._getMarkerShape(),rx:r,ry:r,borderWidth:2});this._markerShadow=n.createMarkerData({type:this._getMarkerShape(),rx:r+0.8,ry:r+0.8,borderWidth:1,innerBorder:true});}};q.prototype._updateNegativeDatapoint=function(d,g){var i;if(this.isHorizontal()){i="translate("+(d.graphic.width>1?d.graphic.width:1)+",0)scale(-1, 1)";}else{i="translate(0,"+(d.graphic.height>1?d.graphic.height:1)+")scale(1, -1)";}g.setAttribute("transform",i);};q.prototype.isHorizontal=function(){return(this._options.isHorizontal===true);};q.prototype._getPreferredSizeProperties=function(d){var g=this._properties;return g.get(d);};q.prototype._getValueScaleHandlers=function(i){if(this._options.isDualValueAxis){return[b.getValueScaleHandler("valueAxis",{isHorizontal:i}),b.getValueScaleHandler("valueAxis2",{isHorizontal:i})];}else{return[b.getValueScaleHandler(this._valueAxisIndex,{isHorizontal:i})];}};q.prototype._getCategoryScaleHandlers=function(i){this._categoryScaleHandler=b.getCategoryScaleHandler("categoryAxis",{isHorizontal:i,itemScaleHandler:I.get(true,this._getBarProperties())});return[this._categoryScaleHandler];};q.prototype._getXHandlers=function(){if(this.isHorizontal()){return this._getValueScaleHandlers(true);}else{return this._getCategoryScaleHandlers(true);}};q.prototype._getYHandlers=function(){if(this.isHorizontal()){return this._getCategoryScaleHandlers(false);}else{return this._getValueScaleHandlers(false);}};q.prototype._getDataHandler=function(){if(this._options.isDualValueAxis){return{"valueAxis":a.getHandler(),"valueAxis2":a.getHandler()};}else{var r={};r[this._valueAxisIndex]=a.getHandler();return r;}};q.prototype._getDefaultZeroLineColor=function(){return this._properties.origin.get("categoryAxis.color");};q.prototype._postRender=function(d){if(!this._drawZeroLineBeforeDatapoints&&this._gridlineScale){var i=this.isHorizontal();var g=i?C.DIRECTION.VERTICAL:C.DIRECTION.HORIZONTAL;G.drawZeroLine(this._selection,this._size.width,this._size.height,this._gridlineScale,this._properties,g,this._getDefaultZeroLineColor(),true);}q.superclass._postRender.apply(this,arguments);};function s(d){var g=-1;for(var i=0;i<d.length;i++){if(d[i]){g=i;break;}}return g;}function u(d){var g=-1;for(var i=d.length-1;i>=0;i--){if(d[i]){g=i;break;}}return g;}q.prototype._resetDataPoints=function(){for(var d in this._dataHandler){if(this._dataHandler[d].reset){this._dataHandler[d].reset();}}if(!this._series||this._series.length===0){return;}for(var g=0;g<this._series.length;g++){var i=this._series[g];if(!i){continue;}var r=i.getDataPoints();this._hideDataPoints(r,{min:0,max:r.length-1});for(var v=0;v<r.length;v++){var w=r[v];if(w){w.reset();}}}};q.prototype._getDataPointPosition=function(d){var g=d.getPosition();if(!g){g=this._getPosition(d.getSeriesIndex(),d.getItemIndex(),d.getRawData());d.setPosition(g);}return g;};q.prototype._needLazyRender=function(){if(!!this._options.inTrellis){return true;}var i=this.isHorizontal();var d=this._size;var r=this._realSize;return i?d.height<r.height:d.width<r.width;};q.prototype._getVisibleRange=function(g){var r=[];var v=[];for(var i in g){if(g.hasOwnProperty(i)){i=parseInt(i);var d=g[i];if(d){r.push(i);v.push(d);}}}if(!v.length){return{min:0,max:0};}if(v.length===1){return{min:r[0],max:r[0]};}var w=this.isHorizontal();var y=w?"y":"x";var z=w?'height':'width';var A,E,F,H;var J=0;var K=v.length-1;var L=J;var M=this._getDataPointPosition(v[J]);var Q=this._getDataPointPosition(v[K]);var R=M[y]+this._offset[y];if(R<0){while(J<K){A=Math.floor((J+K)/2);E=v[A];F=this._getDataPointPosition(E);H=F[y]+F[z]+this._offset[y];if(H>0){K=A;L=A;}else{J=A+1;L=A+1;}}}J=0;K=v.length-1;var W=K;var X=Q[y]-this._visibleBound[y];if(X>0){while(J<K){W=A=Math.floor((J+K)/2);E=v[A];F=this._getDataPointPosition(E);H=F[y]-this._visibleBound[y];if(H>0){K=A;}else{J=A+1;}}}if(L>0){L--;}if(W<r.length-1){W++;}return{min:r[L],max:r[W]};};q.prototype._drawDatapoints=function(d){var g=this._getSeries();var i=g.length;if(this._seriesRenderer){this._seriesRenderer.init(i);}for(var r in this._dataHandler){if(this._dataHandler[r].reset){this._dataHandler[r].reset();}}var v;var w=0;this._drawingEffect=this._properties.get('drawingEffect');for(var y=0;y<i;y++){var z=g[y];if(!z){continue;}var A=z.length,E=null;for(var F=0;F<A;++F){var H=z[F];if(!H){continue;}v=w++;this._series[y]=this._series[y]||new e();var J=this._series[y].getDataPoint(F);if(J){J.reset();J.setRawData(H);}else{J=new c(y,F,H,v);this._series[y].setDataPoint(F,J);}}if(this._series[y]){this._series[y].setLength(A);}}this._series.length=i;var K=d.node().querySelector("."+C.CSS.CLASS.DATAPOINT_GROUP);if(!K){K=S.create("g");K.setAttribute("class",C.CSS.CLASS.DATAPOINT_GROUP);d.node().appendChild(K);}else{d3.select(K).selectAll("*").remove();}this._showDataPoints(K);if(this._seriesRenderer){this._seriesRenderer.render(K);}this._postRender(K);this._drawDataLabels(d,K);};q.prototype._isSupportNoFill=function(){return true;};var P=["noFill","solid"];q.prototype.getSeriesDPStyle=function(d,g,i){var r=this._semanticMgr;g=g||m.buildSeriesLineContext(this._data,d);var v=r.analyzeSeriesStyle(g,"dataPoint");var w=v&&v.dataPoint&&v.dataPoint.pattern;if(i&&P.indexOf(w)===-1){w=null;}if(!this._isSupportNoFill()&&w==='noFill'){w=null;}return{dpPattern:w};};q.prototype._hideNode=function(d,i){var g=d[i];if(g){var r=g.getNode();D.remove(r);g.setNode(null);}};q.prototype._columnOutOfRange=function(d,v){var i;for(i=0;i<v.min;i++){this._hideNode(d,i);}for(i=v.max+1;i<d.length;i++){this._hideNode(d,i);}};q.prototype._hideDataPoints=function(d,v){if(!v){var g=d.length;v={min:g,max:g};}this._columnOutOfRange(d,v);};q.prototype._generatePath=function(d){var g=[];var i=1.5;if(this.isHorizontal()){if(d.width===0){i=0;}g.push([0,i]);g.push([d.width-i,i]);g.push([d.width-i,d.height-i]);g.push([0,d.height-i]);}else{if(d.height===0){i=0;}g.push([i,d.height]);g.push([i,i]);g.push([d.width-i,i]);g.push([d.width-i,d.height]);}return S.generatePath({points:g});};q.prototype._pathStrokeWidth=function(d){if(d&&d[d.measureNames]===0){return 0;}return 3;};q.prototype._showDataPoints=function(d){this._preShowDataPoints();var g=[];this._dataPointContext=[];if(this._seriesRenderer){this._seriesRenderer.resetDataPoints();}var i;if(this._data.color&&this._data.color.metaData&&!this._data.color2){var r=k.checkMndStatus(this._data.color.metaData,this._data.color.rowArray);if(r.isOnlyOneMndValue){i=r.mndIndex;}}var v=this.createSeriesIterator(this._series.length);while(v.hasNext()){var w=v.next();var y=this._series[w];if(!y){continue;}var z=this._getDataPointRenderer(w);if(!z){continue;}var A=y.getDataPoints();var E=this._getVisibleRange(A);this._hideDataPoints(A,E);var F=this.getSeriesDPStyle(w);for(var H=E.min;H<=E.max;H++){var J=A[H];if(!J){continue;}var K=J.getRawData();var L=K.dp;var M=this._getDataPointPosition(J);if(!M){continue;}var Q=false;var R=J.getConfig();if(!R){Q=true;var W=L&&L.context()?L.context():C.NULL_VALUE;var X=this._seriesType&&this._seriesType[w];var Y={itemIndex:H,seriesType:X,seriesStyle:F};R=this._buildWrapperConfig(K,M,W,Y);if(R.graphic.pattern==="noFill"){if(this._options.renderType.indexOf("combination")>-1&&X==="bar"){R.path=this._generatePath(R.graphic);}}}this._dataPointContext.push(R);var Z=J.getData();if(!Z){Q=true;var $=J.getId();Z=this._buildData(R);J.init(R,$,Z,L&&L.id?L.id:C.NULL_VALUE,i);}var _=J.getNode();if(_){if(Q){this._updateDatapoint(_,z,R,M);g.push(_);}}else{_=this._drawDataPoint(z,J);J.setNode(_);if(_){g.push(_);}}this._updateStrokeWidth(_);if(this._seriesRenderer){this._seriesRenderer.addDataPoint(v.index(),H,R,M,_);}else if(!_.parentNode){d.appendChild(_);}}}return g;};q.prototype.zoom=function(){this.update();};q.prototype.update=function(){this._applyChanges();this._dataLabels.setSize(this._realSize);if(this._selection){var d=this._selection.select(".v-plot-main"),r=this.runtime().statusManager().get("plot.transform.scale"),g=this.runtime().statusManager().get("plot.transform.translate");this._drawGridlines(d);this._updateDatapoints(d);this._drawReferenceLine();this._repositionReferenceLine(r,g);this._repositionZeroline(r,g);}};q.prototype._updateStrokeWidth=function(d){if(!d){return;}var g=h.getData(d);var r=d.querySelector("rect");if(r){g["strokeWidth"]=r.getAttribute("stroke-width")||0;h.setData(d,g);}};q.prototype._updateDatapoints=function(d){this._resetDataPoints();var g=d.select("."+C.CSS.CLASS.DATAPOINT_GROUP).node();var i=this._showDataPoints(g);if(this._seriesRenderer){this._seriesRenderer.update(g);}this._dataLabels.updatePosition(d,i);};q.prototype._updateDatapoint=function(d,g,i,r){if(d&&g.update&&T.isFunction(g.update)){g.update(d,i);}if(d&&r.hasOwnProperty("x")&&r.hasOwnProperty("y")){d.setAttribute("transform",'translate('+r.x+', '+r.y+')');}var v=null;if(i.ctx){v=i.ctx[i.ctx.measureNames]<0;}else{var w=this._data.rawData.dataModel;var y=w.getDataPoint(i.dataId);var z=y.context();v=z[z.measureNames]<0;}if(v){var A=d.querySelector("."+p);if(A){this._updateNegativeDatapoint(i,A);}}};q.prototype._drawGridlines=function(d){var g=this._realSize;var i=this.isHorizontal();var r=i?C.DIRECTION.VERTICAL:C.DIRECTION.HORIZONTAL;var v=this._properties.proxy('gridline');var w=i?[0,g.width]:[g.height,0];var y=this._gridlineScale=this._getGridLineScale(w);G.drawValueGridline(d,g.width,g.height,y,v,r);var z=this._properties.origin.get('interaction.syncValueAxis');if(this._drawZeroLineBeforeDatapoints||z){G.drawZeroLine(this._drawZeroLineBeforeDatapoints?d:this._selection,g.width,g.height,this._gridlineScale,this._properties,r,this._getDefaultZeroLineColor(),!this._drawZeroLineBeforeDatapoints);}};q.prototype._getGridLineScale=function(r){var d=this._valueAxisIndex;if(this._options.isDualValueAxis&&this._data.valueAxis.tickHint<this._data.valueAxis2.tickHint){d="valueAxis2";}var v=this._data[d];var g=new V(v.scale.getDomain(),r);g.setTickHint(v.tickHint);return g;};q.prototype._getPosition=function(d,i,g){var r=q.superclass._getPosition.apply(this,arguments);this._adjustPosition(r,d);return r;};q.prototype._adjustPosition=function(d,g){var i=this.isHorizontal(),r=0;if(i){if(d.width<0){if(d.width>-1){r=2-Math.abs(d.width);d.width=2;d.x-=r;}else{d.width=Math.abs(d.width);d.x-=d.width;}}else if(d.width>0&&d.width<1){r=2-d.width;d.width=2;}}else{if(d.height<0){if(d.height>-1){r=2-Math.abs(d.height);d.height=2;}else{d.height=Math.abs(d.height);}d.y-=d.height-r;}else if(d.height>0&&d.height<1){r=2-d.height;d.height=2;d.y-=r;}}};q.prototype._buildConfig=function(d,g,i){var r=q.superclass._buildConfig.apply(this,arguments);r.horizontal=this.isHorizontal();return r;};q.prototype._getColumnCount=function(){return this._data.series.length;};q.prototype._getColumnWidth=function(d,g,i){var r=1;var v=i?(this._size.height/g):(this._size.width/g);var w=l.getBarInfo(d,this._getBarProperties());return v*w.barWidth;};q.prototype._updateRealSize=function(d,g,i,r){var v=this.getRealSizeByFixedDPSize(i,d,g);this._realSize[r?'height':'width']=v;};q.prototype._getCategoryCount=function(){var d=this._data.categoryAxis;return d?d.scale.getDomain().length:0;};q.prototype.getPreferredSize=function(){var d=this._properties;var i=!!this._options.inTrellis;var g=this.isHorizontal();var r=this._getCategoryCount();var v=this._getCategoryRange()||this._getTimeRange();var w=this._getColumnCount();this._showSrollbar=false;var y=this._getPreferredSizeProperties("dataPointSize.max")||d.getDefault("dataPointSize.max");var z,A;var E=!!this._data.timeAxis;var F=!d.origin.get("interaction.noninteractiveMode");var H=this._isRangeIncomplete;function J(){return!E&&v&&!H(v)&&F;}if(F&&(!J())&&(i||H(v)||F)){var K=this._getColumnWidth(w,r,g);var L=U.isMobile()?t.mobile:t.desktop;var M=i?L.minWidth:(this._getPreferredSizeProperties("dataPointSize.min")||d.getDefault("dataPointSize.min"));y=i?L.maxWidth:y;if(!i&&M>y){y=d.getDefault("dataPointSize.max");M=d.getDefault("dataPointSize.min");}var Q=false;if(K<M){Q=true;K=M;}else if(K>y){K=y;this._updateBarWidth(y);}if(Q&&(i||H(v)||this._getPreferredSizeProperties('isFixedDataPointSize'))){this._updateRealSize(w,r,K,g);}if(H(v)&&this._shiftOffsetForIncompleteRange(v,r)){return this.getRealSize();}}if(J()){var R=v[1]-v[0]+1;var W=this._getColumnWidth(w,R,g);var X=this._getColumnWidth(w,r,g);if(W>y){W=y;if(X<y){this._updateRealSize(w,r,W,g);var Y;if(g){Y=this._size.height/this._realSize['height']*r;}else{Y=this._size.width/this._realSize['width']*r;}if(Y>r-v[0]){v[0]=r-Y;}}else{z=g?this._size.height/r:this._size.width/r;A=W/z;this._categoryScaleHandler._options.itemScaleHandler.updateOptions({'barWidth':A});v[0]=0;}}else{if(g){this._realSize['height']=this._size.height*r/R;}else{this._realSize['width']=this._size.width*r/R;}}if(g){this._offset['y']=-v[0]/r*this._realSize['height'];}else{this._offset['x']=-v[0]/r*this._realSize['width'];}}return this.getRealSize();};q.prototype._updateBarWidth=function(d){var g=this._getCategoryCount();var i=this.isHorizontal();var r=i?this._size.height/g:this._size.width/g;var v=d/r;this._categoryScaleHandler._options.itemScaleHandler.updateOptions({'barWidth':v});};q.prototype._buildWrapperConfig=function(d,g,i,r){var v=q.superclass._buildWrapperConfig.apply(this,arguments);var w=v.graphic;if((w.width<1||w.height<1)&&w.width!==0&&w.height!==0){w.shapeRendering='crispEdges';}return v;};q.prototype.getRealSizeByFixedDPSize=function(d,g,i){g=g||this._getColumnCount();i=i||this._getCategoryCount();var r=l.getBarInfo(g,this._getBarProperties());return d*i/r.barWidth;};q.prototype._repositionZeroline=function(d,g){if(!this._selection){return;}var r=this.isHorizontal()?"v":"h",z=this._selection.node().querySelectorAll(".v-zeroline");d=d||this.runtime().statusManager().get("plot.transform.scale");g=g||this.runtime().statusManager().get("plot.transform.translate");for(var i=0;i<z.length;i++){x.adjustTranslate(z[i],d,g,r);}};q.prototype.scroll=function(){this._semanticMgr.beginSession();q.superclass.scroll.apply(this,arguments);this._repositionZeroline();this._semanticMgr.endSession();};q.prototype._getMarkerShape=function(){var d=this._properties.get("marker.shape")||this._properties.get("line.marker.shape");if(C.LINE_MARKER_SHAPE.indexOf(d)===-1){d=this._properties.getDefault("marker.shape")||this._properties.getDefault("line.marker.shape");}return d;};q.prototype._getLegendMarkerShape=function(){var d=this._properties.origin.get("legend.marker.shape");if(C.LEGEND_MARKER_SHAPE.indexOf(d)===-1){d=this._properties.origin.getDefault("legend.marker.shape");}return d;};return q;});define('sap/viz/chart/components/plots/BaseLinePlot',['sap/viz/framework/common/util/oo','sap/viz/framework/common/util/Constants','sap/viz/chart/components/plots/BaseColumnPlot','sap/viz/framework/common/util/DOM','sap/viz/framework/common/util/DataGraphics','sap/viz/framework/common/util/NameColorUtils','sap/viz/framework/chartmodel/ContextBuilder','sap/viz/chart/components/util/DataPointUtils','sap/viz/chart/components/util/SeriesUtil','sap/viz/chart/components/renderers/LineRenderer'],function Setup(o,C,B,D,a,N,b,c,S,L){var d=C.CSS.CLASS;var e=function(r,f){e.superclass.constructor.apply(this,arguments);this._isDrawDp=true;this._lineRenderer=null;};o.extend(e,B);e.prototype.destroy=function(){e.superclass.destroy.apply(this,arguments);this._lineRenderer=null;};e.prototype.getLineRenderer=function(){if(!this._lineRenderer){this._lineRenderer=L();}return this._lineRenderer;};e.prototype._preRender=function(){e.superclass._preRender.apply(this,arguments);this._generateMarkerPath();this._lineRenderer=null;};e.prototype._hideDataPoints=function(f,g){for(var i in f){if(f.hasOwnProperty(i)){this._hideNode(f,i);}}this._lightLineOutOfRange(f,g);};e.prototype._lightLineOutOfRange=function(f,g){var h=function(n){var j,p;for(j=0;j<g.min;j++){p=f[j];if(p&&p.getDataId()===n){return true;}}for(j=g.max+1;j<f.length;j++){p=f[j];if(p&&p.getDataId()===n){return true;}}return false;};var l=this._selection.selectAll("."+d.LIGHT_LINE)[0];for(var i=0;i<l.length;i++){var k=l[i];var m=parseInt(k.getAttribute('data-from'));var t=parseInt(k.getAttribute('data-to'));if(h(m)&&h(t)){D.remove(k);}}};e.prototype._drawDataPoint=function(f,g){var h=e.superclass._drawDataPoint.apply(this,arguments);var i=g.getData();i.shape=this._getMarkerShape();a.setData(h,i);return h;};e.prototype._buildWrapperConfig=function(f,p,g,h){var i=e.superclass._buildWrapperConfig.apply(this,arguments);i.graphic.shape=this._getMarkerShape();return i;};e.prototype._renderNode=function(f,g,h,i){var s=g.graphic.d;if(g.graphic.pattern==="noFill"&&this._markerShadow){g.graphic.d=this._markerShadow;}var n=e.superclass._renderNode.apply(this,arguments);g.graphic.d=s;return n;};e.prototype.update=function(){e.superclass.update.apply(this,arguments);this._updateLightLine();};e.prototype._updateLightLine=function(){if(!this._selection){return;}var f=this._selection.node(),l=f.querySelectorAll("."+d.LIGHT_LINE);var g=this.getLineRenderer();var i=this.isHorizontal();[].forEach.call(l,function(h){var j=h.getAttribute("data-from");var n=c.findByDataPointId(f,h.getAttribute("data-from"));var t=h.getAttribute("data-to");var k=c.findByDataPointId(f,h.getAttribute("data-to"));if(!n||!k){D.remove(h);}else{var p=[a.getData(n).translate.slice(),a.getData(k).translate.slice()];p[0].id=j;p[1].id=t;var m={points:p,isHorizontal:i};if(g&&g.update){g.update(h.firstChild,m);}}});};function v(f){f=parseInt(f,10);return(f>=0&&f<=7)?f:2;}e.prototype.getSeriesDPStyle=function(s,f){var i=!(this._options.renderType&&this._options.renderType.indexOf("combination")>-1&&this._seriesType&&this._seriesType[s]==="bar");var g=e.superclass.getSeriesDPStyle.call(this,s,f,i);return g;};var P=["diagonalLightStripe","diagonalStripe","reverseDiagonalStripe"];e.prototype._getPatternConfig=function(f,g,h){var i=!(this._options.renderType&&this._options.renderType.indexOf("combination")>-1&&h.seriesType==="bar");f=e.superclass._getPatternConfig.apply(this,arguments);if(i&&f.graphic.pattern&&P.indexOf(f.graphic.pattern)>-1){f.graphic.pattern=null;}return f;};e.prototype.getSeriesStyle=function(s,f){var g=this._semanticMgr;var p=this._properties;var h=this._effectManager;f=f||b.buildSeriesLineContext(this._data,s);var i=g.analyzeSeriesStyle(f,"line");var l;if(i&&i.line&&i.line.width!=null){l=i.line.width;}else{l=p.has("line.width")?p.get('line.width'):p.get('width');}l=v(l);var j;if(i&&i.line&&i.line.color!=null){j=i.line.color;}else if((g.hasDataPointColorStyle()||g.hasDataPointLineStyle())&&g.isOverrideMode()&&g.shouldChangeColor()){j=g.getOthersStyle("color").properties.color;}else{var k=b.getSeriesScaleInfo(this._data,s,["color","color2"]);if(k){j=this._data[k.field].scale.scale(k.domain);}else{j=this._getDefaultColor();}}j=h.register({fillColor:N.convertColor(j)});var m;if(i&&i.line&&i.line.type){m=i.line.type;}return{color:j,lineWidth:l,lineType:m};};e.prototype._getDefaultColor=function(){return(this._data.color||this._data.color2).scale.getRange()[0];};e.prototype._drawLine=function(s,f,g,i){if(!this._isLineVisible()){return;}var h=b.buildSeriesLineContext(this._data,g);var j=this.getSeriesStyle(g,h);var l=this.getLineRenderer();var k=this._semanticMgr;var m=this._effectManager;var n=this.isHorizontal();var u=false;var p=!this._isDrawDp;if(i){u=S.updateLine(s,f,k,m,j,h,l,n,p);}if(!u){d3.select(s).select("."+d.LINES_GROUP).remove();S.drawLine(s,f,k,m,j,h,l,n,p);}if(!p){S.linkLine(f);}};e.prototype._updateLine=function(s,f,g){this._drawLine(s,f,g,true);};e.prototype._isLineVisible=function(){return this._properties.get('lineVisible');};return e;});define('sap/viz/chart/components/renderers/SeriesRenderer',['sap/viz/framework/common/util/SVG','sap/viz/framework/common/util/TypeUtils'],function Setup(S,T){var a=function(i,b){this._renderFn=i;this._updateFn=b;};a.prototype.init=function(s){this._series=[];this._seriesGroup=[];for(var i=0;i<s;i++){this._seriesGroup[i]=S.create("g");}};a.prototype.resetDataPoints=function(){this._series=[];};a.prototype.addDataPoint=function(s,c,d,p,b){if(b){this._seriesGroup[s].appendChild(b);}this._series[s]=this._series[s]||[];this._series[s][c]={position:p,dpConfig:d,dataPoint:b};};a.prototype.updateDataPoint=function(s,c,d,p){if(!this._series[s]){this._series[s]=[];}var b=this._series[s][c];if(!b){this._series[s][c]={position:p,dpConfig:d};return;}b.position=p;b.dpConfig=d;};a.prototype.render=function(p){var s=[],b,c;for(var i=0;i<this._seriesGroup.length;i++){b=this._series[i];if(b){c=this._seriesGroup[i];var o=this._renderSeries(c,b,i);if(T.isNaN(o)){o=0;}s[o]=s[o]||[];s[o].push(c);}}for(var n=0;n<s.length;n++){var g=s[n];if(!g||!g.length){continue;}for(var m=0;m<g.length;m++){p.appendChild(g[m]);}}};a.prototype.update=function(p){for(var i=0;i<this._seriesGroup.length;i++){if(this._series[i]){this._updateSeries(this._seriesGroup[i],this._series[i],i);}}};a.prototype._updateSeries=function(s,d,b){if(this._updateFn){this._updateFn(s,d,b);}};a.prototype._renderSeries=function(s,d,b){if(this._renderFn){return this._renderFn(s,d,b);}return 0;};return a;});define('sap/viz/chart/components/renderers/PathRenderer',["sap/viz/framework/common/util/SVG",'sap/viz/framework/common/util/DataGraphics'],function(S,D){return function(c){var n=S.create("path");var g=c.graphic;if(g.d){n.setAttribute("d",g.d);}var f=g.fill;var s=g.stroke;var d=g.drawingEffect;var a=g.strokeWidth;if(g.pattern==='noFill'){d=null;f=g.bgColor;s=g.fill;a=2;}if(c.effectManager){f=c.effectManager.register({drawingEffect:d,fillColor:f,patternEffect:g.pattern!=='noFill'?g.pattern:null,graphType:g.shape});}n.setAttribute("fill",f);var o=(g.opacity>=0&&g.opacity<=1)?g.opacity:1;if(o!==1){n.setAttribute("fill-opacity",o);n.setAttribute("stroke-opacity",o);}if(s){n.setAttribute('stroke',s);n.setAttribute('stroke-width',a);}D.setCustomizationInfo(n,{'defaultRenderer':true});return n;};});define('sap/viz/chart/components/renderers/SmoothLineRenderer',["sap/viz/framework/common/util/SVG"],function(S){var a=function(){var c={};var b=function(l,d,n,y){var i=y.leftControlY;if(i>l&&i>d){i=y.leftControlY=Math.max(l,d);y.rightControlY=d*2-i;}else if(i<l&&i<d){i=y.leftControlY=Math.min(l,d);y.rightControlY=d*2-i;}var r=y.rightControlY;if(r>n&&r>d){r=y.rightControlY=Math.max(n,d);y.leftControlY=d*2-r;}else if(r<n&&r<d){r=y.rightControlY=Math.min(n,d);y.leftControlY=d*2-r;}};var e=function(l,d,n,i){var t=2.4;var x=0;var y=1;if(i){x=1;y=0;}var k=l[x];var m=l[y];var p=n[x];var q=n[y];var r=d[x];var s=d[y];var u=((t-1)*r+k)/t;var v=((t-1)*s+m)/t;var w=((t-1)*r+p)/t;var z=((t-1)*s+q)/t;var A=((z-v)*(w-r))/(w-u)+s-z;var B={};B.leftControlY=v+A;B.rightControlY=z+A;b(m,s,q,B);var C=c[d.id];C.leftControl[x]=u;C.leftControl[y]=B.leftControlY;C.rightControl[x]=w;C.rightControl[y]=B.rightControlY;};var o=function(p){var i=p.id;var d=c[i];if(!d){d=c[i]={};}["leftControl","rightControl"].forEach(function(k){d[k]=p.slice();});};var f=function(p,d){var k,l,m,r,n;for(var i=0,q=p.length;i<q;++i){k=p[i];if(!k){continue;}o(k);l=p[i-1];m=p[i+1];if(i>0&&l&&m){e(l,k,m,d);}}return p;};var g=function(p){var k,l,m,r,n;var d="";var q=true;for(var i=0,s=p.length;i<s;i++){k=p[i];if(!k){q=true;continue;}l=p[i-1];if(q){d+="M";d+=k[0]+","+k[1];}else{r=c[l.id].rightControl;n=c[k.id].leftControl;d+="C";d+=r[0]+","+r[1]+" ";d+=n[0]+","+n[1]+" ";d+=k[0]+","+k[1];}q=false;}return d;};var h=function(d){var p=d.points;var r;var i=(d==null||d.isHorizontal==null)?p:S.simplifyPoints(p,d);if(i===p){r=g(i);}else{r=S.outputPath(i);}return r;};var j=function(d){var i=d.graphic;var p=S.create("path");p.setAttribute("d",h(d));p.setAttribute("fill","none");p.setAttribute("stroke-linejoin","round");p.setAttribute("stroke",i.color);p.setAttribute("stroke-width",i.width);if(i.dash){p.setAttribute("stroke-dasharray",i.dash);}if(i.linecap){p.setAttribute("stroke-linecap",i.linecap);}return p;};j.prepare=function(d){f(d.points,d.isHorizontal);return d;};j.update=function(n,d){n.setAttribute("d",h(d));if(d.graphic){var i=d.graphic;if(i.color){n.setAttribute("stroke",i.color);}if(i.width){n.setAttribute("stroke-width",i.width);}if(i.dash){n.setAttribute("stroke-dasharray",i.dash);}else{n.removeAttribute("stroke-dasharray");}if(i.linecap){n.setAttribute("stroke-linecap",i.linecap);}else{n.removeAttribute("stroke-linecap");}}};return j;};return a;});define('sap/viz/chart/components/util/LineRendererUtil',['sap/viz/chart/components/renderers/LineRenderer','sap/viz/chart/components/renderers/SmoothLineRenderer'],function(L,S){var g=function(c,i){var r=c;if(r){return r;}else{if(i){r=S();}else{r=L();}}return r;};return{getRenderer:g};});define('sap/viz/chart/components/datalabels/LineDataLabels',['sap/viz/framework/common/util/oo','sap/viz/chart/components/datalabels/DataLabels','sap/viz/chart/components/util/DataPointUtils','sap/viz/framework/common/util/DataGraphics'],function(o,D,a,b){var H=3;function g(n){var e=n.parentNode,f=b.getData(n);return{prev:f.prev?a.findByDataPointId(e,f.prev):undefined,next:f.next?a.findByDataPointId(e,f.next):undefined};}function c(n){if(n&&n.hasAttribute('transform')){var e=n.getAttribute('transform').replace(/translate|\(|\)/g,'').split(/[,| ]+/);return{x:parseFloat(e[0]),y:parseFloat(e[1])};}else{return null;}}function p(n){var s=this._getDataLabelInfo(n).value,e=g.call(this,n),f=e.prev?this._getDataLabelInfo(e.prev).value:undefined,h=e.next?this._getDataLabelInfo(e.next).value:undefined;if(isNaN(f)&&isNaN(h)){return'up';}else if(isNaN(f)){f=h;}else if(isNaN(h)){h=f;}if(f>s&&s<h){return'down';}else if(f<=s&&s>=h){return'up';}else{return'adjust';}}function d(e,l,n){var f=g(n),s=c(n),h=c(f.prev),i=c(f.next),u=(h.y>=s.y&&s.y>=i.y),j=u?i:h,k=e[0]+(u?l.width:0),r=e[1],m,q,t;q=(s.x-j.x)/(s.y-j.y);t=s.x-q*s.y;m=q*r+t;if(u&&k>=(m-H)){e[0]-=(k-m+H);}if(!u&&k<=(m+H)){e[0]+=(m+H-k);}return e;}var L=function(r,e){L.superclass.constructor.apply(this,arguments);this.isHorizontal=e.isHorizontal;this._labelPosition=this.isHorizontal?"outside":"up";};o.extend(L,D);L.prototype._computeDataLabelTranslate=function(n,e,l,f){if(this.isHorizontal){return L.superclass._computeDataLabelTranslate.apply(this,[n,e,"right",f]);}l=p.call(this,n);var h;if(l==='adjust'){h=this._computeDataLabelPosition(e,this._fixBBoxWhenInvisible(n),'up',f,{},n);h=d(h,f,n);}else{h=this._computeDataLabelPosition(e,this._fixBBoxWhenInvisible(n),l,f,{},n);if(l==='down'){h[1]+=f.height;}}this._forceInner(h,f);return h;};return L;});define('sap/viz/chart/components/plots/LinePlot',['sap/viz/framework/common/util/oo','sap/viz/framework/common/util/SVG',"sap/viz/framework/common/util/DataGraphics",'sap/viz/framework/common/util/ObjectUtils','sap/viz/framework/common/util/TypeUtils','sap/viz/framework/common/util/UADetector','sap/viz/chart/components/plots/BaseLinePlot','sap/viz/chart/components/plots/ScaleHandler','sap/viz/chart/components/plots/ItemScaleHandler','sap/viz/chart/components/renderers/SeriesRenderer','sap/viz/chart/components/renderers/PathRenderer','sap/viz/chart/components/util/DrawUtil','sap/viz/chart/components/util/LineRendererUtil','sap/viz/chart/components/datalabels/LineDataLabels'],function Setup(o,S,D,O,T,U,B,a,I,b,P,c,L,d){var f={desktop:{minWidth:24},mobile:{minWidth:48}};var t={desktop:{minWidth:16},mobile:{minWidth:16}};var g=function(r,e){g.superclass.constructor.apply(this,arguments);this._markerPropName="marker";this._dataPointRenderer=P;this._flipNegativeShape=false;var s=this.runtime().semanticManager();s.setUseSemanticDPLineStyle(true);s.setUseSemanticPattern(true);var m=this.runtime().markManager();m.setMode("line");m.lock();m.setSeriesShape("line");this._attachMarkRestrict();this.markerShapePW=this._properties.watch("marker.shape",this._onShapeChange.bind(this));this._isMarkerVisible=this._properties.get("marker.visible");this._isDrawDp=true;};o.extend(g,B);g.prototype.destroy=function(){this.markerShapePW.remove();this.markerShapePW=null;g.superclass.destroy.call(this);this._dataPointRenderer=null;this._flipNegativeShape=null;this._markerD=null;this._realSize=null;};g.prototype._onShapeChange=function(){this._attachMarkRestrict();};g.prototype._attachMarkRestrict=function(){var s=[],e=this._getMarkerShape(),m=this.runtime().markManager();s.push(e);if(this._options.isDualValueAxis){s.push(e);}m.setShape(s,"circle");};g.prototype._adjustPosition=function(p,s){};g.prototype._preRender=function(){g.superclass._preRender.apply(this,arguments);this._isMarkerVisible=this._properties.get("marker.visible");};g.prototype._getValueScaleHandlers=function(i){var e={isHorizontal:i,alignment:i?"right":"top"};if(this._options.isDualValueAxis){return[a.getValueScaleHandler("valueAxis",e),a.getValueScaleHandler("valueAxis2",e)];}else{return[a.getValueScaleHandler("valueAxis",e)];}};g.prototype._getCategoryScaleHandlers=function(){return[a.getCategoryScaleHandler("categoryAxis",{isHorizontal:false,itemScaleHandler:I.get(false),alignment:"center"})];};g.prototype._getSeriesRenderer=function(){return new b(this._drawLine.bind(this),this._updateLine.bind(this));};g.prototype._adjustPosition=function(p){};g.prototype._updateDatapoint=function(e,h,i,p){g.superclass._updateDatapoint.apply(this,arguments);if(e&&p.hasOwnProperty("x")&&p.hasOwnProperty("y")){var j=D.getData(e).translate;if(j){j[0]=p.x;j[1]=p.y;}}};g.prototype.getLineRenderer=function(){if(!this._lineRenderer){var p=this._properties;this._lineRenderer=L.getRenderer(p.get('lineRenderer'),p.get("isSmoothed"));}return this._lineRenderer;};g.prototype._buildConfig=function(e,p,h){var i=g.superclass._buildConfig.apply(this,arguments);i.graphic.d=this._markerD;if(!this._isMarkerVisible){i.graphic.opacity=0;}return i;};g.prototype._getDataLabels=function(n,r){var e=O.extend({},this._options);e.name=n;return new d(r,e);};g.prototype._getMinCategoryWidth=function(i){var e=!!this._options.inTrellis;var p=this._properties;var s="categoryAxis.label.style.fontSize";var r=parseInt(p.origin.get(s))/parseInt(p.origin.getDefault(s));if(i||e||(p.get('isFixedDataPointSize')&&!p.origin.get("interaction.noninteractiveMode"))){var h=e?t:f;var m=U.isMobile()?h.mobile.minWidth:h.desktop.minWidth*r;return m;}else{return 0;}};g.prototype.getPreferredSize=function(){var i=!!this._options.inTrellis;var r=this._getCategoryRange();var e=this.isHorizontal();var h=this._getCategoryCount();var j=e?this._size.height/h:this._size.width/h;var k=!this._properties.origin.get("interaction.noninteractiveMode");var l=this._isRangeIncomplete;function u(){return r&&!l(r)&&k;}if(k&&(!u())&&(i||l(r)||this._properties.get('isFixedDataPointSize'))){var m=this._getMinCategoryWidth(l(r));var n=false;if(j<m){n=true;j=m;}if(n){if(e){this._realSize.height=j*h;}else{this._realSize.width=j*h;}}if(l(r)&&this._shiftOffsetForIncompleteRange(r,h)){return this._realSize;}}if(u()){var v=r[1]-r[0]+1;if(e){this._realSize.height=this._size.height*h/v;this._offset.y=-r[0]*this._realSize.height/h;}else{this._realSize.width=this._size.width*h/v;this._offset.x=-r[0]*this._realSize.width/h;}}return this._realSize;};g.prototype.isMarkerVisible=function(){return this._isMarkerVisible;};g.prototype._preShowDataPoints=function(){var s=this._getSeries();var h=0;s.forEach(function(e){h=Math.max(h,e.length);});var _=this.isHorizontal()?this._realSize.height:this._realSize.width;var i=(_/h)<10;var j=this._properties.get('marker.displayMode');this._isMarkerVisible=this._properties.get('marker.visible');if(j==="auto"&&i){this._isMarkerVisible=false;}return g.superclass._preShowDataPoints.apply(this,arguments);};return g;});define('sap/viz/chart/components/datalabels/ColumnDataLabels',['sap/viz/framework/common/util/oo',"sap/viz/framework/common/util/DOM",'sap/viz/framework/common/util/DataGraphics','sap/viz/chart/components/datalabels/DataLabels'],function(o,D,a,b){var C=function(c,d){C.superclass.constructor.apply(this,arguments);};o.extend(C,b);C.prototype.labelOffset=-3;C.prototype.allowIntersectionCheck=function(){return false;};C.prototype.hideConditional=function(d,c){var i;var e=new Array(c.length);for(i=0;i<c.length;i++){e[i]=c[i].getBoundingClientRect();}for(i=(d.length-1);i>=0;i--){var f=d[i];var g=f.node;var h=g.getBoundingClientRect();var j=f.dataPoint;var k=a.getData(j).dataLabelLocation;if(k==="inside"){if(((h.width-(2*this.labelOffset))>e[i].width)||(h.height>e[i].height)){D.remove(g);d.splice(i,1);continue;}}if(!this.allowIntersectionCheck(j)){var I=this.indexOfDataLabelIntersectDataPoints(h,e,c,j);if(I!==-1){D.remove(g);d.splice(i,1);}}}return C.superclass.hideConditional.apply(this,arguments);};C.prototype._computeDataLabelPosition=function(c,s,l,d,e,n){this._labelPosition=this._properties.get('position')||this._properties.getDefault('position');var P=1;var f;var x,y;var g=s.x+c.e;var h=s.y+c.f;x=(g+s.width/2)-(d.x+d.width/2);if(e.val===0){y=h-(d.y+d.height)+this.labelOffset;if(y+d.y<0){y=h-d.y-this.labelOffset;}}else if(this._labelPosition==="inside"){if(e.val>=0){y=h+d.height+(d.y+d.height/2)-this.labelOffset;}else{y=h+s.height+this.labelOffset-(d.y+d.height);}}else{if(e.val>=0){if(this._labelPosition==='outsideFirst'){y=h-(d.y+d.height)-P;if(y<d.height){y=h+d.height+(d.y+d.height/2)-this.labelOffset;f=a.getData(n);f.dataLabelLocation="inside";a.setData(n,f);}}else{y=h-(d.y+d.height);if(y+d.y+this.labelOffset>=0){y=y+this.labelOffset;}else if(y+d.y>=0){y=-d.y;}}}else{if(this._labelPosition==='outsideFirst'){y=h+s.height-d.y+P;if(y>e.plotSize.height){y=h+s.height-d.height-d.y+this.labelOffset;f=a.getData(n);f.dataLabelLocation="inside";a.setData(n,f);}}else{y=h+s.height-d.y;if(y+d.height+d.y-this.labelOffset<=e.plotSize.height){y=y-this.labelOffset;}else if(y+d.height+d.y<=e.plotSize.height){y=e.plotSize.height;}}}}return[x,y];};C.prototype._processDataLabelRendererConfig=function(c,n){C.superclass._processDataLabelRendererConfig.apply(this,arguments);var m=this._getMarkFromNode(n),s;if(m&&c.dataPointWidth===0&&c.dataPointHeight===0){s=this._getDataLabelSizeFromMark(m);if(s){c.dataPointWidth=s.width;c.dataPointHeight=s.height;}}};C.prototype._getMarkFromNode=function(n){if(!n){return null;}var m=d3.select(n).select('rect:first-child');return m.empty()?null:m.node();};return C;});define('sap/viz/chart/components/datalabels/BarDataLabels',['sap/viz/framework/common/util/oo',"sap/viz/framework/common/util/DOM","sap/viz/framework/common/util/TypeUtils",'sap/viz/framework/common/util/DataGraphics','sap/viz/chart/components/datalabels/DataLabels',"sap/viz/chart/components/util/TextUtils","sap/viz/framework/common/util/GeometryUtils",'sap/viz/framework/common/format/UnitFormat','sap/viz/framework/common/util/SVG'],function(o,D,T,a,b,c,G,U,S){var B=function(h,i){B.superclass.constructor.apply(this,arguments);this._labelPosition="outside";};o.extend(B,b);var d=" / ";var E=" ";var O="...";B.labelOffset=6;B.prototype.isDataLabelOutOfDataPoint=function(h,i){var j=true;var k=i.dataPoint;if(!this.isDataLabelInNoFillDataPoint(k)){var l=h.getBoundingClientRect();var n=k.getBoundingClientRect();if((l.left>=n.left)&&(l.top>=(n.top-(n.height)))&&(l.right<=n.right)&&(l.bottom<=(n.bottom+(n.height)))){j=false;}}return j;};B.prototype._buildDataLabelText=function(h,i,j,k){return b.buildDataLabelText(this._properties,h,i,j,k,g,m,e);};function g(p){var t=p.get('type');var r;if(t==='valueAndColor'){r=['value','color'];}else if(t==='color'){r=['color'];}else{r=['value'];}return r;}function e(h,i){var j='';if(i.colorLegendData){j=i.colorLegendData.join(d);}return j;}function m(p,h){var t=p.get('type');var i;if(t==="valueAndColor"){h=h.filter(function(k){return!(k===undefined||k===null);});i=h.slice().reverse().join(E);}else{i=h[0];}var j={formattedValue:h[0],text:i};return j;}function f(s,v,h){for(var i=0;i<s.length;++i){var k=s[i];for(var j=0;k&&j<k.length;++j){if(k[j]&&k[j][h]===v){return k[j];}}}return null;}B.getLabelSize=function(s,v,p,h,i){var j={width:0,height:0};var k=f(s,v,i||'valueAxis');if(!k){return j;}var l=k.dp.context();var n={key:l.measureNames,value:l[l.measureNames],colorLegendData:k.color};var q=p.proxy('plotArea.dataLabel');var r=b.buildDataLabelText(q,h,n,null,false,g,m,e);var t=q.get("style");j=c.fastMeasure(r.text,t.fontSize,t.fontWeight,t.fontFamily,t.fontStyle);j.width+=B.labelOffset;return j;};B.prototype.truncateText=function(h){var i;for(i=(h.length-1);i>=0;i--){var j=h[i].dataPoint;var k=h[i].node;var l=a.getData(j).dataLabelLocation;if(l==="inside"){var n=k.getBoundingClientRect();var p=j.getBoundingClientRect();if((n.width+(2*B.labelOffset))>p.width){var q=this._properties.get();var r=false;var t=k.firstChild;var s=t.textContent;var u="";if(h[i].info.colorLegendData){var v;if(q.type==="valueAndColor"){u=h[i].info.colorLegendData.join(d);v=s.substring(0,1)+O+E+s.substring(u.length+1);}else if(q.type==="color"){v=s.substring(0,1)+O;}var w=c.canvasMeasure(v,q.style.fontSize,q.style.fontWeight,q.style.fontFamily).width;if((w+(2*B.labelOffset))<p.width){r=true;}}if(r){var x=this._getStyle(j);var y={};var z=this.runtime().envManager();y.reverseDots=(z&&z.reverseDots());if(q.type==="valueAndColor"){var A=s.substring(u.length+1);var C=c.canvasMeasure((E+A),q.style.fontSize,q.style.fontWeight,q.style.fontFamily).width;var F=c.ellipsis(s,t,(p.width-(2*B.labelOffset)-C),x.cssString,y);t.firstChild.textContent=F+E+A;}else if(q.type==="color"){c.ellipsis(s,t,(p.width-(2*B.labelOffset)),x.cssString,y);}var H=G.getBBox(k);var I=S.getTransformToElement(j,j.parentNode);var J={val:h[i].info.value};var K=this._computeDataLabelTranslate(j,I,l,H,J);k.setAttribute("transform","translate("+K[0]+","+K[1]+")");h[i].left=K[0];h[i].right=h[i].left+H.width;}}}}};B.prototype.allowIntersectionCheck=function(){return false;};B.prototype.hideConditional=function(h,j){var i;var k=new Array(j.length);for(i=0;i<j.length;i++){k[i]=j[i].getBoundingClientRect();}for(i=(h.length-1);i>=0;i--){var l=h[i].dataPoint;var n=h[i].node;var p=a.getData(l).dataLabelLocation;var q=n.getBoundingClientRect();if(p==="inside"){var r=l.getBoundingClientRect();if(((q.width+(2*B.labelOffset))>r.width)||(q.height>r.height)){D.remove(n);h.splice(i,1);}}else if(!this.allowIntersectionCheck(l)){var I=this.indexOfDataLabelIntersectDataPoints(q,k,j,l);if(I!==-1){D.remove(n);h.splice(i,1);}}}return B.superclass.hideConditional.apply(this,arguments);};B.prototype._computeDataLabelPosition=function(h,s,l,i,j,n){var x,y;var k=s.x+h.e;var p=s.y+h.f;var q=a.getData(n);var r=B.labelOffset;var t=this._properties.get("position");var u=t?t:this._labelPosition;y=(p+s.height/2)-(i.y+i.height/2);if(j.val>=0){if(j.val===0||u!=='inside'){x=k+s.width+r;q.dataLabelLocation=(j.val===0&&u==='inside')?'inside':'outside';if(x+i.width>this._size.width&&u==="outsideFirst"&&j.val>0){x=k+s.width-i.width-r;q.dataLabelLocation='inside';a.setData(n,q);}if(x>this._size.width&&j.val===0){x=k-i.width-r;}}else{x=k+s.width-i.width-r;}}else{if(u!=='inside'){x=k-(i.x+i.width)-r;q.dataLabelLocation='outside';if(x<0&&u==='outsideFirst'){if(i.width+2*r>s.width){x=x+s.width;}else{x=k+r;q.dataLabelLocation='inside';}a.setData(n,q);}}else{x=k+r;}}return[x,y];};B.prototype._getDataLabelInfo=function(n){var h;h=B.superclass._getDataLabelInfo.apply(this,arguments);var i=a.getData(n);h.colorLegendData=i.colorLegendData;return h;};B.prototype._processDataLabelRendererConfig=function(h,n){B.superclass._processDataLabelRendererConfig.apply(this,arguments);var i=this._getMarkFromNode(n),s;if(i&&h.dataPointWidth===0&&h.dataPointHeight===0){s=this._getDataLabelSizeFromMark(i);if(s){h.dataPointWidth=s.width;h.dataPointHeight=s.height;}}h.horizontal=true;};B.prototype._getMarkFromNode=function(n){if(!n){return null;}var h=d3.select(n).select('rect:first-child');return h.empty()?null:h.node();};return B;});define('sap/viz/chart/components/decorator/Decorator',[],function(){var D=function(){this._decos={};};D.prototype.decorate=function(c){var d=this._decos;for(var k in d){if(d.hasOwnProperty(k)){c.prototype[k]=d[k];}}};return D;});define('sap/viz/chart/components/util/HitTestUtils',[],function(){var H={};H.inRange=function(v,m,b){return v>=m&&v<=b;};var i=H.inRange;H.isInCircle=function(p,b,r){var d=Math.sqrt(Math.pow(p[0]-b[0],2)+Math.pow(p[1]-b[1],2));return r>=d;};function a(p,s,w,h){return i(p[0],s[0],(s[0]+w))&&i(p[1],s[1],(s[1]+h));}H.isInRect=a;H.isInRectWithRatio=function(p,s,r){var x=s.x;var y=s.y;var w=Math.ceil(s.width);var h=Math.ceil(s.height);if(r!=1){x*=r;y*=r;w*=r;h*=r;}return a([p.x,p.y],[x,y],w,h);};return H;});define('sap/viz/chart/components/decorator/BaseHitTestDecorator',['sap/viz/framework/common/util/oo','sap/viz/chart/components/decorator/Decorator','sap/viz/chart/components/util/HitTestUtils'],function(o,D,H){var i=H.inRange;var B=function(){B.superclass.constructor.apply(this,arguments);this._decos.hitTest=function(c){};this._decos.hitTestForRangeSelection=function(c){if(!c.hasOwnProperty("start")&&!c.hasOwnProperty("end")){return null;}var b=this._data.valueAxis.scale._domain;var a=this._data.valueAxis2&&this._data.valueAxis2.scale._domain;var r;var d=this._dataPointContext;r=d.filter(function(e){var t=e.rawData.timeAxis[0].parsedValue||e.rawData.timeAxis[0].value;if(!i(t,c["start"],c["end"])){return false;}var v;if(e.rawData.hasOwnProperty("valueAxis2")){v=e.rawData.valueAxis2;return i(v,a[0],a[1]);}else{v=e.rawData.valueAxis;return i(v,b[0],b[1]);}});return r.map(function(e){return e.dataId;});};};o.extend(B,D);return B;});define('sap/viz/chart/components/decorator/HitTestRectDecorator',['sap/viz/framework/common/util/oo',"sap/viz/chart/components/util/BoundingBoxUtils",'sap/viz/chart/components/decorator/BaseHitTestDecorator','sap/viz/chart/components/util/HitTestUtils'],function(o,B,a,H){var i=H.isInRectWithRatio;var b=function(){b.superclass.constructor.apply(this,arguments);this._decos.hitTest=function(c){var d=this._dataPointContext;var r;var f=this._selection.select(".v-plot-bound").node();var g=f.getBoundingClientRect().width/f.getBBox().width;if(c.hasOwnProperty("width")&&c.hasOwnProperty("height")){var s=this.getSize();var h=this._offset;var j=-h.x;var k=-h.y;c.x+=j;c.y+=k;var l=s.width;var m=s.height;if(g!=1){l*=g;m*=g;j*=g;k*=g;}var n={x:j,y:k,width:l,height:m};if(!B.intersects(n,c)){return[];}c=B.intersection(n,c);r=d.filter(function(e){var q=e.position;var p={x:q.x,y:q.y,width:q.width,height:q.height};if(g!=1){p.x*=g;p.y*=g;p.width*=g;p.height*=g;}return B.intersects(p,n)&&B.intersects(p,c);});}else{r=d.filter(function(e){return i(c,e.position,g);});}return r;};};o.extend(b,a);return b;});define('sap/viz/chart/components/plots/ColumnPlot',['sap/viz/framework/common/util/oo','sap/viz/framework/common/util/Constants','sap/viz/framework/common/util/ObjectUtils','sap/viz/framework/common/util/DataGraphics','sap/viz/framework/common/util/TypeUtils','sap/viz/framework/common/util/DataUtils','sap/viz/chart/components/plots/BaseColumnPlot','sap/viz/chart/components/datalabels/ColumnDataLabels','sap/viz/chart/components/datalabels/BarDataLabels','sap/viz/chart/components/renderers/SeriesRenderer','sap/viz/framework/chartmodel/ContextBuilder',"sap/viz/framework/common/util/NameColorUtils",'sap/viz/chart/components/util/SeriesUtil','sap/viz/chart/components/decorator/HitTestRectDecorator'],function(o,C,O,D,T,a,B,b,d,S,f,N,g,H){var i=C.CSS.CLASS;var j=function(r,c){j.superclass.constructor.apply(this,arguments);this._drawZeroLineBeforeDatapoints=false;this._dataPointContext=[];this._idMap={};this._isDrawDp=true;this._semanticMgr.setUseSemanticPattern(true);};o.extend(j,B);j.prototype._getDataLabels=function(n,r){if(this.isHorizontal()){return new d(r,{name:n});}else{return new b(r,{name:n});}};j.prototype.destroy=function(){j.superclass.destroy.call(this);this._drawZeroLineBeforeDatapoints=null;};j.prototype.mappingDataPointInfo=function(c){var e=this._dataPointContext[c];return e;};j.prototype._attachColorData=function(c,e,h,l){if(this.isHorizontal()&&this._properties.get("dataLabel.visible")){var m=D.getData(c);if(!m){m={};}if(l&&l.displayName!==undefined){m.colorLegendData=[];m.colorLegendData.push(l.displayName);}else{if(e.color||e.color2){m.colorLegendData=O.clone(e.color||e.color2);var n=function(u,v){return T.isFunction(u[v])?u[v]():u[v];};var p="color";if(e.color2){p="color2";}var q=n(this._data,p).metaData;var r=[];r.push(O.clone(m.colorLegendData));var s=a.getDomainArray(r,q);if(s.length>0&&s&&s[0]){m.colorLegendData=s[0];}if(h>=0){if(m.colorLegendData.length>1){m.colorLegendData.splice(h,1);}}if(m.colorLegendData){var t=a.getDisplayTextsConverter(q);m.colorLegendData=t(m.colorLegendData);}}}D.setData(c,m);}};j.prototype._preShowDataPoints=function(p){var c=this._getDpCount();var s=this.runtime().semanticManager();var e=this._properties.get('dataPoint.savingMode');var h=this.isHorizontal()?this._realSize.height:this._realSize.width;this._isBigData=e&&(h/c)<1;if(this._isBigData){var l=this.createSeriesIterator(this._series.length);while(l.hasNext()){var m=l.next();var n=this._series[m];if(!n){continue;}var q=n.getDataPoints();this._hideDataPoints(q);}}return j.superclass._preShowDataPoints.apply(this,arguments);};j.prototype._getDpCount=function(){var s=this._getSeries();var c=0;s.forEach(function(e){c+=e.length;});return c;};j.prototype._applyScroll=function(){if(!this._selection){return;}var c=this._selection.select("g."+i.DATAPOINT_GROUP).node();var n=this._showDataPoints(c);var p=this._selection.select("g.v-plot-main");if(n.length){this._dataLabels.update(p,n);}if(this._seriesRenderer){this._seriesRenderer.update();}if(this._eventDispatch){this._eventDispatch.reRenderComplete();}if(!this._isInTrellis){var t="translate("+(this._offset.x)+", "+(this._offset.y)+")";p.node().setAttribute("transform",t);}};j.prototype._updateDatapoints=function(p){this._resetDataPoints();var c=p.select("."+C.CSS.CLASS.DATAPOINT_GROUP).node();var e=this._showDataPoints(c);this._dataLabels.updatePosition(p,e);};j.prototype._showDataPoints=function(c){this._preShowDataPoints();var n=[];this._dataPointContext=[];var e=this.runtime().effectManager();if(this._seriesRenderer){this._seriesRenderer.resetDataPoints();}var h=this._needLazyRender();var s=this.createSeriesIterator(this._series.length);var l={color:null,drawingEffect:this._properties.get('drawingEffect')};var m=C.DATAPOINT_INVALIDITY_SUPPORTED.indexOf(this._properties.get('dataPoint.invalidity'))<=0;while(s.hasNext()){var p=s.next();var q=this._series[p];if(!q){continue;}var r=this._getDataPointRenderer(p);if(!r){continue;}var t=q.getDataPoints();var u;if(h){u=this._getVisibleRange(t);this._hideDataPoints(t,u);}else{u={min:0,max:t.length-1};}var v=null;var w=this._getDataShape&&this._getDataShape(p)==="line";var x=this._getDataShape&&this._getDataShape(p)==="bar";var y=this.getSeriesDPStyle(p);for(var z=u.min;z<=u.max;z++){var A=t[z];if(!A){continue;}var E=this._getDataPointPosition(A);if(!E){continue;}var F=A.getRawData();if(x&&F&&(!F.hasOwnProperty("valueAxis")||!T.isExist(F.valueAxis))){continue;}var G=false;var I=A.getId();var J=null;var K=A.getConfig();if(m&&F.dp.ignore&&w){E=null;if(!K){K={graphic:{fill:v,}};}}else{if(!K){if(!v){v=this._getColor(F);}l.color=v;l.seriesStyle=y;G=true;K=this._buildWrapperConfig(F,E,null,l);K.seriesIndex=p;K.seqId=I;K.position=E;if(K.graphic.pattern==="noFill"){K.path=this._generatePath(K.graphic);K.graphic.pathStrokeWidth=this._pathStrokeWidth(K.ctx);}}this._dataPointContext[F.dp.id]=K;this._idMap[F.dp.id]=I;if(!this._isBigData){var L=A.getData();if(!L){G=true;L=this._buildData(K);A.init(K,I,L,F.dp&&F.dp.id?F.dp.id:C.NULL_VALUE);}J=A.getNode();if(J){if(G){if(K.graphic.pattern==="noFill"){K.path=this._generatePath(K.graphic);K.graphic.pathStrokeWidth=this._pathStrokeWidth(K.ctx);}this._updateDatapoint(J,r,K,E);n.push(J);}}else{J=this._drawDataPoint(r,A);A.setNode(J);if(J){n.push(J);}}}this._updateStrokeWidth(J);if(this._seriesRenderer){this._seriesRenderer.addDataPoint(p,z,K,E,J);}else if(!J.parentNode){c.appendChild(J);}}}}return n;};function k(r){if(r.valueAxis!=null){return r.valueAxis;}else if(r.valueAxis2){return r.valueAxis2;}else{return 0;}}j.prototype._buildWrapperConfig=function(e,p,l,m){var n;if(this._isBigData&&l==null){var t=e.transparent||0;var w=p.width;var h=p.height;var c=N.convertColor(m.color);var r={graphic:{width:w,height:h,drawingEffect:this._drawingEffect||m.drawingEffect||this._properties.get('drawingEffect'),fill:c,opacity:1-t},data:{color:c,width:w,height:h,translate:[p.x,p.y]},effectManager:this._effectManager,rawData:e,negative:k(e)<0,horizontal:this.isHorizontal(),dataId:e.dp.id};if(this._isCombination){n=e.dp&&e.dp.context()?e.dp.context():C.NULL_VALUE;r.ctx=n;}return r;}else{n=e.dp&&e.dp.context()?e.dp.context():C.NULL_VALUE;var q=j.superclass._buildWrapperConfig.call(this,e,p,n,m);return q;}};j.prototype._drawDataPoint=function(c,e){var h=j.superclass._drawDataPoint.apply(this,arguments);this._attachColorData(h,e.getRawData(),e.getOnlyOneMndIndex(),e.getConfig());return h;};j.prototype._getSeriesRenderer=function(){return new S(this._drawBarSeries.bind(this),this._updateBarSeries.bind(this));};j.prototype.isBigDataMode=function(){return this._isBigData;};j.prototype._drawBarSeries=function(s,c,e){g.drawBarSeries(s,c,this._semanticMgr,this._effectManager,this.isHorizontal(),!this._isBigData);};j.prototype._updateBarSeries=function(s,c,e){g.updateBarSeries(s,c,this._semanticMgr,this._effectManager,this.isHorizontal(),!this._isBigData);};(new H()).decorate(j);return j;});define('sap/viz/chart/components/util/CombinationDataLabelUtil',['sap/viz/chart/components/util/DataPointUtils'],function Setup(D){var C={isIntersectedHelper:function(d,a,b,c){var e={};var i;var f=this.allowIntersectionCheck(c);for(i=0;i<b.length;i++){var g=this.allowIntersectionCheck(b[i]);if(f&&!g){var h=a[i];if(!(d.left>h.right||d.right<h.left||d.top>h.bottom||d.bottom<h.top)){e.intersected=true;break;}}else if(!f&&g){var j=a[i];if(!(j.right<d.left||j.left>d.right||j.top>d.bottom||j.bottom<d.top)){e.hitPoint=true;break;}}}return e;}};return C;});define('sap/viz/chart/components/datalabels/CombinationDataLabels',['sap/viz/framework/common/util/oo','sap/viz/framework/common/util/DataGraphics','sap/viz/chart/components/datalabels/ColumnDataLabels','sap/viz/chart/components/util/CombinationDataLabelUtil','sap/viz/chart/components/datalabels/LineDataLabels'],function(o,D,C,a,L){var V=function(c,b){V.superclass.constructor.apply(this,arguments);this.isHorizontal=false;this._labelPosition="up";};o.extend(V,C);V.prototype._computeDataLabelTranslate=function(n){var f;if(D.getData(n).type!=="line"){f=C.prototype._computeDataLabelTranslate;}else{f=L.prototype._computeDataLabelTranslate;}return f.apply(this,arguments);};V.prototype._computeDataLabelPosition=function(c,s,l,b,d,n){var f;if(D.getData(n).type!=="line"){f=C.prototype._computeDataLabelPosition;}else{f=L.prototype._computeDataLabelPosition;}return f.apply(this,arguments);};V.prototype.allowIntersectionCheck=function(d){return D.getData(d).type==="line";};V.prototype.intersectResult=function(d,b,c,e){return a.isIntersectedHelper.call(this,d,b,c,e);};V.prototype.isDataLabelOutOfDataPoint=function(d,i){var b=true;if(!this.allowIntersectionCheck(i.dataPoint)){b=V.superclass.isDataLabelOutOfDataPoint.apply(this,arguments);}return b;};return V;});define('sap/viz/chart/components/datalabels/HCombinationDataLabels',['sap/viz/framework/common/util/oo','sap/viz/framework/common/util/DataGraphics','sap/viz/chart/components/datalabels/BarDataLabels','sap/viz/chart/components/util/CombinationDataLabelUtil','sap/viz/chart/components/datalabels/LineDataLabels','sap/viz/chart/components/datalabels/DataLabels',],function(o,D,B,C,L,a){var H=function(r,b){H.superclass.constructor.apply(this,arguments);this.isHorizontal=true;this._labelPosition="outside";};o.extend(H,B);H.prototype._computeDataLabelTranslate=function(n){var p;if(D.getData(n).type!=="line"){p=B.prototype;}else{p=L.prototype;}this._computeDataLabelPosition=p._computeDataLabelPosition;return p._computeDataLabelTranslate.apply(this,arguments);};H.prototype.allowIntersectionCheck=function(d){return D.getData(d).type==="line";};H.prototype.isDataLabelOutOfDataPoint=function(d,i){var b=true;if(!this.allowIntersectionCheck(i.dataPoint)){b=H.prototype.isDataLabelOutOfDataPoint.apply(this,arguments);}return b;};H.prototype.intersectResult=function(d,b,c,e){return C.isIntersectedHelper.call(this,d,b,c,e);};return H;});define('sap/viz/chart/components/plots/CombinationPlot',['sap/viz/framework/common/util/oo','sap/viz/framework/common/util/SVG','sap/viz/framework/common/util/ObjectUtils',"sap/viz/framework/common/util/DataGraphics",'sap/viz/framework/common/util/Constants','sap/viz/chart/components/plots/BaseLinePlot','sap/viz/chart/components/plots/ScaleHandler','sap/viz/chart/components/plots/ItemScaleHandler','sap/viz/chart/components/renderers/SeriesRenderer','sap/viz/chart/components/renderers/PathRenderer','sap/viz/chart/components/renderers/LineRenderer','sap/viz/chart/components/renderers/SmoothLineRenderer','sap/viz/chart/components/util/DrawUtil',"sap/viz/chart/components/util/DataPointUtils",'sap/viz/chart/components/util/LineRendererUtil','sap/viz/chart/components/datalabels/CombinationDataLabels','sap/viz/chart/components/datalabels/HCombinationDataLabels'],function Setup(o,S,O,D,C,B,a,I,b,P,L,c,d,e,f,g,H){var h="line";var j="bar";var k=C.CSS.CLASS.DATAPOINT+' '+C.CSS.CLASS.MORPHABLEDATAPOINT+' '+C.CSS.CLASS.DATAPOINTDEFAULT;var l=function(r,i){l.superclass.constructor.apply(this,arguments);this._markerPropName="line.marker";this._barCategoryAxis=a.getCategoryScaleHandler("categoryAxis",{isHorizontal:false,itemScaleHandler:I.get(true,this._getBarProperties())});this._categoryScaleHandler=this._barCategoryAxis;var s=this.runtime().semanticManager();s.setUseSemanticDPLineStyle(true);this._attachMarkManager();this.dataShapePrimaryAxisPW=this._properties.watch("dataShape.primaryAxis",this._onDataShapeChange.bind(this));var m=i&&i.isDualValueAxis;if(m){this.dataShapeSecondaryAxisPW=this._properties.watch("dataShape.secondaryAxis",this._onDataShapeChange.bind(this));}this.lineMarkerShapePW=this._properties.watch("line.marker.shape",this._onDataShapeChange.bind(this));this._seriesType=[];this._semanticMgr.setUseSemanticPattern(true);};o.extend(l,B);l.prototype._hideDataPoints=function(m,v){if(m[0]&&this._seriesType[m[0].getSeriesIndex()]===h){for(var i in m){if(m.hasOwnProperty(i)){this._hideNode(m,i);}}this._lightLineOutOfRange(m,v);}else{this._columnOutOfRange(m,v);}};l.prototype.destroy=function(){if(this.dataShapePrimaryAxisPW){this.dataShapePrimaryAxisPW.remove();this.dataShapePrimaryAxisPW=null;}if(this.dataShapeSecondaryAxisPW){this.dataShapeSecondaryAxisPW.remove();this.dataShapeSecondaryAxisPW=null;}this.lineMarkerShapePW.remove();this.lineMarkerShapePW=null;l.superclass.destroy.call(this);this._barCategoryAxis=null;this._categoryScaleHandler=null;this._realSize=null;this._measureIndex=null;this._markerD=null;this._seriesType=null;};l.prototype._attachMarkManager=function(){var m=this.runtime().markManager();var p=this._properties.get("dataShape.primaryAxis");var i=this._getMarkerShape();var n=this._properties.parentLevel;var s=[];m.lock();m.setMode("combination");var q=[];s.push(l.processMark.call(this,p,i,n));q.push(p);if(this._options&&this._options.isDualValueAxis){var r=this._properties.get("dataShape.secondaryAxis");s.push(l.processMark.call(this,r,i,n));q.push(r);}m.setShape(s,i);m.setSeriesShape(q);};l.processMark=function(m,n,p){var r=[];if(!m||!m.length){return r;}for(var i=0;i<m.length;i++){if(m[i]===h){r.push(n);}else{var q=this._getLegendMarkerShape();r.push(q);}}return r;};l.prototype._onDataShapeChange=function(){this._attachMarkManager();};l.prototype._getCategoryScaleHandlers=function(i){return[a.getCategoryScaleHandler("categoryAxis",{isHorizontal:i,itemScaleHandler:I.get(false),alignment:"center"})];};l.prototype._getSeriesRenderer=function(){return new b(this._drawLine.bind(this),this._updateLine.bind(this));};l.prototype._applyChanges=function(){l.superclass._applyChanges.apply(this,arguments);var i=this._getColumnCount();var s=this._data["categoryAxis"].scale;if(i){var r=this.isHorizontal()?this._realSize.height:this._realSize.width;this._barCategoryAxis.init(s,i,r);}};l.prototype._adjustPosition=function(p,s){var i=this._getDataShape(s)===h;if(!i){l.superclass._adjustPosition.apply(this,arguments);}};l.prototype._preRender=function(){l.superclass._preRender.apply(this,arguments);var s=this._data.series.length;this._measureIndex=[];var i=0;for(var m=0;m<s;m++){var n=this._getDataShape(m);if(n===j){this._measureIndex[m]=i;i++;}}};l.prototype._getDataShape=function(s){var m=this._data.series[s];var n=null;for(var i=0;i<m.length;i++){n=m[i];if(n){break;}}if(n){var p=n.hasOwnProperty("valueAxis")?"dataShape.primaryAxis":"dataShape.secondaryAxis";var q=this._properties.get(p);if(!(q instanceof Array)){q=this._properties.get(p,'defaultValue');}var r;if(n.color){r=n.color.mndIndex;}else if(n.color2){r=n.color2.mndIndex;}else{r=-1;}if(q[r]!==h&&q[r]!==j){q[r]=h;}return q[r];}return h;};l.prototype._getXPosition=function(s,i,m){var n=this._getDataShape(s)===h;if(this.isHorizontal()){var r=l.superclass._getXPosition.apply(this,arguments);if(n){return[r[0]+r[1],r[1]];}else{return r;}}else{if(n){return l.superclass._getXPosition.apply(this,arguments);}else{s=this._measureIndex[s];return this._getAxisPosition([this._barCategoryAxis],s,i,m);}}};l.prototype._getYPosition=function(s,i,m){var n=this._getDataShape(s)===h;if(!this.isHorizontal()){var r=l.superclass._getYPosition.apply(this,arguments);return r;}else{if(n){return l.superclass._getYPosition.apply(this,arguments);}else{s=this._measureIndex[s];return this._getAxisPosition([this._barCategoryAxis],s,i,m);}}};l.prototype.getLineRenderer=function(){if(!this._lineRenderer){var p=this._properties;this._lineRenderer=f.getRenderer(p.get('line.lineRenderer'),p.get("line.isSmoothed"));}return this._lineRenderer;};l.prototype._isLineVisible=function(){return this._properties.get('line.visible');};l.prototype._getPatternConfig=B.prototype._getPatternConfig;l.prototype._drawLine=function(s,i,m,n){if(this._getDataShape(m)!==h){return 0;}l.superclass._drawLine.apply(this,arguments);return 1;};l.prototype._updateDatapoint=function(i,m,n,p){l.superclass._updateDatapoint.apply(this,arguments);if(p.hasOwnProperty("x")&&p.hasOwnProperty("y")){var t=D.getData(i).translate;if(t){t[0]=p.x;t[1]=p.y;}}if(i.getAttribute("combination-column")){this._updateStrokeWidth(i);}};l.prototype._buildConfig=function(i,p,m){var n=l.superclass._buildConfig.apply(this,arguments);n.graphic.d=this._markerD;if(!this._properties.get("line.marker.visible")){n.graphic.opacity=0;}return n;};l.prototype._getDataPointRenderer=function(s){var r;if(this._getDataShape(s)===h){this._isLineMarker=true;r=this._customMarkerRenderer||P;}else{this._isLineMarker=false;r=l.superclass._getDataPointRenderer.apply(this,arguments);}return r;};l.prototype._getDataLabels=function(n,r){var i=O.extend({},this._options);i.name=n;if(i.isHorizontal){return new H(r,i);}else{return new g(r,i);}};l.prototype._getColumnCount=function(){var s=this._data.series.length;var m=0;for(var i=0;i<s;i++){if(this._getDataShape(i)==j){m++;this._seriesType[i]=j;}else{this._seriesType[i]=h;}}return m;};l.prototype._drawDataPoint=function(i,m){var n=m.getConfig();var p=S.create("g");e.setDataId(p,m.getDataId());e.setDataPointId(p,m.getDataPointId());D.setContext(p,m.getContext());var q=m.getData();q.seriesIndex=m.getSeriesIndex();q.itemIndex=m.getItemIndex();if(this._isLineMarker){q.shape=this._properties.get('line.marker.shape');}p.setAttribute("class",k);if(this._isLineMarker===true){p.setAttribute("combination-marker","true");}else{p.setAttribute("combination-column","true");}n["isLineMarker"]=this._isLineMarker;var r=this._renderNode(i,n,p,q);var s=this._drawShadowNode(n.graphic,p,r,q,i);delete n["isLineMarker"];D.setData(p,q);var t=m.getPosition();if(t.hasOwnProperty("x")&&t.hasOwnProperty("y")){p.setAttribute("transform",'translate('+t.x+', '+t.y+')');}var u=n.ctx[n.ctx.measureNames]<0;if(u&&!this._isLineMarker){this._addNegativeClass(p,n);}return p;};l.prototype.getSeriesStyle=function(s,i){var m=l.superclass.getSeriesStyle.apply(this,arguments);m.isCombination=true;return m;};return l;});define('sap/viz/chart/components/datalabels/StackedDataLabels',['sap/viz/framework/common/util/oo',"sap/viz/framework/common/util/DOM",'sap/viz/framework/common/util/DataGraphics','sap/viz/chart/components/datalabels/DataLabels','sap/viz/framework/common/util/Constants','sap/viz/framework/common/util/TypeUtils','sap/viz/framework/common/util/SVG','sap/viz/chart/components/util/DataPointUtils','sap/viz/framework/common/util/GeometryUtils','sap/viz/chart/components/util/ColorUtil','sap/viz/framework/common/util/NumberUtils'],function(o,D,a,b,C,T,S,c,G,d,N){var e=function(i,j){e.superclass.constructor.apply(this,arguments);this._labelPosition="inside";this._totalLabels=[];this._stackIndexs=[];this._plotSelection=null;};var f=C.CSS.CLASS.DATALABEL+" "+C.CSS.CLASS.MORPHABLELABEL,g=C.CSS.CLASS.DATALABEL_GROUP_TOTAL,h="g";o.extend(e,b);function k(i){var t=S.create("text");t.textContent=i.text;return t;}e.prototype._computeDataLabelPosition=function(i,s,l,j,m,n){var p=e.superclass._computeDataLabelPosition.apply(this,arguments);if(l==="right"){p[0]+=C.DATALABEL.HORIZONTAL_TOTAL_LABEL_PADDING;}else if(l==="left"){p[0]-=C.DATALABEL.HORIZONTAL_TOTAL_LABEL_PADDING;}else if(l==="down"){p[1]+=j.height+C.DATALABEL.VERTICAL_TOTAL_LABEL_PADDING;}else if(l==="up"){p[1]-=C.DATALABEL.VERTICAL_TOTAL_LABEL_PADDING;}if(this._options.allowMicroAdjust&&m.zeroLineAdjust){var z=this._gridlineScale.scale(0);var y=p[1];var q=j.height;var t=y-q;var v=m.val;if(T.isNumber(z)&&t<z&&y>z){if(v>=0){p[1]=z;}else{p[1]=z+q;}}}return p;};e.prototype._getCategorySum=function(s){return a.getData(s).range;};e.prototype.render=function(s){this._plotSelection=s;var i=this._dataShapesGroupNode;var j=this._beforeRender(c.findAll(i));this._render(s,j);this._allStacksNodes=i.querySelectorAll("."+C.CSS.CLASS.STACK);this._renderStackTotal(s,this._allStacksNodes);this._afterRender(s);};e.prototype.updatePosition=function(s,j){var p=s,l=s.node();var m=p.select("."+g);var u=[];if(m.node()){var n=this._getStyle();var q=m.node().querySelectorAll(".v-datalabel");for(var i=0,r=q.length;i<r;i++){var t=q[i];var v=a.getData(t).id;u.push(v);var w=this._allStacksNodes[v.split('-')[0]];var z=w.querySelectorAll("."+C.CSS.CLASS.DATAPOINT),A=z[z.length-1];var B={value:c.getContext(t).val},E=d3.select(t).text();var F={val:B.value,text:E,info:B,styles:n,horizontal:this._horizontal,dpBBox:G.getBBox(B.value!==0?w:A)};if(this.getDataLabelDefaultPosition){this.getDataLabelDefaultPosition(B.value!==0?w:A);}this._processDataLabelRendererConfig(F,w);var H=G.getBBox(t);var I=B.value!==0?S.getTransformToElement(w,l):S.getTransformToElement(A,l);var J=null;if(B.value>=0){J=this._horizontal?"right":"up";}else{J=this._horizontal?"left":"down";}var K=this._computeDataLabelTranslate(B.value!==0?w:A,I,J,H,F);var x=K[0],y=K[1];t.setAttribute("transform","translate("+x+","+y+")");}}this._renderStackTotal(s,this._allStacksNodes,u);e.superclass.updatePosition.apply(this,arguments);};e.prototype._renderStackTotal=function(s,l,u){var p=s.node();var m=this._properties;var n=m.get('showTotal');this._totalLabels=[];this._stackIndexs=[];if(n){var q=p.querySelector("."+g);if(!q){q=S.create(h,p);q.setAttribute("class",g);}var t=null;var r=this.runtime().envManager();if(r){t=r.textAnchor();}q.setAttribute("text-anchor",t);var v=m.get('renderer')||k;var w=this._getStyle();for(var j in w){if(w.hasOwnProperty(j)){q.setAttribute(j,w[j]);}}var z=m.get('formatString');for(var i=0,A=l.length;i<A;i++){var B=l[i],E=B.querySelectorAll("."+C.CSS.CLASS.DATAPOINT),F=E[E.length-1];var H=c.getDataPointId(F);var I,J=z,K;var L,M;if(this._data&&this._data.valueAxis&&this._data.valueAxis.metaData){L=this._data.valueAxis.metaData[0].id;M=this._data.valueAxis.metaData[0].formatString;}J=J?J:M;var O=function(Q,R){I=this._buildDataLabelText(J,Q,null,false,B);if(I===null||I===undefined){return;}if(T.isExist(I)&&I&&I.text){Q.formattedValue=I.formattedValue;I=I.text;}var U;var V=i+'-'+R;if(u&&u.indexOf(V)!==-1){U=c.find(q,V);this._totalLabels.push(U);this._stackIndexs.push({id:V,value:Q.value});return;}U=S.create("g",q);c.setDataStackId(U,V);c.setDataId(U,V);a.setData(U,{"id":V});a.setContext(U,{val:Q.value});U.setAttribute("class",f);K={val:Q.value,text:I,info:Q,styles:w,horizontal:this._horizontal,dpBBox:G.getBBox(Q.value!==0?B:F)};this._processDataLabelRendererConfig(K,Q.value!==0?B:F);var W=v(K)||k(K);if(W){U.appendChild(W);if(this.getDataLabelDefaultPosition){this.getDataLabelDefaultPosition(Q.value!==0?B:F);}var X=G.getBBox(U);var Y=Q.value!==0?S.getTransformToElement(B,p):S.getTransformToElement(F,p);var Z=null;if(Q.value>=0){Z=this._horizontal?"right":"up";}else{Z=this._horizontal?"left":"down";}var $=this._computeDataLabelTranslate(Q.value!==0?B:F,Y,Z,X,K);if(!$){U.removeChild(W);return;}if($[1]<0&&Q.value===0){$=this._computeDataLabelTranslate(F,Y,'down',X,K);}if($[0]>this._realSize.width&&Q.value===0){$=this._computeDataLabelTranslate(F,Y,'left',X,K);}var x=$[0];var y=$[1];U.setAttribute("transform","translate("+x+","+y+")");this._totalLabels.push(U);this._stackIndexs.push({id:V,value:Q.value});}};var P=this._getCategorySum(B);if(P[1]>0||(P[1]===0&&P[0]===0)){O.call(this,{key:L,value:N.preciseSimple(P[1])},0);}if(P[0]<0){O.call(this,{key:L,value:N.preciseSimple(P[0])},1);}}}};e.prototype.needForceInner=function(l){var n=true;if(l&&(l!=="inside")){n=false;}return n;};e.prototype.hideConditional=function(j,l){var i,m,n,p;var q=this._properties.get("overlapBehavior");if(q!=="hideOverlappedLabels"){for(i=(j.length-1);i>=0;i--){p=j[i];m=p.node;n=p.dataPoint;if(this.isDataLabelOutOfDataPoint(m,p)&&a.getData(n).type!="line"){D.remove(m);j.splice(i,1);}}}var t;if(this._totalLabels.length){t=[];var r=new Array(this._allStacksNodes.length);for(i=0;i<this._allStacksNodes.length;i++){r[i]=this._allStacksNodes[i].getBoundingClientRect();}for(i=(this._totalLabels.length-1);i>=0;i--){var s=this._stackIndexs[i].id;var u=this._allStacksNodes[s.split('-')[0]];var v=u.querySelectorAll("."+C.CSS.CLASS.DATAPOINT),w=v[v.length-1];m=c.findByDataStackIds(this._totalLabels,s)[0];if(m){var x=m.getBoundingClientRect();var I=this.indexOfDataLabelIntersectDataPoints(x,r,this._allStacksNodes,u);if(I!==-1){D.remove(m);this._totalLabels.splice(i,1);this._stackIndexs.splice(i,1);}if(I===-1){var y=this._stackIndexs[i].value;if(this.getDataLabelDefaultPosition){this.getDataLabelDefaultPosition(y!==0?u:w);}var z=G.getBBox(m);var A=y!==0?S.getTransformToElement(u,this._plotSelection.node()):S.getTransformToElement(w,this._plotSelection.node());var B=null;if(y>=0){B=this._horizontal?"right":"up";}else{B=this._horizontal?"left":"down";}var E={val:y};var F=this._computeDataLabelTranslate(y!==0?u:w,A,B,z,E);if(F){if(F[1]<0&&y===0){F=this._computeDataLabelTranslate(w,A,'down',z,E);}if(F[0]>this._realSize.width&&y===0){F=this._computeDataLabelTranslate(w,A,'left',z,E);}var H={info:{value:y},node:m,dataPoint:u,left:F[0]+z.x,right:F[0]+z.x+z.width,top:F[1]+z.y,bottom:F[1]+z.y+z.height};t.push(H);}}}}if(t){e.superclass.hideConditional.call(this,t);}}e.superclass.hideConditional.apply(this,arguments);if(t){this.detectAndRemoveOverlappedDataLabel(j.concat(t));}};e.prototype.updateColor=function(j,l){e.superclass.updateColor.apply(this,arguments);var m=this._properties.get('style.color');for(var i=0;i<this._totalLabels.length;i++){var s=this._stackIndexs[i].id;var n=c.findByDataStackIds(this._totalLabels,s)[0];if(n){var p=m;if(!p){p=d.getDataLabelColor(l);}var q=this.runtime().effectManager().register({fillColor:p});n.setAttribute("fill",q);}}};e.prototype.drawZero=function(i){return null===c.getDataPointId(i);};e.prototype.destroy=function(){e.superclass.destroy.call(this);this._labelPosition=null;this._totalLabels=null;this._stackIndexs=null;this._plotSelection=null;};return e;});define('sap/viz/chart/components/renderers/StackedBarRenderer',["sap/viz/framework/common/util/SVG",'sap/viz/framework/common/util/DataGraphics',"sap/viz/chart/components/util/DrawUtil"],function(S,D,a){var M=2;var b=function(c){var n,f;var g=c.graphic;var w=g.width<1&&g.width!==0?1:g.width;var h=g.height<1&&g.height!==0?1:g.height;if(g.pattern==="noFill"&&c.path){n=S.create("path");n.setAttribute("d",c.path);n.setAttribute("stroke-width",isNaN(g.pathStrokeWidth)?3:g.pathStrokeWidth);n.setAttribute("fill",g.bgColor);n.setAttribute("stroke",g.fill);}else{n=S.create("rect");n.setAttribute("width",w);n.setAttribute("height",h);f=g.fill;if(c.effectManager){f=c.effectManager.register({drawingEffect:g.drawingEffect,fillColor:g.fill,patternEffect:g.pattern,direction:c.horizontal?'vertical':'horizontal'});}n.setAttribute("fill",f);n.setAttribute('shape-rendering','crispEdges');if(g.stroke){var m=c.horizontal?h:w;var s=m>g.strokeWidth+M?g.strokeWidth:m-M;if(s>=1){n.setAttribute('stroke',g.stroke);n.setAttribute('stroke-width',g.strokeWidth);}}}D.setCustomizationInfo(n,{'defaultRenderer':true});return n;};b.update=function(n,c){var g=c.graphic;var w=g.width<1&&g.width!==0?1:g.width;var h=g.height<1&&g.height!==0?1:g.height;var s={width:w,height:h,minSize:c.horizontal?h:w};a.barUpdate(n,c,s);};return b;});define('sap/viz/chart/components/plots/StackedColumnPlot',['sap/viz/framework/common/util/oo','sap/viz/chart/components/plots/ColumnPlot','sap/viz/chart/components/plots/DataHandler','sap/viz/chart/components/plots/ItemScaleHandler','sap/viz/chart/components/plots/ScaleHandler','sap/viz/chart/components/datalabels/StackedDataLabels','sap/viz/framework/common/util/Constants','sap/viz/framework/common/util/SVG',"sap/viz/chart/components/util/DataPointUtils","sap/viz/framework/common/util/DataGraphics",'sap/viz/chart/components/renderers/StackedBarRenderer',"sap/viz/framework/common/util/ObjectUtils","sap/viz/framework/common/util/DOM"],function Setup(o,C,D,I,S,a,b,c,d,e,f,O,g){var h=function(r,i){h.superclass.constructor.apply(this,arguments);this._dataPointRenderer=f;};o.extend(h,C);h.prototype._preShowDataPoints=function(){return C.superclass._preShowDataPoints.apply(this,arguments);};h.prototype._showDataPoints=function(){return C.superclass._showDataPoints.apply(this,arguments);};h.prototype._buildWrapperConfig=function(){return C.superclass._buildWrapperConfig.apply(this,arguments);};h.prototype._applyScroll=function(){return C.superclass._applyScroll.apply(this,arguments);};h.prototype.getDataPointPosition=function(s,i){var j=this._getSeries();var l;if(j.length){s=j.length-s-1;l=j[s][i];}return this._getPosition(s,i,l);};h.prototype._getDataHandler=function(){if(this._options.isDualValueAxis){return{"valueAxis":D.getStackHandler(true),"valueAxis2":D.getStackHandler(true)};}else{return{"valueAxis":D.getStackHandler(true)};}};h.prototype._getCategoryScaleHandlers=function(i){this._categoryScaleHandler=S.getCategoryScaleHandler("categoryAxis",{isHorizontal:i,itemScaleHandler:this._getItemScaleHandler()});return[this._categoryScaleHandler];};h.prototype._getItemScaleHandler=function(){var r;var i=this._getBarProperties();if(this._options.isDualValueAxis){i.valueAxis=["valueAxis","valueAxis2"];r=I.get(false,i);delete i.valueAxis;}else{r=I.get(false,i);}return r;};h.prototype._getDataLabels=function(n,r){return new a(r,{name:n,horizontal:this.isHorizontal(),allowMicroAdjust:!this.isHorizontal(),});};h.prototype._getSeries=function(){if(this._data.series){return this._data.series.slice().reverse();}else{return[];}};h.prototype._getColumnCount=function(){return this._options.isDualValueAxis?2:1;};function k(m){if(!m.length){return[];}var n=[],p,s;for(var i=0,l=m.length;i<l;i++){s=m[i];for(var j=0;j<s.length;j++){p=n[j]=n[j]||[];p.push(s[j]);}}return p;}h.prototype._needValidEmptyAxisData=function(){return false;};h.prototype._buildData=function(i){var j=h.superclass._buildData.apply(this,arguments);j.isNegative=undefined;return j;};h.prototype._drawDatapoints=function(p){var i={'validAxisData':this._needValidEmptyAxisData()};this._handleDataPoints(p,i);};h.prototype._updateDatapoints=function(p){var i={'updateOnly':true,'validAxisData':this._needValidEmptyAxisData()};this._handleDataPoints(p,i);};h.prototype._generatePath=function(s,i){var p=[];var j=i.isClose;var l=i.isNegative;var m=this._isPercent;var n=1.5;var x=s.width-n,y=s.height-n;if(x<=0){x=1;}if(y<=0){y=1;}if(i.isZero){n=0;}if(this.isHorizontal()){if(i.isZero){x=0;}if(j){p.push([n,n]);p.push([x,n]);p.push([x,y]);p.push([n,y]);p.push([n,0]);}else{if(l&&!m){p.push([s.width,n]);p.push([n,n]);p.push([n,y]);p.push([s.width,y]);}else{p.push([0,n]);p.push([x,n]);p.push([x,y]);p.push([0,y]);}}}else{if(i.isZero){y=0;}if(j){p.push([n,y]);p.push([n,n]);p.push([x,n]);p.push([x,y]);p.push([0,y]);}else{if(l&&!m){p.push([n,1]);p.push([n,y]);p.push([x,y]);p.push([x,1]);}else{p.push([n,s.height]);p.push([n,n]);p.push([x,n]);p.push([x,s.height]);}}}return c.generatePath({points:p});};h.prototype._pushDataPointContext=function(){};h.prototype._handleDataPoints=function(p,j){var l=false;var m=false;if(j&&j.hasOwnProperty('updateOnly')){l=j.updateOnly;}if(j&&j.hasOwnProperty('validAxisData')){m=j.validAxisData;}var s=this._getSeries();var n=s.length;var q;if(l){q=p.select("."+b.CSS.CLASS.DATAPOINT_GROUP).node();}else{q=c.create("g");q.setAttribute("class",b.CSS.CLASS.DATAPOINT_GROUP);}if(!l&&this._seriesRenderer){this._seriesRenderer.init(n);}for(var r in this._dataHandler){if(this._dataHandler[r].reset){this._dataHandler[r].reset();}}var t;var v=0;var w=[],x;for(var y=0;y<n;y++){var z=s[y];var A=this.getSeriesDPStyle(n-y-1);if(!z){continue;}var B=null;for(var E=0;E<z.length;E++){var F=z[E];if(!F){continue;}if(m===true){var G=F.valueAxis===undefined||F.valueAxis===null;var H=F.valueAxis2===undefined||F.valueAxis2===null;if(G&&H){continue;}}var J=this._getPosition(y,E,F);if(!J){continue;}t=v++;var K=this._buildWrapperConfig(F,J,F.dp.context(),{seriesStyle:A});this._pushDataPointContext(K);if(!B){B=F.hasOwnProperty("valueAxis2")?"valueAxis2":"valueAxis";}w[E]=w[E]||{};x=w[E][B]=w[E][B]||{configs:[],positions:[],currentIds:[],dataPoints:[]};if(l){if(!x.node){var L=d.find(q,t);var M=L;while((M=M.parentNode)&&!g.hasClass(M,b.CSS.CLASS.STACK)){}x.node=M;}}else{var N=this._buildData(K);x.data=x.data||[];x.data.push(N);}x.configs.push(K);x.dataPoints.push(F.dp);x.positions.push(J);x.currentIds.push(t);}}var P=this._getDataPointRenderer(y);for(var i=0;i<w.length;i++){var Q=w[i];for(var R in Q){if(Q.hasOwnProperty(R)){x=Q[R];if(!x){continue;}var T=this._drawCategory(x.node,P,x.configs,x.data,x.positions,x.currentIds,x.dataPoints);if(T){q.appendChild(T);}}}}if(!l){this._postRender(q);p.node().appendChild(q);this._drawDataLabels(p,q);}else{var U=p.selectAll('.'+b.CSS.CLASS.DATAPOINT)[0];this._dataLabels.updatePosition(p,U);}};function u(j){var l=-1,m=-1;for(var i=0;i<j.length;i++){var n=j[i];n.isClose=true;n.isZero=false;if(n.ctx[n.ctx.measureNames]>0){if(l===-1){l=i;n.isClose=false;}}else if(n.ctx[n.ctx.measureNames]<0){if(m===-1){m=i;n.isClose=false;}}else{n.isZero=true;}if((i+1<j.length)&&((n.rawData.hasOwnProperty("valueAxis")&&j[i+1].rawData.hasOwnProperty("valueAxis2"))||(n.rawData.hasOwnProperty("valueAxis2")&&j[i+1].rawData.hasOwnProperty("valueAxis")))){l=-1;m=-1;}}}h.prototype._drawCategory=function(j,l,m,n,p,q,r,s){var t=!!j;var v;var w,x,y,z,A,B,E,F,G;var i;var H=(l!==this._dataPointRenderer&&l);var J=[],K,L;var M,N;J.range=[0,0];if(H){for(i=0;i<m.length;i++){w=m[i];x=p[i];if(i===0){B=x.x;E=x.y;F=B+w.graphic.width;G=E+w.graphic.height;}else{if(w.horizontal){B=Math.min(B,x.x);F=Math.max(F,x.x+w.graphic.width);}else{E=Math.min(E,x.y);G=Math.max(G,x.y+w.graphic.height);}}}z=F-B;A=G-E;if(!t){j=c.create("g");j.setAttribute("class",b.CSS.CLASS.STACK);}for(i=0;i<m.length;i++){w=m[i];x=p[i];K=O.extend({},w.graphic);w.graphic.stackWidth=z;w.graphic.stackHeight=A;w.graphic.x=w.horizontal?x.x-B:0;w.graphic.y=w.horizontal?0:x.y-E;var P=false;if(t){L=d.find(j,q[i]);if(l.update){l.update(L,w);}}else{v=l(w);if(!v){v=this._dataPointRenderer(w,x);P=true;}L=c.create("g");d.setDataId(L,q[i]);d.setDataPointId(L,r[i].id);y=w.ctx;J.push(y);e.setContext(L,y);N=y[y.measureNames];if(N>=0){J.range[1]+=N;}else{J.range[0]+=N;}M=n[i];M.seriesIndex=r[i]._addr[1];M.itemIndex=r[i]._addr[0];e.setData(L,M);L.setAttribute("class",b.CSS.CLASS.DATAPOINT+' '+b.CSS.CLASS.MORPHABLEDATAPOINT+' '+b.CSS.CLASS.DATAPOINTDEFAULT);L.appendChild(v);j.appendChild(L);}if(!P&&!this._options.isCombination){L.setAttribute("transform",'translate('+B+', '+E+')');}else{L.setAttribute("transform",'translate('+x.x+', '+x.y+')');}w.graphic=K;}}else{l=this._dataPointRenderer;if(!t){j=c.create("g");j.setAttribute("class",b.CSS.CLASS.STACK);}var Q,R,T;u.call(this,m);for(i=0;i<m.length;i++){Q=undefined;R=undefined;w=m[i];x=p[i];T={isClose:w.isClose,isNegative:w.ctx[w.ctx.measureNames]<0,isZero:w.isZero};if(t){L=d.find(j,q[i]);if(l.update){if(w.graphic.pattern==="noFill"){w.path=this._generatePath(w.graphic,T);if(w.isZero){w.graphic.pathStrokeWidth=0;}else{w.graphic.pathStrokeWidth=3;}}l.update(L,w);}this._updateStrokeWidth(L);}else{if(w.graphic.pattern==="noFill"){w.path=this._generatePath(w.graphic,T);if(w.isZero){w.graphic.pathStrokeWidth=0;}else{w.graphic.pathStrokeWidth=3;}Q=O.clone(w.graphic);delete Q.bgColor;delete Q.drawingEffect;delete Q.pattern;Q.fill="transparent";}v=l(w);if(Q){R=l({graphic:Q});}L=c.create("g");d.setDataId(L,q[i]);d.setDataPointId(L,r[i].id);y=w.ctx;J.push(y);e.setContext(L,y);N=y[y.measureNames];if(N>=0){J.range[1]+=N;}else{J.range[0]+=N;}M=n[i];M.seriesIndex=r[i]._addr[1];M.itemIndex=r[i]._addr[0];M.strokeWidth=R?R.getAttribute("stroke-width"):v.getAttribute("stroke-width");if(w.graphic&&w.graphic.pattern){M.patternFill=v.getAttribute('fill');}e.setData(L,M);L.setAttribute("class",b.CSS.CLASS.DATAPOINT+' '+b.CSS.CLASS.MORPHABLEDATAPOINT+' '+b.CSS.CLASS.DATAPOINTDEFAULT);L.appendChild(v);if(R){L.appendChild(R);}j.appendChild(L);}L.setAttribute("transform",'translate('+x.x+', '+x.y+')');}}if(!t){e.setData(j,J);}return j;};h.prototype._adjustPosition=function(p,s){var i=this.isHorizontal();if(i&&p.width<0){p.width=p.width>-1?1:Math.abs(p.width);p.x-=p.width+0.5;}if(!i&&p.height<0){p.height=p.height>-1?1:Math.abs(p.height);p.y-=p.height+0.5;}};return h;});define('sap/viz/chart/components/util/PercentageDataLabelUtil',['sap/viz/chart/components/util/DataPointUtils','sap/viz/framework/common/format/UnitFormat','sap/viz/framework/common/util/Constants','sap/viz/framework/common/util/TypeUtils'],function Setup(D,U,C,T){var P={getTypes:function(p){var t=p.get('type');var r;if(t==='valueAndPercentage'||t==='valueAxisAndPercentage'){r=['value','percentage'];}else if(t==='percentage'){r=['percentage'];}else{r=['value'];}return r;},mergeDataLabels:function(p,f){var t=p.get('type');var d;if(t==='valueAndPercentage'||t==='valueAxisAndPercentage'){d=f[1]?f[0]+" ("+f[1]+")":f[0];}else{d=f[0];}return d;},getDataLabelInfo:function(n,d){var c=D.getContextByDataModel(n,d);return{key:c.measureNames,value:c[c.measureNames],percentage:c.percentage};}};return P;});define('sap/viz/chart/components/datalabels/PercentageDataLabels',['sap/viz/framework/common/util/oo','sap/viz/chart/components/datalabels/DataLabels','sap/viz/chart/components/datalabels/StackedDataLabels','sap/viz/chart/components/util/PercentageDataLabelUtil'],function(o,D,S,P){var a=function(c,b){a.superclass.constructor.apply(this,arguments);};o.extend(a,S);a.prototype._getDataLabelInfo=function(n){var d=this._data&&this._data.rawData&&this._data.rawData.dataModel;return P.getDataLabelInfo(n,d);};a.prototype._buildDataLabelText=function(f,d,b,i,c){var v=d.value;if(v===0&&!this.drawZero(c)){return null;}return D.buildDataLabelText(this._properties,f,d,b,i,P.getTypes,P.mergeDataLabels,null);};return a;});define('sap/viz/chart/components/plots/PercentagePlot',['sap/viz/framework/common/util/oo','sap/viz/framework/scale/ValueScale','sap/viz/framework/common/util/Constants','sap/viz/chart/components/plots/StackedColumnPlot','sap/viz/chart/components/renderers/GridlineRenderer','sap/viz/chart/components/plots/DataHandler','sap/viz/chart/components/datalabels/PercentageDataLabels'],function Setup(o,V,C,S,G,D,P){var a=function(r,b){a.superclass.constructor.apply(this,arguments);this._isPercent=true;};o.extend(a,S);a.prototype._getDataHandler=function(){if(this._options.isDualValueAxis){return{"valueAxis":new D.getPercentageStackHandler(),"valueAxis2":new D.getPercentageStackHandler()};}else{return{"valueAxis":new D.getPercentageStackHandler()};}};a.prototype._total=function(i,d){var v=d.hasOwnProperty("valueAxis2")?this._data.valueAxis2:this._data.valueAxis;var b=d.hasOwnProperty("valueAxis2")?d.valueAxis2:d.valueAxis;if(b<0&&v.categorySum[i]>0){return false;}v.scale.total(v.categorySum[i]);return true;};a.prototype._getPosition=function(s,i,d){var r=this._total(i,d);if(!r){return null;}return a.superclass._getPosition.apply(this,arguments);};a.prototype._buildWrapperContext=function(d,c){var b=d.hasOwnProperty('valueAxis')?'valueAxis':d.hasOwnProperty('valueAxis2')?'valueAxis2':null;if(b){c.percentage=Math.abs(this._data[b].scale.scale(d[b]));}return c;};a.prototype._buildWrapperConfig=function(d,p,c,b){c=this._buildWrapperContext(d,c);return a.superclass._buildWrapperConfig.apply(this,[d,p,c,b]);};a.prototype._buildData=function(d){var r=a.superclass._buildData.apply(this,arguments);r.percentageValue=d.ctx.percentage;return r;};a.prototype._drawGridlines=function(p){var s=this._realSize;var i=this.isHorizontal();var d=i?C.DIRECTION.VERTICAL:C.DIRECTION.HORIZONTAL;var b=this._properties.proxy("gridline");var r=i?[0,s.width]:[s.height,0];var c=new V([0,1],r);c.setTickHint(this._data.valueAxis.tickHint);G.drawValueGridline(p,s.width,s.height,c,b,d,this._effectManager);};a.prototype._getDataLabels=function(n,r){return new P(r,{name:n,horizontal:this.isHorizontal()});};return a;});define('sap/viz/chart/components/datalabels/StackedCombinationDataLabels',['sap/viz/framework/common/util/oo',"sap/viz/framework/common/util/DOM",'sap/viz/framework/common/util/DataGraphics','sap/viz/chart/components/datalabels/StackedDataLabels','sap/viz/chart/components/util/CombinationDataLabelUtil','sap/viz/chart/components/datalabels/LineDataLabels','sap/viz/chart/components/datalabels/CombinationDataLabels'],function(o,D,a,S,C,L,b){var c=function(d,e){c.superclass.constructor.apply(this,arguments);this.isHorizontal=e.isHorizontal;this._labelPosition="outside";this._stackedLabelPosition="inside";this._lineLabelPosition="outside";};o.extend(c,S);c.prototype._computeDataLabelPosition=function(d,s,l,e,f,n){if(a.getData(n).type!=="line"){return S.prototype._computeDataLabelPosition.apply(this,arguments);}else{return L.prototype._computeDataLabelPosition.apply(this,arguments);}};c.prototype._computeDataLabelTranslate=function(n){if(a.getData(n).type!=="line"){return S.prototype._computeDataLabelTranslate.apply(this,arguments);}else{return L.prototype._computeDataLabelTranslate.apply(this,arguments);}};c.prototype.hideConditional=function(d,e){var i;var f;var g=new Array(e.length);for(i=0;i<e.length;i++){g[i]=e[i].getBoundingClientRect();}for(i=(d.length-1);i>=0;i--){var h=d[i];var j=h.node;var k=j.getBoundingClientRect();var l=h.dataPoint;var I=this.indexOfDataLabelIntersectDataPoints(k,g,e,l);if(I!==-1){D.remove(j);d.splice(i,1);}}return c.superclass.hideConditional.apply(this,arguments);};c.prototype.allowIntersectionCheck=function(d){var e=a.getData(d).type;var i=false;if(e=="line"){i=true;}return i;};c.prototype.getDataLabelDefaultPosition=function(d){if(a.getData(d).type=="line"){this._labelPosition=this._lineLabelPosition;}else{this._labelPosition=this._stackedLabelPosition;}};c.prototype.drawZero=function(d){if(a.getData(d).type=="line"){return true;}else{return false;}};c.prototype.intersectResult=function(d,e,f,g){return C.isIntersectedHelper.call(this,d,e,f,g);};c.prototype.isDataLabelOutOfDataPoint=b.prototype.isDataLabelOutOfDataPoint;return c;});define('sap/viz/chart/components/plots/StackedCombinationPlot',['sap/viz/framework/common/util/oo','sap/viz/framework/common/util/SVG','sap/viz/framework/common/util/ObjectUtils',"sap/viz/framework/common/util/DataGraphics",'sap/viz/framework/common/util/Constants',"sap/viz/framework/common/util/DOM",'sap/viz/framework/chartmodel/ContextBuilder','sap/viz/chart/components/plots/StackedColumnPlot','sap/viz/chart/components/plots/ScaleHandler','sap/viz/chart/components/plots/DataHandler','sap/viz/chart/components/plots/ItemScaleHandler','sap/viz/chart/components/plots/BasePlot','sap/viz/chart/components/plots/BaseLinePlot','sap/viz/chart/components/renderers/SeriesRenderer','sap/viz/chart/components/renderers/PathRenderer','sap/viz/chart/components/renderers/StackedBarRenderer','sap/viz/chart/components/renderers/LineRenderer','sap/viz/chart/components/renderers/SmoothLineRenderer','sap/viz/chart/components/util/DrawUtil',"sap/viz/chart/components/util/DataPointUtils",'sap/viz/chart/components/util/LineRendererUtil','sap/viz/chart/components/datalabels/StackedCombinationDataLabels'],function Setup(o,S,O,D,C,a,b,c,d,e,I,B,f,g,P,h,L,k,l,m,n,p){var q="line";var r="bar";var s=function(i,j){s.superclass.constructor.apply(this,arguments);this._barCategoryAxis=d.getCategoryScaleHandler("categoryAxis",{isHorizontal:false,itemScaleHandler:this._getItemScaleHandler()});this._categoryScaleHandler=this._barCategoryAxis;this._lineDataHandler=e.getHandler();this._stackDataHandler=this._getDataHandler();this._drawZeroLineBeforeDatapoints=true;var u=this.runtime().semanticManager();u.setUseSemanticPattern(true);u.setUseSemanticDPLineStyle(true);this._attachMarkManager();this._markerPropName="line.marker";this.dataShapePrimaryAxisPW=this._properties.watch("dataShape.primaryAxis",this._onDataShapeChange.bind(this));this._options.isCombination=true;var v=j&&j.isDualValueAxis;if(v){this.dataShapeSecondaryAxisPW=this._properties.watch("dataShape.secondaryAxis",this._onDataShapeChange.bind(this));}this.lineMarkerShapePW=this._properties.watch("line.marker.shape",this._onDataShapeChange.bind(this));this._lineRenderer=null;this._isDrawDp=true;};o.extend(s,c);s.prototype.destroy=function(){this.dataShapePrimaryAxisPW.remove();this.dataShapePrimaryAxisPW=null;if(this.dataShapeSecondaryAxisPW){this.dataShapeSecondaryAxisPW.remove();this.dataShapeSecondaryAxisPW=null;}this.lineMarkerShapePW.remove();this.lineMarkerShapePW=null;s.superclass.destroy.call(this);this._barCategoryAxis=null;this._categoryScaleHandler=null;this._realSize=null;this._markerD=null;this._lineDataHandler=null;this._stackDataHandler=null;this._reversedSeries=null;this._lineRenderer=null;};s.prototype._getItemScaleHandler=function(){var i;var j=this._getBarProperties();if(this._options.isDualValueAxis){var u=this._properties.get("dataShape.primaryAxis").indexOf('bar')>-1;var v=this._properties.get("dataShape.secondaryAxis").indexOf('bar')>-1;if(u&&v){j.valueAxis=["valueAxis","valueAxis2"];i=I.get(false,j);delete j.valueAxis;}else{i=I.get(false,j);}}else{i=I.get(false,j);}return i;};s.prototype._attachMarkManager=function(){var i=this.runtime().markManager();var j=this._properties.get("dataShape.primaryAxis");var u=this._getMarkerShape();var v=this._properties.parentLevel;var w=[];i.lock();i.setMode("combination");var x=[];x.push(j);w.push(t.call(this,j,u,v));if(this._options&&this._options.isDualValueAxis){var y=this._properties.get("dataShape.secondaryAxis");w.push(t.call(this,y,u,v));x.push(y);}i.setShape(w,u);i.setSeriesShape(x);};function t(j,u,v){var w=[];if(!j||!j.length){return w;}for(var i=0;i<j.length;i++){if(j[i]===q){w.push(u);}else{var x=this._getLegendMarkerShape();w.push(x);}}return w;}s.prototype._onDataShapeChange=function(){this._attachMarkManager();};s.prototype._getCategoryScaleHandlers=function(i){return[d.getCategoryScaleHandler("categoryAxis",{isHorizontal:i,itemScaleHandler:I.get(false),alignment:"center"})];};s.prototype._getSeriesRenderer=function(){return new g(this._drawLine.bind(this),this._updateLine.bind(this));};s.prototype._applyChanges=function(){s.superclass._applyChanges.apply(this,arguments);var i=this._data["categoryAxis"].scale;var j=this.isHorizontal()?this._realSize.height:this._realSize.width;this._barCategoryAxis.init(i,this._data.series.length,j);};s.prototype._preRender=function(){s.superclass._preRender.apply(this,arguments);this._generateMarkerPath();this._lineRenderer=null;};s.prototype._getDataShape=function(j){var u=this._reversedSeries||this._data.series;var v=u[j];var w=null;for(var i=0;i<v.length;i++){w=v[i];if(w){break;}}if(w){var x="dataShape.primaryAxis";if(!w.hasOwnProperty("valueAxis")){x="dataShape.secondaryAxis";}var y=this._properties.get(x);if(!(y instanceof Array)){y=this._properties.get(x,'defaultValue');}var z;if(w.color){z=w.color.mndIndex;}else if(w.color2){z=w.color2.mndIndex;}else{z=-1;}if(y[z]!==q&&y[z]!==r){y[z]=q;}return y[z];}return q;};s.prototype._getXPosition=function(i,j,u){var v=this._getDataShape(i)===q;if(this.isHorizontal()){if(v){this._dataHandler={"valueAxis":this._lineDataHandler};}else{this._dataHandler=this._stackDataHandler;}var w=s.superclass._getXPosition.apply(this,arguments);if(v){return[w[0]+w[1],w[1]];}else{return w;}}else{if(v){return s.superclass._getXPosition.apply(this,arguments);}else{return this._getAxisPosition([this._barCategoryAxis],i,j,u);}}};s.prototype._adjustPosition=function(i,j){var u=this._getDataShape(j)===q;if(!u){s.superclass._adjustPosition.apply(this,arguments);}};s.prototype._getYPosition=function(i,j,u){var v=this._getDataShape(i)===q;if(!this.isHorizontal()){if(v){this._dataHandler={"valueAxis":this._lineDataHandler};}else{this._dataHandler=this._stackDataHandler;}var w=s.superclass._getYPosition.apply(this,arguments);return w;}else{if(v){return s.superclass._getYPosition.apply(this,arguments);}else{return this._getAxisPosition([this._barCategoryAxis],i,j,u);}}};s.prototype.getLineRenderer=function(){if(!this._lineRenderer){var i=this._properties;this._lineRenderer=n.getRenderer(i.get('line.lineRenderer'),i.get("line.isSmoothed"));}return this._lineRenderer;};s.prototype._isLineVisible=function(){return this._properties.get('line.visible');};s.prototype._drawLine=function(i,j,u,v){if(this._getDataShape(u)!==q){return 0;}var w=this._data.series.length-1-u;f.prototype._drawLine.apply(this,[i,j,w,v]);return 1;};s.prototype._updateLine=function(i,j,u){this._drawLine(i,j,u,true);};s.prototype._updateDatapoint=function(i,j,u,v){s.superclass._updateDatapoint.apply(this,arguments);if(v.hasOwnProperty("x")&&v.hasOwnProperty("y")){var w=D.getData(i).translate;if(w){w[0]=v.x;w[1]=v.y;}}};s.prototype._buildConfig=function(i,j,u){var v=s.superclass._buildConfig.apply(this,arguments);v.graphic.d=this._markerD;if(!this._properties.get("line.marker.visible")){v.graphic.opacity=0;}return v;};s.prototype._getDataPointRenderer=function(i){if(i==null||this._getDataShape(i)!==q){this._isLineMarker=false;return s.superclass._getDataPointRenderer.apply(this,arguments);}else{this._isLineMarker=true;return this._customMarkerRenderer||P;}};s.prototype._getDataLabels=function(i,j){var u=O.extend({},this._options);u.name=i;return new p(j,u);};s.prototype._getPatternConfig=f.prototype._getPatternConfig;s.prototype._updateDatapoints=function(j){var u=this._reversedSeries=this._getSeries();var v=u.length;var w;w=j.select("."+C.CSS.CLASS.DATAPOINT_GROUP).node();var x;for(var y in this._stackDataHandler){if(this._stackDataHandler[y].reset){this._stackDataHandler[y].reset();}}this._lineDataHandler.reset();if(this._seriesRenderer){this._seriesRenderer.resetDataPoints();}var z;var A=0;var E=[],F;for(var G=0;G<v;G++){var H=u[G];if(!H){continue;}x=this._getDataPointRenderer(G);if(!x){continue;}var J=this._getDataShape(G)===q;var K=this.getSeriesDPStyle(this._reversedSeries?v-G-1:G,null,J);for(var M=0;M<H.length;M++){var N=H[M];if(!N){continue;}var Q=this._getPosition(G,M,N);if(!Q){continue;}z=A++;var R=this._buildWrapperConfig(N,Q,N.dp.context(),{seriesStyle:K});var T=this._buildData(R);if(J){R.isLineMarker=true;var U=this._createDataPoint(G,M,R,T,Q,z,N);var V=this._drawDataPoint(x,U,true);var _=D.getData(V);if(!_){_={};}_.seriesIndex=N.dp._addr[1];_.itemIndex=N.dp._addr[0];D.setData(V,_);if(V){var W=m.find(w,z);this._updateDatapoint(W,x,R,Q);if(this._seriesRenderer){this._seriesRenderer.updateDataPoint(G,M,R,Q,V);}}}else{R.isLineMarker=false;F=E[M]=E[M]||{configs:[],positions:[],currentIds:[],dataPoints:[],addrs:[],};if(!F.node){var X=m.find(w,z);var Y=X;while((Y=Y.parentNode)&&!a.hasClass(Y,C.CSS.CLASS.STACK)){}F.node=Y;}F.configs.push(R);F.dataPoints.push(N.dp);F.addrs.push([G,M]);F.positions.push(Q);F.currentIds.push(z);}}}this._dataPointRenderer=h;x=this._getDataPointRenderer();for(var i=0;i<E.length;i++){if(E[i]){F=E[i];var Z=this._drawCategory(F.node,x,F.configs,F.data,F.positions,F.currentIds,F.dataPoints,F.addrs);}}this._dataPointRenderer=P;if(this._seriesRenderer){this._seriesRenderer.update(w);}var $=j.selectAll('.'+C.CSS.CLASS.DATAPOINT)[0];this._dataLabels.updatePosition(j,$);};s.prototype._drawDataPoint=function(i,j,u){if(u){var v=B.prototype._drawDataPoint.apply(this,arguments);var w=j.getData();w.shape=this._getMarkerShape();D.setData(v,w);v.setAttribute("combination-marker","true");return v;}else{return s.superclass._drawDataPoint.apply(this,arguments);}};s.prototype._drawDatapoints=function(u){var v=this._reversedSeries=this._getSeries();var w=v.length;var x;x=S.create("g");x.setAttribute("class",C.CSS.CLASS.DATAPOINT_GROUP);var y;if(this._seriesRenderer){this._seriesRenderer.init(w);}for(var z in this._stackDataHandler){if(this._stackDataHandler[z].reset){this._stackDataHandler[z].reset();}}this._lineDataHandler.reset();var A;var E=0;var F=[],G;for(var H=0;H<w;H++){var J=v[H];if(!J){continue;}var K=this._getDataShape(H)===q;var M=this.getSeriesDPStyle(this._reversedSeries?w-H-1:H,null,K);y=this._getDataPointRenderer(H);if(!y){continue;}for(var N=0;N<J.length;N++){var Q=J[N];if(!Q){continue;}var R=this._getPosition(H,N,Q);if(!R){continue;}A=E++;var T=this._buildWrapperConfig(Q,R,Q.dp.context(),{seriesStyle:M,seriesType:(K?"line":"bar")});var U=this._buildData(T);if(K){T.isLineMarker=true;var V=this._createDataPoint(H,N,T,U,R,A,Q);this._dataPointRenderer=P;var W=this._drawDataPoint(y,V,true);var _=D.getData(W);_=_||{};_.seriesIndex=Q.dp._addr[1];_.itemIndex=Q.dp._addr[0];D.setData(W,_);if(W){if(this._seriesRenderer){this._seriesRenderer.addDataPoint(H,N,T,R,W);}else{x.appendChild(W);}}}else{G=F[N]=F[N]||{configs:[],positions:[],currentIds:[],dataPoints:[],addrs:[]};G.data=G.data||[];G.data.push(U);T.isLineMarker=false;T.isStacked=true;G.configs.push(T);G.dataPoints.push(Q.dp);G.addrs.push([H,N]);G.positions.push(R);G.currentIds.push(A);}}}this._dataPointRenderer=h;y=this._getDataPointRenderer();for(var i=0;i<F.length;i++){G=F[i];if(!G){continue;}var X=this._drawCategory(G.node,y,G.configs,G.data,G.positions,G.currentIds,G.dataPoints,G.addrs);if(X.children){for(var j=0;j<X.children.length;j++){X.children[j].setAttribute("combination-column","true");}}if(X){x.appendChild(X);}}this._dataPointRenderer=P;if(this._seriesRenderer){this._seriesRenderer.render(x);}this._postRender(x);u.node().appendChild(x);this._drawDataLabels(u,x);};s.prototype._renderNode=f.prototype._renderNode;s.prototype._buildWrapperConfig=function(i,j,u,v){var w=s.superclass._buildWrapperConfig.apply(this,arguments);w.graphic.shape=this._getMarkerShape();return w;};s.prototype.update=function(){s.superclass.update.apply(this,arguments);f.prototype._updateLightLine.apply(this,arguments);};s.prototype.getSeriesStyle=function(){var i=f.prototype.getSeriesStyle.apply(this,arguments);i.isCombination=true;return i;};s.prototype._buildSeriesContext=function(i){return b.buildSeriesContext(this._data,i,["color","color2","trellisColumn","trellisRow"]);};return s;});define('sap/viz/chart/components/renderers/AreaSeriesRenderer',['sap/viz/framework/common/util/oo','sap/viz/framework/common/util/SVG','sap/viz/framework/common/util/TypeUtils',"sap/viz/framework/common/util/DataGraphics",'sap/viz/framework/common/util/Constants','sap/viz/chart/components/renderers/SeriesRenderer'],function Setup(o,S,T,D,C,a){var b=C.CSS.CLASS;var A=function(i,c){A.superclass.constructor.apply(this,arguments);};o.extend(A,a);A.prototype.init=function(s){this._series=[];this._seriesGroup=[];var g;for(var i=0;i<s;i++){g=this._seriesGroup[i]=S.create("g");g.setAttribute("class",b.AREA_POINT);}g=this._areaGroup=S.create("g");g.setAttribute("class",b.AREA_GROUP);g=this._refLineGroup=S.create("g");g.setAttribute("class",b.AREA_REF_LINE_GROUP);};A.prototype.addDataPoint=function(i,c,d,p,e,f){if(e){this._seriesGroup[i].appendChild(e);}if(f){this._refLineGroup.appendChild(f);}this._series[i]=this._series[i]||[];this._series[i][c]={position:p,dpConfig:d,dataPoint:e,dataPointRefLine:f};};A.prototype.addDataPointRefLine=function(i,c,n){if(!n||!this._series[i]){return;}var s=this._series[i][c];if(!s){return;}this._refLineGroup.appendChild(n);s.dataPointRefLine=n;};A.prototype.render=function(p){var c=this._areaGroup;var r=this._refLineGroup;var d=S.create("g");for(var i=0;i<this._seriesGroup.length;i++){if(this._series[i]){this._renderSeries(c,this._series[i],i);d.appendChild(this._seriesGroup[i]);}}d.setAttribute("class",b.AREA_POINT_GROUP);p.appendChild(c);p.appendChild(r);p.appendChild(d);};A.prototype.update=function(p){for(var i=0;i<this._seriesGroup.length;i++){if(this._series[i]){this._updateSeries(this._areaGroup,this._series[i],i);}}};return A;});define('sap/viz/chart/components/renderers/AreaRefLineRenderer',["sap/viz/framework/common/util/SVG",'sap/viz/framework/common/util/DataGraphics'],function(S,D){var a=function(c){var n=S.create("line");var g=c.graphic;var f=c.effectManager.register({fillColor:g.fill,});n.setAttribute("stroke",f);var o=(g.opacity>=0&&g.opacity<=1)?g.opacity:1;if(o!==1){n.setAttribute("fill-opacity",o);n.setAttribute("stroke-opacity",o);}var p=c.position;n.setAttribute("x1",0);n.setAttribute("y1",0);n.setAttribute("x2",-p.width);n.setAttribute("y2",p.height);n.setAttribute("pointer-events","none");return n;};a.update=function(n,c){var p=c.position;n.setAttribute("x2",-p.width);n.setAttribute("y2",p.height);};return a;});define('sap/viz/chart/components/datalabels/AreaDataLabels',['sap/viz/framework/common/util/oo','sap/viz/chart/components/datalabels/DataLabels','sap/viz/chart/components/util/DataPointUtils','sap/viz/framework/common/util/DataGraphics','sap/viz/framework/common/util/Constants'],function(o,D,a,b,C){var A=function(r,c){A.superclass.constructor.apply(this,arguments);this.isHorizontal=c.isHorizontal;this._labelPosition=this.isHorizontal?"left":"down";};var P=0;var L=2;o.extend(A,D);A.prototype.isDataLabelOutOfDataPoint=function(d,i){var e=b.getData(i.dataPoint);return e.isIsolate;};A.prototype._render=function(s,d){var h=this._properties.get('hideWhenOverlap');if(h){this._ignoreEmptyDataLabel=true;}A.superclass._render.apply(this,arguments);};A.prototype.drawZero=function(){var h=this._properties.get('hideWhenOverlap');if(h){return false;}else{return true;}};A.prototype._computeDataLabelPosition=function(c,s,l,d,e,n){var p=A.superclass._computeDataLabelPosition.apply(this,[c,s,l,d,e,n]);var f=b.getData(n);var x=p[0];var y=p[1];var g=this._size;var w=(f.position&&f.position.width)||0;var h=(f.position&&f.position.height)||0;var i=this._properties.get('hideWhenOverlap');if(this.isHorizontal){if(i&&d.width>Math.abs(w)){return null;}if(f.labelPosition===C.LABEL_POSITION.RIGHT){y=y+(d.height/2)+P;}else if(f.labelPosition===C.LABEL_POSITION.LEFT){y=y-(d.height/2)-P;}x=x-(w/2)+(s.width/2)+(d.width/2);if(x<0){x=L;}}else{if(i&&d.height>Math.abs(h)){return null;}if(f.labelPosition===C.LABEL_POSITION.RIGHT){x=x+(d.width/2)+P;}else if(f.labelPosition===C.LABEL_POSITION.LEFT){x=x-(d.width/2)-P;}y=y+(h/2)+(s.height/2);if(y>g.height){y=g.height-L;}}return[x,y];};return A;});define('sap/viz/chart/components/plots/AreaPlot',['sap/viz/framework/common/util/oo','sap/viz/chart/components/plots/BaseColumnPlot','sap/viz/chart/components/plots/LinePlot','sap/viz/framework/chartmodel/ContextBuilder','sap/viz/framework/common/util/DOM','sap/viz/framework/common/util/SVG','sap/viz/framework/common/util/DataGraphics','sap/viz/framework/common/util/Constants','sap/viz/framework/common/util/ObjectUtils','sap/viz/framework/common/util/DataUtils','sap/viz/framework/common/util/NameColorUtils','sap/viz/framework/common/util/UADetector','sap/viz/chart/components/util/DrawUtil','sap/viz/chart/components/util/DataPointUtils','sap/viz/chart/components/util/SeriesUtil','sap/viz/chart/components/renderers/AreaSeriesRenderer','sap/viz/chart/components/renderers/PathRenderer','sap/viz/chart/components/renderers/AreaRefLineRenderer','sap/viz/chart/components/plots/ScaleHandler','sap/viz/chart/components/plots/DataHandler','sap/viz/chart/components/plots/ItemScaleHandler','sap/viz/chart/components/datalabels/AreaDataLabels'],function Setup(o,B,L,C,D,S,a,b,O,c,N,U,d,e,f,A,P,g,h,k,I,l){var M=3;var m=2;var n={desktop:{minWidth:24},mobile:{minWidth:48}};var t={desktop:{minWidth:16},mobile:{minWidth:16}};var p=b.CSS.CLASS;var q=[p.DATAPOINT,p.MORPHABLEDATAPOINT,p.DATAPOINTDEFAULT].join(" ");var r=function(i,j){r.superclass.constructor.apply(this,arguments);this._dataPointRenderer=P;this._flipNegativeShape=false;var s=this.runtime().markManager();s.setMode("single");s.lock();s.setShape("circle");var u=this.runtime().semanticManager();u.bindSeriesStyleProperty(this._name+".seriesStyle");};o.extend(r,B);r.prototype._getDataLabels=function(i,j){var s=O.extend({},this._options);s.name=i;return new l(j,s);};r.prototype._getDataHandler=function(){return{"valueAxis":k.getStackHandler(false)};};r.prototype._buildConfig=function(i,j,s){var u=r.superclass._buildConfig.apply(this,arguments);u.graphic.d=this._markerD;return u;};r.prototype._getFillColorConfig=function(i,j,s,u){var v=s.disableSemantic?null:this._semanticMgr.analyzeDataPoint("color",j,true);if(v==null||(v.properties==null)){if(i.graphic){if(i.graphic.fill){i.graphic.fill=N.convertColor(i.graphic.fill);}if(i.graphic.color){i.graphic.color=N.convertColor(i.graphic.color);}if(i.graphic.borderColor){i.graphic.borderColor=N.convertColor(i.graphic.borderColor);}i.graphic.opacity=0;}if(i.data&&i.data.color){i.data.color=N.convertColor(i.data.color);}return i;}if(v.properties.color){var w=N.convertColor(v.properties.color);if(i.graphic){if(i.graphic.hasOwnProperty("fill")){i.graphic.fill=w;}if(i.graphic.hasOwnProperty("color")){i.graphic.color=w;}i.graphic.opacity=v.isOthers?0:1;}if(i.data&&i.data.color){i.data.color=w;}i.displayName=v.displayName;}else{i.graphic.opacity=0;}if(v.properties.stroke){i.graphic.stroke=v.properties.stroke;}if(v.properties.strokeWidth){i.graphic.strokeWidth=v.properties.strokeWidth;}return i;};r.prototype._preRender=function(){r.superclass._preRender.apply(this,arguments);this._markerD=d.createMarkerData({type:"circle",rx:M,ry:M,borderWidth:m});};r.prototype._getSeriesRenderer=function(){return new A(this._renderArea.bind(this),this._updateArea.bind(this));};r.prototype._updateArea=function(i,j,s,u){var v=u||this._properties.get("areaRenderer");var w=f.updateArea(i,j,s,v,this.isHorizontal());if(!w){var x=e.findArea(i,s);if(x){i.removeChild(x);}this._renderArea(i,j,s);}};r.prototype._renderArea=function(i,j,s,u,v){var w=this._properties;var x=v||w.get("areaRenderer");var y=w.get("drawingEffect");var z=this._data.series.length-1-s;var E=this._effectManager;var F=u||C.buildSeriesLineContext(this._data,z,["color","color2","trellisColumn","trellisRow"]);var G=this.getSeriesStyle(s,F);f.drawArea(i,j,s,y,E,F,x,G,this.isHorizontal());};r.prototype.getSeriesStyle=function(s,i){var j=this._data.series.length-1-s;var u=this._semanticMgr;i=i||C.buildSeriesLineContext(this._data,j,["color","color2","trellisColumn","trellisRow"]);var v=u.analyzeSeriesStyle(i,"area");var w;if(v&&v.area&&v.area.color){w=v.area.color;}else if(u.hasDataPointColorStyle()&&u.isOverrideMode()){w=u.getOthersStyle("color").properties.color;}else{var x=C.getSeriesScaleInfo(this._data,j,["color"]);if(x){w=this._data[x.field].scale.scale(x.domain);}else{w=this._data.color.scale.getRange()[0];}}return{color:N.convertColor(w)};};r.prototype._hideNode=function(i,j){var s=i[j];if(s){D.remove(s.getNode());D.remove(s.getRefNode());s.setNode(null).setRefNode(null);}};r.prototype._showDataPoints=function(i){this._preShowDataPoints();var j=[];this._dataPointContext=[];this._seriesRenderer.resetDataPoints();var s;var u=this._data.color;if(u&&u.metaData){var v=c.checkMndStatus(u.metaData,u.rowArray);if(v.isOnlyOneMndValue){s=v.mndIndex;}}var w=this.createSeriesIterator(this._series.length);var x;while(w.hasNext()){var y=w.next();var z=this._series[y];if(!z){continue;}var E=this._getDataPointRenderer(y);if(!E){continue;}var F=z.getDataPoints();var G=this._getVisibleRange(F);this._hideDataPoints(F,G);for(var H=G.min;H<=G.max;H++){var J=F[H];if(!J){continue;}var K=J.getRawData();var Q=K.dp;var R=this._getDataPointPosition(J);if(!R){continue;}var T=false;var V=J.getConfig();if(!V){T=true;var W=Q&&Q.context()?Q.context():b.NULL_VALUE;V=this._buildWrapperConfig(K,R,W,{itemIndex:H});}this._dataPointContext.push(V);var X=J.getData();if(!X){T=true;var Y=J.getId();X=this._buildData(V);J.init(V,Y,X,Q&&Q.id?Q.id:b.NULL_VALUE,s);}var Z=J.getNode();var $=J.getRefNode();if(Z){if(T){this._updateDatapoint(Z,E,V,R);this._updateDatapointRefLine($,V,R);j.push(Z);}}else{x=this._drawDataPointWithRefLine(E,J);if(x){Z=x.node;$=x.refNode;J.setNode(Z).setRefNode($);if(Z){j.push(Z);}}else{J.setNode(null).setRefNode(null);}}this._seriesRenderer.addDataPoint(w.index(),H,V,R,Z,$);}}return j;};r.prototype._getValueScaleHandlers=function(i){return[h.getValueScaleHandler("valueAxis",{isHorizontal:i})];};r.prototype._getCategoryScaleHandlers=function(){return[h.getCategoryScaleHandler("categoryAxis",{isHorizontal:false,itemScaleHandler:I.get(false),alignment:"center"})];};r.prototype._adjustPosition=function(i){if(this.isHorizontal()){i.x+=i.width;}};r.prototype.drawAreaRefLine=function(i,j){var s=this._series[i];if(!s){return null;}var u=s.getDataPoints()[j];if(!u){return null;}var v=u.getConfig();if(v.ctx===b.NULL_VALUE){return null;}var w=this._adjustDataPointPosition(u.getPosition());if(!w){return null;}var x=g(v);x.setAttribute("class",p.AREA_REF_LINE);e.setDataId(x,u.getDataId());e.setDataPointId(x,u.getDataPointId());if(w.hasOwnProperty("x")&&w.hasOwnProperty("y")){var y='translate('+w.x+', '+w.y+')';x.setAttribute("transform",y);}u.setRefNode(x);this._seriesRenderer.addDataPointRefLine(i,j,x);return x;};r.prototype._drawDataPointWithRefLine=function(i,j){var s=j.getConfig();if(s.ctx===b.NULL_VALUE){return null;}var u=this._adjustDataPointPosition(j.getPosition());if(!u){return null;}var v=S.create("g");e.setDataId(v,j.getDataId());e.setDataPointId(v,j.getDataPointId());a.setContext(v,j.getContext());a.setData(v,j.getData());v.setAttribute("class",q);var w=s.graphic.opacity;var x=null;if(w!==0){x=g(s);x.setAttribute("class",p.AREA_REF_LINE);e.setDataId(x,j.getDataId());e.setDataPointId(x,j.getDataPointId());}else{v.setAttribute("opacity",w);}if(u.hasOwnProperty("x")&&u.hasOwnProperty("y")){var y='translate('+u.x+', '+u.y+')';v.setAttribute("transform",y);if(x){x.setAttribute("transform",y);}}var z=this._applyDataPointRenderer(i,s);if(!z&&this._dataPointRenderer){z=this._dataPointRenderer(s);}v.appendChild(z);if(this._flipNegativeShape){var E=s.ctx[s.ctx.measureNames]<0;if(E){this._addNegativeClass(v,s);}}return{node:v,refNode:x};};r.prototype._adjustDataPointPosition=function(i){if(!i){return null;}var j=this._realSize;var s=M+m/2;var x=i.x;var y=i.y;if(x<-1||y<-1||x>j.width+1||y>j.height+1){return{"x":x,"y":y};}if((x-s)<0){x=s;}else if((x+s)>j.width){x=j.width-s;}if((y-s)<0){y=s;}else if((y+s)>j.height){y=j.height-s;}return{"x":x,"y":y};};r.prototype._buildData=function(i){return{color:i.graphic.fill,position:i.position,trellisInfo:i.trellisInfo,opacity:i.graphic.opacity};};r.prototype._getSeries=function(){if(this._data.series){return this._data.series.slice().reverse();}else{return[];}};r.prototype._isEmptySeries=function(j){if(!j||j.length<=0){return true;}for(var i=0;i<j.length;i++){if(j[i]){return false;}}return true;};r.prototype._fixSeriesForMulti=function(s){var u=s||this._data.series;var w,i,j,x;var y=u.length;var z;var E=[],F=[];for(i=0;i<y;i++){w=u[i];z=w.length;for(j=0;j<z;j++){E[j]=E[j]||[];if(w[j]){E[j][i]=w[j];}}}for(i=0;i<E.length;i++){x=E[i];if(x.length===0){F.push(i);}}for(i=0;i<y;i++){w=u[i];z=w.length;if(this._isEmptySeries(w)){continue;}for(j=0;j<z;j++){var v=w.measureMeta[0];if(F.indexOf(j)>=0){continue;}if(w[j]===undefined){w[j]={"isNullValue":true};w[j][v]=0;}}}};r.prototype.setData=function(i){r.superclass.setData.apply(this,arguments);this._fixSeriesForMulti();};r.prototype._updateDatapoint=function(i,j,s,u){r.superclass._updateDatapoint.apply(this,arguments);if(i&&u.hasOwnProperty("x")&&u.hasOwnProperty("y")&&u.hasOwnProperty("height")&&u.hasOwnProperty("width")){var v=a.getData(i);if(v&&v.position){v.position.x=u.x;v.position.y=u.y;v.position.height=u.height;v.position.width=u.width;}}};r.prototype._updateDatapointRefLine=function(i,j,s){if(i&&s.hasOwnProperty("x")&&s.hasOwnProperty("y")){i.setAttribute("transform",'translate('+s.x+', '+s.y+')');g.update(i,j);}};r.prototype._buildWrapperConfig=function(i,j,s){var u=r.superclass._buildWrapperConfig.apply(this,arguments);u.position=j;return u;};r.prototype._getMinCategoryWidth=function(){var i=!!this._options.inTrellis;var j=this._properties;if(i||(j.get('isFixedDataPointSize')&&!j.origin.get("interaction.noninteractiveMode"))){var s=i?t:n;var u=U.isMobile()?s.mobile.minWidth:s.desktop.minWidth;return u;}else{return 0;}};r.prototype.getPreferredSize=function(){return L.prototype.getPreferredSize.apply(this,arguments);};return r;});define('sap/viz/chart/components/datalabels/AreaPercentageDataLabels',['sap/viz/framework/common/util/oo','sap/viz/chart/components/datalabels/DataLabels','sap/viz/chart/components/datalabels/AreaDataLabels','sap/viz/chart/components/util/PercentageDataLabelUtil'],function(o,D,A,P){var a=function(c,b){a.superclass.constructor.apply(this,arguments);};o.extend(a,A);a.prototype._getDataLabelInfo=function(n){var d=this._data&&this._data.rawData&&this._data.rawData.dataModel;return P.getDataLabelInfo(n,d);};a.prototype._buildDataLabelText=function(f,d,b,i,c){var v=d.value;if(v===0&&!this.drawZero(c)){return null;}return D.buildDataLabelText(this._properties,f,d,b,i,P.getTypes,P.mergeDataLabels,null);};return a;});define('sap/viz/chart/components/plots/PercentageAreaPlot',['sap/viz/framework/common/util/oo','sap/viz/chart/components/plots/AreaPlot','sap/viz/framework/common/util/TypeUtils','sap/viz/framework/common/util/Constants','sap/viz/chart/components/plots/DataHandler','sap/viz/framework/scale/ValueScale','sap/viz/chart/components/renderers/GridlineRenderer','sap/viz/chart/components/datalabels/AreaPercentageDataLabels','sap/viz/framework/common/util/ObjectUtils'],function Setup(o,A,T,C,D,V,G,a,O){var P=function(r,b){P.superclass.constructor.apply(this,arguments);};o.extend(P,A);P.prototype._getDataHandler=function(){return{"valueAxis":D.getStackHandler(false,true)};};P.prototype._drawGridlines=function(p){var s=this._realSize;var i=this.isHorizontal();var d=i?C.DIRECTION.VERTICAL:C.DIRECTION.HORIZONTAL;var b=this._properties.proxy("gridline");var r=i?[0,s.width]:[s.height,0];var c=new V([0,1],r);c.setTickHint(this._data.valueAxis.tickHint);G.drawValueGridline(p,s.width,s.height,c,b,d,this.runtime().effectManager());};P.prototype._getAxisPosition=function(h,s,b,d){var c=this._dataHandler;var v=this._data.valueAxis;var e=v.categorySum[b];var f;for(var i=0,l=h.length;i<l;i++){var g=h[i];if(d.hasOwnProperty(g.id)){if(d[g.id]<0&&e>0){f=0;}else{f=d[g.id];}return g.scale(f,{index:b,seriesIndex:s,dataHandler:c[g.id]});}}return h[0].scale(null,{index:b,seriesIndex:s,rawData:d});};P.prototype._getPosition=function(s,i,d){var v=this._data.valueAxis;v.scale.total(v.categorySum[i]);return P.superclass._getPosition.apply(this,arguments);};P.prototype._buildWrapperConfig=function(d,p,c,b){var i=b&&b.itemIndex;var v=this._data.valueAxis;if(v.categorySum){v.scale.total(v.categorySum[i]);}if(c){c.percentage=this._data.valueAxis.scale.scale(d.valueAxis);}var e=P.superclass._buildWrapperConfig.apply(this,arguments);if(d.valueAxis<0&&v.categorySum[i]>0){e.ctx=C.NULL_VALUE;}return e;};P.prototype._buildData=function(d,p,c,b,e){var r=P.superclass._buildData.apply(this,arguments);r.percentageValue=d.ctx.percentage;return r;};P.prototype._getDataLabels=function(n,r){var b=O.extend({},this._options);b.name=n;return new a(r,b);};return P;});define('sap/viz/chart/components/plots/ComboExDataHandler',["sap/viz/chart/components/plots/DataHandler"],function(D){function C(s){this._handlers=s.reduce(function(h,a){var b=a.type==="area"?false:true;var d=D.getStackHandler(b);a.series.forEach(function(c){h[c]=d;});return h;},[]);}C.prototype.add=function(i,v,s){return this._handlers[s].add(i,v,s);};C.prototype.getBase=function(i,v,s){return this._handlers[s].getBase(i,v,s);};C.prototype.reset=function(){this._handlers.forEach(function(h){h.reset();});};C.prototype.destroy=function(){this._handlers.forEach(function(h){h.destroy();});};return C;});define('sap/viz/chart/components/renderers/ComboExSeriesRenderer',["sap/viz/framework/common/util/oo","sap/viz/chart/components/renderers/SeriesRenderer","sap/viz/chart/components/renderers/AreaSeriesRenderer"],function(o,S,A){var T=["line","bar","area"];function C(r,u){this.seriesRenderers={"bar":new S(r,u),"line":new S(r,u),"area":new A(r,u)};this._renderers=T.slice().reverse().map(function(t){return this.seriesRenderers[t];},this);this._seriesType=[];}C.prototype.setSeriesSettings=function(s,a){this._seriesGroupInfo=s;this._seriesType=a;};C.prototype._seriesGroupOrder=function(){var g=this._seriesGroupInfo.reduce(function(a,s){if(!a[s.type]){a[s.type]=[];}a[s.type].push(s.series);return a;},{});return T.reduce(function(a,t){if(g[t]){g[t].forEach(function(s){a=a.concat(s.slice().reverse());});}return a;},[]);};C.prototype._sortStackedSeries=function(t){var c=this._seriesGroupOrder();var r=this.seriesRenderers[t];var s=r._series,d=r._seriesGroup,e=s.reduce(function(a,b,i){return b?a.concat(i):a;},[]);var f=e.slice().sort(function(a,b){return c.indexOf(a)-c.indexOf(b);}).reduce(function(f,a,i){var b=e[i];f.series[b]=s[a];f.seriesGroup[b]=d[a];return f;},{series:[],seriesGroup:[]});r._series=f.series;r._seriesGroup=f.seriesGroup;};C.prototype.getSeriesRenderer=function(s){return this.seriesRenderers[this._seriesType[s]];};C.prototype._doAll=function(n,a){this._renderers.forEach(function(r){r[n].apply(r,[].slice.call(a));});};C.prototype.addDataPointRefLine=function(i,c,r){this.seriesRenderers.area.addDataPointRefLine(i,c,r);};C.prototype.init=function(n){this._doAll("init",arguments);};C.prototype.resetDataPoints=function(){this._doAll("resetDataPoints",arguments);};C.prototype.render=function(p){this._sortStackedSeries("bar");this._doAll("render",arguments);};C.prototype.update=function(p){this._doAll("update",arguments);};C.prototype.addDataPoint=function(s,c,d,p,a){this.getSeriesRenderer(s).addDataPoint(s,c,d,p,a);};C.prototype.updateDataPoint=function(s,c,d,p){this.getSeriesRenderer(s).updateDataPoint(s,c,d,p);};o.extend(C,S);return C;});define('sap/viz/chart/components/datalabels/ComboExDataLabels',["sap/viz/framework/common/util/oo","sap/viz/framework/common/util/DataGraphics","sap/viz/chart/components/datalabels/DataLabels","sap/viz/chart/components/datalabels/BarDataLabels","sap/viz/chart/components/datalabels/ColumnDataLabels","sap/viz/chart/components/datalabels/StackedDataLabels","sap/viz/chart/components/datalabels/LineDataLabels","sap/viz/chart/components/datalabels/AreaDataLabels","sap/viz/chart/components/datalabels/CombinationDataLabels","sap/viz/chart/components/util/CombinationDataLabelUtil"],function(o,D,a,B,C,S,L,A,b,c){function d(e,f){d.superclass.constructor.apply(this,arguments);this.isHorizontal=f.isHorizontal;this._labelPosition="up";this._dataLabelInstances={bar:this.isHorizontal?new B(e,f):new C(e,f),stackedbar:new S(e,f),line:new L(e,f),area:new A(e,f)};}o.extend(d,b);d.prototype.setSeriesSettings=function(s,e){this._seriesGroups=s.reduce(function(f,g){g.series.forEach(function(h){f[h]=g;});return f;},[]);this._seriesType=e;};d.prototype.setData=function(e){d.superclass.setData.apply(this,arguments);Object.keys(this._dataLabelInstances).forEach(function(t){this._dataLabelInstances[t].setData(e);},this);};d.prototype.setSize=function(s){d.superclass.setSize.apply(this,arguments);Object.keys(this._dataLabelInstances).forEach(function(t){this._dataLabelInstances[t].setSize(s);},this);};d.prototype._getInstance=function(n){var s=D.getData(n).seriesIndex,e=this._seriesGroups[s],f=this._seriesType[s];if(e.type==="bar"&&e.series.length>1){return this._dataLabelInstances.stackedbar;}else{return this._dataLabelInstances[f];}};d.prototype._isStackedBar=function(n){var s=D.getData(n).seriesIndex,e=this._seriesGroups[s];return e.type==="bar"&&e.series.length>1;};d.prototype._computeDataLabelTranslate=function(n,e,p,l,f){var g=this._getInstance(n);p=g._labelPosition;if(this._isStackedBar(n)){p="inside";}return g._computeDataLabelTranslate(n,e,p,l,f);};d.prototype._computeDataLabelPosition=function(e,s,p,l,f,n){return this._getInstance(n)._computeDataLabelPosition(e,s,p,l,f,n);};return d;});define('sap/viz/chart/components/plots/ComboExPlot',["sap/viz/framework/common/util/oo","sap/viz/framework/common/util/ObjectUtils","sap/viz/chart/components/plots/LinePlot","sap/viz/chart/components/plots/AreaPlot","sap/viz/chart/components/plots/CombinationPlot","sap/viz/chart/components/plots/ComboExDataHandler","sap/viz/chart/components/plots/SeriesIterator","sap/viz/chart/components/renderers/PathRenderer","sap/viz/chart/components/renderers/ComboExSeriesRenderer","sap/viz/chart/components/datalabels/ComboExDataLabels","sap/viz/chart/components/util/DrawUtil","sap/viz/framework/common/util/DataGraphics","sap/viz/framework/common/util/Constants","sap/viz/framework/chartmodel/ContextBuilder"],function(o,O,L,A,C,a,S,P,b,c,D,e,f,h){function j(){j.superclass.constructor.apply(this,arguments);this._markerCircle=D.createMarkerData({type:"circle",rx:3,ry:3,borderWidth:2});}o.extend(j,C);j.prototype.isHorizontal=function(){return this.runtime().propertyManager().get("general.layout.orientation")==="horizontal";};j.prototype._getDataShape=function(s){return this._getSeries()[s].settings.type;};j.prototype._getColumnCount=function(){return this._seriesGroups.filter(function(s){return s.type==="bar";}).length;};j.prototype.setData=function(d){j.superclass.setData.call(this,d);this._fixSeriesForMulti.call(this,d.series.filter(function(s){return s.settings.type==="area";}));this._configSeries();this._dataHandler={valueAxis:this._buildDataHandler("valueAxis"),valueAxis2:this._buildDataHandler("valueAxis2")};this._seriesRenderer.setSeriesSettings(this._seriesGroups,this._seriesType);this._dataLabels.setSeriesSettings(this._seriesGroups,this._seriesType);this._attachMarkManager();};j.prototype._getXPosition=function(s,i,d){var t=this._seriesType[s],g=!this.isHorizontal();if(g){if(t==="bar"){return this._getAxisPosition([this._barCategoryAxis],this._barGroupIndices[s],i,d);}else{return C.superclass._getXPosition.apply(this,arguments);}}else{var r=C.superclass._getXPosition.apply(this,arguments);return(t==="bar")?r:[r[0]+r[1],r[1]];}};j.prototype._getYPosition=function(s,i,d){var t=this._seriesType[s],g=this.isHorizontal();if(g){if(t==="bar"){return this._getAxisPosition([this._barCategoryAxis],this._barGroupIndices[s],i,d);}else{return C.superclass._getYPosition.apply(this,arguments);}}else{return C.superclass._getYPosition.apply(this,arguments);}};j.prototype._getDataPointRenderer=function(s){switch(this._seriesType[s]){case"area":case"line":this._isLineMarker=true;return this._customMarkerRenderer||P;case"bar":this._isLineMarker=false;return this._customMarkerRenderer||this._dataPointRenderer;default:return null;}};j.prototype._getDataLabels=function(n,r){return new c(r,O.extend({},this._options,{isHorizontal:this.isHorizontal(),name:n}));};j.prototype._buildWrapperConfig=function(d,p,g,i){if(this._getDataSeriesType(d)==="area"){return A.prototype._buildWrapperConfig.apply(this,arguments);}else{return j.superclass._buildWrapperConfig.apply(this,arguments);}};j.prototype._buildData=function(d){var t=this._getDataSeriesType(d.rawData),g;if(t==="area"){g=A.prototype._buildData.apply(this,arguments);}else{g=j.superclass._buildData.apply(this,arguments);}g.seriesType=t;return g;};j.prototype._getFillColorConfig=function(d,g,i,l){var m=j.superclass._getFillColorConfig.apply(this,arguments);if(this._getDataSeriesType(l)==="area"){A.prototype._getFillColorConfig.apply(this,arguments);m.graphic.d=this._markerCircle;}return m;};j.prototype._getSeriesRenderer=function(){return new b(this._renderSeries.bind(this),this._updateSeries.bind(this));};j.prototype._showDataPoints=function(d){var r=j.superclass._showDataPoints.apply(this,arguments);this._series.forEach(function(s,i){if(this._seriesType[i]!=="area"){return;}s.getDataPoints().forEach(function(g,l){if(g.getRefNode()){this._seriesRenderer.seriesRenderers.area.addDataPointRefLine(i,l,g.getRefNode());}},this);},this);return r;};j.prototype._drawDataPoint=function(d,g){var i,s=this._seriesType[g.getSeriesIndex()];if(s==="area"){i=A.prototype._drawDataPointWithRefLine.apply(this,arguments);if(i){g.setRefNode(i.refNode);i=i.node;}}else{i=j.superclass._drawDataPoint.apply(this,arguments);}return i;};j.prototype._postRender=function(d){j.superclass._postRender.apply(this,arguments);Array.prototype.forEach.call(d.querySelectorAll(".v-area-group .v-area"),function(g){g.setAttribute("combination-area",true);});};j.prototype._renderSeries=function(s,d,g,i){var l=this._seriesType[g];switch(l){case"line":L.prototype._drawLine.apply(this,arguments);return 2;case"area":var m=h.buildSeriesContext(this._data,g,["color","color2","trellisColumn","trellisRow"]);var n=this._properties.get("area.renderer");A.prototype._renderArea.call(this,s,d,g,m,n);return 0;case"bar":return 1;default:throw new Error("Shape not supported: "+l);}};j.prototype._updateSeries=function(s,g,i,l){var m=this._seriesType[i];switch(m){case"line":L.prototype._updateLine.apply(this,arguments);return 2;case"area":g.forEach(function(d){var p=d.dataPoint,q;if(p){q=e.getData(p);q.position=d.position;g.dataPointRefLine=null;}});var n=this._properties.get("area.renderer");A.prototype._updateArea.call(this,s,g,i,l,n);return 0;case"bar":return 1;default:throw new Error("Shape not supported: "+m);}};j.prototype._attachMarkManager=function(){if(!this._data){return;}var m=this.runtime().markManager();m.lock();m.setMode("series");var s={line:this._getMarkerShape(),bar:this._getLegendMarkerShape(),area:"circle"};var d=this._getSeries().reduce(function(d,g,i){var l=g.spec.mndKey==="valueAxis"?0:1;if(!d[l]){d[l]=[];}d[l].push({marker:s[g.settings.type],type:g.settings.type});return d;},[]);m.setMarkers(d);};j.prototype.createSeriesIterator=function(l){return S.create(l,"reverse");};j.prototype._getDataSeriesType=function(d){if(d.dp){return this._seriesType[d.dp.address()[1]];}else if(d.isNullValue){return"area";}else{throw new Error("unknown datapoint");}};j.prototype._configSeries=function(){var s=this._getSeries();var p=this;this._seriesGroups=s.reduce(function(g,d,i){var l=d.settings.group;if(!g[l]){g[l]={type:d.settings.type,mndKey:d.spec.mndKey,series:[]};}g[l].series.push(i);p._seriesType[i]=d.settings.type;return g;},{});this._seriesGroups=Object.keys(this._seriesGroups).map(function(g){return this._seriesGroups[g];},this);this._barGroupIndices=this._seriesGroups.filter(function(d){return d.type==="bar";}).reduce(function(d,g,i){g.series.forEach(function(l){d[l]=i;});return d;},[]);};j.prototype._buildDataHandler=function(i){return new a(this._seriesGroups.filter(function(s){return s.mndKey===i;}));};j.prototype.drawAreaRefLine=function(i,d){return A.prototype.drawAreaRefLine.apply(this,arguments);};j.prototype._adjustDataPointPosition=function(p){return A.prototype._adjustDataPointPosition.call(this,p);};j.prototype._adjustPosition=function(p,s){if(this._seriesType[s]==="area"){return;}j.superclass._adjustPosition.apply(this,arguments);};j.prototype._updateDatapoints=function(p){j.superclass._updateDatapoints.call(this,p);p.selectAll("."+f.CSS.CLASS.AREA_REF_LINE).remove();};j.prototype._fixSeriesForMulti=A.prototype._fixSeriesForMulti;j.prototype._isEmptySeries=A.prototype._isEmptySeries;function k(l){l=l||[];for(var i=0;i<l.length;i++){if(l[i]){return l[i];}}return null;}j.prototype._hideDataPoints=function(d,v){var g=k(d);if(this._seriesType[g.getSeriesIndex()]==="area"){for(var i in d){if(d.hasOwnProperty(i)){this._hideNode(d,i);}}this._lightLineOutOfRange(d,v);}else{j.superclass._hideDataPoints.call(this,d,v);}};return j;});define('sap/viz/chart/components/plots/XYPlotFactory',['jquery','sap/viz/chart/components/plots/LinePlot','sap/viz/chart/components/plots/ColumnPlot','sap/viz/chart/components/plots/CombinationPlot','sap/viz/chart/components/plots/PercentagePlot','sap/viz/chart/components/plots/StackedColumnPlot','sap/viz/chart/components/plots/StackedCombinationPlot','sap/viz/chart/components/plots/AreaPlot','sap/viz/chart/components/plots/PercentageAreaPlot','sap/viz/chart/components/plots/ComboExPlot'],function($,L,C,a,P,S,b,A,c,d){var p={'column':{plotClazz:C},'stacked_column':{plotClazz:S},'100_stacked_column':{plotClazz:P},'bar':{plotClazz:C},'stacked_bar':{plotClazz:S},'100_stacked_bar':{plotClazz:P},'line':{plotClazz:L},'area':{plotClazz:A},'horizontal_area':{plotClazz:A},'horizontal_line':{plotClazz:L},'100_area':{plotClazz:c},'100_horizontal_area':{plotClazz:c},'combination':{plotClazz:a},'horizontal_combination':{plotClazz:a},'stacked_combination':{plotClazz:b},'horizontal_stacked_combination':{plotClazz:b},'combinationEx':{plotClazz:d}};return{getPlotClazz:function(r){var e=p[r];return e&&e.plotClazz;}};});define('sap/viz/chart/components/zoom/ZoomLimit',[],function(){var b=/(bar|column|combination|bullet|waterfall)/;var i=b.test.bind(b);function B(m,d){var p=m.plot,a=p.isHorizontal(),c=p._properties,e=p.getSize()[a?"height":"width"];var f=p.getRealSizeByFixedDPSize(c.get("dataPointSize.max"))/e;return[1,Math.max(f,1)];}function R(m,a){var c=a.split("").reduce(function(l,d){return l.concat(m.axisByDirection[d]);},[]),e=c.map(function(d){return d?d.getMaxZoomRatio():Number.MAX_VALUE;});return[1,Math.max(Math.min.apply(null,e),1)];}return{Bar:B,Regular:R,byChart:function(m,d){var f=i(m.main._renderType)?B:R;return f(m,d);}};});define('sap/viz/chart/components/zoom/XYZoomer',["sap/viz/chart/components/zoom/ZoomLimit","sap/viz/framework/interaction/utils/PlotZoomUtils","sap/viz/framework/common/util/UADetector","sap/viz/framework/common/util/TypeUtils"],function(Z,P,U,T){var D=14,a=0.1;var b=["plotArea.isFixedDataPointSize","interaction.zoom.direction","interaction.zoom.enablement","plotArea.gap","plotArea.markerRenderer","plotArea.dataLabel.renderer","plotArea.lineRenderer","plotArea.line.lineRenderer","plotArea.window.start","plotArea.window.end","plotArea.dataPointSize","general.groupData","interaction.syncValueAxis","interaction.noninteractiveMode","timeAxis.interval","plotArea.scrollbar.visible","plotArea.series"];function X(c){var r=c.runtime();this._runtime=r;this._props=r.propertyManager().proxy("interaction.zoom");this._status=r.statusManager();this._limit={x:{},y:{}};this._status.add({"plot.zoom.direction":{readonly:true,serializable:false,get:this.direction.bind(this)},"plot.zoom.enabled":{readonly:true,serializable:false,get:this.enabled.bind(this)},"plot.zoom.limit":{readonly:true,serializable:false,get:this.limits.bind(this)}});var t=this;function _(n,o){if(n!==o){t._status.set('zooming',false);r.fireInteractionEvent("discardSavedZoom");}}this._watchers=b.map(function(p){return r.propertyManager().watch(p,_);});function d(n,o){var s=["timeseries_column","timeseries_line","timeseries_combination","timeseries_bullet"];if(!T.equals(n,o)&&s.indexOf(c._renderType)>-1){t._status.set('zooming',false);r.fireInteractionEvent("discardSavedZoom");}}r.propertyManager().watch("timeAxis.levels",d);}X.prototype.enabled=function(){switch(this._props.get("enablement")){case"enabled":return true;case"auto":return U.isMobile();default:return false;}};X.prototype.direction=function(){if(!this.enabled()){return"";}switch(this._props.get("direction")){case"all":return"xy";case"categoryAxis":return this._modules.isHorizontal?"y":"x";default:return"";}};X.prototype.limits=function(){return this._limit;};X.prototype.init=function(m){this._modules=m;};X.prototype.destroy=function(){this._status.remove("plot.zoom.enabled");this._status.remove("plot.zoom.direction");this._status.remove("plot.zoom.limit");this._watchers.forEach(function(w){w.remove();});this._watchers=[];this._plotNode=null;};X.prototype.reset=function(s){this._plotNode=s.plot.node().querySelector("."+P.ZOOM_CONTAINER_CLASS);if(this.enabled()){this._limit=this._calcZoomLimit(this._modules,this.direction());}};X.prototype.zoom=function(r,p,i){if(!i){P.applyZoom(r,p,this._plotNode,this._status,this._runtime);}else{P.applyZoom(r,p,this._plotNode,this._status);}};X.prototype.zoomInOut=function(i,p,n,m){var r=this._status.get("plot.transform.scale"),l=this.limits();if(!n){n=D;}if(!m){m=a;}var c=P.zoomInOut(i,r,l,n,m);this.zoom(c,p);};X.prototype._calcZoomLimit=function(m,d){var l={x:{},y:{}},p=Z.byChart(m,d);l.x.min=p[0];l.x.max=p[1];l.y.min=p[0];l.y.max=p[1];return l;};return X;});define('sap/viz/chart/components/plotareas/XYPlotArea',['sap/viz/framework/common/util/oo',"sap/viz/framework/scale/ValueScale","sap/viz/framework/scale/ValueScaleUtil",'sap/viz/chart/components/callout/CalloutContainer','sap/viz/chart/components/container/XYContainer','sap/viz/chart/components/axis/ValueAxis','sap/viz/chart/components/axis/CategoryAxis','sap/viz/chart/components/plots/PlotHelper','sap/viz/chart/components/plots/XYPlotFactory','sap/viz/chart/components/util/ValueAxisUtils','sap/viz/chart/components/scrollbar/Scrollbar','sap/viz/framework/common/util/UADetector','sap/viz/framework/common/util/DataUtils','sap/viz/chart/components/util/TextUtils','sap/viz/chart/components/zoom/XYZoomer',"sap/viz/chart/components/plots/PlotGeometryKeeper",'sap/viz/framework/common/format/UnitFormat','sap/viz/framework/common/util/TypeUtils','sap/viz/framework/common/util/Constants','sap/viz/framework/common/util/NumberUtils','sap/viz/chart/components/datalabels/DataLabels','sap/viz/chart/components/datalabels/BarDataLabels'],function Setup(o,V,a,C,X,b,c,P,d,f,S,U,D,T,g,j,k,l,m,N,n,B){function p(e){var h,v,i=e._plot;if(i.isHorizontal()){h=(e._renderType.indexOf("bullet")>-1?"actualValues":e._valueAxisIndex);}else{v=(e._renderType.indexOf("bullet")>-1?"actualValues":e._valueAxisIndex);}function r(){return j.offsetInValue({h:h?e._data[h].scale:null,v:v?e._data[v].scale:null},e.getOffset(),i.getRealSize());}function s(t){var u=e._data[h],w=e._data[v],x=i.getRealSize(),y={};if(!isNaN(t.x)&&u){y.x=-u.scale.scale(t.x)*x.width;}if(!isNaN(t.y)&&w){y.y=-(1-w.scale.scale(t.y))*x.height;}e.scroll(y);}return{get:r,set:s};}var q=function(r,e){q.superclass.constructor.apply(this,arguments);this._valueAxisIndex=e.valueAxisIndex||"valueAxis";this._init();r.statusManager().add("plot.offsetInValue",{serializable:false,get:p(this).get,set:p(this).set});};o.extend(q,X);q.prototype._isPercentageChart=function(){return(this._renderType.indexOf("100_")>=0);};q.prototype._isLineChart=function(){return(this._renderType.indexOf("line")>=0);};q.prototype._isCombinationChart=function(){return(this._renderType.indexOf("combination")>=0);};q.prototype._isMekkoChart=function(){return(this._renderType.indexOf("mekko")>=0);};q.prototype._isColumnChart=function(){return(this._renderType==="column")||(this._renderType==="combination")||(this._renderType==="timeseries_column");};q.prototype._isBarChart=function(){return(this._renderType==="bar")||(this._renderType==="horizontal_combination");};q.prototype._isStackedChart=function(){return(this._renderType==="stacked_column")||(this._renderType==="stacked_bar");};q.prototype._isHorizontal=function(){if(this._plot&&this._plot._options){return this._plot._options.isHorizontal;}};q.prototype._getPlotOptions=function(){return{valueAxisIndex:this._valueAxisIndex||"valueAxis"};};q.prototype._reRenderComplete=function(){if(this._eventDispatch){this._eventDispatch.reRenderComplete();}};q.prototype._init=function(e){var r=this.runtime();this._plot=P.create(this._renderType,this._getPlotClazz(this._renderType),r,this._getPlotOptions(this._renderType));this.setChild("plot",this._plot,{position:"center"});var i=this._plot.isHorizontal();this._plot.getDispatch().on("reRenderComplete.plotarea",this._reRenderComplete.bind(this));var c=this._getCategoryAxisClass();var h;var s=!this._properties.get("interaction.noninteractiveMode");if(i){this.setLayoutSequence(['bottom','top','left','right']);this._categoryAxis=new c(r,{name:"categoryAxis"});this._categoryAxis.setPosition("left");this.setChild("categoryAxis",this._categoryAxis,{position:"left"});h=this._valueAxisIndex==="valueAxis"?"bottom":"top";var t=s;if(e){h=e.valueAxisPosition;t=e.valueAxisScrollbar;}this._valueAxis=new b(r,{name:this._valueAxisIndex,hasScrollbar:t,valueAxes:this._valueAxes});this.setChild(this._valueAxisIndex,this._valueAxis,{position:h});if(t){this._hScrollbar=this._valueAxis.getChild(m.AXIS.SCROLLBAR_NAME).module;}}else{this.setLayoutSequence(['left','right','bottom','top']);this._categoryAxis=new c(r,{name:"categoryAxis",hasScrollbar:s});this.setChild("categoryAxis",this._categoryAxis,{position:"bottom"});h=this._valueAxisIndex==="valueAxis"?"left":"right";this._valueAxis=new b(r,{name:this._valueAxisIndex,valueAxes:this._valueAxes});this.setChild(this._valueAxisIndex,this._valueAxis,{position:h});if(this._properties.get("plotArea.callout.left")){this._leftCallouts=new C(r,{name:"plotArea.callout",position:"left"});this.setChild("leftCallouts",this._leftCallouts,{position:"left",priority:1,unique:true});}if(this._properties.get("plotArea.callout.top")){this._topCallouts=new C(r,{name:"plotArea.callout",position:"top"});this.setChild("topCallouts",this._topCallouts,{position:"top"});}if(s){this._hScrollbar=this._categoryAxis.getChild(m.AXIS.SCROLLBAR_NAME).module;}}if(s){this._vScrollbar=new S(r,{name:"plotArea.scrollbar"});this.setChild("scrollbar",this._vScrollbar,{position:"right"});}if(this._isPercentageChart()){this._valueAxis.setPercentageMode(true);}this.getZoomer().init({main:this,plot:this._plot,axisByDirection:{x:i?[this._valueAxis]:[this._categoryAxis],y:i?[this._categoryAxis]:[this._valueAxis]},isHorizontal:i});};q.prototype._getCategoryAxisClass=function(){return c;};q.prototype.layout=function(e){if(e&&e._paginationScrollbar){this._paginationScrollbarRef=e._paginationScrollbar;}else{this._paginationScrollbarRef=null;}return q.superclass.layout.apply(this,arguments);};q.prototype.destroy=function(){q.superclass.destroy.call(this);this._plot=null;this._hScrollbar=null;this._categoryAxis=null;this._valueAxis=null;this._vScrollbar=null;this._leftCallouts=null;this._topCallouts=null;};q.prototype._adjustScale=function(s){var e=this._properties.get("plotArea.adjustScale");if(l.isExist(e)){if(!s.isFixed()&&e&&this._isLineChart()){s.setZeroAdjusted(false);}}};q.prototype._calcValueAxisScale=function(e,r,h){var s=this._data[e].scale;this._adjustScale(s);return f.calcScale(s,r,{isLineChart:this._isLineChart(),isMekkoChart:this._isMekkoChart(),domain:h});};q.prototype._calcPercentageValueAxisScale=function(r){return f.calcPercentageScale(r);};q.prototype.setData=function(e){q.superclass.setData.apply(this,arguments);var u=this.updateValueScale();if(u){this._setAxisData(u);this._setPlotData(u);}if(this._leftCallouts){this._leftCallouts.setData(e);}if(this._topCallouts){this._topCallouts.setData(e);}};q.prototype._postRender=function(){q.superclass._postRender.apply(this,arguments);var e=this._plot,h=e.getSize();var i=e.getRealSize();var r=this._plot._selection.node();if(this._leftCallouts){this._leftCallouts.postRender(r,h,i);}if(this._topCallouts){this._topCallouts.postRender(r,h,i);}};q.prototype.zoom=function(){q.superclass.zoom.apply(this,arguments);var e=this._plot.getRealSize();if(this._leftCallouts){this._leftCallouts.setPlotRealSize(e);this._leftCallouts.afterPlotZoom();}if(this._topCallouts){this._topCallouts.setPlotRealSize(e);this._topCallouts.afterPlotZoom();}};q.prototype._scroll=function(e){q.superclass._scroll.apply(this,arguments);if(this._leftCallouts){this._leftCallouts.afterPlotScroll(e);}if(this._topCallouts){this._topCallouts.afterPlotScroll(e);}};q.prototype._setPlotData=function(e){this._plot.setData(e);};q.prototype._setAxisData=function(e){this._categoryAxis.setData(e.categoryAxis,D.hasNegativeValue(e));};q.prototype._isAdjustValueScaleForTopLabel=function(){var e=this._properties.get("plotArea.dataLabel.position")||this._properties.getDefault("plotArea.dataLabel.position");return this._isStackedChart()||((this._isColumnChart()||this._isBarChart())&&e==="outside")||this._isCombinationChart();};q.prototype._calcValueScaleWithTopLabel=function(r){var h=this._properties.get('plotArea.dataLabel');var i=h.style;var v=this._valueAxisIndex;var s=(v==="valueAxis")?this._properties.get('plotArea.primaryScale.fixedRange'):this._properties.get('plotArea.secondaryScale.fixedRange');var t=this._data[v];var u=t.scale;var w=u.getDomain().slice();var x=this._plot.isHorizontal();var y=this._calcValueAxisScale(v,r);var z=this._data.series;var A=a.extendDomainForDataLabel;var E=4;var F=x?20:E;if((!(s||u.getDomainFixed()[1]))&&(h.visible||h.showTotal)&&w){var G=[null,null];var H,I,J;var K=h.formatString;if(this._data&&this._data[v]&&this._data[v].metaData){I=this._data[v].metaData[0].id;J=this._data[v].metaData[0].formatString;}K=K||J;var L={key:I};if(this._isStackedChart()&&h.showTotal){if(x){H=n.getFirstFormatPattern(K,L);}var M;var O={decimalFormatString:k.getDecimalFormatString(k.SUPPORT_CUSTOM_COMPONENTS.DATALABEL)};if(w[1]>0){M=k.format(N.preciseSimple(w[1]),H,h.unitFormatType,O);G[1]=T.fastMeasure(M,h.style.fontSize,h.style.fontWeight,h.style.fontFamily,h.style.fontStyle);}if(w[0]<0){M=k.format(N.preciseSimple(w[0]),H,h.unitFormatType,O);G[0]=T.fastMeasure(M,h.style.fontSize,h.style.fontWeight,h.style.fontFamily,h.style.fontStyle);}y=this._calcValueAxisScale(v,r,A(w,r,G,x));}else if(!this._isStackedChart()&&h.visible&&w&&(w[1]>0||w[0]<0)){if(this._isBarChart()){if(w[1]>0){G[1]=B.getLabelSize(this._data.series,w[1],this._properties,K);}if(w[0]<0){G[0]=B.getLabelSize(this._data.series,w[0],this._properties,K);}}else{var Q=T.fastMeasure('M',h.style.fontSize,h.style.fontWeight,h.style.fontFamily,h.style.fontStyle);if(w[1]>0){G[1]=Q;}if(w[0]<0){G[0]=Q;}}G.forEach(function(e){if(e){e.height+=E;e.width+=F;}});var R=A(w,r,G,x);y=this._calcValueAxisScale(v,r,R);}}y.scale.setRange([0,1]);y.metaData=t.metaData;return y;};q.prototype.updateValueScale=function(){var e=this._data;var w=this._roughSize.width;var h=this._roughSize.height;if(!e||w<=0||h<=0){return e;}var r=[0,1];if(this._plot.isHorizontal()){r[1]=w;}else{r[1]=h;}r[1]*=0.8;var v;var i=e;if(this._isPercentageChart()){v=this._calcPercentageValueAxisScale(r);v.metaData=e.valueAxis.metaData;e.valueAxis.tickHint=v.tickHint;this._valueAxis.setData(v);}else if(this._isAdjustValueScaleForTopLabel()){v=this._calcValueScaleWithTopLabel(r);this._valueAxis.setData(v);var s={};s[this._valueAxisIndex]=v;i=this._cloneData(s);}else{v=this._calcValueAxisScale("valueAxis",r);e.valueAxis.scale=v.scale;e.valueAxis.tickHint=v.tickHint;e.valueAxis.scale.setRange([0,1]);this._valueAxis.setData(e.valueAxis);}return i;};q.prototype._getPlotClazz=function(r){return d.getPlotClazz(r);};q.prototype._preRender=function(){var e={x:0,y:0};var r=this._plot.getPreferredSize();if(this._hasScrollbar()){e=this._plot.getOffset();this._categoryAxis.setRealSize(r);}q.superclass._preRender.apply(this,arguments);if(e.x||e.y){this.scroll(e);}};q.prototype._configLayout=function(){var z=this.getZoomer();var i=false,e=false;if(z){var h=z.direction();if(h==="xy"){i=true;e=true;}else if(h==="x"){e=true;}else if(h==="y"){i=true;}}if(this._hasScrollbar()){if(this._plot.isHorizontal()){i=true;}else{e=true;}this.runtime().statusManager().add('plotRealSize',{value:this._plot.getPreferredSize()});}if(this._vScrollbar){this._vScrollbar.isExist(i);}if(this._hScrollbar){this._hScrollbar.isExist(e);}return q.superclass._configLayout.apply(this,arguments);};q.prototype._cloneData=function(r){var e={};var h=this._data;for(var i in h){if(h.hasOwnProperty(i)){e[i]=h[i];}}for(var s in r){if(r.hasOwnProperty(s)){e[s]=r[s];}}return e;};q.prototype._getZoomer=function(){return new g(this);};return q;});define('sap/viz/chart/components/legend/LineLegend',['sap/viz/framework/common/util/oo','sap/viz/chart/components/legend/ColorLegend','sap/viz/framework/common/util/ObjectUtils','sap/viz/framework/common/util/TypeUtils','sap/viz/framework/scale/ColorScale','sap/viz/chart/components/util/DrawUtil','sap/viz/framework/common/util/NameColorUtils','sap/viz/framework/common/util/Constants','sap/viz/framework/scale/ColorShapeScaleMerger','sap/viz/chart/components/util/ColorUtil',],function(o,C,O,T,a,D,N,b,c,e){var f='#aaaaaa';var g="#000000";var H=b.LEGEND.HORIZONTAL_OFFSET;var L=b.LINE_TYPE;var h=function(){h.superclass.constructor.apply(this,arguments);};o.extend(h,C);h.prototype._createShapeItems=function(k,l,m){var s=this.runtime().semanticManager();var n=this.runtime().effectManager();var p=this.runtime().propertyManager();var _=this._isCombination();if(this._isShowWideMarker()){var q=l.markerSize;var r=p.has("plotArea.marker.size")?p.get("plotArea.marker.size"):p.get("plotArea.line.marker.size");if(q<r){r=q;}var t=this._getBGColor();var u=this;k.selectAll('line').remove();k.selectAll('path').remove();var v=k.selectAll('g').data(['shapeWithLine']);v.enter().append('g');v.exit().remove();v.attr('transform','translate('+l.shapeX+','+l.shapeY+')');v.each(function(d,i,j){var w=O.clone(m[j].shapeOptions);if(w.lineColor||w.lineType){var x=d3.select(this).selectAll('line').data(['shapeWithLine']);x.enter().append('line');x.exit().remove();x.attr('x1',-q).attr('y1','0').attr('x2',q).attr('y2','0').attr('stroke',w.lineColor).attr('stroke-width',w.lineWidth);if(w.lineType===L.DASHED||w.lineType===L.DOTTED){x.attr('stroke-dasharray',2*q/7+","+q/7);}else if(w.lineType===b.LINE_TYPE.DOT){var y=Math.round(2*q/w.lineWidth);y=y|1;if(y<3){y=3;}var z=2*q/y;x.attr('x1',-q+z/2);x.attr('x2',q+z/2);x.attr('stroke-dasharray',"0,"+z*2);x.attr('stroke-linecap',"round");x.attr("stroke-width",z);}}w.bgColor=t;var A;if(u._isShowMarkerStroke()){A=p.get("plotArea.dataPoint.stroke.color");}if(w.dpPattern==='noFill'){w.borderWidth=1;w.borderColor=A;}if(w.fillColor){var B=d3.select(this).selectAll('path').data(['shapeWithLine']);B.enter().append('path');B.exit().remove();w.node=B.node();if((w.seriesShape==='line'||w.seriesShape==='combination')&&(w.lineColor||w.lineType)){w.rx=w.ry=r/2;if(w.dpPattern==='noFill'){w.rx+=1;w.ry+=1;}else{w.borderWidth=2;}if(u._isShowMarkerStroke()){w.borderColor=A;}}D.drawGraph(w,n);if(u._isShowMarkerStroke()){B.attr('stroke-width',"1");}}if(l.isRTL){this.setAttribute('transform','translate('+(m[j].eventLayerWidth-H-q)+','+l.shapeY+')');}});v.attr("class","v-legend-marker");}else{h.superclass._createShapeItems.apply(this,arguments);}};h.prototype._getGroupItemInfo=function(j){var k=h.superclass._getGroupItemInfo.apply(this,arguments);var s=this.runtime().semanticManager();var p=this.runtime().propertyManager();var l=this.runtime().effectManager();var t=this;var m=p.has('plotArea.line.width')?p.get('plotArea.line.width'):p.get('plotArea.width');k.map(function(n,i){var d=j[i];if(d.isSemantic){if(s.hasDataPointLineStyle()){if(d.lineColor){n.shapeOptions.lineColor=d.lineColor;}if(d.lineType){n.shapeOptions.lineType=d.lineType;if(!d.lineColor){n.shapeOptions.lineColor=f;}}n.shapeOptions.lineWidth=m;}if(d.seriesShape){n.shapeOptions.seriesShape=d.seriesShape;}}else if(t._isShowLine()){if(d.seriesShape==='line'||d.seriesShape==='combination'){var q=t._getSereisStyle(d.ctx,t._data,s,"line");if(!T.isEmptyObject(q)){n.shapeOptions.lineColor=(q.line&&q.line.color)||d.color;n.shapeOptions.lineWidth=(q.line&&q.line.width)||m;n.shapeOptions.lineType=(q.line&&q.line.type)||"line";}else{n.shapeOptions.lineColor=(d.color&&(d.color!=='null'&&d.color!=='undefined'))?d.color:g;n.shapeOptions.lineWidth=m;}n.shapeOptions.lineColor=N.convertColor(n.shapeOptions.lineColor);}if(!n.shapeOptions.fillColor){n.shapeOptions.fillColor=g;}if(d.seriesShape){n.shapeOptions.seriesShape=d.seriesShape;}}return n;});return k;};h.prototype._isShowMarkerStroke=function(){return this.runtime().propertyManager().get("plotArea.dataPoint.stroke.visible");};h.prototype._isShowLine=function(){var p=this.runtime().propertyManager();return this._properties.get("marker.showLine")&&(p.has("plotArea.lineVisible")?p.get("plotArea.lineVisible"):p.get("plotArea.line.visible"))&&((p.has('plotArea.line.width')?p.get('plotArea.line.width'):p.get('plotArea.width'))>0);};h.prototype._isCombination=function(){var m=this.runtime().markManager();return m.getMode()==='combination';};h.prototype._getMarkerWidth=function(){var m=h.superclass._getMarkerWidth.apply(this,arguments);if(this._isShowWideMarker()){m=m*2;}return m;};h.prototype._isShowWideMarker=function(){var s=this.runtime().semanticManager();return s.hasDataPointColorStyle()||s.hasDataPointLineStyle()||this._isShowLine();};h.prototype._calcMetaInfo=function(d){h.superclass._calcMetaInfo.apply(this,arguments);if(this._isShowWideMarker()){var m=d.markerSize;var i=2*m;var j=this._markerMargin;var t=parseInt(this._labelFont.fontSize,10);var p=(this.isHorizontal()?j.left+j.right:j.right)*t;var H=b.LEGEND.HORIZONTAL_OFFSET;d.shapeX=i/2+H;d.textX=d.textX+m;d.postRenderX=i/2+H;d.miscWidth=d.miscWidth+m;d.eachItemWidth=d.eachItemWidth+m;this._markerSize=m*2;}};h.prototype._calcDomain=function(d,j){var s=this.runtime().semanticManager();var p=this.runtime().propertyManager().get("plotArea.line.marker.shape");var l=this._properties.get("marker.shape");var _=this._isCombination();return d.map(function(k,i){k.id=i;var t=this._toValueString(k.data,j);var m=k.color;if(T.isString(m)&&m&&m.indexOf("url")===-1){m=N.convertColor(m);}var r={id:i,val:k.data,text:t,ctx:k.context,shape:k.shape,pattern:k.pattern,isSemantic:k.isSemanticItem};if(k.isSemanticItem){if(s.hasDataPointLineStyle()){if(T.isString(k.lineColor)&&k.lineColor&&k.lineColor.indexOf("url")===-1){r.lineColor=N.convertColor(k.lineColor);}if(k.lineType){r.lineType=k.lineType;}if(_){if(k.lineColor||k.lineType){r.shape=p;}else{r.shape=l;}}}if(s.hasDataPointColorStyle()){if(k.color){r.color=m;}}}else{r.color=m;}if(k.seriesShape){r.seriesShape=k.seriesShape;}return r;},this);};return h;});define('sap/viz/chart/components/legend/CombinationLegend',['sap/viz/framework/common/util/oo','sap/viz/chart/components/legend/LineLegend','sap/viz/framework/common/util/ObjectUtils','sap/viz/framework/common/util/TypeUtils','sap/viz/framework/scale/ColorScale','sap/viz/framework/scale/ColorShapeScaleMerger'],function(o,L,O,T,C,a){var b=function(){b.superclass.constructor.apply(this,arguments);};o.extend(b,L);function h(d){if(T.isArray(d)){return d.map(function(e){return h(e);}).join("-");}else{return""+d;}}b.prototype._buildColorShapeScale=function(d){var e=this._properties.get("groupByShape"),i={};var j=b.superclass._buildColorShapeScale.apply(this,arguments);if(e&&!this._properties.get("order")){d.forEach(function(p){if(!p.rowArray){return;}p.rowArray.forEach(function(r){i[h(r)]=r.mndIndex;});});var k=j.items();var l=[],s=[];k.forEach(function(p){if(p.isSemanticItem){s.push(p);}else{l.push(p);}});var n=f(g(l,i));k.splice(0,k.length);k.push.apply(k,s);k.push.apply(k,n);}return j;};function f(d){return Object.keys(d).reduce(function(e,k){var i=d[k];return e.concat(T.isArray(i)?i:f(i));},[]);}function m(l,i){return l[h(i.data)];}function g(d,e){var j=c(d,function(i){return i.seriesShape;});Object.keys(j).forEach(function(k){j[k]=c(j[k],m.bind(this,e));});return j;}function c(i,k){return i.reduce(function(d,e){var j=k(e);if(!d.hasOwnProperty(j)){d[j]=[];}d[j].push(e);return d;},{});}return b;});define('sap/viz/chart/views/XYChartView',['sap/viz/framework/common/util/oo','sap/viz/chart/views/ChartView','sap/viz/chart/components/plotareas/XYPlotArea','sap/viz/chart/components/legend/CombinationLegend',"sap/viz/chart/components/util/TextUtils",'sap/viz/framework/common/util/TypeUtils','sap/viz/chart/components/legend/LineLegend','sap/viz/framework/binding/bindingValidationUtil','sap/viz/framework/chartmodel/ContextBuilder'],function Setup(o,C,P,a,T,b,L,c,d){var X=function(r,e){X.superclass.constructor.apply(this,arguments);this._supportLazyRender=true;this.setValueAxisIndex(e.bindings);if(e.chartType.indexOf("trellis")<0){r.statusManager().add("plotArea.series",{get:this._getSeriesSettings.bind(this)});}};o.extend(X,C);X.prototype._getSeriesSettings=function(){if(!this._data){return null;}else{var e=this._data;return e.series.map(function(s){var f={dataContext:d.buildBasic(e,s.seriesMeta,null,null,{})};if(this.isLine()){f.type="line";}else if(this.isBar()){f.type="bar";}else if(this._renderType.match(/area/)){f.type="area";}if(this._renderType.match(/area|stacked/)){f.stack="stacked";}return f;}.bind(this));}};X.prototype.setSize=function(){if(this._plotArea&&this._plotArea.setRoughSize){this._plotArea.setRoughSize.apply(this._plotArea,arguments);}X.superclass.setSize.apply(this,arguments);};X.prototype._getDataItems=function(){var e=["valueAxis","categoryAxis","color","dataFrame","series","trellisRow","trellisColumn"];if(this._valueAxisIndex==="valueAxis2"){e[0]="valueAxis2";e[2]="color2";}return e;};X.prototype._createPlotContainer=function(i){this._plotArea=new P(this.runtime(),{renderType:this._renderType,valueAxisIndex:this._valueAxisIndex});this._plotArea.setRoughSize(this._size);this.setChild("main",this._plotArea,{priority:3});};X.prototype.isCombination=function(){return this._renderType.indexOf("combination")!==-1;};X.prototype.isLine=function(){return this._renderType.indexOf("line")!==-1;};X.prototype._getLegendDefinition=function(){if(this.isCombination()){return[a];}else if(this.isLine()){return[L];}else{return X.superclass._getLegendDefinition.apply(this,arguments);}};X.prototype.isBar=function(){return this._renderType.search(/bar|column/)!==-1;};X.prototype._getLegendInitOptions=function(){var n=this._renderType.search(/area/)===-1;if(this.isBar()){return[{defaultMarkerShape:"squareWithRadius",noFillSupport:n}];}else{return[{noFillSupport:n}];}};X.prototype.calculatePaddingInPX=function(p){var e=X.superclass.calculatePaddingInPX.apply(this,arguments);var i=false;var f=this._plotArea;if(f){var h=f._isHorizontal;if(b.isFunction(h)){i=f._isHorizontal();}else if(h===true){i=true;}}if((p.get("title.visible")===false)&&!i&&(p.get("valueAxis.visible")===true)){this.changePaddingTop(p,e);}return e;};X.prototype.setData=function(e,f){this.setValueAxisIndex(f);X.superclass.setData.apply(this,arguments);};X.prototype.setValueAxisIndex=function(e){this._valueAxisIndex=c.getValueAxisBindings(e)[0];var f=(this._valueAxisIndex==="valueAxis")?"valueAxis2":"valueAxis";this.runtime().zoneManager().remove("tempFeedingZone."+f);this.runtime().zoneManager().remove("tempPropertyZone."+f);};return X;});define('sap/viz/chart/metadata/bindings/XYBindings',[],function Setup(){var f=[{"id":"dataFrame","name":"IDS_DATA_FRAME","type":"Dimension","min":0,"max":1,"acceptMND":false,"role":"frame.data"},{"id":"trellisColumn","name":"IDS_TRELLIS_COLUMN","type":"Dimension","min":0,"max":Number.POSITIVE_INFINITY,"acceptMND":true,"role":"trellis.columnCategory",},{"id":"trellisRow","name":"IDS_TRELLIS_ROW","type":"Dimension","min":0,"max":Number.POSITIVE_INFINITY,"acceptMND":true,"role":"trellis.rowCategory"},{"id":"categoryAxis","name":"IDS_CATEGORY_AXIS","type":"Dimension","min":1,"max":Number.POSITIVE_INFINITY,"acceptMND":true,"role":"layout.category"},{"id":"color","name":"IDS_COLOR","type":"Dimension","min":0,"max":Number.POSITIVE_INFINITY,"acceptMND":true,"role":"mark.color"},{"id":"valueAxis","name":"IDS_VALUE_AXIS","type":"Measure","min":1,"max":Number.POSITIVE_INFINITY,"role":"layout.value"}];return f;});define('sap/viz/chart/metadata/bindings/CombinationBindings',[],function Setup(){var f=[{"id":"dataFrame","name":"IDS_DATA_FRAME","type":"Dimension","min":0,"max":1,"acceptMND":false,"role":"frame.data"},{"id":"trellisColumn","name":"IDS_TRELLIS_COLUMN","type":"Dimension","min":0,"max":Number.POSITIVE_INFINITY,"acceptMND":false,"role":"trellis.columnCategory"},{"id":"trellisRow","name":"IDS_TRELLIS_ROW","type":"Dimension","min":0,"max":Number.POSITIVE_INFINITY,"acceptMND":false,"role":"trellis.rowCategory"},{"id":"categoryAxis","name":"IDS_CATEGORY_AXIS","type":"Dimension","min":1,"max":Number.POSITIVE_INFINITY,"acceptMND":false,"role":"layout.category"},{"id":"color","name":"IDS_COLOR","type":"Dimension","min":0,"max":Number.POSITIVE_INFINITY,"acceptMND":true,"role":"mark.color"},{"id":"valueAxis","name":"IDS_VALUE_AXIS","type":"Measure","min":2,"max":Number.POSITIVE_INFINITY,"role":"layout.value"}];return f;});define('sap/viz/chart/components/legend/SizeLegend',['sap/viz/framework/common/util/oo','sap/viz/chart/components/legend/BaseLegend','sap/viz/chart/components/util/TextUtils','sap/viz/chart/components/util/DrawUtil','sap/viz/framework/common/util/TypeUtils','sap/viz/framework/common/format/UnitFormat',"sap/viz/framework/common/util/Constants",'sap/viz/framework/common/util/NameColorUtils','sap/viz/framework/common/lang/LangManager'],function(o,B,T,D,a,U,C,N,l){function S(r,b){S.superclass.constructor.apply(this,arguments);var p=this._properties.get('label.style');this._labelFont={'fontfamily':p.fontFamily,'fontsize':p.fontSize,'fontweight':p.fontWeight,'color':p.color,'fontstyle':p.fontStyle};this._layoutInfo={guideLineWidth:10,labelPaddingLeft:15};this._labels=[];this._scale=null;this._semanticStyle=null;this._labelHeight=0;this._parent=null;this._type="SizeLegend";}o.extend(S,B);S.prototype._addDefaultProperties=function(){S.superclass._addDefaultProperties.call(this);this._properties.add({'drawingEffect':'normal','formatString':null,'unitFormatType':null,plotArea:{colorPalette:null}});};S.prototype.visible=function(){var v=true;if(this.getPosition()==="bottom"&&this._properties.origin.get("legendGroup.layout.position")==="auto"){v=false;}else{v=S.superclass.visible.call(this);}return v;};S.prototype.render=function(s,n){this._parent=s;if(this._scale&&this._labels.length>0){S.superclass.render.apply(this,arguments);}if(!this.isVisible()&&!this._isDedicated){s.selectAll('g.v-content').remove();return this;}var p=this._properties.get();var b=p.drawingEffect;if(this._scale&&this._labels.length>0){var c=s.selectAll('g.v-content').data(['content']);c.enter().append('g').classed('v-content',true).classed('v-label',true).classed('viz-legend-valueLabel',true);c.exit().remove();c.attr('transform','translate(0, '+this._pos.y+')');var t=parseInt(this._labelFont.fontsize,10);var v=[],e="font-size:"+this._labelFont.fontsize+"; font-weight:"+this._labelFont.fontweight+"; font-family:"+this._labelFont.fontfamily+"; font-style:"+this._labelFont.fontstyle;if(this._labelHeight===0){this._labelHeight=T.fastMeasure('M',this._labelFont.fontsize,this._labelFont.fontweight,this._labelFont.fontfamily).height;}var f=Math.floor((this._scale(this._labels[0])+t)/this._labelHeight);switch(f){case 0:case 1:v.push(this._labels[0]);break;case 2:v.push(this._labels[0]);if(this._labels.length>1){v.push(this._labels[this._labels.length-1]);}break;default:v=this._labels;}var g=[],m=-1,h,j;for(var i=0,k=v.length;i<k;i++){g.push(this._scale(v[i])/2);j=this._getLabelValue(v[i]);h=T.fastMeasure(j,this._labelFont.fontsize,this._labelFont.fontweight,this._labelFont.fontfamily).width;if(h>m){m=h;}}var q=g[0];var w=c;var r=w.selectAll('g.v-circles');if(!r.empty()){r.remove();}r=w.append('g').attr('class','v-circles').data([g]);r.attr('transform','translate('+q+','+(q+t/2)+')');var u;var x=this._properties.origin.get("plotArea.colorPalette");if(x&&x.length&&x.length>0){u=N.convertColor(x[0]);}else{u='#748CB2';}var y=true;if(!y&&this._semanticStyle&&!a.isEmptyObject(this._semanticStyle)){if(this._semanticStyle.others&&this._semanticStyle.others.properties&&this._semanticStyle.others.properties.color){u=this._semanticStyle.others.properties.color;}}var z={drawingEffect:b,graphType:'circle',fillColor:u};var A=this.runtime().effectManager().register(z);var E=r.selectAll('path').data(g,function(d,i){return d;});E.exit().remove();E.enter().append('path').attr('stroke','white').attr('stroke-width',1).attr('fill',A).attr('opacity','1').attr('fill-opacity','0.85');E.attr('d',function(d,i){return D.createMarkerData({type:'circle',borderWidth:0,rx:d,ry:d});}).attr('transform',function(d,i){return['translate(',0,',',q-d,')'].join('');});var F=w.selectAll('g.v-valueLabels');if(F.empty()){F=w.append('g').attr('class','v-valueLabels').data([v]);}var G=(q*2+this._layoutInfo.labelPaddingLeft+this._layoutInfo.guideLineWidth+m)>this._sizeLA_width?this._sizeLA_width:(q*2+this._layoutInfo.labelPaddingLeft+this._layoutInfo.guideLineWidth+m);F.attr('transform','translate('+G+', '+(q+t)+')');var H=F.selectAll('text').data(v,function(d,i){return d;});H.exit().remove();var I=H.enter().append('text');var J=null;var K=this.runtime().envManager();if(K){J=K.textAnchor();}var L=this;H.text(function(d,i){return L._getLabelValue(d);}).attr('dx',function(d){var O=T.fastMeasure(L._getLabelValue(d),L._labelFont.fontsize,L._labelFont.fontweight,L._labelFont.fontfamily).width;return-O;}).attr('dy',function(d,i){var O=(i-1)*q-2;if(v.length===2&&i===1){O=q-2;}return O;}).attr("text-anchor",J);var M=w.selectAll('g.v-guideLines');if(!M.empty()){M.remove();}M=w.append('g').attr('class','v-guideLines').attr('transform','translate('+q+','+(q+t/2)+')');if(v.length>0){M.append('path').attr('stroke','gray').attr('d','M 0 '+-q+' L '+(q+this._layoutInfo.guideLineWidth)+" "+-q);}if(v.length>1){M.append('path').attr('stroke','gray').attr('d','M 0 '+q+'L'+(q+this._layoutInfo.guideLineWidth)+" "+q);}if(v.length>2){M.append('path').attr('stroke','gray').attr('d','M 0 '+(q-g[1])+' L '+q+" 0"+' M '+q+" 0 "+" L "+(q+this._layoutInfo.guideLineWidth)+" 0");}w.attr('font-family',this._labelFont.fontfamily).attr('font-size',this._labelFont.fontsize).attr('font-weight',this._labelFont.fontweight).attr('fill',this._labelFont.color).attr('font-style',this._labelFont.fontstyle);}return this;};S.prototype.getPreferredSize=function(b,w){if(!this._scale||this._labels.length===0){return{width:0,height:0,minWidth:0,minHeight:0,maxWidth:0,maxHeight:0};}return S.superclass.getPreferredSize.apply(this,arguments);};S.prototype._getBodyPreferredSize=function(){this._getThemeStyleDef();var m=0,b=0,c=0,d=0;var p=this._properties.get();var e=p.position;if(this._scale&&this._labels.length>0){var f=this._labels,v,g=[],h=-1,j,i,k;for(i=0,k=f.length;i<k;i++){v=this._getLabelValue(f[i]);g[i]=T.fastMeasure(v,this._labelFont.fontsize,this._labelFont.fontweight,this._labelFont.fontfamily);if((g[i]===undefined)||(g[i].width>h)){h=g[i].width;}}var s=h+this._layoutInfo.labelPaddingLeft+this._layoutInfo.guideLineWidth;j=this._scale(f[0]);b=j+g[k-1].height;m=j+s;c=m;d=b;if(e==='top'||e==='bottom'){m=m+g[k-1].height;c=c+g[k-1].height;}else{b=b+g[k-1].height;d=b;}}return{maxWidth:m,maxHeight:b,minWidth:c,minHeight:d};};S.prototype.setData=function(i){if(!i){return;}if(i.bubbleWidth){this._bindingFields=i.bubbleWidth.metaData;}this._labels=i.labels;this._scale=i.scale;this._semanticStyle=i.semanticStyle;};S.prototype._getThemeStyleDef=function(){S.superclass._getThemeStyleDef.apply(this,arguments);var p=this._properties.get();var v;v={"fill":p.label.style.color,"font-family":p.label.style.fontFamily,"font-size":p.label.style.fontSize,"font-weight":p.label.style.fontWeight,"font-style":p.label.style.fontStyle};if(v){if(v['fill']){this._labelFont.color=v['fill'];}if(v['font-family']){this._labelFont.fontfamily=v['font-family'];}if(v['font-size']){this._labelFont.fontsize=v['font-size'];}if(v['font-weight']){this._labelFont.fontweight=v['font-weight'];}if(v['font-style']){this._labelFont.fontstyle=v['font-style'];}}};S.prototype._getLabelValue=function(v){v=(v===null)?l.get('IDS_ISNOVALUE'):v;var p=this._properties.get();var m=null;if(this._bindingFields&&this._bindingFields.length){m=this._bindingFields[0].formatString;if(a.isArray(m)){m=m[0];}}var u=p.unitFormatType;var b={decimalFormatString:U.getDecimalFormatString(U.SUPPORT_CUSTOM_COMPONENTS.SIZELEGEND)};v=U.format(v,p.formatString||m,u,b);return v;};S.prototype.destroy=function(){S.superclass.destroy.call(this);this._labelFont=null;this._layoutInfo=null;this._labels=null;this._scale=null;this._semanticStyle=null;this._labelHeight=null;this._parent=null;this._type=null;};return S;});define('sap/viz/chart/components/axis/renderer/TimeBodyRenderer',["sap/viz/framework/common/util/Constants","sap/viz/chart/components/util/TextUtils","sap/viz/framework/common/util/TypeUtils","sap/viz/framework/common/util/SVG","sap/viz/framework/common/util/DOM","sap/viz/chart/components/util/StyleUtils","sap/viz/framework/common/util/PositionUtil","sap/viz/framework/common/util/NumberUtils","sap/viz/framework/common/util/TimeUtil","sap/viz/chart/components/util/DataPointUtils"],function(C,T,c,S,D,e,P,N,f,g){var L=11;var A=C.CSS.CLASS.AXIS;var h='v-label-interaction';var j=5;var k=10;var H=2;var r={minTicksCount:1};r.drawTicks=function(s,t,w,a,p,b,m,n,o){var q=A.PERIMETER+" "+A.TICK;var u=n.register({fillColor:m||b.get('color')});var v=b.get('axisLine.size');var i=0;var x=t.length;var y=[];var z=[];var B=[];var E=[];var F;var G;var I=t.offset||0;switch(p){case C.POSITION.LEFT:for(;i<x;++i){F=t[i];G=F.major?k:j;y[i]=w;z[i]=F.position-I;B[i]=w-j;E[i]=F.position-I;}break;case C.POSITION.RIGHT:for(;i<x;++i){F=t[i];G=F.major?k:j;y[i]=0;z[i]=F.position-I;B[i]=G;E[i]=F.position-I;}break;case C.POSITION.TOP:for(;i<x;++i){F=t[i];G=F.major?k:j;y[i]=F.position-I;z[i]=a;B[i]=F.position-I;E[i]=a-G;}break;case C.POSITION.BOTTOM:for(;i<x;++i){F=t[i];G=F.major?k:j;y[i]=F.position-I;z[i]=0;B[i]=F.position-I;E[i]=G;}break;}var J=s.selectAll("."+A.TICK).data(t);J.enter().append("line").attr("class",q).attr("stroke-width",v).attr("shape-rendering","crispEdges");J.exit().remove();J.each(function(d,i){this.setAttribute("x1",y[i]);this.setAttribute("y1",z[i]);this.setAttribute("x2",B[i]);this.setAttribute("y2",E[i]);this.setAttribute("stroke",u);});};r.drawLabels=function(t,m,w,n,p,o,q,s,u,v){var y=t._labelGroupNode;var z=t._data;var B=A.LABEL+" "+A.MORPHABLE_LABEL+" "+A.LABEL_BACKWORD;var E=o.get('label.style');var F=T.getTextBaselineOffset(E);var G=q.register({fillColor:E.color});var I=q.register({fillColor:E.parentColor});var J=E.fontSize;var K=E.fontWeight;var M=E.fontFamily;var O=E.fontStyle;var Q=null;var R=t.runtime().envManager();if(R){Q=R.textAnchor();}y.selectAll('.'+h).remove();y.selectAll('.v-label-upperLevel').remove();var U=y.selectAll("."+A.LABEL).data(m);U.enter().append("g").each(function(){this.setAttribute("class",B);this.setAttribute("fill",G);this.setAttribute("font-size",J);this.setAttribute("font-weight",K);this.setAttribute("font-family",M);this.setAttribute("font-style",O);this.setAttribute('pointer-events','none');this.setAttribute("text-anchor",Q);});U.exit().remove();var V=p===C.POSITION.TOP;var W=m.offset||0;U.each(function(d){var X=d.layers;var Y=X.length;var Z=d3.select(this);if(Y){var $=y.insert("g",'.'+A.LABEL).attr("class",h);var _=$.append('g').attr("class",A.LABEL_SELECTION_TIMEAXIS).node();var a1,b1=X[0];if(u===1&&b1.text){a1=S.create("rect");a1.setAttribute("class",A.BACKGROUND_RECT);a1.setAttribute("fill","transparent");_.appendChild(a1);}var c1=this.querySelector(".v-label-baseLevel");if(!c1){c1=S.create("text");c1.setAttribute("class","v-label-baseLevel");this.appendChild(c1);}_.setAttribute("timelabel-id",b1.id);g.setContext(_,b1);var d1=V?n-L-F:L+b1.height-F;l(c1,b1,I);c1.setAttribute("x",b1.left-W);c1.setAttribute("y",d1);c1.setAttribute("timelabel-id",b1.id);var x,e1;if(u===1&&b1.text){if(s==='CONTINUOUS'){x=b1.left-H-W;e1=b1.width+2*H;var f1=T.fastMeasure(b1.text,J,K,M);a1.setAttribute("x",x);a1.setAttribute("y",d1+f1.y-H);a1.setAttribute("width",e1);a1.setAttribute("height",b1.height+2*H);}else if(b1.hasOwnProperty('rectX')){x=b1.rectX-W;a1.setAttribute("x",x);a1.setAttribute("y",1);e1=b1.rectWidth;if(x>w){e1=0;}else if(x+e1>w){e1=w-x;}a1.setAttribute("width",e1);a1.setAttribute("height",d1+H);}}var g1=$.selectAll('.'+A.LABEL_SELECTION_TIMEAXIS_UPPERLEVEL).data(X.slice(1),function(d){return d.level;});g1.enter().insert("g",'.'+A.LABEL_SELECTION_TIMEAXIS).each(function(d){this.setAttribute("class",A.LABEL_SELECTION_TIMEAXIS_UPPERLEVEL);}).sort(function(a,b){if(a.level&&b.level){return f.levelComparator(b.level,a.level);}return false;});g1.exit().remove();var h1=this;g1.each(function(d,i){this.setAttribute("timelabel-id",d.id);b1=X[i+1];d1=V?n-L-F:L+d.height-F;var a=d.height*(i+1)*(V?-1:1);var b=this.querySelector("."+A.BACKGROUND_RECT);if(b1.hasOwnProperty('rectX')){b=S.create("rect");b.setAttribute("class",A.BACKGROUND_RECT);b.setAttribute("fill","transparent");this.appendChild(b);x=b1.rectX-W;e1=b1.rectWidth?b1.rectWidth:b1.width+H;if(x<0){e1=Math.max(0,e1+x);x=-1;}if(x>w){e1=0;}else if(x+e1>w){e1=w-x;}b.setAttribute("x",x);b.setAttribute("y",(d1+d.height*i*(V?-1:1))+3);b.setAttribute("width",e1);b.setAttribute("height",d.height);}var i1=h1.querySelector(".v-label-upperLevel:nth-child("+(i+2)+")");if(!i1){i1=S.create("text");i1.setAttribute("class","v-label-upperLevel");h1.appendChild(i1);}l(i1,d,I);i1.setAttribute("timelabel-id",b1.id);i1.setAttribute("fill",I);i1.setAttribute("x",d.left-W);i1.setAttribute("y",d1+a);});}else{Z.selectAll(".v-label-baseLevel").remove();Z.selectAll(".v-label-upperLevel").remove();}});};function l(t,a,b){var d=a.text;var m=a.format;var n="{{";var o="}}";if(!d){t.textContent='';return;}D.empty(t);if(m.indexOf(n)<0||m.indexOf(o)<0){t.textContent=d;return;}var p=0;var q;var s;var u=0;var v=[];var w=[];var x=0;while(p<d.length){q=d.indexOf(n,p);s=d.indexOf(o,p);if(q<0&&s<0){v.push(d.slice(x));w.push(0);break;}if(q>=0&&(q<s||s<0)){if(u===0){v.push(d.slice(x,q));w.push(0);x=q+n.length;}p=q+n.length;++u;}else{if(u>0){--u;if(u===0){v.push(d.slice(x,s));w.push(1);x=s+o.length;}}p=s+o.length;}}v.forEach(function(y,i){var z=S.create('tspan');z.textContent=y;if(w[i]){z.setAttribute('fill',b);}t.appendChild(z);});}return r;});define('sap/viz/chart/components/axis/sub/TimeAxisCommon',["sap/viz/framework/common/util/TimeUtil","sap/viz/chart/components/util/TextUtils","sap/viz/framework/common/util/NumberUtils","sap/viz/framework/common/util/TypeUtils",'sap/viz/framework/common/format/FormatManager',"sap/viz/framework/common/util/ObjectUtils",],function(T,a,N,b,F,O){var K="KEEP_FIRST";var c="KEEP_LONGER";var f=Math.floor;var e=Math.ceil;var g=Math.max;var h=Math.min;var k=1;var P=1<<2;var l='formatString';var V='visible';var L='row';var S=4;var n=10;var o={'second':5,'minute':20,'hour':0.5,'day':2,'week':0.5,'month':0.5,'quarter':1,'halfyear':3,'year':1};var p=["day","second"];var B={day:"month",second:"minute"};var q=T.levelComparator;function r(d){return function(i,j,m,v,w,y,t1){if(j===m){return[j];}var x1=this.hasOwnProperty('align')?this.align:true;var y1=v&&S;return T[d](j,m,this.step,y1,x1,w,y,i,t1);};}function s(d){var i=new Date(d.start);var j=new Date(d.end);if(d.utc){return i.getUTCFullYear()===j.getUTCFullYear();}return i.getFullYear()===j.getFullYear();}function t(d){var i=new Date(d.start);var j=new Date(d.end);if(d.utc){return i.getUTCFullYear()===j.getUTCFullYear()&&i.getUTCMonth()===j.getUTCMonth();}return i.getFullYear()===j.getFullYear()&&i.getMonth()===j.getMonth();}function u(d){return function(i){return!d(i);};}var x=[{id:'seconds_1',name:'second',step:1},{id:'seconds_5',name:'second',base:['seconds_1'],step:5},{id:'seconds_15',name:'second',base:['seconds_1','seconds_5'],step:15},{id:'seconds_30',name:'second',base:['seconds_1','seconds_2','seconds_5','seconds_15'],step:30},{id:'minutes_1',name:'minute',step:1},{id:'minutes_5',name:'minute',base:['minutes_1'],step:5},{id:'minutes_15',name:'minute',base:['minutes_1','minutes_5'],step:15},{id:'minutes_30',name:'minute',base:['minutes_1','minutes_5','minutes_15'],step:30},{id:'hours_1',name:'hour',step:1},{id:'hours_6',name:'hour',base:['hours_1'],step:6},{id:'hours_12',name:'hour',base:['hours_1','hours_6'],step:12},{id:'days_1',name:'day',step:1},{id:'days_5',name:'day',base:['days_1'],step:5},{id:'weeks_1',name:'week',step:1},{id:'weeks_2',name:'week',base:['weeks_1'],step:2},{id:'days_15',name:'day',base:['days_1','days_5'],step:15,continuousOnly:true},{id:'months_1',condition:u(t),name:'month',step:1},{id:'weeks_10',name:'week',base:['weeks_1','weeks_2'],step:10,continuousOnly:true},{id:'months_3',name:'month',base:['months_1'],step:3},{id:'quarters_1',name:'quarter',step:1},{id:'quarters_2',condition:u(s),name:'quarter',base:['quarters_1'],step:2},{id:'halfyears_1',name:'halfyear',step:1},{id:'quarters_3',name:'quarter',condition:s,base:['quarters_1'],step:3},{id:'years_1',name:'year',step:1},{id:'years_5',name:'year',base:['years_1'],step:5}];var Y="YearMonthDay";var z="YearQuarter";var A="YearMonth";var C={};C[Y]=["day","year"];C[z]=["quarter","year"];C[A]=["month","year"];function D(d,v,i,j,m,w,y){w=w||m.scale(v);var t1=true;if(p.indexOf(d)===-1||!b.isExist(i)){if(I(w,m)){t1=false;}}else{y=y||m.scale(i);var x1=new Date(v);var y1=T.getTimeTable(x1);var z1=y1[d];var A1=B[d];var B1=E[A1].same(x1,i,j);if((d==="day"&&z1===1)||(z1===0)){t1=false;}else if(!B1){t1=false;}else if(!I(y,m)&&I(w,m)){t1=false;}}return t1;}var E={'second':{period:T.ONE_SECOND,format:function(v,d,i,j,m,w,y,t1){var x1=new Date(v);var ff;if(!t1&&D("second",v,d,i,m,w,y)){ff='ss\'\'';}else{ff='hh:mm:ss';}return{text:F.format(x1,ff,i),format:ff};},visible:true,values:r('seconds'),same:T.isSameSecond},'minute':{period:T.ONE_MINUTE,format:'hh:mm',visible:function(d){return d.indexOf('second')<0;},values:r('minutes'),same:T.isSameMinute},'hour':{period:T.ONE_HOUR,format:'hh:00',visible:function(d){return d.indexOf('minute')<0&&d.indexOf('second')<0;},values:r('hours'),same:T.isSameHour},'day':{period:T.ONE_DAY,format:function(v,d,i,j,m,w,y,t1){var x1=new Date(v);var ff;if(!t1&&D("day",v,d,i,m,w,y)){ff='d';}else{ff='MMM d';}return{text:F.format(x1,ff,i),format:ff};},visible:true,values:r('days'),same:T.isSameDay},'week':{period:T.ONE_WEEK,format:function(v,i,j){var d=new Date(v);var m=F.format(d,"Week",j);if(m===F.DEFAULT_FORMATTED_VALUE){var w=T.getWeek(d,j);if(T.getMonth(d,j)===0&&w>=52){return"W1";}else{return"W"+w;}}return m;},visible:true,values:r('weeks'),same:T.isSameWeek},'month':{period:T.ONE_MONTH,format:'MMM',visible:function(d){return d.indexOf('day')<0;},values:r('months'),same:T.isSameMonth},'quarter':{period:T.ONE_QUARTER,format:function(v,i,j){var d=new Date(v);var w=F.format(d,"Quarter",j);if(w===F.DEFAULT_FORMATTED_VALUE){var m=j?d.getUTCMonth():d.getMonth();return'Q'+(f(m/3)+1);}return w;},visible:true,values:r('quarters'),same:T.isSameQuarter},'halfyear':{period:T.HALF_YEAR,format:function(v,i,j){var d=new Date(v);var m=j?d.getUTCMonth():d.getMonth();return m<6?"H1":"H2";},visible:true,values:r('halfyears'),same:T.isSameHalfYear},'year':{period:T.ONE_YEAR,format:function(v,i,j,t1){var d=new Date(v);var y=j?d.getUTCFullYear():d.getFullYear();var x1=t1;var y1=x1.length;if((y1===2&&x1[0]==='week')||(y1===3&&x1[0]==='day'&&x1[1]==='week')){var m=j?d.getUTCMonth():d.getMonth();if(m===11){var w=T.getWeek(v,j);if(w===1){y++;}}}return y;},visible:true,values:r('years'),same:T.isSameYear}};var G={'hourminutesecond':{},'hourminute':{},'monthday':{},'yearmonthday':{},'yearquarter':{},'yearmonth':{}};x.forEach(function(i){i.density=H(i.name,i.step);i.values=i.values||E[i.name].values;});function H(d,i){var j=T.ONE_YEAR*2/(i*E[d].period);return j>=1?f(j):j;}function I(d,i){if(!b.isExist(d)){return false;}if(!i||!i.scale){return true;}var v=i.scale.invert(d);return J(v,i);}function J(v,d){if(!b.isExist(v)){return false;}if(!d||!d.limit){return true;}if(d.limit.length===4){return d.limit[2]<=v&&v<=d.limit[3];}else if(d.limit.length===2){return d.limit[0]<=v&&v<=d.limit[1];}return false;}function M(d,i,j){var m=j[d]&&j[d].hasOwnProperty(V)?j[d][V]:E[d].visible;if(b.isFunction(m)){return m(i.slice());}return m;}function Q(d,i){if(!d){return false;}for(var j=0;j<d.layers.length;j++){var m=d.layers[j];if(!I(m.left)){return false;}}return true;}function R(v,d,i){var j={};var m=O.extend(true,[],T.normalizeLevels(d.levels));if(i){i=T.normalizeLevelName(i);if(i&&m.indexOf(i)===-1){m.push(i);m.sort(q);}}var w=[];var y;if(m.indexOf("second")>=0){y=m.indexOf("minute");if(y>=0){m.splice(y,1);}y=m.indexOf("hour");if(y>=0){m.splice(y,1);}}else if(m.indexOf("minute")>=0){y=m.indexOf("hour");if(y>=0){m.splice(y,1);}}if(m.indexOf("day")>=0){y=m.indexOf("month");if(y>=0){m.splice(y,1);}}if(['second','minute','hour'].indexOf(m[0])>=0){w[0]=m[0];m.splice(0,1);}var t1;var x1;var y1=W(null,null);var z1=[];var A1=[];var B1;if(w.length>0){w.forEach(function(lv){t1=U(v,lv,w,null);x1=X(null,true);B1=Z(t1,y1,d,x1);A1.push(B1.text);});}if(m.length>0){var C1=f1(m);B1=null;if(C1.length>0){t1=U(v,C1[0].pattern,m,null);x1=X(true,true);B1=Z(t1,y1,d,x1);}if(!B1){x1=X(false,true);m.forEach(function(lv){t1=U(v,lv,m,null);B1=Z(t1,y1,d,x1);z1.push(B1.text);});}else{z1.push(B1.text);}}B1=[$(z1,d),$(A1,d)];return B1;}function U(v,d,i,j){return{value:v,levelName:d,labelLevels:i,position:j,};}function W(v,d){return{prevValue:v,prevPosition:d};}function X(i,d){return{isCombination:i,isForcedFullFormat:d};}function Z(i,j,m,v){var w=i.value;var y=i.levelName;var t1=i.labelLevels;var x1=i.position;var y1=j&&j.prevValue;var z1=j&&j.prevPosition;var A1=v&&v.isCombination;var B1=v&&v.isForcedFullFormat;var C1=m.config;var D1=m.combinationConfig;var E1=m.utc;var d=new Date(w);if(E1){d.setUTCMilliseconds(0);}else{d.setMilliseconds(0);}var F1=C1&&C1[y]?C1[y][l]:null;var G1=E[y]&&E[y].format;var H1;var I1;if([A,z,Y].indexOf(y)>-1){var J1=String(y).toLowerCase();G1=G[J1]&&G[J1].format;if(y===A&&D1.yearmonth){F1=D1.yearmonth[l];}else if(y===z&&D1.yearquarter){F1=D1.yearquarter[l];}else if(y===Y&&D1.yearmonthday){F1=D1.yearmonthday[l];}if(!G1&&!F1){H1=F.format(d,y,E1);if(H1===F.DEFAULT_FORMATTED_VALUE){return undefined;}}}if(["day","minute","second"].indexOf(y)>-1){if(y==="day"&&D1.monthday){if(!D("day",w,y1,E1,m,x1,z1)){if(!A1){if(!F1||(F1&&b.isString(F1)&&F1.search(/M|m/)>-1&&F1.search(/D|d/)>-1)){F1=D1.monthday[l];}}}}else if(y==="minute"&&D1.hourminute){if(!F1||(F1&&b.isString(F1)&&F1.search(/H|h/)>-1&&F1.search(/M|m/)>-1)){F1=D1.hourminute[l];}}else if(y==="second"&&D1.hourminutesecond){if(!D("second",w,y1,E1,m,x1,z1)){if(!F1||(F1&&b.isString(F1)&&F1.search(/H|h/)>-1&&F1.search(/M|m/)>-1&&F1.search(/S|s/)>-1)){F1=D1.hourminutesecond[l];}}}}if(b.isFunction(F1)){I1=F1(w,y1,E1,t1.slice());if(I1){H1={format:F1,text:I1};}}else if(b.isString(F1)){I1=F.format(d,F1,E1);if(I1){if(I1 instanceof Date){I1=F1;}H1={format:F1,text:I1};}}if(!H1){if(b.isString(G1)){I1=F.format(d,G1,E1);if(I1 instanceof Date){I1=G1;}H1={format:G1,text:I1};}else if(b.isFunction(G1)){var K1=G1(w,y1,E1,t1,m,x1,z1,B1);if(b.isPlainObject(K1)){H1=K1;}else{H1={format:G1,text:K1};}}}if(b.isString(H1)){H1={text:H1};}H1.text=b.isNumber(H1.text)?H1.text.toString():H1.text;return H1;}function $(d,i){return d.join(i.levelLabelSeparator);}function _(d,i){d=d.replace(/\{\{|\}\}/g,'');var j=a.canvasMeasure(d,i.fontSize,i.fontWeight,i.fontFamily);return N.preciseObject(j);}function a1(d,i){var j=g1.apply(null,arguments);h1(j,i);return j;}function b1(d,i,m,v){var j=g1(d,i,m,v,undefined,true);h1(j,i);return j;}function c1(d,i,j,m){var v=i.labels;var w=i.labels.offset;var y;var t1;var x1;var y1=true;var z1=Infinity;var A1=Infinity;var B1=Infinity;var C1=Infinity;for(x1=v.length-1;x1>=0;x1--){if(v[x1].isFirstData){y=n1(v[x1],v[x1+1],j.labelMargin);if(y){z1=x1+1;}t1=n1(v[x1],v[x1-1],j.labelMargin);if(t1){A1=x1-1;}}else if(v[x1].isLastData){y=n1(v[x1],v[x1+1],j.labelMargin);if(y){B1=x1+1;}t1=n1(v[x1],v[x1-1],j.labelMargin);if(t1){C1=x1-1;}}}y1=false;if(B1!==Infinity){v.splice(B1,1);y1=true;}if(C1!==Infinity){v.splice(C1,1);y1=true;}if(z1!==Infinity&&(z1<Math.min(C1,B1))){v.splice(z1,1);y1=true;}if(A1!==Infinity&&(A1<Math.min(C1,B1))){v.splice(A1,1);y1=true;}if(y1||m){var D1=[];for(x1=0;x1<v.length;x1++){D1.push(v[x1].value);}v=b1(d,j,0,D1);if(v.length>=i.labels.length){y1=false;}i.labels=v;i.labels.offset=w;}return y1;}function d1(d,i){var j,m;var v=i.levels.indexOf(d.name);if(v>=0){j=i.levels.slice(v);m=i.levels;}else{j=[d.name].concat(i.levels).sort(q);m=j.slice();j=j.slice(j.indexOf(d.name));}var w=i.config;var y=[[]];var t1;for(var ii=0;ii<j.length;++ii){var x1=j[ii];if(M(x1,j,w)){var y1=f(w[x1]&&w[x1][L]);if(y1>=1){y1=y1>i.maxLayerCount?i.maxLayerCount:y1;}else if(ii===0){y1=1;}else{y1=2;}t1=y[y1-1]=y[y1-1]||[];t1.push(x1);}}if(!y[0].length){y=y.slice(1);}return[j,m,y];}function e1(v,d,i,j){var m=v;if(d==="week"&&q(i,"week")>0&&T.getWeek(v,j)===1){m=v+T.ONE_WEEK;}return m;}function f1(d){var i=[];if(C){var m=Object.keys(C);m.forEach(function(v){var w={startIdx:-1,endIdx:-1,pattern:""};var y=C[v];var t1=0;var x1=y.length;var y1=false;var z1=-1;for(var j=0;j<d.length;j++){if(d[j]!==y[t1]){if(y1){break;}continue;}else{y1=true;if(z1<0){z1=j;}t1++;if(t1===x1){w.startIdx=z1;w.endIdx=z1+x1-1;w.pattern=v;i.push(w);break;}}}});}return i;}function g1(d,i,m,j,w,y){if(j&&w&&j.length!==w.length){return null;}var t1=!!w;w=w||[];var x1=b.isSet(m,k);var y1=b.isSet(m,P)?i.intervalPivot:null;j=j||d.values(i.utc,i.start,i.end,x1,i.limit,y1,i.categoryLook);if(i.isDataBoundTiny&&j.length>1){var z1=[j[0]];var A1=i.dataBound[0];if(i.dataBound){j.forEach(function(v){if(Math.abs(v-A1)<Math.abs(z1-A1)){z1=v;}});}j=[z1];}var B1=-1;var C1=-1;var D1;if(y){D1=s1(j,i);B1=D1.firstDataIndex;C1=D1.lastDataIndex;}var ii,jj,kk;var H1,I1,J1,K1;var L1,M1,N1;var O1=i.utc;var P1=d1(d,i);var Q1=P1[0];var R1=P1[1];var S1=P1[2];var T1=d.name;for(ii=0;ii<j.length;++ii){if(J(j[ii],i)){if(ii>1){j=j.slice(ii-1);if(y){B1=((B1>=(ii-1))?(B1-(ii-1)):-1);C1=((C1>=(ii-1))?(C1-(ii-1)):-1);}}break;}}var U1=[];for(ii=0;ii<j.length;++ii){H1=j[ii];I1=j[ii-1];J1={value:H1,layers:[]};var V1=w[ii];var W1=w[ii-1];for(jj=0;jj<S1.length;++jj){L1=S1[jj]||[];var X1=[];var Y1=[];var Z1=null;for(kk=0;kk<L1.length;++kk){M1=L1[kk];if(!Z1){Z1=M1;}else{if(T.levelComparator(M1,Z1)<0){Z1=M1;}}var $1;N1=e1(H1,T1,M1,O1);var _1=U(N1,M1,Q1,V1);var a2=W(I1,W1);var b2=X(L1.length>1&&L1.indexOf("day")>-1,false);$1=Z(_1,a2,i,b2);X1.push($1.text);Y1.push(b.isFunction($1.format)?'':$1.format);}J1.layers[jj]={formats:Y1,texts:X1,levels:L1};J1.layers[jj].level=Z1;}if(y){if(ii===B1){J1.isFirstData=true;}else if(ii===C1){J1.isLastData=true;}}U1.push(J1);}if(!i.firstLastTicksOnly&&U1.length>1){var c2={};var d2={};for(ii=1;ii<j.length;++ii){H1=j[ii];I1=j[ii-1];J1=U1[ii];K1=U1[ii-1];for(jj=1;jj<S1.length;++jj){var e2=J1.layers[jj];var f2=K1.layers[jj];L1=S1[jj]||[];for(kk=0;kk<L1.length;++kk){M1=L1[kk];var g2=E[L1[kk]].same;var h2=e2.texts[kk];var i2=f2.texts[kk];var j2=c2[M1];var k2=d2[M1];N1=e1(H1,T1,M1,O1);if(t1&&ii===1&&!I(w[0],i)){U1[0].layers[jj].texts[kk]='';if(I(w[1],i)){c2[M1]=h2;d2[M1]=N1;}}else{if((h2===i2||h2===j2)||(g2&&(g2(N1,I1)||g2(k2,N1)))){J1.layers[jj].texts[kk]='';}else{c2[M1]=h2;d2[M1]=N1;}}}}}}U1.forEach(function(J1,v){for(ii=0;ii<J1.layers.length;ii++){J1.layers[ii].texts=J1.layers[ii].texts.filter(function(m2){return m2.length>0;});J1.layers[ii].formats=J1.layers[ii].formats.filter(function(m2){return m2.length>0;});J1.layers[ii].text=$(J1.layers[ii].texts,i)||'';J1.layers[ii].format=$(J1.layers[ii].formats,i)||'';var N1=e1(J1.value,T1,M1,O1);var I1;if(v>0){I1=U1[v-1].value;}var E1=f1(J1.layers[ii].levels);if(E1.length>0){var _1=U(N1,E1[0].pattern,Q1,V1);var a2=W(I1,null);var b2=X(true,false);var F1=Z(_1,a2,i,b2);if(J1.layers[ii].texts.length>0&&J1.layers[ii].texts.indexOf('')<0&&F1&&F1.text){var G1=J1.layers[ii].levels.indexOf("day");var ff=J1.layers[ii].formats[G1];if(E1[0].pattern!==Y&&J1.layers[ii].levels.length===2){J1.layers[ii].text=F1.text;}if(E1[0].pattern===Y){if((ff&&ff.search(/M|m/)>-1&&ff.search(/D|d/)>-1)||(J1.layers[ii].levels>1&&J1.layers[ii].levels.length===J1.layers[ii].texts.length)){J1.layers[ii].text=F1.text;}}}}if(J1.layers[ii].text){var l2=_(J1.layers[ii].text,i.style);J1.layers[ii].height=l2.height;J1.layers[ii].width=l2.width;}else{J1.layers[ii].height=0;J1.layers[ii].width=0;}J1.layers[ii].left=J1.layers[ii].right=J1.layers[ii].center=0.0;delete(J1.layers[ii].formats);delete(J1.layers[ii].texts);}});U1.allLevels=R1;U1.levels=Q1;U1.layerCount=S1.length;return U1;}function h1(d,i,j){var m,v,w,y,t1;var x1=i.width;var y1=-1;var z1=Infinity;var A1=!j;var B1=-1;var C1=-1;for(m=0;m<d.length;m++){w=d[m];if(i.forceToShowFirstLastData){if(w.isFirstData){B1=m;}else if(w.isLastData){C1=m;}}w.center=i.scale(w.value);for(v=w.layers.length-1;v>=0;v--){y=w.layers[v];if(y.text){y.left=w.center-y.width/2;if(A1&&y.left<0){y.left=0;y1=Math.max(y1,m);}y.right=y.left+y.width;if(A1&&y.right>x1&&x1>=y.width){z1=Math.min(m,z1);y.right=x1;y.left=x1-y.width;}}else{y.left=y.right=w.center;}}}if(i.forceToShowFirstLastData){if(y1>B1){y1=B1;}if(z1<C1){z1=C1;}}if(y1>0){for(v=1;v<d[y1].layers.length;v++){if(d[y1].layers[v].text===""){d[y1].layers[v]=O.clone(d[y1-1].layers[v]);}}d.splice(0,y1);}if(z1!==Infinity){d.splice(z1+1,d.length);}}function i1(d,i){if(d.length<2){return;}k1(d[0],d[1],K,i);var j=d[d.length-1];var m=d[d.length-2];k1(j,m,K,i);}var j1=function(d){var m=(d.left+d.right)/2;d.text="";d.width=0;d.left=m;d.right=m;d.isEmpty=true;};function k1(d,i,m,j){for(var v=0;v<d.layers.length;++v){var w=d.layers[v];var y=i.layers[v];if(!y||!w){continue;}var t1=(y.left+y.right)/2;if(!I(t1,j)){continue;}var x1=1.0;if(m1(y,w,x1)>0){if(j.forceToShowFirstLastData){if(d.isFirstData||d.isLastData){j1(y);}else{j1(w);}}else{if(m===K){j1(y);}else{if(w.text.length>=y.text.length){j1(y);}else{j1(w);}}}}}}function l1(d,i){if(d.length<2){return;}var j;for(j=0;j<d.length-1;j++){var m=d[j];for(var v=j+1;v<d.length&&v<j+p1;++v){var w=d[v];if(j===0){k1(m,w,K,i);}else if(v===d.length-1){k1(w,m,K,i);}else{k1(w,m,c,i);}}}var y=0.1;d.forEach(function(t1){t1.layers.forEach(function(x1){if(Math.abs(x1.right-x1.left)<y){x1.width=0;x1.text="";}});});}function m1(d,i,j){if(!d||!i){return 0;}if((d.left+d.right)/2<(i.left+i.right)/2){var m=d;d=i;i=m;}j=j||0.0;if(d.width>0&&d.text.length>0&&i.width>0&&i.text.length){var v=d.left-i.right-j;if(v<0){return-v;}}return 0;}function n1(d,i,j){if(!d||!i){return 0;}var m;for(var v=0;v<d.layers.length;++v){var w=d.layers[v];var y=i.layers[v];m=m1(w,y,j);if(m>0){break;}}return m;}var o1=2;var p1=4;function q1(d,i,j){var m=j?[0,-1]:0;if(d.length<2){return m;}for(var v=o1;v<=p1;v++){var w=v;var y=w-1;var t1=y;for(var jj=t1;jj<d.length;++jj){var x1=n1(d[jj],d[jj-y],i);if(x1>0){m=j?[x1,jj]:x1;return m;}}}return m;}function r1(d,i){return d.value-i.value;}function s1(v,d){var i={};i.firstDataIndex=-1;i.lastDataIndex=-1;var m;if(d.dataBound&&d.dataBound.length>=2){m=d.dataBound.slice();}else{m=d.domain.slice();}m.sort();var w;for(w=0;w<m.length;w++){var y=v.indexOf(m[w]);if(y>=0&&w===0){i.firstDataIndex=y;i.firstDataAdded=false;continue;}if(y>=0&&w===1){i.lastDataIndex=y;i.lastDataAdded=false;continue;}var j;for(j=0;j<v.length;j++){if(v[j]>m[w]){v.splice(j,0,m[w]);if(i.firstDataIndex===-1){i.firstDataIndex=j;i.firstDataAdded=true;}else{i.lastDataIndex=j;i.lastDataAdded=true;}break;}}if(i.firstDataIndex<0&&w===0){v.push(m[w]);i.firstDataIndex=v.length-1;i.firstDataAdded=true;}if(i.lastDataIndex<0&&w===1){v.push(m[w]);i.lastDataIndex=v.length-1;i.lastDataAdded=true;}}return i;}var u1=function(d,i,v){var j=v[i-1];var m=v[i+1];var w;var y;if(b.isExist(j)){w=j;y=i-1;if(b.isExist(m)){if((v[i]-j)>(m-v[i])){w=m;y=i+1;}}}else if(b.isExist(m)){w=m;y=i+1;}if(w){if(d.indexOf(w)<0){v.splice(y,1);}}return y;};function v1(d,m,w,y){var t1=[];if(d.tickLevel){var x1=d.labels;if(w&&y){x1=y;}var y1;if(m.isDataBoundTiny){y1=x1[0]?[x1[0].value]:[];}else{y1=d.tickLevel.values(m.utc,m.start,m.end,false,m.limit,undefined,m.categoryLook);}if(w){var z1=s1(y1,m);if((z1.firstDataAdded||z1.lastDataAdded)&&y1.length>1){var A1=[];var B1;for(B1=0;B1<x1.length;B1++){A1.push(x1[B1].value);}var C1;if(z1.lastDataAdded&&y1.length>1){C1=u1(A1,z1.lastDataIndex,y1);}if(z1.firstDataAdded&&y1.length>1){if(C1<=z1.firstDataIndex){z1.firstDataIndex--;}u1(A1,z1.firstDataIndex,y1);}if(!d.hasMajor){var D1;for(D1=(y1.length-1);D1>=0;D1--){if(A1.indexOf(y1[D1])<0){y1.splice(D1,1);}}}}}for(var i=0,j=0;i<y1.length;++i){var v=y1[i];var E1=j<x1.length&&x1[j];if(w&&E1.value<v){j++;E1=j<x1.length&&x1[j];}var F1=E1&&d.hasMajor&&E1.value===v;t1.push({value:v,position:F1?E1.center:m.scale(v),major:F1});if(F1){++j;}}}t1.sort(r1);return t1;}function w1(d,m){var w=[];if(d){var y=d.values(m.utc,m.start,m.end,false,m.limit,undefined,m.categoryLook);for(var i=0,j=0;i<y.length;++i){var v=y[i];w.push({value:v,position:m.scale(v),major:false});}}w.sort(r1);return w;}return{levelStore:x,levelDict:E,combinationDict:G,isPositionVisible:I,isValueVisible:J,isLabelVisible:Q,getTicks:v1,getIndependentTicks:w1,getDensity:H,preventAnyOverlapping:l1,getLabelsAndSetLayout:a1,getLabelsWithFirstLastDataAndSetLayout:b1,resetAndLayoutLabelsWithFirstLastData:c1,getLabels:g1,layoutLabels:h1,layoutFirstAndLastLabel:i1,getOverlappedPixelNum:q1,getTwoLayersOverlappedNum:m1,getTwoLabelsOverlappedNum:n1,getTimeValueFormat:R,TRIAL_MODE:k,PIVOT_MODE:P};});define('sap/viz/chart/components/axis/sub/TimeAxisBodyTransformer',["sap/viz/framework/common/util/TimeUtil","sap/viz/chart/components/util/TextUtils","sap/viz/framework/common/util/NumberUtils","sap/viz/framework/common/util/TypeUtils","sap/viz/framework/common/util/ObjectUtils",'sap/viz/framework/common/util/ArrayUtils',"sap/viz/chart/components/axis/sub/TimeAxisCommon",],function(T,c,N,d,O,A,e){var f=Math.floor;var g=Math.ceil;var m=Math.max;var h=Math.min;var j=e.getTicks;var k=e.getLabels;var l=e.levelStore;var n=e.levelDict;var o=T.levelComparator;var p=e.getLabelsAndSetLayout;var q=e.getLabelsWithFirstLastDataAndSetLayout;var r=e.resetAndLayoutLabelsWithFirstLastData;var s=e.layoutFirstAndLastLabel;var t=e.getOverlappedPixelNum;var M="day";var u={name:"year",step:5};function w(){var a=e.levelStore.filter(function(b){return!b.continuousOnly&&(o(b.name,M)>=0);});a.sort(X);return a;}var C=w();var R={ILLEGAL_LEVEL:"ILLEGAL_LEVEL",NO_TICKS:"NO_TICKS",NO_LABELS:"NO_LABELS",WRONG_TICK_STEP:"WRONG_TICK_STEP",LABEL_TOO_BIG:"LABEL_TOO_BIG",LABEL_TOO_SMALL:"LABEL_TOO_SMALL",LABEL_OVERLAPPED:"LABEL_OVERLAPPED",GOOD:"GOOD"};function x(a,b){var v=a;var Z=v.labels.offset;if(b.forceToShowFirstLastData){if(v.displayMode==="CONTINUOUS"){var $=q(v.labelLevel,b);v.labels=$;var _=true;var a1=v.labels.length;var i;for(i=0;((_&&v.labels.length>1)&&(i<a1));i++){_=r(v.labelLevel,v,b);}var b1=j(v.levelResult,b,true,v.labels);v.ticks=b1;v.labels.offset=Z;v.ticks.offset=Z;}}}function y(a,b,i){var v=a;if(v.ticks.length===0||v.labels.length===0||!v.labelLevel){return;}v.displayMode="CONTINUOUS";if(z(v.labelLevel,b)){if(i){b.categoryLook=true;var Z=F(v,b);var $=G(b);var _=K(v.labelLevel.id,$);if(Z===R.GOOD&&!_){Z=R.ILLEGAL_LEVEL;}if(Z!==R.GOOD){var a1=S(v,b,Z);if(!a1){var b1=v.labels.length;var c1=200;if(b.width>c1){b.categoryLook=false;return;}else if(Z===R.LABEL_OVERLAPPED||Z===R.LABEL_TOO_BIG||Z===R.ILLEGAL_LEVEL){if(b1>2){var d1=v.labels[0];var e1=v.labels[b1-1];v.labels.splice(0,b1);v.labels.push(d1);v.labels.push(e1);}V(v,b);return;}else if(Z===R.WRONG_TICK_STEP){v.labels.splice(1,b1);V(v,b);return;}else{b.categoryLook=false;return;}}}else{var f1=a.labelLevel;$=G(b,f1);Q(f1,b,$,a);}}V(v,b);if(!i&&b.forceToShowFirstLastData){P(v.labelLevel,v,b);}}}function z(a,b){if(!a){return false;}var i=o;b.levels.sort(o);var v=b.levels[0];var Z=a.name;if(i(Z,M)>=0&&i(Z,v)>0){if(!(Z===u.name&&a.step>u.step)){return true;}}return false;}var B=400;var D=4;var E=0.1;function F(a,b){var i=a.ticks;var v=a.labels;var Z=a.labelLevel;var $=a.tickLevel;if(i.length<2){return R.NO_TICKS;}else if(v.length===0){return R.NO_LABELS;}else if(Z&&$&&$.step>1){return R.WRONG_TICK_STEP;}var _=Math.abs(i[1].position-i[0].position);var ii,b1;var c1=_*D;var d1=_*E;for(ii=0;ii<v.length;ii++){b1=v[ii].layers[0];if(b1.width>c1){return R.LABEL_TOO_BIG;}else if(b1.width<d1&&b1.width+B<_){return R.LABEL_TOO_SMALL;}}var e1=a.labels;if(b.forceToShowFirstLastData){var f1;var g1=[];for(f1=0;f1<a.labels.length;f1++){if(!(a.labels[f1].isFirstData||a.labels[f1].isLastData)){g1.push(a.labels[f1]);}}e1=g1;}if(t(e1,b.labelMargin)>0){return R.LABEL_OVERLAPPED;}return R.GOOD;}function G(a){var b=[];if(a.start===a.end){return C.slice();}a.levels.sort(o);var i=a.levels;var v=a.intervalUnit;var Z=o;var $,_,lv;var b1=a.levels[0];for($=0;$<C.length;$++){lv=C[$];if(lv.condition&&!lv.condition(a)){continue;}if(v){if(v===lv.name){b.push(lv);}}else if(i.indexOf(lv.name)>=0&&z(lv,a)){b.push(lv);}}if(!v){if(b.length>=2){for($=1;$<b.length;$++){if(b[$-1].name==="day"&&Z(b[$].name,'quarter')>=0){b=b.concat(L("month",C));}}}if(b.length<=2){T.DEFAULT_LEVELS.forEach(function(lv){var c1=false;for($=0;$<b.length;$++){if(b[$].name===lv){c1=true;break;}}if(!c1){b=b.concat(L(lv,C));}});}}b.sort(X);return b;}var W=5;function H(a,b,i){var v=a.name;var Z=o;var $=0;for(var _=0;_<b.length;_++){if(Z(v,b[_].name)===0){$=_;break;}else if(Z(v,b[_].name)>0&&b[_+1]&&Z(v,b[_+1].name)<=0){$=_;break;}}var a1;if(i){a1=b.slice($,$+W);}else{a1=b.slice(m($-W,0),$);}a1.sort(X);return a1;}function I(a,b){return H(a,b,true);}function J(a,b){return H(a,b,false);}function K(i,a){for(var b=0;b<a.length;b++){if(a[b].id===i){return a[b];}}return null;}function L(a,b){return b.filter(function(i){return i.name===a;});}var P=function(a,b,v){var Z=true;var $=b.labels.length;var i;var _=false;for(i=0;((Z&&b.labels.length>1)&&(i<$));i++){Z=r(a,b,v,_);_=false;V(b,v);if(!Z){var a1;for(a1=b.labels.length-1;a1>=0;a1--){var b1=false;var c1;var d1=0;for(c1=0;c1<b.labels[a1].layers.length;c1++){if(b.labels[a1].layers[c1].isEmpty){d1++;break;}}if(d1>0){b.labels.splice(a1,1);if(b.labels.length>1){_=true;}Z=true;break;}}}}};function Q(a,b,i,v,Z){var $=false;var _;if(b.forceToShowFirstLastData){_=q(a,b);}else{_=p(a,b);}var tl={level:a.name,labelLevel:a,labels:_};var b1=null;var c1=a.base;if(c1){var id=c1[0];var e1=K(id,i);if(e1&&!(tl.labelLevel.step>1&&e1.step>1)){b1=e1;}}b1=b1||tl.labelLevel;tl.tickLevel=b1;tl.ticks=e.getIndependentTicks(b1,b);V(tl,b);if(b.forceToShowFirstLastData&&!Z){P(a,tl,b);}var f1=F(tl,b);if(f1===R.GOOD){v.level=tl.level;v.labelLevel=tl.labelLevel;v.tickLevel=tl.tickLevel;O.extend(v.labels,tl.labels);O.extend(v.ticks,tl.ticks);v.labels.splice(tl.labels.length);v.ticks.splice(tl.ticks.length);$=true;}return $;}function S(a,b,i){var v=a.labelLevel;var Z=G(b,v);var $;var _;if(!i){return false;}else if(i===R.GOOD){return true;}else if(i===R.NO_TICKS||i===R.NO_LABELS||i===R.LABEL_TOO_SMALL){$=J(v,Z);}else if(i===R.LABEL_TOO_BIG||i===R.LABEL_OVERLAPPED){$=I(v,Z);}else if(i===R.ILLEGAL_LEVEL){$=I(v,Z);$=$.concat(J(v,Z));}else if(i===R.WRONG_TICK_STEP){$=I(v,Z);$.splice(0,0,v);}else{return false;}if(!$||!$.length){return false;}var a1=false;for(_=0;_<$.length;_++){if(Q($[_],b,Z,a,true)){a1=true;break;}}return a1;}function U(v,a){if(!v||!a||a.length<2){return-1;}var b=function(a1){return a1.value;};var i=A.bisearch(a,v,b);i=Math.min(i,a.length-1);if(a[i].value>v){i--;}var Z=[];if(i>=0){var $=a[1].position-a[0].position;var _=a[i].position;Z=[_,_+$,i,i+1];}return Z;}function V(a,b){var i=a.labels;var v=a.ticks;var Z,$,_,a1;var b1=b.width;if(v.length<2){return false;}var c1=-1;var d1=-1;for(Z=0;Z<i.length;Z++){if(b.forceToShowFirstLastData){if(i[Z].isFirstData){c1=Z;}else if(i[Z].isLastData){d1=Z;}}}var e1=Infinity;var f1=-1;for(Z=0;Z<i.length;Z++){_=i[Z];var g1=U(_.value,v);if(g1.length===0){f1=Z+1;continue;}for($=0;$<_.layers.length;$++){a1=_.layers[$];var t1=g1[0];var t2=g1[1];var j1=(t2-t1)/2+t1;a1.left=j1-a1.width/2;if(a1.left<0){a1.left=0;f1=Z;}a1.right=a1.left+a1.width;a1.center=(a1.right-a1.left)/2+a1.left;if(a1.right>b1&&b1-a1.width>=0){if((t1+a1.width)<b1||(b.forceToShowFirstLastData&&i[Z].isLastData)){var k1=a1.right-b1;a1.left-=k1;a1.center-=k1;a1.right-=k1;}else{e1=Math.min(Z,e1);break;}}}}if(b.forceToShowFirstLastData){if(f1>c1){f1=c1;}if(e1<(d1+1)){e1=(d1+1);}}if(e1!==Infinity){i.splice(e1,i.length);}if(f1>0){i.splice(0,f1);}for(Z=0;Z<v.length;Z++){v[Z].major=false;}s(i,b);a.displayMode="CATEGORY";return true;}function X(a,b){if(a.name===b.name){return a.step-b.step;}else{return o(a.name,b.name);}}function Y(a,b){var i=a;if(!b.isColumnLike){return;}var Z=a.ticks;if(Z.length===0||i.labels.length===0||!i.labelLevel){return;}b.levels.sort(o);var $=b.levels[0];var _=T.levelComparator;var lv=i.labelLevel;if(_(lv.name,$)<=0){i.ticks=[];}else if(i.displayMode==="CATEGORY"){var b1=Z[Z.length-1];var v=T.ceil(b1.value,lv.name,b.utc);if(!e.isValueVisible(v,b)){v=b.end;}if(!e.isValueVisible(v,b)){v=b1.value+T.getPeriod(lv.name);}Z.push({value:v,position:b.scale(v),major:false});if($!=="week"){var c1=n[$].period;var t1=b.limit[0];t1=T.truncate(t1,$,b.utc);var t2=t1+c1;var p1=b.scale(t1);var p2=b.scale(t2);var h1=(p2-p1)/2;i.ticks.forEach(function(a1){a1.position-=h1;a1.value=b.scale.invert(a1.position);});V(i,b);}else if(lv.name==="year"){i.ticks.forEach(function(a1){var d1=T.getFullYear(new Date(a1.value),b.utc);var e1=d1-1;var t1=T.getDateByWeek(e1,T.getWeekNumInYear(e1),b.utc);var t2=T.getDateByWeek(d1,1,b.utc);t1=t1.getTime();t2=t2.getTime();a1.value=(t2-t1)/2+t1;a1.position=b.scale(a1.value);});V(i,b);}}}return{categoryWrapper:y,firstLastDataWrapper:x,mustCategoryLook:z,timeColumnWrapper:Y};});define('sap/viz/chart/components/axis/sub/TimeAxisBodyHelper',["sap/viz/framework/common/util/TimeUtil","sap/viz/chart/components/util/TextUtils","sap/viz/framework/common/util/NumberUtils","sap/viz/framework/common/util/TypeUtils","sap/viz/framework/common/util/ObjectUtils",'sap/viz/framework/common/util/ArrayUtils',"sap/viz/chart/components/axis/sub/TimeAxisCommon","sap/viz/chart/components/axis/sub/TimeAxisBodyTransformer",],function(T,a,N,b,O,A,c,B){var f=Math.floor;var d=Math.ceil;var m=Math.max;var e=Math.min;var M=8;var F=80;var L=100;var g=5;var h=3;var k=', ';var D=1;var l='minlevel';var K=1;var o=1<<2;var S=4;var p=10;var q={'second':5,'minute':20,'hour':0.5,'day':2,'week':0.5,'month':0.5,'quarter':1,'halfyear':3,'year':1};var r=c.getTicks;var s=c.levelStore;var t=c.levelDict;var u=T.levelComparator;var v=c.getLabelsAndSetLayout;var w=c.getLabelsWithFirstLastDataAndSetLayout;var x=c.getLabels;var y=c.layoutLabels;var z=c.getOverlappedPixelNum;var C=B.mustCategoryLook;var E=c.formatLabel;var G=c.TRIAL_MODE;var P=c.PIVOT_MODE;var H=c.getDensity;var I=c.combinationDict;function J(i){var j=c1(i.domain);var n=c1(i.dataBound);var l1=null;if(j){var m1=i.levels;if(!m1||!m1.length){m1=T.DEFAULT_LEVELS;}Z(m1);var n1={domain:j,dataBound:n,isDataBoundTiny:!i.showFirstLastDataOnly&&n&&n[0]===n[1],width:m(0,i.width),levels:m1,start:j[0],end:j[1],limitInput:i.limit,style:i.labelStyle,config:d1(i.config),combinationConfig:d1(i.combinationConfig),utc:i.utc,isColumnLike:i.isColumnLike,isZoomIn:i.zoomType==="zoomIn",prevLv:i.prevLv,findLevelMemory:i.findLevelMemory,minTickDistance:h1(i.minTickDistance,M),fixedSpacing:h1(i.fixedSpacing,F),limitMargin:h1(i.limitMargin,L),labelMargin:h1(i.labelMargin,g),maxLayerCount:h1(i.maxLayerCount,h),levelLabelSeparator:h1(i.levelLabelSeparator,k),forceToShowFirstLastData:i.forceToShowFirstLastData};if(i.showFirstLastDataOnly){l1=U(n1);l1.ticks.offset=l1.labels.offset=i.offset||0;}else{var o1=e1(i.intervalUnit,m1);if(o1){n1.intervalUnit=o1;n1.intervalNumber=f1(i.intervalNumber);n1.intervalPivot=g1(i.intervalPivot);l1=R(n1);}else{l1=V(n1);}l1.ticks.offset=l1.labels.offset=i.offset||0;B.categoryWrapper(l1,n1,true);B.firstLastDataWrapper(l1,n1);B.timeColumnWrapper(l1,n1);}X(l1,l1.context);c.preventAnyOverlapping(l1.labels,l1.context);}return l1;}function Q(i,j){var n=i.tickLevel;var l1=i.labelLevel;var m1=i.context;if(n&&l1&&m1){m1.limit=Y(j.limit,m1,l1);if(!j.showFirstLastDataOnly){var n1;if(m1.intervalUnit){n1=P;}var o1;if(!m1.forceToShowFirstLastData){o1=v(l1,m1,n1);}else{o1=w(l1,m1,n1);}var p1=r({hasMajor:n.step!==l1.step,tickLevel:n,labels:o1},m1);p1.offset=o1.offset=j.offset||0;i.ticks=p1;i.labels=o1;B.categoryWrapper(i,m1,false);B.firstLastDataWrapper(i,m1);B.timeColumnWrapper(i,m1);}else{var q1=U(m1);i.ticks=q1.ticks;i.labels=q1.labels;i.ticks.offset=j.offset||0;i.labels.offset=i.ticks.offset;}X(i,i.context);c.preventAnyOverlapping(i.labels,i.context);}}function R(j){var n=j.intervalUnit;var l1=j.intervalNumber;var m1=t[n];var n1=m1.period*l1;var o1={id:'fixed',name:n,step:l1,density:H(n,l1),values:m1.values,align:false};var p1=j.fixedSpacing;var q1=j.width;var r1=j.end-j.start;if(j.dataBound){r1=j.dataBound[1]-j.dataBound[0];}j.width=m(q1,d(r1*p1/n1));j.scale=i1(j.domain,j.width);j.limit=Y(j.limitInput,j,o1);var s1=v(o1,j,P);var t1=z(s1,j.labelMargin);var u1=null;while(t1){p1=m(p1,p1+t1);j.width=m(q1,d(r1*p1/n1));j.scale=i1(j.domain,j.width);j.limit=Y(j.limitInput,j,o1);y(s1,j);t1=z(s1,j.labelMargin);if(Math.abs(t1-u1)<0.01){break;}u1=t1;}s1=v(o1,j,P);var v1=s.filter(function(x1){return x1.name===n&&l1%x1.step===0;});var w1;for(var i=0;i<v1.length;++i){var x1=v1[i];var y1=j.scale(j.start+x1.step*t[x1.name].period);if(y1>=j.minTickDistance){w1=x1;break;}}if(w1){w1=O.extend({align:false},w1);}else{w1=o1;}var z1={hasMajor:w1.step!==o1.step,tickLevel:w1,labels:s1};var A1=r(z1,j);return{width:j.width,level:n,ticks:A1,labels:s1,tickLevel:w1,labelLevel:o1,levelResult:z1,context:j};}function U(i){var j=[];var n=[];var l1={};i.scale=i1(i.domain,i.width);i.limit=Y(i.limitInput,i);i.firstLastTicksOnly=true;var m1=$(i);if(m1.length>0){l1=m1[0];var n1;if(i.dataBound&&i.dataBound.length>=2){n1=i.dataBound.slice();}else{n1=i.domain.slice();}j=v(l1,i,0,n1);var o1={};o1.labels=j;o1.tickLevel=l1;var p1={value:n1[0],position:i.scale(n1[0]),major:false};var q1={value:n1[n1.length-1],position:i.scale(n1[n1.length-1]),major:false};if(n1[0]>n1[n1.length-1]){n.push(q1);n.push(p1);}else{n.push(p1);n.push(q1);}}return{width:i.width,level:l1.name,ticks:n,labels:j,tickLevel:l1,labelLevel:l1,context:i};}function V(i){i.scale=i1(i.domain,i.width);i.limit=Y(i.limitInput,i);var j=$(i);var n=b1(j,i);if((n.labels.length<=1&&!i.isDataBoundTiny)||n.overlapped){j=$(i,K);n=b1(j,i,o);}var l1=r(n,i);return{width:i.width,level:n.level,ticks:l1,labels:n.labels,tickLevel:n.tickLevel,labelLevel:n.labelLevel,levelResult:n,context:i};}function W(i,j){for(var n=i.layers.length-1;n>=0;n--){var l1=i.layers[n];var m1=j.layers[n];if(l1&&m1){m1.left=(l1.left+l1.right)/2-m1.width/2;m1.right=(l1.left+l1.right)/2+m1.width/2;m1.center=(m1.right+m1.left)/2;j.center=b.isExist(j.center)?j.center:m1.center;}}j.isFirstData=i.isFirstData;j.isLastData=i.isLastData;}function X(i,j){if(i.labels.length<2){return;}var n=[];var l1=[];var ii;var n1=5;for(ii=0;ii<n1&&ii<i.labels.length;ii++){var o1=i.labels[ii];var p1=A.min(o1.layers,function(m1,r1){return(m1.left+m1.right)/2;});n.push(p1);l1.push(o1.value);}var q1=x(i.labelLevel,j,0,l1,n);for(ii=0;ii<q1.length;ii++){W(i.labels[ii],q1[ii]);i.labels[ii]=q1[ii];}}function Y(i,j,n){if(i){var l1=j.scale;var m1=j.limitMargin;if(n){var n1=l1(t[n.name].period*n.step)-l1(0);m1=m(m1,n1);}var o1=m(0,i[0]-m1);var p1=e(l1.range()[1],i[1]+m1);return[f(l1.invert(o1)),d(l1.invert(p1)),f(l1.invert(i[0])),d(l1.invert(i[1]))];}return null;}function Z(i){i.sort(u);if(i.length===2&&i[1]==="year"&&i[0]==="week"){return;}else if(i.length>=2){var j,n,l1;for(j=1;j<i.length;j++){n=i[j];l1=i[j-1];if(u(n,"quarter")>=0&&u(l1,"day")<=0){if(i.indexOf("month")===-1){i.push("month");}if(i.indexOf("day")===-1){i.push("day");}}if(u(n,"day")>=0&&u(l1,"minute")<=0){if(i.indexOf("hour")===-1){i.push("hour");}if(i.indexOf("minute")===-1){i.push("minute");}}}}i.sort(u);}function $(j,n){var i,l1;var m1=j.levels;if(j.start===j.end||j.isDataBoundTiny){for(i=0;i<s.length;++i){l1=s[i];if(l1.name===m1[0]&&l1.step===1){return[l1];}}}var n1=s.filter(function(l1){return l1.condition?l1.condition(j):true;});var o1={};for(i=m1.length;i--;){o1[m1[i]]=1;}var p1=j.end-j.start;for(i=n1.length;i--;){l1=n1[i];if(p1<l1.step*t[l1.name].period){n1.pop();}else{break;}}for(i=0;i<n1.length;++i){l1=n1[i];var q1=j.scale(j.start+l1.step*t[l1.name].period);if(q1>=j.minTickDistance){break;}}n1=n1.slice(i).concat(_(j));if(!b.isSet(n,K)){var r1=s.filter(function(l1){return o1[l1.name];});var s1=r1[0].density;var t1=r1[r1.length-1].density;var u1={};n1=n1.filter(function(l1){if(l1.density>=t1&&l1.density<=s1&&!o1[l1.name]){u1[l1.name]=1;return false;}return true;}).filter(function(l1){return!u1[l1.name];});}var v1={};for(i=n1.length;i--;){l1=n1[i];if(v1[l1.density]){n1.splice(i,1);}else if(o1[l1.name]){v1[l1.density]=1;}}v1={};n1=n1.filter(function(l1){if(!v1[l1.density]){v1[l1.density]=1;return true;}return false;});for(i=0;i<n1.length;++i){l1=n1[i];if(o1[l1.name]){break;}}n1=i<n1.length?n1.slice(i):n1;if(j.firstLastTicksOnly&&m1.length>0&&n1.length>0){for(i=0;i<s.length;++i){l1=s[i];if(l1.name===m1[0]&&l1.step===1&&n1[0].id!==l1.id){n1.unshift(l1);break;}}}return n1;}function _(j){var n=j.end-j.start;var l1=s[s.length-1];var m1=l1.name;var n1=t[m1];var o1=[];var i=2;var p1=i*l1.step;var q1=s.filter(function(t1){return t1.name===m1;});while(p1*n1.period<=n){var r1=j.scale(j.start+p1*n1.period);if(r1>=j.minTickDistance){var s1=q1.concat(o1).filter(function(t1){return p1%t1.step===0;}).map(function(t1){return t1.id;});o1.push({id:i,name:m1,step:p1,values:n1.values,density:H(m1,p1),base:s1});}i++;p1=i*l1.step;}return o1;}function a1(j,n){var l1=n.start;var m1=n.limit;n.limit=null;var n1=true;var o1=j.name;var p1=q[o1]*T.getPeriod(o1);var q1=n.findLevelMemory;var r1=n.end-n.start;var id=j.id;if(q1&&q1[id]&&q1[id]<=r1){return n1;}else{for(var i=0;i<p&&n.start<n.end;i++){var t1=c.getLabels(j,n,G);c.layoutLabels(t1,n,true);var u1=z(t1,n.labelMargin,true);if(u1[0]>0){n1=false;break;}n.start+=p1;}n.start=l1;n.limit=m1;if(q1&&n1){q1[id]=Math.min(r1,q1[id]);}return n1;}}function b1(n,l1,m1){var n1=-1;var o1=-1;var i,j,p1,q1,r1,s1;if(n.length){s1=true;for(i=0;i<n.length;++i){var t1=n[i];if(C(t1,l1)&&t1.continuousOnly){continue;}if(a1(t1,l1)){p1=v(t1,l1);if(z(p1,l1.labelMargin)===0){n1=i;s1=false;break;}}}q1=n[n1];if(n1<0){n1=n.length-1;q1=n[n1];p1=v(q1,l1);}var u1=C(q1,l1);var v1=q1.base;if(v1){for(i=0;i<v1.length;++i){var id=v1[i];for(j=n1;j--;){if(n[j].id===id){if(u1&&n[j].step>1){continue;}o1=j;break;}}if(o1>=0){break;}}}if(o1<0){o1=n1;}r1=n[o1];if(b.isSet(m1,o)){if((s1||p1.length===1)&&r1.step<q1.step){var x1=r1.values(l1.utc,l1.start,l1.end);if(x1.length>1){x1=[x1[0],x1[x1.length-1]];var y1=v(q1,l1,0,x1);if(p1.length>1||!z(y1,l1.labelMargin)){p1=y1;s1=z(p1,l1.labelMargin);}}}if(s1){var z1=s.filter(function(t1){return t1.step===1&&t1.density<=q1.density;});for(i=0;i<z1.length&&s1;++i){q1=r1=z1[i];p1=v(q1,l1);s1=z(p1,l1.labelMargin);}}}}return{hasMajor:r1!==q1,level:q1?q1.name:null,tickLevel:r1,labelLevel:q1,labels:p1||[],overlapped:s1};}function c1(i){if(b.isArray(i)&&i.length>1){var j=new Date(i[0]).getTime();var n=new Date(i[1]).getTime();if(!isNaN(j)&&!isNaN(n)){return j<=n?[j,n]:[n,j];}}return null;}function d1(i){var j={};i=i||{};for(var n in i){if(i.hasOwnProperty(n)){var l1=T.normalizeLevelName(n);if(t[l1]){j[l1]=i[n];}if(I[l1]){j[l1]=i[n];}}}return j;}function e1(i,j){i=String(i).toLowerCase();if(i===l){i=j[0];}return t[i]?i:null;}function f1(i){i=f(+i);return isNaN(i)||i<=0?D:i;}function g1(i){if(i===null||typeof i==='boolean'){return null;}var j=new Date(i).getTime();return isNaN(j)?null:j;}function h1(n,i){return k1(n)?n:i;}function i1(i,j){return d3.scale.linear().domain(i).range([0,j]);}function j1(i){return i.limitInput&&(i.limitInput[0]>0||i.limitInput[1]<i.width);}function k1(i){return typeof i==='number'&&!isNaN(i);}return{getTicksAndLabels:J,updateTicksAndLabels:Q,getScale:i1};});define('sap/viz/chart/components/axis/sub/TimeAxisBody',["sap/viz/framework/common/util/TimeUtil","sap/viz/framework/common/util/Constants","sap/viz/framework/common/util/oo","sap/viz/chart/components/axis/sub/AxisComponent","sap/viz/framework/common/util/NumberUtils","sap/viz/chart/components/axis/renderer/ValueBodyRenderer","sap/viz/chart/components/axis/renderer/TimeBodyRenderer","sap/viz/chart/components/util/ClippathUtil","sap/viz/chart/components/util/ZoomUtil","sap/viz/chart/components/axis/sub/TimeAxisBodyHelper","sap/viz/chart/components/axis/sub/TimeAxisCommon","sap/viz/chart/components/util/BoundUtil","sap/viz/framework/common/util/TypeUtils"],function(T,C,o,A,N,V,a,b,Z,c,d,B,e){var L=11;var R=80;var f=5;var g=3;var h=C.CSS.CLASS.AXIS;var l=C.TIME_LEVEL;var m=function(r,i){m.superclass.constructor.apply(this,arguments);this._ticksAndLabels=null;this._tickGroupNode=null;this._labelGroupNode=null;this._scrollOffset=0;this._isColumnLike=i.hasOwnProperty('isColumnLike')?i.isColumnLike:false;this._isLineChart=i.hasOwnProperty('isLineChart')?i.isLineChart:false;this._allowInterval=i.hasOwnProperty('allowInterval')?i.allowInterval:true;};o.extend(m,A);m.prototype.setHasNegativeValue=function(v){this._hasNegativeValue=v;return this;};m.prototype.update=function(z){if(this._data&&this._properties.get('visible')&&this._isSpaceEnough()){var t=this._getTicksAndLabels(this._realSize.width,this._size.width,z);this._renderTicksAndLabels(t);}};m.prototype._getAxisColor=function(){var p=this._properties;var i=p.get('color');if(this._hasNegativeValue&&p.origin.get("plotArea.gridline.zeroLine.unhighlightAxis")){i=p.origin.get("plotArea.gridline.color");}return i;};m.prototype._renderTicksAndLabels=function(t){if(!t){return;}var p=this._properties;var w=this._size.width;var n=this._size.height;var q=this._position;var r=t.ticks;var s=t.labels;var u=t&&t.labelLevel?t.labelLevel.step:1;var v=this._properties.get('label.forceToShowFirstLastData');var x=function(G,F,K){var M=F.value,O;if(t.level==='week'&&F.layers[0].level==='week'){var P=T.truncate(M,F.layers[0].level),Q=T.ceil(M,F.layers[0].level);if(new Date(P).getYear()!==new Date(Q).getYear()){M=T.truncate(Q,G.level);}}M=T.truncate(M,G.level);O=T.ceil(M,G.level);if(D._isColumnLike&&t.displayMode==='CONTINUOUS'){O=T.truncate(O,t.level);}return{min:M,max:O};};var y;if(!this._properties.get('label.showFirstLastDataOnly')){var z=s.length,D=this;var E=c.getScale(this._data.getDomain(),this._realSize.width);for(var i=0;i<z;i++){var F=s[i];F.layers[0].id='0-'+F.value;F.layers[0].range={min:F.value,max:T.ceil(F.value,F.layers[0].level)};if(u===1){if(v&&(F.isFirstData||F.isLastData)){y=T.floor(F.layers[0].range.min,F.layers[0].level);F.layers[0].rectX=E(y);F.layers[0].range.min=y;}else{F.layers[0].rectX=E(F.layers[0].range.min);}F.layers[0].rectWidth=E(F.layers[0].range.max)-F.layers[0].rectX;}for(var j=1;j<F.layers.length;j++){var G=F.layers[j];G.id=j+'-'+F.value;if(e.isNonEmptyString(G.text)){var H=x(G,F,i);G.range=H;if(v&&(F.isFirstData||F.isLastData)){y=T.floor(H.min,G.level);G.rectX=E(y);G.range.min=y;}else{G.rectX=E(H.min);}G.rectWidth=E(H.max)-G.rectX;for(var k=j-1;k>=0;k--){if(F.layers[k].range&&H.min>=F.layers[k].range.min&&H.max<F.layers[k].range.max){F.layers[k].range.max=H.max;if(F.layers[k].hasOwnProperty('rectX')){F.layers[k].rectWidth=E(F.layers[k].range.max)-F.layers[k].rectX;}}}}}}}var I=this.runtime().effectManager();if(p.get('axisTick.visible')&&this._tickGroupNode){var J=this._getAxisColor();a.drawTicks(this._tickGroupNode,r,w,n,q,p,J,I);}if(p.get('label.visible')&&this._labelGroupNode){a.drawLabels(this,s,w,n,q,p,I,t.displayMode,u,t.level);}this._lockLabels(t.labels);};m.prototype._lockLabels=function(k){if(!this._labelGroupNode||k.layerCount<=1){return;}var s=this._properties.get('label.showFirstLastDataOnly');if(s){return;}var n=0;var p=this._labelGroupNode.node().querySelectorAll('.v-label');var q=p.length?p.length:0;var r=k.offset||0;var i,j;function t(J,K){var z=k[J];var M=z&&z.layers;return M&&M[K]&&M[K].text;}for(j=0;j<k.layerCount-1;++j){var u=null;var v=null;var w=null;var y=false;for(i=0;i<q;++i){var z=k[i];u=p[i].querySelectorAll('.v-label-upperLevel')[j];if(u){u.removeAttribute('dx');}var D=t(i,j+1);if(z.layers[0].right-r>n&&!y){y=1;if(D){u=p[i].querySelectorAll('.v-label-upperLevel')[j];w=z;}else if(e.isNumber(v)&&v>=0){u=p[v].querySelectorAll('.v-label-upperLevel')[j];}if(u){var E=t(i+1,j+1);var x=parseFloat(u.getAttribute('x'));if(x<n){if(!E){u.setAttribute('dx',n-x);}else if(w){var F=p[i].querySelectorAll('.v-label-baseLevel')[0];var G=parseFloat(F.getAttribute('x'));var H=G+z.layers[0].width/2;var I=H-w.layers[j+1].width/2;if(I>n){u.setAttribute('dx',n-x);}else{u.setAttribute('dx',I-x);}}}}}if(!y&&D){v=i;w=z;}}}};m.prototype._renderAxisLine=function(s){if(s){var p=this._properties;var w=this._size.width;var i=this._size.height;if(p.get('axisLine.visible')&&w>0&&i>0){var j=s.select("."+h.LINE_GROUP);if(!j.node()){j=s.append("g").attr("class",h.LINE_GROUP);}var k=this._isVertical()?i:w;var r=[0,k];var n=p.get();var q=this.runtime().effectManager();var t=this._position;n.color=this._getAxisColor();V.drawLines(j,r,w,i,t,n,q);}}};m.prototype.scroll=function(i){var p=this._properties;var j=-i.x;var t=this._ticksAndLabels;var k=Math.abs(this._scrollOffset-j);k=N.preciseSimple(k);if(k>0.0&&this._isHorizontal()&&t){this._scrollOffset=j;c.updateTicksAndLabels(t,{offset:j,limit:[j,j+this._size.width],showFirstLastDataOnly:p.get('label.showFirstLastDataOnly')});this._renderTicksAndLabels(t);this._renderAxisLine(this._selection);}};m.prototype.render=function(s){this._selection=s;B.drawBound(s,this._size.width,this._size.height,null,true);s.select("g."+h.LINE_GROUP).remove();s.select("g."+h.TICK_GROUP).remove();s.select("g."+h.LABEL_GROUP).remove();var i=b.drawClippath(d3.select(s.node().parentNode),this._size.width+2,this._size.height+2,-1,-1);s.attr('clip-path','url(#'+i+')');var p=this._properties;if(this._data&&p.get('visible')){var j=null;var k=this._position;var w=this._size.width;var n=this._size.height;var q=this.runtime().effectManager();this._renderAxisLine(s);if(p.get('label.visible')){i=b.drawClippath(s,w+2,n+2,-1,-1,"labels");j=s.append("g").attr('clip-path','url(#'+i+')');this._labelGroupNode=j.append("g").attr("class",h.LABEL_GROUP);}if(p.get('axisTick.visible')){i=b.drawClippath(s,w+2,n+2,-1,-1,"ticks");j=s.append("g").attr('clip-path','url(#'+i+')');this._tickGroupNode=j.append("g").attr("class",h.TICK_GROUP);}var t=this._getTicksAndLabels(this._realSize.width,w);this._renderTicksAndLabels(t);if(t){s.datum({level:t.level});}}};m.prototype.getPreferredSize=function(r){var p={minWidth:0,maxWidth:0,minHeight:0,maxHeight:0,spacings:[{"interval":0,"type":C.SPACING_TYPE.STEP}]};var i=this._properties;if(this._data&&i.get('visible')&&this._isHorizontal()){var s=this._data;var j=s.getRange();var k=Math.abs(j[0]-j[1]);var n=L;var v=r?r.width:(this._size.width||k);var q=this._getTicksAndLabels(k,v);if(q){this._realSize.width=q.width;if(i.get('label.visible')){var t=this._properties.get('label.style');var u=this._measureTextSize('1',t).height;n+=u*Math.max(q.labels.layerCount,2);}}p.minWidth=v;p.maxWidth=v;p.minHeight=n;p.maxHeight=n;p.spacings=[{"interval":n,"type":C.SPACING_TYPE.STEP}];}var w=N.preciseObject(p);this._updatePfdSize(w);return w;};m.prototype.getRealSize=function(){return{width:this._realSize.width,height:this._realSize.height};};m.prototype.destroy=function(){m.superclass.destroy.apply(this,arguments);this._ticksAndLabels=null;this._tickGroupNode=null;this._labelGroupNode=null;this._findLevelMemory=null;};m.prototype._getTicksAndLabels=function(t,v,z){var p=this._properties;var u=this._allowInterval&&p.get('interval.unit');var i=this._data.getDomain();var j=this._data.getDataBound();var r=Z.getZoomRange(p.origin,i);var k=r[0];var n=r[1];var q=Z.isZoomRangeValid(k,n,i);var s=Z.isRangeIncomplete(r);var w=this.runtime().statusManager();if(w.get('zooming')){u=null;}else if(this._isLineChart&&q&&s){var M='minlevel';u=u||M;}else if(q){u=null;}var x=Math.min(this._scrollOffset,t-v);var y=this._ticksAndLabels?this._ticksAndLabels.labelLevel:null;this._findLevelMemory=this._findLevelMemory||{};v=v||t;this._ticksAndLabels=c.getTicksAndLabels({dataBound:j,domain:i,width:t,offset:x,limit:[x,x+v],levels:w.get('timeLevels'),labelStyle:p.get('label.style'),config:p.get('levelConfig'),combinationConfig:p.get('combinationConfig'),intervalUnit:u,intervalNumber:p.get('interval.number'),intervalPivot:p.get('interval.keyLabel'),utc:p.origin.get('general.showAsUTC'),isColumnLike:this._isColumnLike,showFirstLastDataOnly:p.get('label.showFirstLastDataOnly'),forceToShowFirstLastData:p.get('label.forceToShowFirstLastData'),prevLv:y,zoomType:z,findLevelMemory:this._findLevelMemory});return this._ticksAndLabels;};m.prototype.getAvailableLayersNumber=function(){var i=0;if(this._data&&this._properties.get('visible')&&this._isSpaceEnough()){i=1;}return i;};m.prototype.getActiveLevels=function(){return this._ticksAndLabels&&this._ticksAndLabels.labels.allLevels;};m.prototype.getActiveLabels=function(){return this._ticksAndLabels&&this._ticksAndLabels.labels;};m.prototype.getRange=function(){if(this._ticksAndLabels&&this._ticksAndLabels.context){return[this._ticksAndLabels.context.start,this._ticksAndLabels.context.end];}};m.prototype.getTimeValueFormat=function(v){var t=v;if(e.isString(v)){t=new Date(v).getTime();}else if(T.isDateValid(v)){t=v.getTime();}if(isNaN(t)||!e.isNumber(t)){return[];}if(!this._ticksAndLabels){this._getTicksAndLabels(this._realSize.width,this._size.width);}var i=this._ticksAndLabels;return d.getTimeValueFormat(t,i.context,i.labelLevel?i.labelLevel.name:null);};m.prototype.getCellPosition=function(k){var n=this._ticksAndLabels.labels,r;for(var i=0;i<n.length;i++){var p=n[i].layers;for(var j=0;j<p.length;j++){var q=p[j];if(q.id===k){var s=c.getScale(this._data.getDomain(),this._realSize.width);if(q.range){var t=s(q.range.min),u=s(q.range.max);r={x:t,width:u-t};}break;}}if(r){break;}}return r;};m.prototype.getScale=function(){return this._data;};m.prototype.isOnlyShowingFirstAndLastLabel=function(){return this._properties.get('label.showFirstLastDataOnly');};return m;});define('sap/viz/chart/components/axis/TimeAxis',['sap/viz/framework/common/util/Constants',"sap/viz/framework/common/util/oo","sap/viz/chart/components/axis/AxisContainer","sap/viz/framework/scale/TimeScale","sap/viz/chart/components/axis/sub/TimeAxisBody","sap/viz/chart/components/scrollbar/Scrollbar",'sap/viz/framework/common/lang/LangManager','sap/viz/framework/common/util/FunctionUtils','sap/viz/framework/common/format/FormatManager','sap/viz/framework/common/util/TypeUtils'],function(C,a,A,T,b,S,L,F,c,d){var M="measureNames";var e=function(r,o){e.superclass.constructor.apply(this,arguments);var f=new b(r,o);this.setChild("axisBody",f,{order:1,priority:2,offset:0});};a.extend(e,A);e.prototype.addARIATag=function(r){r.attr('role','listbox');};e.prototype._updateSubModules=function(s){var f=this.getChild("axisBody").module;f.setSize({width:this._size.width});var z;if(s.x===this._prevScaleX||!this._prevScaleX){z="noChange";}else if(s.x>this._prevScaleX){z="zoomIn";}else{z="zoomOut";}this._prevScaleX=s.x;f.setRealSize(this._realSize);f.update(z);};e.prototype.setData=function(f,h){e.superclass.setData.call(this,f);if(d.isExist(h)){this._hasNegativeValue=h;}if(f.scale){var s=f.scale;this._scale=new T(s.getDomain(),[0,1],undefined,s.getDataBound());}};e.prototype.setHasNegativeValue=function(v){this._hasNegativeValue=v;var f=this.getChild("axisBody").module;f.setHasNegativeValue(this._hasNegativeValue);return this;};e.prototype._updateData=function(i){e.superclass._updateData.apply(this,arguments);if(!this._scale){return;}if(this._isVertical()){this._scale.setRange([i.height,0]);}else{this._scale.setRange([0,i.width]);}var f=this.getChild("axisBody").module;f.setData(this._scale);f.setHasNegativeValue(this._hasNegativeValue);};e.prototype._constructTitle=function(h,t){var f=h.map(function(o){return o.name||o.id;}).join(" / ");var i={};i.isHidden=false;i.text=f;t.push(i);return f;};e.prototype.isVisible=function(){var p=this.properties();return p.visible===true;};e.prototype.getFormatTimeValue=function(v){var f=this.getChild("axisBody").module;var g=f.getTimeValueFormat(v);return{day:g[0]===""?null:g[0],time:g[1]===""?null:g[1]};};e.prototype.supportFixedLayout=true;e.prototype._setupLayout=function(i){e.superclass._setupLayout.call(this,i);var s=this.getChild(C.AXIS.SCROLLBAR_NAME);var f=this._properties.origin.get("plotArea.scrollbar.visible");if(s&&f===false){s.module.isExist(false);}};e.prototype.isByBound=function(){return true;};return e;});define('sap/viz/chart/components/datalabels/ScatterDataLabels',['sap/viz/framework/common/util/oo','sap/viz/chart/components/datalabels/DataLabels',"sap/viz/chart/components/util/DataPointUtils"],function(o,D,a){function S(r,b){S.superclass.constructor.apply(this,arguments);this._labelPosition="up";}o.extend(S,D);var p=S.prototype;p._hasTimeAxis=function(){return!!this._data.timeAxis;};p._getDataLabelInfo=function(n){var b=this._hasTimeAxis()?'valueAxis':'valueAxis2';var d=this._data;var c=a.getContextByDataModel(n,d);var k=d[b].metaData[0].id;return{key:k,value:c[k]};};return S;});define('sap/viz/chart/components/renderers/ScatterRenderer',["sap/viz/framework/common/util/SVG",'sap/viz/chart/components/util/DrawUtil'],function(S,D){function s(c){var n=S.createSVGNode("path");var g=c.graphic;var o=g.opacity;if(o>1||o<0){o=0.8;}var f=g.fillOpacity;if(f>1||f<0){f=1;}if(g.shape==="circle"&&c.isBigData){n=S.createSVGNode("circle");n.setAttribute("fill",g.fill);n.setAttribute("r",g.width/2);if(g.fill!=="transparent"){n.setAttribute("stroke-width",g.borderWidth);n.setAttribute("stroke",g.borderColor);n.setAttribute("opacity",o);if(f!=null){n.setAttribute("fill-opacity",f);}}return n;}var p={drawingEffect:g.drawingEffect,fillColor:g.fill,graphType:g.shape,direction:'vertical',rx:g.width/2,ry:g.height/2,borderWidth:g.borderWidth,node:n,opacity:o,fillOpacity:f,borderColor:g.borderColor};if(c.graphic.pattern){p.patternEffect=c.graphic.pattern;}D.drawGraph(p,c.effectManager);return n;}return s;});define('sap/viz/chart/components/plots/ProjectionHelper',['sap/viz/framework/common/util/oo'],function(o){var L=1;var V=6;var m=Math.abs;var b={};function P(){}P.prototype.init=function(r,a){this._rx=r;this._ry=a;};function E(){}o.extend(E,P);E.prototype.init=function(r,a){this._rxSquare=r*r;this._rySquare=a*a;this._rxrySquare=this._rxSquare*this._rySquare;this._isCircle=this._rxSquare===this._rySquare;};E.prototype.isInRange=function(x,y){return this._isCircle?x*x+y*y<=this._rxSquare:x*x*this._rySquare+y*y*this._rxSquare<=this._rxrySquare;};function D(){}o.extend(D,P);D.prototype.init=function(r,a){this._rx=r;this._ry=a;this._rxry=r*a;};D.prototype.isInRange=function(x,y){x=m(x);y=m(y);return this._rx*y+this._ry*x<=this._rxry;};function T(){}o.extend(T,P);T.prototype.init=function(r,a){this._2ry=a*2;this._rxry=r*a;this._rx=r;};T.prototype.isInRange=function(x,y){x=m(x);return this._rx*y+this._2ry*x<=this._rxry;};function c(){}o.extend(c,P);c.prototype.init=function(r,a){this._2ry=a*2;this._rxry=r*a;this._rx=r;};c.prototype.isInRange=function(x,y){x=m(x);return this._2ry*x-this._rx*y<=this._rxry;};function d(){}o.extend(d,P);d.prototype.init=function(r,a){this._2rx=r*2;this._rxry=r*a;this._ry=a;};d.prototype.isInRange=function(x,y){y=m(y);return this._2rx*y-this._ry*x<=this._rxry;};function e(){}o.extend(e,P);e.prototype.init=function(r,a){this._2rx=r*2;this._rxry=r*a;this._ry=a;};e.prototype.isInRange=function(x,y){y=m(y);return this._2rx*y+this._ry*x<=this._rxry;};function I(){}o.extend(I,P);I.prototype.init=function(r,a){this._9ry=9*a;this._8ry=8*a;this._6rx=6*r;var i=r*a;this._3rxry=3*i;this._2rxry=2*i;};I.prototype.isInRange=function(x,y){x=m(x);y=m(y);var a=this._6rx*y;return this._9ry*x-this._3rxry<=a&&a<=this._8ry*x+this._2rxry;};function C(){}o.extend(C,P);C.prototype.init=function(r,a){this._dx=r/3;this._dy=a/3;};C.prototype.isInRange=function(x,y){return m(x)<=this._dx||m(y)<=this._dy;};function S(){}o.extend(S,P);S.prototype.isInRange=function(x,y){return m(x)<=this._rx&&m(y)<=this._ry;};function N(a){this._projectorClz=a;}o.extend(N,P);N.prototype.init=function(r,a,i){this._outer=new this._projectorClz();this._outer.init(r,a);this._inner=new this._projectorClz();this._inner.init(r-i,a-i);};N.prototype.isInRange=function(x,y){return!this._inner.isInRange(x,y)&&this._outer.isInRange(x,y);};var p={circle:new E(),diamond:new D(),triangleUp:new T(),triangleDown:new c(),triangleLeft:new d(),triangleRight:new e(),intersection:new I(),cross:new C(),square:new S(),negative_circle:new N(E),negative_diamond:new N(D),negative_triangleUp:new N(T),negative_triangleDown:new N(c),negative_triangleLeft:new N(d),negative_triangleRight:new N(e),negative_intersection:new N(I),negative_cross:new N(C),negative_square:new N(S)};function g(a){var s=a.shape;if(s=="circle"&&!a.negativeValue){s="square";}s=a.negativeValue===true?"negative_"+s:s;return s;}function f(a,r,i){var s=g(a);var j=b[s];j=j&&j[r];return j&&j[i];}function h(a,r,i){var s=g(a);var j=b[s]=a[s]||{};j=j[r]=j[r]||{};var q=j[i]=[];return q;}function k(a,r,q){var s=g(a);var t=f(a,r,q);if(!t){var u=p[s];if(u){u.init(r,q,a.borderWidth);t=h(a,r,q);t.length=(r*2+1)*(q*2+1)*2;var v=0;for(var i=-r;i<=r;++i){for(var j=-q;j<=q;++j){if(u.isInRange(i,j)){t[v++]=i;t[v++]=j;}}}t.length=v;}}return t;}function l(w,a,i){var j=[];i=i||{};w=j.width=Math.round(w);a=j.height=Math.round(a);j.layerLimit=i.layerLimit>0?parseInt(i.layerLimit):L;j.visibleThreshold=i.visibleThreshold>0?parseInt(i.visibleThreshold):V;var s=j.length=w*a;for(;s--;){j[s]=0;}return j;}function n(a,q,x,y,r,s){var w=a.width;var t=a.height;var u=a.layerLimit;if(q.shape=="circle"&&!!!q.negativeValue){r=s=Math.round(s/Math.SQRT2);}var v=k(q,r,s);var z=x-r;var A=x+r;var B=y-s;var F=y+s;var G=[];var H;var i,j,J;var K,M;if(z<0){z=0;H=true;}if(A>w){A=w;H=true;}if(B<0){B=0;H=true;}if(F>t){F=t;H=true;}if(v){var O=v.length;for(i=0;i<O;i+=2){if(!H){K=x+v[i];M=y+v[i+1];if(K>=z&&K<=A&&M>=B&&M<=F){J=K*t+M;if(a[J]<u){G.push(J);}}}}}else{for(i=z;i<=A;++i){var Q=i*t;var R=Q+F;for(J=Q+B;J<=R;++J){if(a[J]<u){G.push(J);}}}}if(G.length>=a.visibleThreshold){for(i=G.length;i--;){a[G[i]]++;}return true;}return false;}return{createPixelBoard:l,isAreaVisible:n};});define('sap/viz/chart/components/decorator/HitTestDecorator',['sap/viz/framework/common/util/oo','sap/viz/chart/components/decorator/BaseHitTestDecorator','sap/viz/chart/components/util/HitTestUtils'],function(o,B,H){var i=H.isInCircle;var a=H.isInRect;var b=function(){b.superclass.constructor.apply(this,arguments);this._decos.hitTest=function(c){var d=this._dataPointContext,x=c.x,y=c.y;var r;var s=this.getSize();var f=this._offset;var g=-f.x;var h=-f.y;var p=this._selection.select(".v-plot-bound").node();var j=p.getBoundingClientRect().width/s.width;if(c.hasOwnProperty("width")&&c.hasOwnProperty("height")){var w=c.width,k=c.height;var l=s.width;if(j!=1){l*=j;g*=j;h*=j;}r=d.filter(function(e){var t=e.data.translate.slice();if(j!=1){t[0]*=j;t[1]*=j;}var m=[x+g,y+h];return t[0]>=g&&t[0]<=l+g&&a(t,m,w,k);});}else{r=d.filter(function(e){return i(e.data.translate,[x,y],4);});}return r;};};o.extend(b,B);return b;});define('sap/viz/chart/components/plots/ScatterPlot',['sap/viz/framework/common/util/oo','sap/viz/framework/scale/ValueScale','sap/viz/framework/common/util/Constants','sap/viz/framework/common/util/TypeUtils','sap/viz/chart/components/datalabels/ScatterDataLabels','sap/viz/chart/components/plots/BasePlot','sap/viz/chart/components/plots/ScaleHandler','sap/viz/chart/components/plots/model/DataPointInfo','sap/viz/chart/components/plots/model/Series','sap/viz/chart/components/renderers/GridlineRenderer','sap/viz/chart/components/renderers/ScatterRenderer','sap/viz/framework/common/util/SVG','sap/viz/framework/common/util/ObjectUtils','sap/viz/chart/components/plots/ProjectionHelper',"sap/viz/chart/components/util/DataPointUtils",'sap/viz/chart/components/plots/DataHandler','sap/viz/chart/components/decorator/HitTestDecorator','sap/viz/framework/chartmodel/ContextBuilder','sap/viz/chart/components/util/ValueAxisUtils',"sap/viz/chart/components/plots/PlotGeometryKeeper",'sap/viz/framework/common/util/PropertyUtils'],function(o,V,C,T,S,B,a,D,b,G,c,d,O,P,f,g,H,h,k,l,m){var n=10,M=4,p=32,q='#ffffff',r="circle",s=1;var t=Math.min,u=Math.max;var v=C.CSS.CLASS;var w=function(e,i){this._renderType=i.renderType;w.superclass.constructor.apply(this,arguments);this._dataPointRenderer=c;this._markerSize=null;this._shapePalette=null;this._dpStrokeVisible=null;this._dpStrokeColor=null;this._dpOpacity=null;this._drawingEffect=null;this._markerSizeDirty=true;this._dpStrokeColorDirty=true;this._bigDataThreshold=10000;this._dataPointContext=[];};o.extend(w,B);var z=w.prototype;z.setLastSeries=function(e,j){var x=this._series;var y=x.length;if(!y){return;}var i=y;while(i--){var A=x[i];if(O.deepEqual(e,A.getContext())){if(i!==y-1){var E=x[y-1];x[y-1]=A;x[i]=E;if(j){this.refresh();}}break;}}};z.refresh=function(){var e=this._series;for(var i=e.length;i--;){var x=e[i].getDataPoints();for(var j=x.length;j--;){var y=x[j];if(y){y.setNode(null);}}}var A=this._selection.node().querySelector("."+v.DATAPOINT_GROUP);var E=A.getAttribute("fill-opacity");var F=A.parentNode;F.removeChild(A);A=d.create("g");A.setAttribute("class",v.DATAPOINT_GROUP);this._showDatapoints(A);this._postRender(A);if(E){A.setAttribute("fill-opacity",E);A.setAttribute("stroke-opacity",E);}F.appendChild(A);var I=this._selection.node().querySelector("."+v.DATALABEL_GROUP);if(I){F=I.parentNode;F.removeChild(I);}this._drawDataLabels(d3.select(F),A);};z.destroy=function(){w.superclass.destroy.call(this);this._dataPointRenderer=null;this._markerSize=null;this._shapePalette=null;this._dpStrokeVisible=null;this._dpStrokeColor=null;this._dpOpacity=null;this._drawingEffect=null;this._markerSizeDirty=true;this._dpStrokeColorDirty=true;this._timeField=null;};z._getDataLabels=function(e,i){return new S(i,{name:e});};z._getXHandlers=function(){var e=this._getBottomAxisName();var i={isHorizontal:true,alignment:"right"};var j=this._hasTimeAxis()?a.getTimeScaleHandler(e,i):a.getValueScaleHandler(e,i);return[j];};z._getYHandlers=function(){var e=this._getLeftAxisName();return[a.getValueScaleHandler(e,{isHorizontal:false})];};z._getAxisPosition=function(e,i,j,x){var y=e[0];var A=y.id;var E={index:j,seriesIndex:i,dataHandler:this._dataHandler[A]};return y.scale(x[A],E);};z._drawDatapoints=function(e){var i=this._getSeries();for(var j in this._dataHandler){if(this._dataHandler[j].reset){this._dataHandler[j].reset();}}var x=this._properties;this._markerSize=x.get('markerSize');this._markerSizeDirty=true;this._shapePalette=x.get("shapePalette");this._dpStrokeVisible=x.get('dataPoint.stroke.visible');this._dpStrokeColor=x.get('dataPoint.stroke.color');this._dpStrokeColorDirty=true;this._dpOpacity=x.get('dataPoint.opacity');this._drawingEffect=x.get('drawingEffect');var y=0;var A;var E;var F;var I;var J;var K;var L;var N;var Q;var R=i.length;var U;var W=0;for(A=0;A<R;A++){F=i[A];W+=F?F.length:0;}this._isBigData=W>=this._bigDataThreshold;var X=this._dataPointContext;for(A=0;A<R;A++){F=i[A];if(!F){continue;}I=null;U=F.length;for(E=0;E<U;E++){J=F[E];if(!J){continue;}L=this._getPosition(A,E,J);if(!L){continue;}I=I||new b();N=this._buildWrapperConfig(J,L);Q=this._buildData(N);K=this._createDataPoint(A,E,N,Q,L,y,J);I.setDataPoint(E,K);X[J.dp.id]=N;y++;}if(I){I.setContext(h.buildSeriesContext(this._data,A,["color","shape"]));}this._series[A]=I;}if(this._series.every(function(I){return I==null;})){this._series=[];}var Y=d.create("g");Y.setAttribute("class",v.DATAPOINT_GROUP);this._showDatapoints(Y);this._postRender(Y);e.node().appendChild(Y);this._drawDataLabels(e,Y);};z._buildWrapperConfig=function(e,i,j){var x;if(this.isBigDataMode()&&j==null){var y=this._getShape(e);var A=this._getMarkerSize();x={rawData:e,graphic:{width:A,height:A,borderWidth:s,shape:y},data:{translate:[i.x,i.y]}};}else{var E=j||e.dp.context();x=w.superclass._buildWrapperConfig.call(this,e,i,E);}if(this._data.timeAxis){x.timeField=this._getTimeField();}if(this._isBigData){x.isBigData=true;}return x;};z._preShowDatapoints=function(){var e=this._realSize;var A=this._series;var E=this._properties;var F=P.createPixelBoard(e.width,e.height,{layerLimit:1,visibleThreshold:6});for(var i=A.length;i--;){var I=A[i].getDataPoints();for(var j=I.length;j--;){var J=I[j];if(J){var K=J.getPosition();var x=Math.round(K.x);var y=Math.round(K.y);var L=J.getConfig().graphic;var N=L.borderWidth/2;var Q=Math.round(L.width/2+N);var R=Math.round(L.height/2+N);var U=P.isAreaVisible(F,L,x,y,Q,R);J.setVisible(U);}}}};z._showDatapoints=function(e){if(this.isBigDataMode()){this._preShowDatapoints();}this._renderDataPoints(e);};z._renderDataPoints=function(e){var i=this._series;var j=i.length;var x=this._dataPointContext;for(var y=0;y<j;y++){var A=this._getDataPointRenderer(y);if(!A){continue;}var E=i[y];if(!E){continue;}var F=E.getDataPoints();var I=F.length;for(var J=0;J<I;J++){var K=F[J];if(!K||!K.isVisible()){continue;}var L=K.getConfig().rawData;if(L){var N=K.getPosition();var Q=this._buildWrapperConfig(L,N,L.dp.context());var R=this._buildData(Q);K.setConfig(Q);K.setData(R);x[L.dp.id]=Q;}var U=this._drawDataPoint(A,K);K.setNode(U);if(U){e.appendChild(U);}}}};z.isBigDataMode=function(){return this._isBigData;};z.update=function(e){this._applyChanges();this._dataLabels.setSize(this._realSize);var i=this._selection.select(".v-plot-main");this._drawGridlines(this._selection);this._updateDatapoints(i);};z.scroll=function(e){this._setOffset(e);if(!this._selection){return;}if(!this._isInTrellis){var i=this._selection.select("g.v-plot-main");var j="translate("+this._offset.x+", "+this._offset.y+")";i.node().setAttribute("transform",j);}this._repositionReferenceLine();if(this._eventDispatch){this._eventDispatch.reRenderComplete();}};z._updateDatapoints=function(e){for(var x in this._dataHandler){if(this._dataHandler[x].reset){this._dataHandler[x].reset();}}var y=this._series;for(var i=y.length;i--;){var A=y[i];if(!A){continue;}var E=this._getDataPointRenderer(i);if(!E){continue;}var F=y[i].getDataPoints();for(var j=F.length;j--;){var I=F[j];if(!I){continue;}var J=I.getRawData();if(!J){continue;}var K=this._getPosition(i,j,J);if(!K){continue;}I.setPosition(K);var L=I.getConfig();L.data.translate=[K.x,K.y];if(!I.isVisible()){continue;}var N=I.getNode();if(!N){continue;}this._updateDatapoint(N,E,L,K);}}var Q=e.selectAll('.'+v.DATAPOINT)[0];this._dataLabels.updatePosition(e,Q);};z._updateDatapoint=function(e,i,j,x){if(i.update&&T.isFunction(i.update)){i.update(e,j);}if(x.hasOwnProperty("x")&&x.hasOwnProperty("y")){e.setAttribute("transform",'translate('+x.x+', '+x.y+')');}};z._createDataPoint=function(e,i,j,x,y,A,E,F){var I=new D(e,i,null,-1);I.init(j,A,x,E&&E.dp&&E.dp.id?E.dp.id:C.NULL_VALUE,F);I.setPosition(y);I.setRawData(E);return I;};z._drawGridlines=function(e){var i=this._realSize;var j=C.DIRECTION.HORIZONTAL;var x=this._properties.proxy('gridline');var y=[i.height,0];var A=this._getLeftAxisName();var E=this._data[A];var F=new V(E.scale.getDomain(),y);F.setTickHint(E.tickHint);G.drawValueGridline(e,i.width,i.height,F,x,j,this.runtime().effectManager());};z._getDataHandler=function(){return this._hasTimeAxis()?{"valueAxis":g.getHandler()}:{"valueAxis":g.getHandler(),"valueAxis2":g.getHandler()};};z.getDataPointPosition=function(e,i){var j=this._data.series[e][i];var x=this._getPosition(e,i,j);x.height=0;return x;};z._getMarkerSize=function(){if(!this._markerSizeDirty){return this._markerSize;}var e=this._markerSize;if(!(T.isExist(e)&&M<=e&&e<=p)){e=n;}this._markerSizeDirty=false;this._markerSize=e;return e;};z._getBorderColor=function(){if(!this._dpStrokeColorDirty){return this._dpStrokeColor;}var e;if(this._dpStrokeVisible===true){e=this._dpStrokeColor;}else{e=q;}this._dpStrokeColorDirty=false;this._dpStrokeColor=e;return e;};z._getColor=function(e){var i=null;if(this._data.color){var j=e.color;if(j&&j.length){var x=m.getBubbleDepth(this._properties,"colorDepth",j);j=j.slice(0,x);}i=this._data.color.scale.scale(j);}return i;};z._getShape=function(e){var i;if(e.hasOwnProperty("shape")){var j=e.shape;if(j&&j.length){var x=m.getBubbleDepth(this._properties,"shapeDepth",j);j=j.slice(0,x);}i=this._data.shape.scale.scale(j);}else{var y=this._shapePalette||[];i=y.length?y[0]:r;}return i;};z._buildConfig=function(e,i,j){var x=this._properties;var y=this._getColor(e);var A=this._getShape(e);var E=this._getMarkerSize();var F=this._getBorderColor();var I={graphic:{drawingEffect:this._drawingEffect,fill:y,shape:A,width:E,height:E,borderColor:F,borderWidth:s,opacity:this._dpOpacity},data:{color:y,shape:A,translate:[i.x,i.y]},ctx:j,effectManager:this._effectManager};return I;};z._buildData=function(e){var i=e.graphic;var j={color:i.fill,shape:i.shape,borderColor:i.borderColor};if(this._data.timeAxis){j.timeField=e.timeField=this._getTimeField();}return j;};(new H()).decorate(w);z._hasTimeAxis=function(){return/timeseries/.test(this._renderType);};z._getBottomAxisName=function(){return this._hasTimeAxis()?'timeAxis':'valueAxis';};z._getLeftAxisName=function(){return this._hasTimeAxis()?'valueAxis':'valueAxis2';};z._getTimeField=function(){if(!this._timeField&&this._data&&this._data.timeAxis){this._timeField=this._data.timeAxis.metaData.map(function(e){return e.id;});}return this._timeField;};z._recordPlotWindow=function(){var e=this._properties.get("window"),i=this.getVisibleRange();if(i.x||i.y){this.runtime().statusManager().set("plotArea.window",e);}};z.getVisibleRange=function(){var e={};var i=!this._properties.origin.get("interaction.noninteractiveMode");if(i){var j=this._properties.get("window.start")||{},x=this._properties.get("window.end")||{},y,A,E;var F=function(I){if(this._hasTimeAxis()){A=this._data.timeAxis.scale.getDomain();E=this._data.valueAxis.scale.getDomain();}else{A=this._data.valueAxis.scale.getDomain();E=this._data.valueAxis2.scale.getDomain();}var J=I;if(I===C.PLOTAREA.FIRST_DATAPOINT){if(this._hasTimeAxis()){J={timeAxis:A[0],valueAxis:E[0]};}else{J={valueAxis:A[0],valueAxis2:E[0]};}}else if(I===C.PLOTAREA.LAST_DATAPOINT){if(this._hasTimeAxis()){J={timeAxis:A[1],valueAxis:E[1]};}else{J={valueAxis:A[1],valueAxis2:E[1]};}}return J;};j=F.call(this,j);x=F.call(this,x);if(this._hasTimeAxis()){if(j.hasOwnProperty("timeAxis")||x.hasOwnProperty("timeAxis")){y=this._data.timeAxis.scale.getDomain();e.x=k.visibleRangeTransform(y,(new Date(j.timeAxis)).getTime(),(new Date(x.timeAxis)).getTime());}if(j.hasOwnProperty("valueAxis")||x.hasOwnProperty("valueAxis")){y=this._data.valueAxis.scale.getDomain();e.y=k.visibleRangeTransform(y,j.valueAxis,x.valueAxis);}}else{if(j.hasOwnProperty("valueAxis")||x.hasOwnProperty("valueAxis")){y=this._data.valueAxis.scale.getDomain();e.x=k.visibleRangeTransform(y,j.valueAxis,x.valueAxis);}if(j.hasOwnProperty("valueAxis2")||x.hasOwnProperty("valueAxis2")){y=this._data.valueAxis2.scale.getDomain();e.y=k.visibleRangeTransform(y,j.valueAxis2,x.valueAxis2);}}}return e;};z.isHorizontal=function(){return(this._options.isHorizontal===true);};return w;});define('sap/viz/chart/components/datalabels/BubbleDataLabels',['sap/viz/framework/common/util/oo','sap/viz/chart/components/datalabels/ScatterDataLabels',"sap/viz/chart/components/util/DataPointUtils","sap/viz/framework/common/lang/LangManager",'sap/viz/chart/components/datalabels/DataLabels',"sap/viz/chart/components/util/TextUtils","sap/viz/framework/common/util/TypeUtils","sap/viz/framework/common/util/DataGraphics",'sap/viz/framework/common/util/DataUtils'],function(o,S,D,L,a,T,b,c,d){var I="bubbleWidth";var e="color";var f="regionColor";var g="shape";var h="regionShape";var B=function(r,i){B.superclass.constructor.apply(this,arguments);this._labelPosition="inside";this._needDateFormat=false;};o.extend(B,S);var p=B.prototype;p.destroy=function(){B.superclass.destroy.call(this);this._labelPosition=null;this._timeBindingId=null;this._datalabel_type=null;this._needDateFormat=false;};p.getBound=function(){var i;if(this._isTrellis){i={left:0-this._trellisPadding.left,width:this._trellisCellSize.width,top:0-this._trellisPadding.top,height:this._trellisCellSize.height};}else{i=B.superclass.getBound.call(this);}return i;};p.setTimeBindingId=function(v){this._timeBindingId=v;};p._isPrimary=function(t){return this._hasTimeAxis()?t==='timeAxis':t==='valueAxis';};p._isSecondary=function(t){return this._hasTimeAxis()?t==='valueAxis':t==='valueAxis2';};p._getDataLabelInfo=function(n){var i=D.getContextByDataModel(n,this._data);this._datalabel_type=this._properties.get("type");if(this._datalabel_type===f){this._datalabel_type=e;}else if(this._datalabel_type===h){this._datalabel_type=g;}var k,v;if(this._data.hasOwnProperty(this._datalabel_type)&&this._data[this._datalabel_type].metaData){k=this._data[this._datalabel_type].metaData[0].id;v=i[k];if(v===null){v=undefined;}return{key:k,value:v};}else{if(this._data.hasOwnProperty(I)&&this._data[I].metaData){k=this._data[I].metaData[0].id;v=i[k];return{key:k,value:v===null?undefined:v};}return{key:null,value:undefined};}};p._buildDataLabelText=function(i,k,n,q){return a.buildDataLabelText(this._properties,i,k,n,q,j.bind(this),m.bind(this),l.bind(this));};function j(i){var t=i.get('type');var r;if(t==='color'||t==='shape'){r=[t];}else if(this._isPrimary(t)&&(this._hasTimeAxis()||this._timeBindingId)){r=['date'];this._needDateFormat=true;}else{r=['value'];}return r;}function l(k,n){var t='';var q,r,s;if(this._data.hasOwnProperty(this._datalabel_type)&&this._data[this._datalabel_type].metaData){q=this._data[this._datalabel_type].metaData;s=q?q.length:0;}for(var i=0;i<s;i++){r=k[q[i].id+d.DIMENSION_DISPLAYNAME_SUFFIX]||k[q[i].id];t+=b.isString(r)||!b.isNaN(r)?r:L.get('IDS_ISNOVALUE');if(i<s-1){t+='-';}}return t;}function m(i,k,n){var t=i.get('type');var q;if(t==="color"||t==="shape"){q=k[0];}else if((t==="valueAxis"||t==="valueAxis2"||t==='bubbleWidth')&&this._needDateFormat){q=k[0];}else{q=b.isNaN(n.value)?L.get('IDS_ISNOVALUE'):k[0];}return q;}p._processDataLabelRendererConfig=function(i,k){var s=this._fixBBoxWhenInvisible(k),n=this._properties.get("style"),t;var r=this._properties.get("respectShapeWidth");if(r){if((this._isPrimary(this._datalabel_type)&&!this._timeBindingId)||this._isSecondary(this._datalabel_type)||this._datalabel_type===I){var q=n.fontSize;if(!b.isNaN(q)){q+='px';}var u=T.fastMeasure(i.text,q,n.fontWeight,n.fontFamily);if(u.width>s.width){i.text='';}return;}var v={};var w=this.runtime().envManager();v.reverseDots=(w&&w.reverseDots());t=T.ellipsis(i.text,undefined,s.width,i.styles.cssString,v);if(t!==i.text&&t.indexOf('...')>=0&&t.length<6){t='';}i.text=t;}};var C=3;p.hideConditional=function(i){var n=i.length;for(var k=0;k<n;++k){var q=i[k];var s=q.center;for(var t=k+1;t<n;++t){var u=i[t].center;var r=c.getData(i[t].dataPoint).width/2+C;if((s.x-u.x)*(s.x-u.x)+(s.y-u.y)*(s.y-u.y)<=r*r){q.skip=true;break;}}}B.superclass.hideConditional.call(this,i);};p.sortDataLabelInfos=function(i){};return B;});define('sap/viz/chart/components/plots/BubblePlot',['sap/viz/framework/common/util/oo','sap/viz/chart/components/util/DrawUtil','sap/viz/framework/common/util/NumberUtils','sap/viz/chart/components/plots/ScatterPlot','sap/viz/framework/common/util/SVG','sap/viz/framework/common/util/TypeUtils','sap/viz/framework/common/util/Constants','sap/viz/chart/components/plots/model/DataPointInfo','sap/viz/chart/components/plots/model/Series','sap/viz/chart/components/renderers/ScatterRenderer','sap/viz/chart/components/datalabels/BubbleDataLabels','sap/viz/framework/scale/SizeScaleUtil','sap/viz/framework/common/util/DataGraphics','sap/viz/chart/components/plots/ProjectionHelper','sap/viz/framework/common/util/ObjectUtils',"sap/viz/chart/components/util/BoundingBoxUtils"],function(o,D,N,S,c,T,C,d,f,g,B,h,k,P,O,l){function m(r,a){m.superclass.constructor.apply(this,arguments);this._seletedSeries=[];this._semanticMgr.setUseSemanticPattern(true);if(this._renderType&&this._renderType.indexOf("time")>-1){this._bigDataThreshold=Infinity;}}o.extend(m,S);var M=4;var n=1;var p=m.prototype;p.setSizeScale=function(a){this._widthScale=a;};p.getWidthScale=function(){return this._widthScale;};p._getOrderMap=function(){return this._data.orderMap;};p.setLastSeries=function(a,b){var e=this._series;var j=e.length;if(!j){return;}var i=j;while(i--){var q=e[i];if(O.deepEqual(a,q.getContext())){var r=this._seletedSeries.indexOf(i);if(r!==-1){this._seletedSeries.splice(r,1);}this._seletedSeries.push(i);if(b&&j>1){this.refresh();}break;}}};p.destroy=function(){m.superclass.destroy.call(this);this._widthScale=null;this._seletedSeries=[];};var s=function(a,b){return b-a;};p._getSortedSeries=function(){var a=this._getOrderMap();var b=this._series;var e;e=Object.getOwnPropertyNames(a);e.sort(s);return e;};p._buildConfig=function(a,b,e){var i=m.superclass._buildConfig.apply(this,arguments);var j=M;if(a.hasOwnProperty('bubbleWidth')){j=Math.max(M,this._widthScale(a.bubbleWidth));}i.graphic.width=j;i.graphic.height=j;i.graphic.opacity=this._dpOpacity;return i;};p._getFillColorConfig=function(a,b,e,i){var j=i.bubbleWidth<0;this._semanticMgr.setUseSemanticPattern(!j);m.superclass._getFillColorConfig.apply(this,arguments);if(j){a.graphic.fillOpacity=0;a.graphic.opacity=1;a.graphic.borderColor=a.graphic.fill;}a.data.negativeValue=j;this._semanticMgr.setUseSemanticPattern(true);return a;};p._buildWrapperConfig=function(a,b,e){var i;if(this._isBigData&&e==null){var j=this._getShape(a);var q=M;var r=false;if(a.hasOwnProperty("bubbleWidth")){q=Math.max(M,this._widthScale(a.bubbleWidth));r=a.bubbleWidth<0;}i={graphic:{width:q,height:q,borderWidth:n,shape:j},data:{negativeValue:r,translate:[b.x,b.y]}};}else{i=m.superclass._buildWrapperConfig.apply(this,arguments);}return i;};p._showDatapoints=function(a){if(this._isBigData){this._renderBigVolumeDataPoints(a);}else{this._renderDataPoints(a);}};p._renderBigVolumeDataPoints=function(a){var b=this._realSize;var e=this._properties;var q=this._series;var r=this._dataPointContext;var i,j,t;var u=P.createPixelBoard(b.width,b.height,{layerLimit:1,visibleThreshold:6});var v=this._getSortedSeries();var w=this._getOrderMap();var z,A=v.length;var E=this._properties.get('showNegativeValues');var F,G,H;var I,J,K,L;for(i=A;i>=0;i--){if(i===A){H=this._seletedSeries;}else{H=w[v[i]];}z=H.length;for(j=z-1;j>=0;j--){F=H[j];if(i!==A&&this._seletedSeries.length>0&&this._seletedSeries.indexOf(F)!==-1){continue;}G=q[F];if(!G){continue;}K=this._getDataPointRenderer(F);if(!K){continue;}I=G.getDataPoints();J=I.length;for(t=0;t<J;t++){L=I[t];if(L){var Q=L.getRawData();if(!Q){continue;}var R=L.getConfig();if((!E&&R.data.negativeValue)||R.data.isNoValue){L.setVisible(false);}else{var U=L.getPosition();var x=Math.round(U.x);var y=Math.round(U.y);var V=R.graphic;var W=Math.round(V.width/2+V.borderWidth);var X=Math.round(V.height/2+V.borderWidth);V.negativeValue=R.data.negativeValue;var Y=P.isAreaVisible(u,V,x,y,W,X);L.setVisible(Y);if(Y){R=this._buildWrapperConfig(Q,U,Q.dp.context());L.setConfig(R);var Z=this._buildData(R);r[Q.dp.id]=R;L.setData(Z);var $=this._drawDataPoint(K,L);L.setNode($);if($){a.insertBefore($,a.firstChild);}}}}}}}};p._getDataLabels=function(a,r){return new B(r,{name:a});};p.getDataPointPosition=function(a,i){var b=m.superclass.getDataPointPosition.apply(this,arguments);var e=this._data.series[a][i];if(this._widthScale){b.r=this._widthScale(e.bubbleWidth);}return b;};p._drawDataPoint=function(a,b){var e=this._properties.get('showNegativeValues');var i=b.getConfig();if(false===e&&i.data.negativeValue){return null;}if(true===i.data.isNoValue){return null;}return m.superclass._drawDataPoint.apply(this,arguments);};p._buildData=function(a){var r=m.superclass._buildData.apply(this,arguments);var b=a.graphic;r.width=b.width;r.height=b.width;r.fillOpacity=b.fillOpacity;if(b.pattern){r.pattern=b.pattern;}return r;};p._postRender=function(e){m.superclass._postRender.apply(this,arguments);if(this._isBigData){return;}var j=e.querySelectorAll("."+C.CSS.CLASS.DATAPOINT);var q=j.length;var r=[];var i=0;for(i=0;i<q;++i){r.push({index:i,dp:j.item(i)});}r.sort(function(a,b){var t=k.getData(b.dp).width-k.getData(a.dp).width;if(t===0){t=a.index-b.index;}return t;});for(i=0;i<r.length;++i){e.appendChild(r[i].dp);}};p._updateDatapoint=function(a,b,e,i){var j=this._properties.get('showNegativeValues');if(false===j&&e.data.negativeValue){return;}if(true===e.data.isNoValue){return;}return m.superclass._updateDatapoint.call(this,a,b,e,i);};p.hitTest=function(a){var b=this._dataPointContext,x=a.x,y=a.y;var r;var i=this.getSize();var j=this._offset;var q=-j.x;var t=-j.y;var u=this._selection.select(".v-plot-bound").node();var v=u.getBoundingClientRect().width/u.getBBox().width;var w=this._properties.get('showNegativeValues');if(a.hasOwnProperty("width")&&a.hasOwnProperty("height")){var z=a.width,A=a.height;var E=i.width;if(v!=1){E*=v;}r=b.filter(function(e){if(!w&&e.data.negativeValue){return false;}var F=e.data.translate.slice();if(v!=1){F[0]*=v;F[1]*=v;}var G={x:F[0]-e.graphic.width/2-e.graphic.borderWidth,y:F[1]-e.graphic.height/2-e.graphic.borderWidth,width:e.graphic.width+2*e.graphic.borderWidth,height:e.graphic.height+2*e.graphic.borderWidth};var H={x:x+q,y:y+t,width:z,height:A};return l.intersects(G,H);});}else{r=b.filter(function(e){if(!w&&e.data.negativeValue){return false;}var F=e.data.translate.slice();if(v!=1){F[0]*=v;F[1]*=v;}var G={x:F[0]-e.graphic.width/2-e.graphic.borderWidth,y:F[1]-e.graphic.height/2-e.graphic.borderWidth,width:e.graphic.width+2*e.graphic.borderWidth,height:e.graphic.height+2*e.graphic.borderWidth};var H={x:x+q,y:y+t};return l.contains(G,H);});}return r;};return m;});define('sap/viz/chart/components/plots/YYPlotFactory',['jquery','sap/viz/chart/components/plots/BubblePlot','sap/viz/chart/components/plots/ScatterPlot'],function($,B,S){var p={'bubble':{plotClazz:B},'scatter':{plotClazz:S},'time_bubble':{plotClazz:B,},'timeseries_scatter':{plotClazz:S,options:{}},'timeseries_bubble':{plotClazz:B,options:{}},};return{getPlotClazz:function(r){var c=p[r];return c&&c.plotClazz;}};});define('sap/viz/chart/components/axis/sub/TimeValueAxisBody',["sap/viz/framework/common/util/oo","sap/viz/chart/components/axis/sub/ValueAxisBody","sap/viz/framework/common/util/TypeUtils","sap/viz/framework/scale/ValueScaleUtil","sap/viz/framework/common/lang/LangManager","sap/viz/chart/components/util/ValueAxisUtils","sap/viz/chart/components/axis/renderer/ValueBodyRenderer","sap/viz/framework/common/format/FormatManager"],function(o,V,T,a,L,b,c,F){var e=function(){e.superclass.constructor.apply(this,arguments);};o.extend(e,V);e.prototype._getTicksToRender=function(){var s=this._data,d=s.getDomain();return this._getAllLabels(null,s,true).filter(function(l){return l.value>=d[0]&&l.value<=d[1];}).map(function(l){return l.value;});};e.prototype.drawTicks=function(g,t,w,h,p,d,f){return c.drawTicks(g,t,w,h,p,d,f,true);};e.prototype._getFixedTicksLabels=function(f,d){f.forEach(function(n){n.text=T.isNonEmptyString(n.text)?n.text:L.get('IDS_ISNOVALUE');});return f.filter(function(l){return l.value>=d[0]&&l.value<=d[1];});};e.prototype._getAllLabels=function(p,s,u){var f=this._properties.get("axisTick.fixedTicks"),g=s.getDomain(),l=[];if(f&&f.length>0){l=this._getFixedTicksLabels(f,g);}else{var t=s.timeUnit,h=s.timeUnitGap,j=s.tickNum,k=new Date(g[0]);var m=function(v){return F.format(new Date(v),t.format);},n=function(v){return F.format(new Date(v),"dd/mm/yyyy hh:mm");};k.setMinutes(0);k.setSeconds(0);k.setMilliseconds(0);for(var i=0,d;i<j;i++){d=new Date(k.getTime());t.set.apply(d,[t.get.apply(k,[])+i*h]);l.push({text:m(d),value:d.getTime()});}var q=s.getDomainFixed();if(q[0]){l[0].text=n(new Date(l[0].value));}if(q[1]){l.push({value:g[1],text:n(new Date(g[1]))});}}this._setLabelsPosition(l,s);if(!u){return this._filterLabels(l);}return l;};e.prototype._filterLabels=function(d){var t=[];if(d.length>1){t=b.calculateLabelsToDrawHelper(d);if(t.length<=1||(t.length===2&&b.isOverLapped(t[0],t[1]))){t=[];}}else if(d.length===1){t=d;}return t;};e.prototype.formatTickValue=function(v,i,p,s){var f=v;var d=s.getDomainFixed();if(d[0]){f=F.format(new Date(v),"dd/mm/yyyy hh:mm");}else{f=F.format(new Date(v),s.timeUnit.format);}return f;};return e;});define('sap/viz/chart/components/axis/TimeValueAxis',['sap/viz/framework/common/util/Constants',"sap/viz/framework/common/util/oo","sap/viz/chart/components/axis/ValueAxis","sap/viz/chart/components/axis/sub/TimeValueAxisBody","sap/viz/chart/components/scrollbar/Scrollbar"],function(C,o,V,T,S){var a=function(r,b){V.superclass.constructor.apply(this,arguments);this.setChild("axisBody",new T(r,b),{order:1,priority:2,offset:0});this.setChild(C.AXIS.SCROLLBAR_NAME,new S(r,{name:'plotArea.scrollbar'}),{order:2,priority:0,offset:0});this._isPercentageMode=false;};o.extend(a,V);a.prototype.setData=function(d){a.superclass.setData.apply(this,arguments);if(d&&d.scale){this._scale.tickNum=d.scale.tickNum;this._scale.timeUnit=d.scale.timeUnit;this._scale.timeUnitGap=d.scale.timeUnitGap;}};return a;});define('sap/viz/chart/components/zoom/YYZoomer',["sap/viz/chart/components/zoom/XYZoomer","sap/viz/chart/components/zoom/ZoomLimit",'sap/viz/framework/common/util/oo'],function(X,Z,o){function Y(){Y.superclass.constructor.apply(this,arguments);}o.extend(Y,X);Y.prototype.direction=function(){return"xy";};Y.prototype._calcZoomLimit=function(m,d){var p=Z.Regular(m,d),a=m.plot.getVisibleRange(),x=a.x?a.x.ratio:0,y=a.y?a.y.ratio:0;var b=p[0],c=Math.max(p[1],x,y);return{x:{min:b,max:c},y:{min:b,max:c}};};return Y;});define('sap/viz/chart/components/zoom/TimeYZoomer',["sap/viz/chart/components/zoom/XYZoomer","sap/viz/chart/components/zoom/ZoomLimit",'sap/viz/framework/common/util/oo',"sap/viz/framework/common/util/TypeUtils","sap/viz/framework/common/util/TimeUtil"],function(X,Z,o,T,a){function b(){b.superclass.constructor.apply(this,arguments);}o.extend(b,X);b.prototype.direction=function(){var r=this._modules.main._renderType;if(!this.enabled()){return"";}else{switch(r){case"timeseries_waterfall":case"timeseries_line":case"timeseries_column":case"timeseries_stacked_column":case"timeseries_100_stacked_column":case"timeseries_combination":case"timeseries_bullet":return this._modules.isHorizontal?"y":"x";case"timeseries_bubble":case"timeseries_scatter":return"xy";default:return b.superclass.direction.call(this);}}};b.prototype.zoom=function(r,p,i){this._status.set("zooming",true);return b.superclass.zoom.call(this,r,p,i);};b.prototype._calcZoomLimit=function(m,d){if(!(m.main.isColumnLike&&m.main.isColumnLike())){var p=m.main,c=m.plot,t=p.getChild("timeAxis").module,z=p._properties.get("plotArea.window"),e=p.getData().timeAxis.scale.getDomain(),f=e[1]-e[0],s,g=Math.min(c.getSize().width*0.7,250);if(z){var h=e[0],i=e[1];if(T.isExist(z.start)){if(T.isNumber(z.start)){h=Number(z.start);}else if(T.isNumber(new Date(z.start).getTime())){h=new Date(z.start).getTime();}}if(T.isExist(z.end)){if(T.isNumber(z.end)){i=Number(z.end);}else if(T.isNumber(new Date(z.end).getTime())){i=new Date(z.end).getTime();}}if(i>h){s=f/(i-h);}}var l=t.getChild("axisBody").module.getActiveLevels(),j=(l&&l.length>0)?l[0]:"day",w=c.getSize().width;var k=a['ONE_'+j.toUpperCase()];var n=g/k*f/w;if(!T.isExist(s)||s<n){s=n;}return{x:{min:1,max:s},y:{min:1,max:s}};}else{var q={x:{},y:{}},r=Z.Bar(m,d);q.x.min=r[0];q.x.max=r[1];q.y.min=r[0];q.y.max=r[1];return q;}};return b;});define('sap/viz/chart/components/plotareas/YYPlotArea',['sap/viz/framework/common/util/oo','sap/viz/chart/components/container/XYContainer','sap/viz/chart/components/axis/ValueAxis','sap/viz/chart/components/axis/TimeAxis','sap/viz/chart/components/scrollbar/Scrollbar','sap/viz/chart/components/plots/YYPlotFactory','sap/viz/chart/components/plots/PlotHelper',"sap/viz/framework/scale/ValueScale","sap/viz/framework/common/util/NumberUtils","sap/viz/chart/components/axis/TimeValueAxis",'sap/viz/chart/components/util/ValueAxisUtils','sap/viz/framework/common/util/UADetector','sap/viz/framework/common/util/Constants','sap/viz/framework/common/util/DataUtils','sap/viz/framework/scale/TimeScale','sap/viz/chart/components/zoom/YYZoomer','sap/viz/chart/components/zoom/TimeYZoomer','sap/viz/chart/components/util/ZoomUtil',"sap/viz/chart/components/plots/PlotGeometryKeeper","sap/viz/framework/common/util/TypeUtils",'sap/viz/framework/common/util/TimeUtil',],function(o,X,V,T,S,P,a,b,N,c,d,U,C,D,e,Y,f,Z,g,i,j){function k(n){var h,v,q=n._plot;if(q._hasTimeAxis()){h="timeAxis";v="valueAxis";}else{h="valueAxis";v="valueAxis2";}function r(){return g.offsetInValue({h:n._data[h].scale,v:n._data[v].scale},n.getOffset(),q.getRealSize());}function s(t){var w=n._data[h].scale,x=n._data[v].scale,y=q.getRealSize(),z={};if(!isNaN(t.x)){z.x=-w.scale(t.x)*y.width;}if(!isNaN(t.y)){z.y=-(1-x.scale(t.y))*y.height;}n.scroll(z);}return{get:r,set:s};}function l(r,h){l.superclass.constructor.apply(this,arguments);this._init();r.statusManager().add("plot.offsetInValue",{serializable:false,get:k(this).get,set:k(this).set});}o.extend(l,X);var p=l.prototype;p._init=function(h){var r=this.runtime();this._plot=a.create(this._renderType,P.getPlotClazz(this._renderType),r);this._plot.getDispatch().on("reRenderComplete.plotarea",this._reRenderComplete.bind(this));this.setChild("plot",this._plot,{position:"center"});this.setLayoutSequence(['left','right','bottom','top']);var n=!this._properties.get("interaction.noninteractiveMode");if(this._hasTimeAxis()){this._bottomAxis=new T(r,{name:'timeAxis',allowInterval:false,hasScrollbar:n});this._leftAxis=new V(r,{name:"valueAxis"});this.setChild("timeAxis",this._bottomAxis,{position:"bottom"});this.setChild("valueAxis",this._leftAxis,{position:"left"});}else{if(this.isTimeBased()){this._bottomAxis=new c(r,{name:"valueAxis"});this._plot._dataLabels.setTimeBindingId("valueAxis");}else{this._bottomAxis=new V(r,{name:"valueAxis",hasScrollbar:n});}this._leftAxis=new V(r,{name:"valueAxis2"});this.setChild("valueAxis",this._bottomAxis,{position:"bottom"});this.setChild("valueAxis2",this._leftAxis,{position:"left"});}if(n){this._hScrollbar=this._bottomAxis.getChild(C.AXIS.SCROLLBAR_NAME).module;this._vScrollbar=new S(r,{name:"plotArea.scrollbar"});this.setChild("scrollbar",this._vScrollbar,{position:"right"});}this.getZoomer().init({main:this,plot:this._plot,axisByDirection:{x:[this._bottomAxis],y:[this._leftAxis]}});};p._preRender=function(){l.superclass._preRender.apply(this,arguments);this._setValueAxisRange();};p._reRenderComplete=function(){if(this._eventDispatch){this._eventDispatch.reRenderComplete();}};p.getDisplayedTimeDomain=function(){if(this._bottomAxis.getName()==="timeAxis"){var h=this.getChildrenByPosition("center")[0];var r=h.getRealSize();var s=h.getSize();var n=false;var t=this._plot.getOffset();return d.getTimeAxisDomain(s,t,r,this.getData().timeAxis.scale.getDomain(),n);}return null;};p._setValueAxisRange=function(){var s=this._plot.getSize();var r=this._plot.getRealSize();var h=this._plot.getVisibleRange();if(!h.x&&!h.y){return;}var n={},q={};if(h.x){n.x=h.x.ratio;q.x=h.x.delta*s.width*n.x;}if(h.y){n.y=h.y.ratio;q.y=-(s.height*(n.y-1)+h.y.delta*s.height*n.y);}this.zoom(n);this.scroll(q);};p.destroy=function(){var h=this._data;var s=this.runtime().statusManager();if(s.get("valueAxisScaleDomain")){if(h&&h.valueAxis&&!h.valueAxis.scale.isFixed()&&h.valueAxis.scale.getDomainChanged()){h.valueAxis.scale.setDomain(s.get("valueAxisScaleDomain"));}s.remove("valueAxisScaleDomain");}if(s.get("valueAxis2ScaleDomain")){if(h&&h.valueAxis2&&!h.valueAxis2.scale.isFixed()&&h.valueAxis2.scale.getDomainChanged()){h.valueAxis2.scale.setDomain(s.get("valueAxis2ScaleDomain"));}s.remove("valueAxis2ScaleDomain");}l.superclass.destroy.call(this);this._plot=null;this._bottomAxis=null;this._leftAxis=null;};p.getPlot=function(){return this._plot;};p.isTimeBased=function(){return this._renderType==="time_bubble";};p._hasTimeAxis=function(){return/timeseries/.test(this._renderType);};p.isScatter=function(){return this._renderType==="scatter";};p.setData=function(h){l.superclass.setData.apply(this,arguments);this.updateValueScale();this._plot.setData(this._data);};function u(h,s,n,q){var v=d.updateScatterValueAxis(h,[0,s*0.8],C.BUBBLE.DEFAULT_WIDTH_RATIO,q);v.scale.setRange([0,1]);h.scale=v.scale;h.tickHint=v.tickHint;n.setData(h);}function m(h,s,n,q){var r=C.BUBBLE.DEFAULT_WIDTH_RATIO;var t=h.scale;var v=t.getDomain().slice();var w=t.getDomainFixed();var x;if(v[1]===v[0]){x=j.getPeriod(q)/2;}else{x=(v[1]-v[0])*r;}if(!w[0]){v[0]-=x;}if(!w[1]){v[1]+=x;}h.scale=new e(v,t.getRange(),t.getDomainFixed(),t.getDataBound());n.setData(h);}p._adjustScale=function(){var h=this._data;var n=this._hasTimeAxis();var v=h.valueAxis;var q=h.valueAxis2;var s=this.runtime().statusManager();var r=function(L){L.setZeroAdjusted(true);L.setDomainChanged(false);};if((v&&v.scale.isFixed())||(q&&q.scale.isFixed())){r(v.scale);if(!n){r(q.scale);}return;}var t=this._properties.get("plotArea.adjustScale");if(!i.isExist(t)||!t){r(v.scale);if(!n){r(q.scale);}return;}v.scale.setZeroAdjusted(false);if(!n){q.scale.setZeroAdjusted(false);}var w=this._roughSize.width;var x=this._roughSize.height;var y=this._renderType;var z=null;var A=null;var B=s.get("valueAxisScaleDomain");if(!B){return;}var E;if(!n){z=v.scale.getDomainFixed();A=q.scale.getDomainFixed();E=s.get("valueAxis2ScaleDomain");if(!E){return;}}else{A=v.scale.getDomainFixed();}var F=function(v,G,L,M,H){var O=d.updateScatterValueAxis(v,G,C.BUBBLE.DEFAULT_WIDTH_RATIO,false);var Q=v.scale;var R=Q.getRange();var W=Q.getDomain().slice();Q.setRange(G);var $=O.scale.getDomain().slice();Q.setDomain($);var _;var a1=L[1]<=0?Math.round(Q.scale($[1])):Math.round(Q.scale($[0]));var b1=false;var c1=1.2;if(L[0]<0&&L[1]<=0){if(Math.round(Q.scale(L[1]))+M>=a1){b1=true;}}else{if(Math.round(Q.scale(L[0]))-a1<=M*c1){b1=true;}}var d1=function(e1,G,f1){if(G&&f1){return(e1/(G[1]-G[0]))*(f1[1]-f1[0]);}return e1;};if(b1){if(L[1]>0){if(L[0]!==0){_=$[0]-d1(M*H,G,$);}else{_=d1(-M*H,G,L);}if(Q.scale(L[1]-L[0])<Q.scale(Math.abs(_))){_=-$[1]*1/8;}Q.setDomain([_,L[1]]);}else if(L[0]===0&&L[1]===0){_=-$[1]*1/8;Q.setDomain([_,$[1]]);}else{_=$[1]+M*H;Q.setDomain([L[0],_]);}Q.setDomainChanged(true);}else{Q.setDomain(W);}Q.setRange(R);};var G;var H=0;if(y.indexOf("scatter")>-1){var I=10;H=1;if(!n&&!z[0]){G=[0,w];F(v,G,B,I,H);}if(!A[0]){G=[0,x];F(n?v:q,G,n?B:E,I,H);}}else if(y.indexOf("bubble")>-1){var J;J=Math.min(x,w);J*=C.BUBBLE.DEFAULT_WIDTH_RATIO;var K=Math.pow(1,0.5)*J/2;H=2;if(!n&&!z[0]){G=[0,w*0.8];F(v,G,B,K,H);}if(!A[0]){G=[0,x];F(n?v:q,G,n?B:E,K,H);}}};p.updateValueScale=function(){var h=this._data;var w=this._roughSize.width;var n=this._roughSize.height;var s=this.runtime().statusManager();if(h&&w>0&&n>0){if(!s.get("valueAxisScaleDomain")){s.add("valueAxisScaleDomain",h.valueAxis.scale.getDomain().slice());}if(!this._hasTimeAxis()&&!s.get("valueAxis2ScaleDomain")){s.add("valueAxis2ScaleDomain",h.valueAxis2.scale.getDomain().slice());}this._adjustScale();if(this._hasTimeAxis()){var q=this.runtime().statusManager().get('timeLevels');var r=q?q[0]:"day";m(h.timeAxis,w,this._bottomAxis,r);u(h.valueAxis,n,this._leftAxis);}else{var t=this.isTimeBased();u(h.valueAxis,w,this._bottomAxis,t);u(h.valueAxis2,n,this._leftAxis);}}};p._configLayout=function(){var s=this._scrollbarExistence();if(this._vScrollbar){this._vScrollbar.isExist(s.v);}if(this._hScrollbar){this._hScrollbar.isExist(s.h);}return l.superclass._configLayout.apply(this,arguments);};p._scrollbarExistence=function(){var E=this.getZoomer().enabled();var z=this.getZoomer().direction()||"",x=E&&z.indexOf("x")!==-1,y=E&&z.indexOf("y")!==-1;var s=this._properties.get("plotArea.window.start")||{},h=this._properties.get("plotArea.window.end")||{},n=this._hasTimeAxis();if(!x){if(n){x=s.hasOwnProperty("timeAxis")||h.hasOwnProperty("timeAxis");}else{x=!(isNaN(s.valueAxis)&&isNaN(h.valueAxis));}}if(!y){if(n){y=!(isNaN(s.valueAxis)&&isNaN(h.valueAxis));}else{y=!(isNaN(s.valueAxis2)&&isNaN(h.valueAxis2));}}return{h:x,v:y};};p._getZoomer=function(){if(this._hasTimeAxis()){return new f(this);}else{return new Y(this);}};return l;});define('sap/viz/chart/views/YYChartView',['sap/viz/framework/common/util/oo','sap/viz/chart/views/ChartView','sap/viz/chart/components/legend/ColorLegend','sap/viz/chart/components/legend/SizeLegend','sap/viz/chart/components/plotareas/YYPlotArea','sap/viz/framework/scale/SizeScaleUtil','sap/viz/framework/common/util/NumberUtils','sap/viz/framework/common/util/Constants',"sap/viz/chart/components/util/TextUtils",'sap/viz/framework/common/util/TypeUtils'],function(o,C,a,S,Y,b,N,c,T,d){function e(r,f){e.superclass.constructor.apply(this,arguments);this._supportLazyRender=true;}o.extend(e,C);var p=e.prototype;p.setSize=function(){if(this._plotArea&&this._plotArea.setRoughSize){this._plotArea.setRoughSize.apply(this._plotArea,arguments);}e.superclass.setSize.apply(this,arguments);};p._isBubble=function(){return/bubble/.test(this._renderType);};p._getLegendDefinition=function(){if(this._isBubble()){return[S,a];}return[a];};p._getLegendModuleKey=function(){if(this._isBubble()){return["sizeLegend","legend"];}return["legend"];};p._getDataItems=function(){return["valueAxis","timeAxis","valueAxis2","bubbleHeight","bubbleWidth","color","shape","dataFrame","series","transparent","trellisRow","trellisColumn","orderMap"];};p._createPlotContainer=function(i){this._plotArea=new Y(this.runtime(),{renderType:this._renderType});this._plotArea.setRoughSize(this._size);this._plot=this._plotArea.getPlot();this.setChild("main",this._plotArea,{priority:3});};p._configLayout=function(){if(this._isBubble()){this._applySizeScale();}return e.superclass._configLayout.apply(this,arguments);};p._applySizeScale=function(f){var w=this._data.bubbleWidth.scale;var g=w.getDomain();var m=g[0],h=g[1];var l;if(N.isNoValue(h)&&N.isNoValue(m)){l=[null];}else if(h===m){if(!g.withNoValue){l=[h];}else{l=[h,null];}}else{if(!g.withNoValue&&!g.withMiddleValue){l=[h,m];}else if(!g.withNoValue&&g.withMiddleValue){l=[h,(h+m)/2,m];}else if(g.withNoValue&&!g.withMiddleValue&&g.withZeroValue){l=[h,m];}else if(g.withNoValue&&!g.withMiddleValue&&!g.withZeroValue){l=[h,(h+m)/2,null];}else{l=[h,(h+m)/2,g.withZeroValue?0:null];}}var i=parseInt(this._properties.get("plotArea.minMarkerSize"));var j=null;var k=this.getChild(c.LEGEND_GROUP.KEY).module;j=Math.min(this._size.height,this._size.width);j*=c.BUBBLE.DEFAULT_WIDTH_RATIO;var s=b.build(i,j,g);var n=k.getChild("sizeLegend").module;n.setData({labels:l,scale:s});this._plot.setSizeScale(s);};p.calculatePaddingInPX=function(f){var g=e.superclass.calculatePaddingInPX.apply(this,arguments);if((f.get("title.visible")===false)&&(f.get("valueAxis.visible")===true)){this.changePaddingTop(f,g);}return g;};return e;});define('sap/viz/chart/metadata/bindings/YYBindings',[],function Setup(){var f=[{"id":"dataFrame","name":"IDS_DATA_FRAME","type":"Dimension","min":0,"max":1,"acceptMND":false,"role":"frame.data"},{"id":"trellisColumn","name":"IDS_TRELLIS_COLUMN","type":"Dimension","min":0,"max":Number.POSITIVE_INFINITY,"acceptMND":true,"role":"trellis.columnCategory"},{"id":"trellisRow","name":"IDS_TRELLIS_ROW","type":"Dimension","min":0,"max":Number.POSITIVE_INFINITY,"acceptMND":true,"role":"trellis.rowCategory"},{"id":"color","name":"IDS_COLOR","type":"Dimension","min":0,"max":Number.POSITIVE_INFINITY,"acceptMND":false,"role":"mark.color"},{"id":"shape","name":"IDS_SHAPE","type":"Dimension","min":0,"max":Number.POSITIVE_INFINITY,"acceptMND":false,"role":"mark.shape"},{"id":"valueAxis","name":"IDS_VALUE_AXIS","type":"Measure","min":1,"max":1,"role":"layout.value"},{"id":"valueAxis2","name":"IDS_VALUE_AXIS2","type":"Measure","min":1,"max":1,"role":"layout.secondValue"},{"id":"bubbleWidth","name":"IDS_BUBBLESIZE","type":"Measure","min":1,"max":1,"role":"mark.size"}];return f;});define('sap/viz/chart/components/plotareas/XYYPlotArea',['sap/viz/framework/common/util/Constants','sap/viz/framework/common/util/oo','sap/viz/chart/components/plotareas/XYPlotArea','sap/viz/chart/components/axis/ValueAxis','sap/viz/chart/components/axis/CategoryAxis',"sap/viz/framework/scale/ValueScale","sap/viz/framework/scale/ValueScaleUtil",'sap/viz/chart/components/util/TextUtils','sap/viz/framework/common/format/UnitFormat','sap/viz/framework/common/util/TypeUtils','sap/viz/chart/components/datalabels/DataLabels','sap/viz/chart/components/datalabels/BarDataLabels','sap/viz/framework/common/util/NumberUtils'],function Setup(C,o,X,V,a,b,c,T,U,d,D,B,N){var f=function(r,e){f.superclass.constructor.apply(this,arguments);};o.extend(f,X);f.prototype._getPlotOptions=function(){return{isDualValueAxis:true};};f.prototype.setData=function(e){f.superclass.setData.apply(this,arguments);this._applyDefaultProperties(e);};f.prototype._applyDefaultProperties=function(e){this._properties.setDefault("valueAxis.color",e.color.scale.getRange()[0]);this._properties.setDefault("valueAxis2.color",e.color2.scale.getRange()[0]);this._properties.setDefault("valueAxis.title.applyAxislineColor",true);this._properties.setDefault("valueAxis2.title.applyAxislineColor",true);};f.prototype.allOrNone=function(r,e){var m=this._plot.isHorizontal()?"height":"width",v=this._properties.get("valueAxis.visible")&&this._properties.get("valueAxis2.visible"),s=r.valueAxis[m],g=r.valueAxis2[m];if(v&&(s===0||g===0)){r.valueAxis[m]=r.valueAxis2[m]=0;e[m]+=(s+g);}};f.prototype._init=function(){var e={};e.valueAxisScrollbar=false;e.valueAxisPosition="top";f.superclass._init.apply(this,[e]);var i=this._plot.isHorizontal();var g=!this._properties.get("interaction.noninteractiveMode");if(i){this.setLayoutSequence(['bottom','top',this.allOrNone.bind(this),'left','right']);this._valueAxis2=new V(this.runtime(),{name:"valueAxis2",hasScrollbar:g,valueAxes:this._valueAxes});this.setChild("valueAxis2",this._valueAxis2,{position:"bottom"});if(g){this._hScrollbar=this._valueAxis2.getChild(C.AXIS.SCROLLBAR_NAME).module;}}else{this.setLayoutSequence(['left','right',this.allOrNone.bind(this),'bottom','top']);this._valueAxis2=new V(this.runtime(),{name:"valueAxis2",hasScrollbar:g,valueAxes:this._valueAxes});this.setChild("valueAxis2",this._valueAxis2,{position:"right"});if(g){this._vScrollbar=this._valueAxis2.getChild(C.AXIS.SCROLLBAR_NAME).module;this.getChild("scrollbar").module.destroy();this.removeChild("scrollbar");}}if(this._isPercentageChart()){this._valueAxis.setPercentageMode(true);this._valueAxis2.setPercentageMode(true);}this._zoomer.init({main:this,plot:this._plot,axisByDirection:{x:i?[this._valueAxis,this._valueAxis2]:[this._categoryAxis],y:i?[this._categoryAxis]:[this._valueAxis,this._valueAxis2]},isHorizontal:i});};f.prototype.updateValueScale=function(){var g=this._data;var w=this._roughSize.width;var h=this._roughSize.height;if(!g||w<=0||h<=0){return g;}var r=[0,1];var j=this._plot.isHorizontal();if(j){r[1]=w;}else{r[1]=h;}r[1]*=0.8;var v,k,n=g;if(this._isPercentageChart()){v=this._calcPercentageValueAxisScale(r);["","2"].forEach(function(e){var i="valueAxis"+e;v.metaData=g[i].metaData;g[i].tickHint=v.tickHint;this["_"+i].setData(v);},this);}else{if(this._isAdjustValueScaleForTopLabel()){var l=this._properties.get('plotArea.dataLabel');var m=this._properties.get('plotArea.primaryScale.fixedRange');var p=this._data.valueAxis.scale;var q=this._data.valueAxis2.scale;var s=p.getDomain().slice();var t=q.getDomain().slice();var x=l.formatString;var y,z,A;if(this._data&&this._data.valueAxis&&this._data.valueAxis.metaData){z=this._data.valueAxis.metaData[0].id;A=this._data.valueAxis.metaData[0].formatString;}x=x?x:A;var E={key:z};v=this._calcValueAxisScale("valueAxis",r);k=this._calcValueAxisScale("valueAxis2",r);if((!(m||p.getDomainFixed()[1]||q.getDomainFixed()[1]))&&(l.visible||l.showTotal)&&(s||t)){var F=[null,null];if(this._isStackedChart()&&l.showTotal){if(this._plot.isHorizontal()){y=D.getFirstFormatPattern(x,E);}var G;var H={decimalFormatString:U.getDecimalFormatString(U.SUPPORT_CUSTOM_COMPONENTS.DATALABEL)};if(s[1]>0){G=U.format(N.preciseSimple(s[1]),y,l.unitFormatType,H);F[1]=T.fastMeasure(G,l.style.fontSize,l.style.fontWeight,l.style.fontFamily,l.style.fontStyle);}if(s[0]<0){G=U.format(N.preciseSimple(s[0]),y,l.unitFormatType,H);F[0]=T.fastMeasure(G,l.style.fontSize,l.style.fontWeight,l.style.fontFamily,l.style.fontStyle);}v=this._calcValueAxisScale("valueAxis",r,c.extendDomainForDataLabel(s,r,F,this._plot.isHorizontal()));F=[null,null];if(t[1]>0){G=U.format(N.preciseSimple(t[1]),y,l.unitFormatType,H);F[1]=T.fastMeasure(G,l.style.fontSize,l.style.fontWeight,l.style.fontFamily,l.style.fontStyle);}if(t[0]<0){G=U.format(N.preciseSimple(t[0]),y,l.unitFormatType,H);F[0]=T.fastMeasure(G,l.style.fontSize,l.style.fontWeight,l.style.fontFamily,l.style.fontStyle);}k=this._calcValueAxisScale("valueAxis2",r,c.extendDomainForDataLabel(t,r,F,this._plot.isHorizontal()));}if(!this._isStackedChart()&&l.visible&&((s&&(s[1]>0||s[0]<0))||(t&&(t[1]>0||t[0]<0)))){if(this._isColumnChart()){var I=T.fastMeasure('M',l.style.fontSize,l.style.fontWeight,l.style.fontFamily,l.style.fontStyle);if(s[1]>0){F[1]=I;}if(s[0]<0){F[0]=I;}v=this._calcValueAxisScale("valueAxis",r,c.extendDomainForDataLabel(s,r,F,j));F=[null,null];if(t[1]>0){F[1]=I;}if(t[0]<0){F[0]=I;}k=this._calcValueAxisScale("valueAxis2",r,c.extendDomainForDataLabel(t,r,F,j));}else{if(s[1]>0){F[1]=B.getLabelSize(this._data.series,s[1],this._properties,x);}if(s[0]<0){F[0]=B.getLabelSize(this._data.series,s[0],this._properties,x);}v=this._calcValueAxisScale("valueAxis",r,c.extendDomainForDataLabel(s,r,F,j));F=[null,null];if(t[1]>0){F[1]=B.getLabelSize(this._data.series,t[1],this._properties,x,"valueAxis2");}if(t[0]<0){F[0]=B.getLabelSize(this._data.series,t[0],this._properties,x,"valueAxis2");}k=this._calcValueAxisScale("valueAxis2",r,c.extendDomainForDataLabel(t,r,F,j));}}}}else{v=this._calcValueAxisScale("valueAxis",r);k=this._calcValueAxisScale("valueAxis2",r);}c.syncTicks(v.scale,k.scale);var J=v.autoScale;var K=k.autoScale;c.syncTicks(J,K);v.scale.setAutoDomain(J.getDomain());k.scale.setAutoDomain(K.getDomain());var L={valueAxis:v,valueAxis2:k};[v,k].forEach(function(e,i){var M="valueAxis"+(i?"2":"");g[M].scale=e.scale;e.tickHint=g[M].tickHint=e.scale._tickHint;g[M].scale.setRange([0,1]);var O=L[M];O.metaData=g[M].metaData;this["_"+M].setData(O);},this);n=this._cloneData(L);}return n;};function u(){}return f;});define('sap/viz/chart/views/XYYChartView',['jquery','sap/viz/framework/common/util/oo','sap/viz/chart/views/XYChartView','sap/viz/chart/components/plotareas/XYYPlotArea',"sap/viz/chart/components/util/TextUtils",'sap/viz/framework/common/util/TypeUtils'],function Setup($,o,X,P,T,a){var b=function(r,c){b.superclass.constructor.apply(this,arguments);};o.extend(b,X);b.prototype._getDataItems=function(){return["valueAxis","valueAxis2","categoryAxis","color","color2","dataFrame","series","trellisRow","trellisColumn"];};b.prototype._createPlotContainer=function(i){this._plotArea=new P(this.runtime(),{renderType:this._renderType,valueAxisIndex:this._valueAxisIndex});this._plotArea.setRoughSize(this._size);this.setChild("main",this._plotArea,{priority:3});};b.prototype.changePaddingTop=function(p,c){var d=p.get("valueAxis.label.style");var v=T.canvasMeasure('',d['fontSize'],d['fontWeight'],d['fontFamily']).height;var e=p.get("valueAxis2.label.style");var f=0;if(e){f=T.canvasMeasure('',e['fontSize'],e['fontWeight'],e['fontFamily']).height;}if(a.isExist(c.propertyPaddingInPX)&&c.propertyPaddingInPX<Math.min(v,f)/2){c.propertyPaddingTopInPX=Math.max(v,f)/2;}if(a.isExist(c.propertyPaddingTopInPX)&&c.propertyPaddingTopInPX<Math.min(v,f)/2){c.propertyPaddingTopInPX=Math.max(v,f)/2;}};b.prototype._getSeriesSettings=function(){var s=b.superclass._getSeriesSettings.call(this);if(s){s.forEach(function(c,i){if(this._renderType.match(/stacked/)){c.stack="stacked_"+this._data.series[i].measureMeta[0];}}.bind(this));}return s;};return b;});define('sap/viz/chart/metadata/bindings/XYYBindings',[],function Setup(){var f=[{"id":"dataFrame","name":"IDS_DATA_FRAME","type":"Dimension","min":0,"max":1,"acceptMND":false,"role":"frame.data"},{"id":"trellisColumn","name":"IDS_TRELLIS_COLUMN","type":"Dimension","min":0,"max":Number.POSITIVE_INFINITY,"acceptMND":false,"role":"trellis.columnCategory"},{"id":"trellisRow","name":"IDS_TRELLIS_ROW","type":"Dimension","min":0,"max":Number.POSITIVE_INFINITY,"acceptMND":false,"role":"trellis.rowCategory"},{"id":"categoryAxis","name":"IDS_CATEGORY_AXIS","type":"Dimension","min":1,"max":Number.POSITIVE_INFINITY,"acceptMND":false,"role":"layout.category"},{"id":"color","name":"IDS_COLOR","type":"Dimension","min":1,"max":Number.POSITIVE_INFINITY,"acceptMND":true,"role":"mark.color"},{"id":"valueAxis","name":"IDS_VALUE_AXIS","type":"Measure","min":1,"max":Number.POSITIVE_INFINITY,"role":"layout.value"},{"id":"valueAxis2","name":"IDS_VALUE_AXIS2","type":"Measure","min":1,"max":Number.POSITIVE_INFINITY,"role":"layout.secondValue"}];return f;});define('sap/viz/chart/components/util/FillPatternUtils',['sap/viz/framework/common/util/SVG','sap/viz/framework/scale/RGBA'],function Setup(S,R){var C="v-m-root";var D="defs-diagonalHatch";var P="diagonalHatch-";var U={};U.getPatternId=function(c){var r=new R();c=r.from(c).toHex();return"url(#"+P+c.replace(/#/,"")+")";};U.patternize=function(c,n,u){var r=n;while(!r.getAttribute("class")||r.getAttribute("class").indexOf(C)===-1){r=r.parentNode;}var d=r.querySelector("#"+D);if(!d){d=S.create("defs");d.setAttribute("id",D);r.appendChild(d);}var p;if(c){var a=new R();c=a.from(c).toHex();p=P+c.replace(/#/,"");}else{c=u.substr(("url(#"+P).length,6);p=P+c;c="#"+c;}var b=r.querySelector("#"+p);if(!b){var e=S.create("path");b=S.create("pattern");e.setAttribute("d","M2,0L5,0L0,5L0,2L2,0 M7,2L7,5L5,7L2,7L7,2");e.setAttribute("fill",c);e.setAttribute("fill-opacity",1);b.setAttribute("id",p);b.setAttribute("patternUnits","userSpaceOnUse");b.setAttribute("width",7);b.setAttribute("height",7);b.appendChild(e);d.appendChild(b);}return"url(#"+p+")";};return U;});define('sap/viz/chart/components/legend/BulletLegend',['sap/viz/framework/common/util/oo','sap/viz/framework/scale/ColorScale','sap/viz/chart/components/legend/ColorLegend','sap/viz/framework/common/util/TypeUtils','sap/viz/chart/components/util/FillPatternUtils','sap/viz/framework/scale/ColorShapeScaleMerger','sap/viz/framework/common/util/Constants','sap/viz/framework/common/util/NameColorUtils','sap/viz/framework/common/lang/LangManager','sap/viz/framework/scale/BulletColorScale'],function(o,C,a,T,F,b,c,N,L,B){var I=c.CSS.CLASS.LEGENDITEM;var D="#aaaaaa";var d=function(){d.superclass.constructor.apply(this,arguments);};var e=["actualColor","additionalColor","forecastColor"],H=[true,true,false];o.extend(d,a);d.prototype.setData=function(v){this._data=v;this._series=v.color||this._createSeries(v);this._colorShapeScale=null;return this;};function h(r,n){for(var i=0;i<r.length;++i){if(r[i].color.hasOwnProperty(n)&&r[i].color[n]){return true;}}return false;}d.prototype._createSeries=function(i){var m='actualValues,additionalValues,forecastValues,targetValues'.split(',').reduce(function(j,k){if(i[k]){j[k]=i[k].metaData.map(function(l){return l.name||l.id;});}return j;},{});return{scale:new B([],this._properties.parentLevel,{mnds:m})};};d.prototype._createColorScale=function(){var p=this._properties.parentLevel;var k=this.runtime().semanticManager();var l=s(k);var m=l.scale;var n=this._data.actualValues.metaData.length;var q=k.isOverrideMode()&&m&&m._others&&m._others.properties&&m._others.properties.color;var r=h(l.range,"actualColor")||(q&&!!m._others.properties.color["actualColor"]);var t=h(l.range,"additionalColor")||(q&&!!m._others.properties.color["additionalColor"]);var u=h(l.range,"forecastColor")||(q&&!!m._others.properties.color["forecastColor"]);var i;for(i=0;i<l.range.length;i++){var v=l.range[i];if(v.color&&v.pattern){if(!v.color["actualColor"]&&v.pattern["actualColor"]){v.color["actualColor"]=D;}if(!v.color["additionalColor"]&&v.pattern["additionalColor"]){v.color["additionalColor"]=D;}if(!v.color.hasOwnProperty("forecastColor")&&v.pattern["forecastColor"]){delete v.pattern["forecastColor"];delete l.domain[i]["forecastColor"];}}}if(!k.isOverrideMode()){r=false;t=false;u=false;}var w,x,y;var z=this._series;var A=f(this._data.targetValues,z.scale,z,n),E=g(p,A),G;w=f(this._data.actualValues,z.scale,z,n,"actualValues");if(!t){x=f(this._data.additionalValues,z.scale,z,n,"additionalValues");}if(!u){y=f(this._data.forecastValues,z.scale,z,n,"forecastValues");}var J={domain:[],range:[]};for(i=0;i<w.domain.length;++i){if(!r){J.domain.push(w.domain[i]);J.range.push(w.range[i]);}if(!t&&x&&x.domain[i]){J.domain.push(x.domain[i]);J.range.push(x.range[i]);}if(!u&&y&&y.domain[i]){J.domain.push(y.domain[i]);J.range.push(y.range[i]);}}var K=-1,M=[],O=[];for(i=0;i<l.domain.length;++i){for(var j=0;j<e.length;++j){if(l.domain[i].hasOwnProperty(e[j])){var P=J.domain,Q=J.range;if(!k.isOverrideMode()){P=M;Q=O;K++;}P.push([l.domain[i][e[j]]]);if(l.range[i].pattern&&l.range[i].pattern[e[j]]&&H[j]){Q.push({color:l.range[i].color[e[j]],pattern:l.range[i].pattern[e[j]]});}else{Q.push(l.range[i].color[e[j]]);}}}}if(!k.isOverrideMode()){J.domain=M.concat(J.domain);J.range=O.concat(J.range);}J.domain=J.domain.concat(E.domain);J.range=J.range.concat(E.range);if(this._data.targetValues&&this._data.targetValues.metaData&&this._data.targetValues.metaData.length>0){var R=p.get("legend.label.text.target");if(R===null||R===''){R=L.get("IDS_TARGET");}if(this._data.targetValues.metaData.length>1){J.domain.push(R);}else{J.domain.push(this._data.targetValues.metaData[0].name||this._data.targetValues.metaData[0].id);}J.range.push(p.get("plotArea.target.valueColor"));}var S=new C(J.domain,J.range);var U=[];if(z&&z.metaData){U=U.concat(z.metaData);}U.push({id:"measureNames",type:"Dimension",values:[{id:"id",name:"name"},{id:"id1",name:"name1"}]});return{semSplitIndex:K,metaData:U,scale:S,rowArray:J.domain};};d.prototype.render=function(j,l){if(this._colorShapeScale&&this._colorShapeScale._colorScales){var k=this._colorShapeScale._colorScales;if(k&&k[0]&&k[0].scale){var r=k[0].scale.getRange();var m=r.length;for(var i=0;i<m;++i){if(r[i]&&!T.isPlainObject(r[i])&&r[i].indexOf("url")!==-1){r[i]=F.patternize(null,j.node(),r[i]);}}}}d.superclass.render.apply(this,arguments);j.selectAll("g."+I).classed(I,false);};d.prototype._initColorShapeScale=function(){if(this._colorShapeScale){return;}var m=this.runtime().markManager(),j=this._createColorScale(),k=new b(m);k._isBullet=true;k._bindingInfo={actualValues:this._data.actualValues,forecastValues:this._data.forecastValues,additionalValues:this._data.additionalValues,targetValues:this._data.targetValues};k.addColorScale(j);k.merge();for(var l,i=0,n=k.getLength();i<n;i++){l=k.getItem(i);if(i<=j.semSplitIndex){l.isSemanticItem=true;}if(i===n-1&&this._data.targetValues.metaData&&this._data.targetValues.metaData.length>0){l.shape=this._options&&this._options.options&&this._options.options["targetLineDirection"]===c.DIRECTION.HORIZONTAL?"horizontal-target-line":"vertial-target-line";}else{l.shape="square";}}this._colorShapeScale=k;this.setBindingFields(k.getBindingFields());};function s(j){if(j.hasDataPointColorStyle()){var k=j.getDataPointColorScale(true);if(T.isArray(k)&&k.length===0){return{domain:[],range:[],scale:null};}else if(k.hasValidOthers()){var l=k.getDomain();var r=k.getRange();var v=[];var m=[];var n=l.length;for(var i=0;i<n-1;++i){v.push(l[i]);m.push(r[i]);}var p={};var q={color:{},pattern:{}};var t=false;for(var u in l[n-1]){if(l[n-1][u]!==null){t=true;p[u]=l[n-1][u];q.color[u]=r[n-1].color[u];if(r[n-1].pattern){q.pattern[u]=r[n-1].pattern[u];}}}if(t){v.push(p);m.push({color:q.color,pattern:q.pattern});}return{domain:v,range:m,scale:k};}else{return{domain:k.getDomain(),range:k.getRange(),scale:k};}}else{return{domain:[],range:[],scale:null};}}function f(m,l,n,p,t){var q=[],r=[];var u=0;if(m&&m.metaData){if(n&&n.metaData&&n.metaData.length>0){var v=n.rowArray;for(var i=0;i<v.length;++i){var w=[];w.push(v[i][0]===null?L.get("IDS_ISNOVALUE"):v[i][0]);for(var j=1;j<v[i].length;++j){w.push(v[i][j]===null?L.get("IDS_ISNOVALUE"):v[i][j]);}for(var k=0;k<p;++k){if(k<m.metaData.length){q.push(w.concat(m.metaData[k].name||m.metaData[k].id));r.push(l.scale(v[i].concat(m.metaData[k].id),t));}else{++q.length;r.push(undefined);}++u;}}}else{q=m.metaData.map(function(z){return[z.name||z.id];});r=m.metaData.map(function(z){return l.scale([z.id]);});}}var x=q.length;var y=r.length;while(y<x){r.push(r[x%y]);y++;}return{domain:q,range:r.slice(0,q.length)};}function g(p,t){var v=p.get("plotArea.gap.visible"),i=p.get("plotArea.gap.type"),j=p.get("legend.label.text.positiveGap"),k=p.get("plotArea.gap.positiveColor"),n=p.get("legend.label.text.negativeGap"),l=F.getPatternId(N.convertColor(p.get("plotArea.gap.negativeColor"))),m=[],r=[];if(j===null||j===''){j=L.get("IDS_ABOVE_IS_GOOD");}if(n===null||n===''){n=L.get("IDS_BELOW_IS_BAD");}if(v&&t.domain.length>0){if(i==="both"){m.push([j]);m.push([n]);r.push(k);r.push(l);}else if(i==="positive"){m.push([j]);r.push(k);}else if(i==="negative"){m.push([n]);r.push(l);}}return{domain:m,range:r};}d.prototype._adjustRendererOption=function(r){r.isBullet=true;};d.prototype.destroy=function(){d.superclass.destroy.call(this);this._data=null;this._colorShapeScale=null;};return d;});define('sap/viz/chart/components/plots/BulletPlot',['sap/viz/framework/common/util/oo','sap/viz/framework/common/util/SVG','sap/viz/chart/components/plots/BasePlot','sap/viz/chart/components/plots/DataHandler',"sap/viz/framework/common/util/DataGraphics","sap/viz/chart/components/util/DataPointUtils",'sap/viz/framework/common/util/NameColorUtils','sap/viz/chart/components/renderers/BarRenderer','sap/viz/chart/components/util/FillPatternUtils','sap/viz/framework/common/util/NumberUtils','sap/viz/framework/common/util/Constants','sap/viz/framework/scale/ValueScale','sap/viz/chart/components/renderers/GridlineRenderer','sap/viz/framework/common/util/TypeUtils','sap/viz/framework/common/util/UADetector'],function(o,S,B,D,a,b,N,c,F,d,C,V,G,T,U){var e={PRIMARYONLY:0.7143,PRIMARYWIDTH:0.5714};var f=function(i,j){j=j||{isHorizontal:true};f.superclass.constructor.apply(this,arguments);this._semanticMgr.setUseSemanticPattern(true);};o.extend(f,B);f.prototype._getCategoryWidth=function(){return this._data.categoryAxis.scale.getRangeBand()*(this.isHorizontal()?this._realSize.height:this._realSize.width);};f.prototype._getScaleValue=function(v){return this._data.actualValues.scale.scale(v)*(this.isHorizontal()?this._realSize.width:this._realSize.height);};f.prototype.isHorizontal=function(){return(this._options.isHorizontal===true);};f.prototype.update=function(s){this._applyChanges();this._dataLabels.setSize(this._realSize);var i=this._selection.select(".v-plot-main");this._drawGridlines(i);this._updateDatapoints(i);};function g(t,i,j){if(d.isNoValue(i)||d.isNoValue(j)){return false;}if(t==='both'&&i!=j){return true;}else if(t==='positive'&&i>j){return true;}else if(t==='negative'&&i<j){return true;}else{return false;}}f.prototype._categoryCount=function(){return this._data.categoryAxis.rowArray.length;};f.prototype.getPreferredSize=function(){var p=this._properties;var i=this.isHorizontal();var r=this._getCategoryRange()||this._getTimeRange();var s=this._data.series.length;var j={size:i?'height':'width',pos:i?'y':'x'};var k=!!this._data.timeAxis;var l=this._isRangeIncomplete;var m=!p.origin.get("interaction.noninteractiveMode");function u(){return!k&&r&&!l(r)&&m;}var n=m&&(!u())&&(p.get('isFixedDataPointSize')||l(r));if(n||u()){var q=this.__fixedBarSize();var t=q.max;var v=q.min;var w=this.__barSizeRatio();var x=q.max*w;var y=this._categoryCount();var z=this._size[j.size]/y;if(n){var A=v*((s-1)/8+s+2/3);if(z<A){this._realSize[(i?'height':'width')]=A*y;}if(l(r)&&this._shiftOffsetForIncompleteRange(r,y)){return this._realSize;}}if(u()){var E=r[1]-r[0]+1;var H=(i?this._size.height:this._size.width)/E;if(H>x){if(z<x){var I=this._size[j.size]/x;if(I>y-r[0]){r[0]=y-I;}this._realSize[j.size]=x*y;}else{r[0]=0;}}else{this._realSize[j.size]=this._size[j.size]*y/E;}this._offset[j.pos]=-r[0]/y*this._realSize[j.size];}}return this._realSize;};f.prototype._drawGridlines=function(p){var i=this.isHorizontal();var j=i?C.DIRECTION.VERTICAL:C.DIRECTION.HORIZONTAL;var k=this._properties.proxy('gridline');var r=i?[0,this._realSize.width]:[this._realSize.height,0];var s=this._gridlineScale=new V(this._data.actualValues.scale.getDomain(),r);s.setTickHint(this._data.actualValues.tickHint);G.drawValueGridline(p,this._realSize.width,this._realSize.height,s,k,j,this._effectManager);};f.prototype._updateBulletBar=function(i,j){var w=j.width<1&&j.width!==0?1:j.width;var k=j.height<1&&j.height!==0?1:j.height;i.setAttribute("width",w);i.setAttribute("height",k);if(j.stroke){var m=this.isHorizontal()?k:w;var s=m>j.strokeWidth+1?j.strokeWidth:m-1;if(s>=1){i.setAttribute('stroke',j.stroke);i.setAttribute('stroke-width',j.strokeWidth);}else{i.removeAttribute('stroke');i.removeAttribute('stroke-width');}}return i;};f.prototype._updateBulletLine=function(l,i){l.setAttribute("x1",""+i.x1);l.setAttribute("x2",""+i.x2);l.setAttribute("y1",""+i.y1);l.setAttribute("y2",""+i.y2);l.setAttribute("stroke-width",i.width);return l;};f.prototype._drawDatapoints=function(p){this._renderDatapoints(p,false);};f.prototype._updateDatapoints=function(p){this._renderDatapoints(p,true);};function h(s,i,j,m){var k=s[m+"Color"]||i.scale(j.color.concat(j[m]),m+"Values");return N.convertColor(k);}f.prototype._adjustColorDomain=function(i,j,k){var l=i.actualValues;var m=i.additionalValues;var n=i.forecastValues;if(!d.isNoValue(l)){k.actual=this._data.actualValues.metaData[j].id;}if(!d.isNoValue(m)){k.additional=this._data.additionalValues.metaData[j].id;}if(!d.isNoValue(n)){k.forecast=this._data.forecastValues.metaData[j].id;}return k;};f.prototype._getInitialColorDomain=function(i,j,I){if(i&&i.metaData){j.color=i.rowArray[parseInt(I/this._data.actualValues.metaData.length)];}return j;};f.prototype._renderDatapoints=function(p,k){var l=this.isHorizontal();var s=this._data.series;var m=this._data.categoryAxis;var n=this._data.color;var q=m.rowArray.length;var r=this._properties.get("gap.visible");var t=this._properties.get("gap.type");var u=this.__barSize();var v;var w=e.PRIMARYONLY;if(this._data.forecastValues&&this._data.forecastValues.metaData&&this._data.forecastValues.metaData.length>0){w=e.PRIMARYWIDTH;}var x;var y;var z;if(k){z=p.select("."+C.CSS.CLASS.DATAPOINT_GROUP).node();}else{z=S.create("g");z.setAttribute("class",C.CSS.CLASS.DATAPOINT_GROUP);p.node().appendChild(z);}var A;var E;var H;var I;var J;var K;var L;var M;var O;var P;var Q;var R;var W=2;var X;var Y=this._properties.get("target.shadowColor");var Z=this._properties.get("markerRenderer")||c;var $;var _={color:[]};var i=0,j=0;var a1,b1,c1,d1,e1,f1,g1,h1,i1,j1,k1,l1;var m1=this._categoryPosFn();var n1=u*(1-w)/2;for(var o1=0;o1<s.length;++o1){k1=s[o1];var p1=o1%this._data.actualValues.metaData.length;_=this._getInitialColorDomain(n,_,o1);for(i=0;i<q;++i){v=this._getExtraData(o1,i);A=false;E=m.metaData;l1=k1[i]||{};a1=l1.actualValues;b1=l1.additionalValues;c1=l1.targetValues;d1=l1.forecastValues;H=this._getScaleValue(0);I=Number.NEGATIVE_INFINITY;if(k){J=b.find(z,i);}else{J=S.create("g");J.setAttribute("class",C.CSS.CLASS.DATAPOINT+' '+C.CSS.CLASS.MORPHABLEDATAPOINT+' '+C.CSS.CLASS.DATAPOINTDEFAULT);}K={};K.horizontal=l;if(l){K.x=0;}else{K.y=0;}x=l1.dp&&l1.dp.context();_=this._adjustColorDomain(l1,p1,_);v.actual=_.actual;v.additional=_.additional;v.forecast=_.forecast;var q1=this._semanticMgr.analyzeDataPoint("color",x,true);var r1=((q1||{}).properties||{}).color||{};var s1=this._semanticMgr.analyzeDataPoint("pattern",x,true);var t1=this._data.color.scale;var u1=m1(o1,i);if(!d.isNoValue(d1)){A=true;y=this._getScaleValue(d1);if(l){K.width=Math.abs(y);K.height=u;K.x=y>0?0:y;K.y=u1;}else{K.height=Math.abs(y);K.width=u;K.x=u1;K.y=this._realSize.height-y;}I=Math.max(I,y);H=Math.min(H,y);K.fill=h(r1,t1,_,"forecast");if(k){h1=J.querySelector(".v-forecast");h1=this._updateBulletBar(h1,K);}else{h1=Z({ctx:x,graphic:K,effectManager:this._effectManager,horizontal:l,defaultRender:{render:c},currCate:l1,bulletType:"forecastValue",bulletClass:"v-forecast",measures:_});h1.setAttribute("class","v-forecast");J.appendChild(h1);}h1.setAttribute("transform",'translate('+K.x+', '+K.y+')');v.color['v-forecast']={color:K.fill};}if(this._strokeProp&&this._strokeProp.visible){K.stroke=this._strokeProp.color;K.strokeWidth='1px';}L=0;if(l){K.y=u1+n1;K.height=w*u;K.width=0;}else{K.x=u1+n1;K.width=w*u;K.height=0;}if(!d.isNoValue(a1)){A=true;y=this._getScaleValue(a1);if(l){K.width=Math.abs(y);K.x=y>0?0:y;}else{K.height=Math.abs(y);K.y=this._realSize.height-y;}K.fill=h(r1,t1,_,"actual");K.pattern=s1&&s1.properties&&s1.properties.pattern&&s1.properties.pattern.actualColor;if(k){e1=J.querySelector(".v-primary");e1=this._updateBulletBar(e1,K);}else{e1=Z({ctx:x,graphic:K,effectManager:this._effectManager,horizontal:l,defaultRender:{render:c},currCate:l1,bulletType:"actualValue",bulletClass:"v-primary",measures:_});e1.setAttribute("class","v-primary");J.appendChild(e1);}e1.setAttribute("transform",'translate('+K.x+', '+K.y+')');v.color['v-primary']={color:K.fill,strokeWidth:e1.getAttribute("stroke-width")};L=y;I=Math.max(I,y);H=Math.min(H,y);}if(!d.isNoValue(b1)){A=true;if(!d.isNoValue(a1)){b1+=a1;}M=this._getScaleValue(b1);I=Math.max(I,M);H=Math.min(H,M);if(l){K.width=Math.abs(M-L);K.x=Math.min(M,L);}else{K.height=Math.abs(M-L);K.y=this._realSize.height-Math.max(M,L);}K.fill=h(r1,t1,_,"additional");K.pattern=s1&&s1.properties&&s1.properties.pattern&&s1.properties.pattern.additionalColor;if(k){f1=J.querySelector(".v-additional");f1=this._updateBulletBar(f1,K);}else{f1=Z({ctx:x,graphic:K,effectManager:this._effectManager,horizontal:l,defaultRender:{render:c},currCate:l1,bulletType:"additionalValue",bulletClass:"v-additional",measures:_});f1.setAttribute("class","v-additional");J.appendChild(f1);}f1.setAttribute("transform",'translate('+K.x+', '+K.y+')');v.color['v-additional']={color:K.fill,strokeWidth:f1.getAttribute("stroke-width")};}if(!d.isNoValue(c1)){A=true;O=this._getScaleValue(c1);I=Math.max(I,O);H=Math.min(H,O);P=g(t,L,O);if(r&&P&&!d.isNoValue(a1)){if(K.pattern){delete K.pattern;}if(l){K.width=(c1<=a1)?L-O:O-L-2.5;K.height=u*w;K.x=(c1<=a1?O+0.5:L);K.y=u1+n1;}else{K.width=u*w;K.height=(c1<=a1)?L-O-0.5:O-L-2.5;K.x=u1+n1;K.y=c1>a1?this._realSize.height-O+2.5:this._realSize.height-L;}var v1=N.convertColor(this._properties.get("gap.positiveColor"));var w1=N.convertColor(this._properties.get("gap.negativeColor"));if(k){Q=J.querySelector(".v-gap");Q=this._updateBulletBar(Q,K);}else{K.fill=c1>a1?F.patternize(w1,p.node()):v1;Q=c({graphic:K,effectManager:c1>a1?null:this._effectManager,horizontal:l});Q.setAttribute("class","v-gap");J.appendChild(Q);}Q.setAttribute("transform",'translate('+K.x+', '+K.y+')');v.color['v-gap']={color:c1>a1?w1:v1,strokeWidth:Q.getAttribute("stroke-width")};if(Math.abs(L-O)<=2){Q.style.display="none";}else{Q.style.display=null;}}R={};X=0;if(Y!==""){X=1;}if(O>=0&&O<(W+X)){O=(W+X);}if(X>0){if(l){R.x1=O-W-X/2;R.x2=R.x1;R.y1=u1;R.y2=u1;}else{R.y1=this._realSize.height-O+W;R.y2=R.y1;R.x1=u1;R.x2=u1;}R.width=X;if(k){i1=J.querySelector(".v-target-shadow");i1=this._updateBulletLine(i1,R);}else{i1=S.create("line");i1=this._updateBulletLine(i1,R);i1.setAttribute("stroke",Y);if(!U.isMobile()){i1.setAttribute("shape-rendering","crispEdges");}i1.setAttribute("class","v-target-shadow");J.appendChild(i1);}}if(l){R.x1=O-W/2;R.x2=R.x1;R.y1=u1;R.y2=u1+u;}else{R.y1=this._realSize.height-O+W/2;R.y2=R.y1;R.x1=u1;R.x2=u1+u;}R.width=W;if(k){g1=J.querySelector(".v-target");g1=this._updateBulletLine(g1,R);}else{g1=S.create("line");g1=this._updateBulletLine(g1,R);g1.setAttribute("stroke",this._properties.get("target.valueColor"));g1.setAttribute("class","v-target");if(!U.isMobile()){g1.setAttribute("shape-rendering","crispEdges");}J.appendChild(g1);}}delete K.stroke;delete K.strokeWidth;if(A&&I!==Number.NEGATIVE_INFINITY){var x1=I+0.15*u;if(l){if(x1>this._realSize.width){x1=this._realSize.width;}K.width=x1-H;K.height=u;K.x=H;K.y=u1;}else{if(x1>this._realSize.height){x1=this._realSize.height;}K.width=u;K.height=x1-H;K.x=u1;K.y=this._realSize.height-x1;}K.fill="transparent";if(k){j1=J.querySelector(".v-eventArea");j1=this._updateBulletBar(j1,K);}else{j1=c({graphic:K,effectManager:this._effectManager});j1.setAttribute("class","v-eventArea");j1.setAttribute("stroke","transparent");J.appendChild(j1);}j1.setAttribute("transform",'translate('+K.x+', '+K.y+')');$=l1.dp;b.setDataPointId(J,$.id);b.setDataId(J,i);a.setContext(J,$.context());a.setData(J,v);z.appendChild(J);}}}};f.prototype.getRealSizeByFixedDPSize=function(i){return i*this.__barSizeRatio()*this._categoryCount();};f.prototype._applyScroll=function(){if(this._eventDispatch){this._eventDispatch.reRenderComplete();}};f.prototype._getBarHeight=function(i,I){var v=0;var j=(this._data.series[I]||[])[i];if(j){v=j.actualValues;if(j.additionalValues){v=Math.max(v,v+j.additionalValues);}if(T.isNumber(j.forecastValues)){v=Math.max(v,j.forecastValues);}}return this._getScaleValue(v);};f.prototype.getDataPointPosition=function(i,s){s=s||0;var j=this._getBarHeight(i,s);var k=this._categoryPosFn()(s,i);var l=this.__barSize();if(this.isHorizontal()){return{x:0,y:k,height:l,width:j};}else{return{y:this._realSize.height-j,width:l,x:k,height:j};}};f.prototype._categoryPosFn=function(){var i=this.__barSizeRatio();var j=this._getCategoryWidth(),k=this.__barSize(j,i),l=(j-k*i)/2,m=k/3;return function(s,n){return s*(k*9/8)+m+n*j+l;};};f.prototype.__barSize=function(i,j){var k=i||this._getCategoryWidth(),r=j||this.__barSizeRatio(),l=this.__fixedBarSize();return Math.min(k/r,l.max);};f.prototype.__barSizeRatio=function(){return(this._data.series.length-1)/8+this._data.series.length+2/3;};f.prototype.__fixedBarSize=function(){var p=this._properties;var m=p.get("dataPointSize.min")||p.getDefault("dataPointSize.min"),i=p.get("dataPointSize.max")||p.getDefault("dataPointSize.max");if(m>i){i=p.getDefault("dataPointSize.max");m=p.getDefault("dataPointSize.min");}return{min:Math.min(m,i),max:i};};f.prototype._getExtraData=function(s,i){return{color:{}};};f.prototype.getZoomLevel=function(){if(this.isHorizontal()){return this._realSize.height/this._size.height;}else{return this._realSize.width/this._size.width;}};f.prototype.destroy=function(){f.superclass.destroy.call(this);this._gridlineScale=null;this._realSize=null;};return f;});define('sap/viz/chart/components/plotareas/BulletPlotArea',['sap/viz/framework/common/util/Constants','sap/viz/framework/common/util/oo',"sap/viz/framework/scale/ValueScale","sap/viz/framework/scale/ValueScaleUtil",'sap/viz/chart/components/plotareas/XYPlotArea','sap/viz/chart/components/axis/ValueAxis','sap/viz/chart/components/axis/CategoryAxis','sap/viz/chart/components/plots/PlotHelper','sap/viz/chart/components/plots/BulletPlot','sap/viz/chart/components/util/ValueAxisUtils','sap/viz/chart/components/scrollbar/Scrollbar','sap/viz/framework/common/util/UADetector','sap/viz/framework/common/util/DataUtils','sap/viz/chart/components/util/TextUtils'],function Setup(C,o,V,a,X,b,c,P,B,d,S,U,D,T){var e=function(r,f){e.superclass.constructor.apply(this,arguments);};o.extend(e,X);e.prototype._init=function(){this._plot=P.create(this._renderType,B,this.runtime(),this._getPlotOptions());this.setChild("plot",this._plot,{position:"center"});this._plot.getDispatch().on("reRenderComplete.plotarea",this._reRenderComplete.bind(this));var i=this._plot.isHorizontal();var f=!this._properties.get("interaction.noninteractiveMode");if(i){this.setLayoutSequence(['bottom','top','left','right']);this._categoryAxis=new c(this.runtime(),{name:"categoryAxis"});this.setChild("categoryAxis",this._categoryAxis,{position:"left"});this._valueAxis=new b(this.runtime(),{name:"valueAxis"});this.setChild("valueAxis",this._valueAxis,{position:"top"});if(f){this._hScrollbar=new S(this.runtime(),{name:"plotArea.scrollbar"});this.setChild("scrollbar2",this._hScrollbar,{position:"bottom"});}}else{this.setLayoutSequence(['left','right','bottom','top']);this._categoryAxis=new c(this.runtime(),{name:"categoryAxis",hasScrollbar:f});this.setChild("categoryAxis",this._categoryAxis,{position:"bottom"});if(f){this._hScrollbar=this._categoryAxis.getChild(C.AXIS.SCROLLBAR_NAME).module;}this._valueAxis=new b(this.runtime(),{name:"valueAxis"});this.setChild("valueAxis",this._valueAxis,{position:"left"});}if(f){this._vScrollbar=new S(this.runtime(),{name:"plotArea.scrollbar"});this.setChild("scrollbar",this._vScrollbar,{position:"right"});}this.getZoomer().init({main:this,plot:this._plot,axisByDirection:{x:i?[this._valueAxis]:[this._categoryAxis],y:i?[this._categoryAxis]:[this._valueAxis]},isHorizontal:i});};e.prototype.updateValueScale=function(){var f=this._data;var w=this._roughSize.width;var h=this._roughSize.height;if(!f||w<=0||h<=0){return f;}var r=[0,1];if(this._plot.isHorizontal()){r[1]=w;}else{r[1]=h;}r[1]*=0.8;var v;var n=f;var g=[this._data.actualValues.minValue,this._data.actualValues.maxValue];if(g[0]===0&&g[1]===0){g=null;}v=this._calcValueAxisScale("actualValues",r,g);f.actualValues.scale=v.scale;f.actualValues.tickHint=v.tickHint;f.actualValues.scale.setRange([0,1]);this._valueAxis.setData(f.actualValues);return n;};e.prototype._isHorizontal=function(){return this._plot.isHorizontal();};return e;});define('sap/viz/chart/views/BulletChartView',['sap/viz/framework/common/util/oo','sap/viz/framework/common/util/Constants','sap/viz/chart/views/ChartView','sap/viz/chart/components/legend/BulletLegend','sap/viz/chart/components/plotareas/BulletPlotArea',"sap/viz/chart/components/util/TextUtils",'sap/viz/framework/common/util/TypeUtils'],function Setup(o,C,a,B,P,T,b){var c=function(r,d){c.superclass.constructor.apply(this,arguments);this._supportLazyRender=true;};o.extend(c,a);c.prototype.setSize=function(){if(this._plotArea&&this._plotArea.setRoughSize){this._plotArea.setRoughSize.apply(this._plotArea,arguments);}c.superclass.setSize.apply(this,arguments);};c.prototype._getDataItems=function(){return["actualValues","additionalValues","color","categoryAxis","targetValues","forecastValues","series","trellisRow","trellisColumn"];};c.prototype._createPlotContainer=function(i){this._plotArea=new P(this.runtime(),{renderType:this._renderType});this._plotArea.setRoughSize(this._size);this.setChild("main",this._plotArea,{priority:3});};c.prototype._getLegendDefinition=function(){return[B];};c.prototype._getLegendInitOptions=function(){return[{"targetLineDirection":/vertical_bullet|timeseries_bullet/.test(this._options.renderType)?C.DIRECTION.HORIZONTAL:C.DIRECTION.VERTICAL}];};c.prototype.calculatePaddingInPX=function(p){var d=c.superclass.calculatePaddingInPX.apply(this,arguments);if((p.get("title.visible")===false)&&this._plotArea&&(this._plotArea._isHorizontal&&b.isExist(this._plotArea._isHorizontal())&&this._plotArea._isHorizontal()!==true)&&(p.get("valueAxis.visible")===true)){this.changePaddingTop(p,d);}return d;};return c;});define('sap/viz/chart/metadata/bindings/BulletBindings',[],function Setup(){var f=[{"id":"trellisColumn","name":"IDS_TRELLIS_COLUMN","type":"Dimension","min":0,"max":Number.POSITIVE_INFINITY,"acceptMND":false,"role":"trellis.columnCategory"},{"id":"trellisRow","name":"IDS_TRELLIS_ROW","type":"Dimension","min":0,"max":Number.POSITIVE_INFINITY,"acceptMND":false,"role":"trellis.rowCategory"},{"id":"categoryAxis","name":"IDS_CATEGORY_AXIS","type":"Dimension","min":1,"max":Number.POSITIVE_INFINITY,"acceptMND":false,"role":"layout.category"},{"id":"color","name":"IDS_COLOR","type":"Dimension","min":0,"max":Number.POSITIVE_INFINITY,"acceptMND":false,"role":"mark.color"},{"id":"actualValues","name":"IDS_PRIMARY_VALE","type":"Measure","min":1,"max":Number.POSITIVE_INFINITY,"role":"layout.value"},{"id":"additionalValues","name":"IDS_ADDITIONAL_VALE","type":"Measure","min":0,"max":Number.POSITIVE_INFINITY,"role":"layout.value"},{"id":"targetValues","name":"IDS_TARGETVALUES","type":"Measure","min":0,"max":Number.POSITIVE_INFINITY,"role":"mark.target"},{"id":"forecastValues","name":"ID_FORECAST_VALUES","type":"Measure","min":0,"max":Number.POSITIVE_INFINITY,"role":"mark.forecast","description":"This is deprecated"}];return f;});define('sap/viz/chart/components/datalabels/PieDataLabels',['sap/viz/framework/common/util/oo','sap/viz/chart/components/datalabels/DataLabels',"sap/viz/chart/components/util/DataPointUtils",'sap/viz/framework/common/util/DataUtils',"sap/viz/framework/common/util/TypeUtils","sap/viz/chart/components/util/TextUtils","sap/viz/framework/common/util/GeometryUtils",'sap/viz/framework/common/format/UnitFormat','sap/viz/framework/common/util/Constants','sap/viz/framework/common/util/DataGraphics','sap/viz/framework/common/util/SVG'],function Setup(o,D,c,d,T,e,G,U,C,f,S){var P=function(r,a){P.superclass.constructor.apply(this,arguments);};o.extend(P,D);P.prototype._getDataLabelInfo=function(n){var p=d3.select(n.childNodes[0]).datum();var a=(p.endAngle-p.startAngle)/(2*Math.PI);var b=c.getContext(n);var i=b["measureNames"];if(i==null){i=this._data.size.metaData[0].id;}return{key:i,value:b[i],percentage:a<0.000001?0:a};};P.prototype._showProperty=function(p){if(!this._data||!this._data.color||!this._data.color.metaData){return false;}var a=this._data.color.metaData;for(var i=0;i<a.length;i++){if(p===a[i].id&&!a[i].hidden){return true;}}return false;};P.prototype._buildDataLabelText=function(a,b,i,j,k){if(b.value===0&&!this.drawZero(k)){return null;}return D.buildDataLabelText(this._properties,a,b,i,j,g,m,h.bind(this));};function g(p){var t=p.get('type');var r;if(t==='color'){r=['color'];}else if(t==='value'){r=['value'];}else if(t==='percentage'){r=['percentage'];}else{r=['color','percentage'];}return r;}function m(p,a){var t=p.get('type');var b;if(t==='color'||t==='value'||t==='percentage'){b=a[0];}else{b=a[1]?a[0]+"   ("+a[1]+")":a[0];}return b;}function h(a,b){var r=null;if(a&&b){if(b.key){var i=b.key;if(a.hasOwnProperty(i)){var j=0,v;for(var p in a){if(a.hasOwnProperty(p)){if(p!==i&&this._showProperty(p)){v=a[p+d.DIMENSION_DISPLAYNAME_SUFFIX]||a[p];if(j===0){r=v;}else{r=r+"/"+v;}j++;}}}}}}return r;}P.prototype.removeExtraDataOfDataPoint=function(f,a){var r=a;if(f&&a){if(f.getData&&f.setData){var b=f.getData(a);if(b&&b.decoras){delete b.decoras;f.setData(a,b);r=a;}}}return r;};P.prototype.setExtraDataOfDataPoint=function(f,a,b){var r=a;if(f&&a&&b){if(f.getData&&f.setData){var i=f.getData(a);if(!i||T.isPlainObject(a)){i={};}i.decoras=b;f.setData(a,i);r=a;}}return r;};P.prototype.getLabelLineOffset=function(a){return a*C.DATALABEL.PIE_LINE_LABEL_OFFSET;};P.prototype._reverseLineModeLocation=function(a,b,l){var i=this.getLabelLineOffset(b)+C.DATALABEL.PIE_LINE_OFFSET;var j={};j.x=l.x;j.y=l.y+l.height/2;if(a>0&&a<=Math.PI){j.x-=i;}else{j.x+=l.width;j.x+=i;}return j;};P.prototype._adjustLineModeLocation=function(a,l,b,i,j){var k=this.getLabelLineOffset(b)+C.DATALABEL.PIE_LINE_OFFSET;var n={};n.x=l;n.y=i;if(a>0&&a<=Math.PI){n.x+=j.width/2;n.x+=k;}else{n.x-=j.width/2;n.x-=k;}return n;};P.prototype._adjustOutsideLocation=function(a,b,l,i,j){var k={};k.x=l;k.y=i;if((a>=0&&a<=(Math.PI/8))||(a>(Math.PI/8*15)&&a<=(2*Math.PI))){k.y-=j.height/2;}else if(a>(Math.PI/8)&&a<=(Math.PI/4)){k.y-=j.height/2;k.x+=j.width/2;}else if(a>(Math.PI/4)&&a<=(Math.PI/4*3)){k.x+=j.width/2;}else if(a>(Math.PI/4*3)&&a<=(Math.PI/8*7)){k.y+=j.height/2;k.x+=j.width/2;}else if(a>(Math.PI/8*7)&&a<=(Math.PI/8*9)){k.y+=j.height/2;}else if(a>(Math.PI/8*9)&&a<=(Math.PI/4*5)){k.y+=j.height/2;k.x-=j.width/2;}else if(a>(Math.PI/4*5)&&a<=(Math.PI/4*7)){k.x-=j.width/2;}else{k.y-=j.height/2;k.x-=j.width/2;}k.x+=this.getLabelLineOffset(b)*Math.sin(a);k.y-=this.getLabelLineOffset(b)*Math.cos(a);return k;};P.prototype.renderDataLabelLine=function(a){var b;if(a.length>0){var i;i=f.getData(a[0].dataPoint);b=i.r;if(this.getLocationMode(b)===C.DATALABEL.LOCATIONMODE_LINE){var I;for(I=0;I<a.length;I++){var l=0;var j=0;i=f.getData(a[I].dataPoint);var k=a[I].node.getBBox();var n=this._reverseLineModeLocation(i.midAngle,b,k);var p={};p.x=-a[I].originalCenterX+n.x;p.y=-a[I].originalCenterY+n.y;var s={};s.x=p.x+i.r*Math.sin(i.midAngle);s.y=p.y-i.r*Math.cos(i.midAngle);var q={};q.y=n.y;q.x=n.x;if(i.midAngle>0&&i.midAngle<=Math.PI){q.x+=C.DATALABEL.PIE_LINE_OFFSET;}else{q.x-=C.DATALABEL.PIE_LINE_OFFSET;}var r="M"+s.x+" "+s.y;r+=" L"+n.x+" "+n.y;r+=" L"+q.x+" "+q.y;var t=this._properties.get("line.color");d3.select(a[I].node).append("path").attr("d",r).attr("stroke",t).attr("fill","none").attr("stroke-width","1");}}}};P.prototype.getRadiusPercentage=function(a){var l=this._properties.get('distance');var r=this._properties.getDefault('distance')+1;var I=0.5;var i=false;if(T.isString(l)&&l.indexOf("px")>=0){i=true;}l=parseFloat(l);if(T.isNumber(l)){r=I;if(l>=0){if(i){r=(a+l)/a;}else{r=1+l;}}}return r;};P.prototype.isDataLabelOutOfDataPoint=function(a,i){var l=this._properties.get('distance');l=parseFloat(l);if(l>=0){return true;}else{return P.superclass.isDataLabelOutOfDataPoint.apply(this,arguments);}};P.prototype._computeDataLabelTranslate=function(n,a,l,b){var p=d3.select(n.childNodes[0]).datum();var s=p.startAngle;var i=p.endAngle;var j=p.innerRadius;var k=p.outerRadius;var r=this.getRadiusPercentage(k);var A=(s+i)/2;var q=Math.sin(A-Math.PI/2);var t=Math.cos(A-Math.PI/2);var u,v;if(this._options.isDonut){var w;if(r<1){w=j+r*(k-j);}else{w=r*k;}u=w*t;v=w*q;}else{u=(r*k)*t;v=(r*k)*q;}var x=[];x.originalCenterX=u;x.originalCenterY=v;var y;if(this.getLocationMode(k)===C.DATALABEL.LOCATIONMODE_OUTSIDE){y=this._adjustOutsideLocation(A,k,u,v,b);u=y.x;v=y.y;}else if(this.getLocationMode(k)===C.DATALABEL.LOCATIONMODE_LINE){y=this._adjustLineModeLocation(A,u,k,v,b);u=y.x;v=y.y;}u+=a.e;v+=a.f;x[0]=u-(b.x+b.width/2);x[1]=v-(b.y+b.height/2);return x;};P.prototype.getLocationMode=function(a){var r=this.getRadiusPercentage(a);var l=this._properties.get('line.visible');var b=C.DATALABEL.LOCATIONMODE_INSIDE;if(r>=1){if(l){b=C.DATALABEL.LOCATIONMODE_LINE;}else{b=C.DATALABEL.LOCATIONMODE_OUTSIDE;}}return b;};P.prototype.sortDataLabelInfos=function(i){i.sort(function(a,b){var r=(a.info.value-b.info.value);return r;});};P.prototype.truncateText=function(a){var b;if(a.length>0){var j;j=f.getData(a[0].dataPoint);b=j.r;if(this.getLocationMode(b)===C.DATALABEL.LOCATIONMODE_INSIDE){var t=this._properties.get('type');if(t==='percentage'||t==='value'){return;}for(var i=(a.length-1);i>=0;i--){var k=a[i].dataPoint;var l=a[i].node;var n=k.getBoundingClientRect();var p=l.getElementsByTagName('text');if(!p||p.length===0){continue;}p=p[0];var q=p.textContent;var r=this._getStyle(k);var s={};var u=this.runtime().envManager();s.reverseDots=(u&&u.reverseDots());if(t==='color'){e.ellipsis(q,p,n.width,r.cssString,s);}else{var v=q.split(' ')[0];var w=v.substr(0,3)+'...';var z=q.substring(v.length);var A=e.canvasMeasure(z,r['font-size'],r['font-weight'],r['font-family']).width;var B=e.canvasMeasure(w,r['font-size'],r['font-weight'],r['font-family']).width;var E=n.width-A;var F=e.ellipsis(v,p,E>B?E:B,r.cssString,s);p.textContent=F+z;}var H=G.getBBox(l);var I=S.getTransformToElement(k,k.parentNode.parentNode);var J=this._computeDataLabelTranslate(k,I,this._labelPosition,H);l.setAttribute("transform","translate("+J[0]+","+J[1]+")");var x=J[0],y=J[1];a[i].left=x+H.x;a[i].right=x+H.x+H.width;}}}};return P;});define('sap/viz/chart/components/renderers/PieRenderer',['sap/viz/framework/common/util/SVG','sap/viz/framework/common/util/DataGraphics'],function(S,D){return function(c){var g=c.graphic;var s=S.create("path");var i=0;if(g.innerRadius){i=g.innerRadius;}var p=d3.svg.arc().innerRadius(i).outerRadius(g.outerRadius).startAngle(g.startAngle).endAngle(g.endAngle)();var f=c.effectManager.register({drawingEffect:g.drawingEffect,graphType:'sector',direction:'vertical',radius:g.outerRadius,fillColor:g.color});s.setAttribute("fill",f);s.setAttribute("d",p);if(g.stroke){s.setAttribute('stroke',g.stroke);s.setAttribute('stroke-width',g.strokeWidth);}D.setContext(s,{innerRadius:g.innerRadius,outerRadius:g.outerRadius,startAngle:g.startAngle,endAngle:g.endAngle});return s;};});define('sap/viz/chart/components/util/ContextUtil',["sap/viz/framework/common/util/Constants"],function Setup(C){var a={isEqualArray:function(s,t){if(!s||!t){return false;}var e=true;if(s.length===t.length&&t.length>0){for(var i=0;i<s.length;i++){if(s[i]!==t[i]){e=false;break;}}}else{e=false;}return e;},getUniqueFieldName:function(f){if(!f){return null;}var b=null;if(f.hasOwnProperty("id")){b=f.id;}else if(f.hasOwnProperty("name")){b=f.name;}return b;},getContextObjByFieldsArray:function(c,f){if(!c||!f||(c&&c.length<1)||(f&&f.length<1)){return null;}var b=null;if(c&&f){var d=c.length;var e=f.length;if(d>=e&&e>0){for(var i=0;i<d;i++){var g=c[i];if(g&&g.length>0){var h=false;for(var j=0;j<g.length;j++){var k=g[j];if(k&&k.length>0&&k.length===e){if(a.isEqualArray(k,f)){h=true;}else{if(h){for(var m=0;m<e;m++){if(!b){b={};}if(f[m]){b[f[m]]=g[j][m];}}break;}}}else{break;}}if(h){break;}}else{break;}}}}return b;},filterDimensionContext:function(b,c){if(!b||!c){return null;}var r=null;if(b.length>0){for(var k in c){if(c.hasOwnProperty(k)){if(!r){r={};}var d=true;for(var i=0;i<b.length;i++){if(k===b[i]){b.splice(i,1);d=false;break;}}if(!d){continue;}r[k]=c[k];}}}return r;},getDimensionKeyAndValueString:function(d){if(!d){return null;}var r=null;if(d&&typeof d==='object'){var c=0;for(var p in d){if(d.hasOwnProperty(p)){var i=p+"="+d[p];if(i){++c;if(c>1){r=r+"&"+i;}else{r=i;}}}}}return r;},getDimensionKeyAndValueStringFromAxes:function(b,c){if(!b||!b._data||!b._fields){return null;}var r=null;if(b._data.length>0&&b._fields.length>0&&c<b._data.length){var l=b._fields.length;var f=b._fields;var d=b._data;if(d[c]&&d[c].val){var i=0;var p=null;var e=null;var g=a.getUniqueFieldName(f[i]);for(;i<l;i++){if(f[i]&&g){if(!r){r={};}e=g;p=d[c].val[i];r[e]=p;}}}}return r;},isEmptyObj:function(o){if(!o){return true;}var r=true;if(o){for(var p in o){if(o.hasOwnProperty(p)){r=false;break;}}}return r;},getHighlightContextIndexOfAxes:function(b,h){if(!b||!h||a.isEmptyObj(h)){return-1;}var c=-1;if(b&&b._data&&b._data.length>0&&b._fields&&b._fields.length>0){var f=b._fields;var l=f.length;var i=0;var d=b._data;var e=this.getDimensionKeyAndValueString(h);var g=function(b,c){var r=null;for(var i=0;i<l;i++){var j=a.getUniqueFieldName(b._fields[i]);if(j){var t=j+"="+b._data[c].val[i];if(i>0){r=r+"&"+t;}else{r=t;}}}return r;};if(d&&d.length>0&&l){for(;i<d.length;i++){if(e===g(b,i)){c=i;break;}}}}return c;},equalCtx:function(c,b){var k=Object.keys(c),d=Object.keys(b);return(k.length>0)&&k.every(function(e){return c[e]===b[e];});},match:function(c,d){if(!c){return false;}if(!Array.isArray(c)){c=[c];}return c.some(function(b){if(!b){return true;}return a.equalCtx(b,d);});},getContextInfo:function(c,b){var d=c;if(!Array.isArray(b)){b=[b];}var e;for(var j=0,l=b.length;j<l;j++){var f=b[j],g=f.ctx,h=f.paras;if(!g){e=h;}}var k=this._parameters,n,o=-1,p,q;for(var i=0,r=b.length;i<r;i++){var s=b[i],t=s.ctx,u=s.paras;if(!t){q=i;}else if(a.match(t,d)){p=0;for(var m in t){if(t.hasOwnProperty(m)){p++;}}if(o<p){o=p;q=i;}}}if(b[q]){return b[q].paras;}return e;},getContextDisplayKey:function(d){return d+".d";},getContextValueKey:function(d){return d+".v";},getContextDisplayValue:function(d){return d&&d.hasOwnProperty('d')?d["d"]:(d&&d.hasOwnProperty('v')?d["v"]:undefined);},getContextValue:function(d){return d&&d.hasOwnProperty('v')?d["v"]:undefined;},enableDisplayContext:function(c){var e=false;if(c){for(var i in c){if(c.hasOwnProperty(i)&&c.hasOwnProperty(i+".d")){e=true;break;}}}return e;},enableObjectContext:function(c){var e=false;if(c){for(var i in c){if(c.hasOwnProperty(i)&&(c.hasOwnProperty(i+".d")||c.hasOwnProperty(i+".parsedValue"))){e=true;break;}}}return e;},equalCtxWithoutDisplayName:function(c,b,m){var r=true;for(var k in c){if(c.hasOwnProperty(k)){for(var i=0;i<m.length;i++){if(k===m[i].id){if(c[k]!==b[i]){r=false;}break;}}if(i>=m.length){r=false;break;}}}return r;},equalCtxWithColorDomain:function(c,b,m){var r=true;var l=c.length;var d=0;for(var k in b){if(b.hasOwnProperty(k)){for(var i=0;i<m.length;i++){if(k===m[i].id){if(b[k]===c[i]){d++;}break;}}}}return l===d;},equalCtxExtend:function(c,b,m){if(!a.enableObjectContext(c)){return a.equalCtxWithColorDomain(b,c,m);}var r=false;if(c&&b&&m&&m.length===b.length){if(b.length>0){var d=null;var e=null;var f=null;var g=null;var i=-1;var h={};var j=null;var k=null;var l=null;r=m.every(function(n){d=n.id;e=n.type;var o=false;if(e==="Dimension"){i++;j=a.getContextDisplayKey(d);if(c.hasOwnProperty(d)){g=c[d];h=b[i];l=a.getContextValue(h);if(g!==undefined&&l!==undefined&&g!==null&&l!==null){o=g===l;}}}return o;});}}return r;},getContextDisplayNames:function(m){var n=[];if(m&&m.length){m.forEach(function(d){if(d&&d.hasOwnProperty('id')&&d.hasOwnProperty('type')&&d.type==="Dimension"){n.push(a.getContextDisplayKey(d.id));}});}return n;},getContextRawValue:function(c){var r=null;if(c){for(var k in c){if(c.hasOwnProperty(k)&&k!==C.BINDING.CONTEXT_ID_NAME){if(!r){r=c[k];}else{r+="/"+c[k];}}}}return r;},getDisplayValueOfContext:function(c,m){if(!a.enableObjectContext(c)){return a.getContextRawValue(c);}var d=null;if(c&&m&&m.length>0){m.forEach(function(b){var e=b.id;var f=a.getContextDisplayKey(e);var v=c[e];if(c.hasOwnProperty(f)){v=c[f];}if(v!=null){d=!d?v:d+"/"+v;}});}return d;}};return a;});define('sap/viz/chart/components/plots/PiePlot',['sap/viz/framework/common/util/oo','sap/viz/framework/common/util/SVG','sap/viz/chart/components/datalabels/DataLabels','sap/viz/chart/components/datalabels/PieDataLabels','sap/viz/chart/components/plots/BasePlot','sap/viz/chart/components/plots/ScaleHandler','sap/viz/chart/components/renderers/PieRenderer','sap/viz/framework/common/util/Constants','sap/viz/framework/common/util/ObjectUtils','sap/viz/framework/common/util/NumberUtils','sap/viz/framework/common/util/DataGraphics','sap/viz/framework/common/util/TypeUtils','sap/viz/chart/components/util/ContextUtil',"sap/viz/chart/components/util/DataPointUtils",'sap/viz/chart/components/util/TextUtils','sap/viz/framework/common/format/FormatManager'],function Setup(o,S,D,P,B,a,b,C,O,N,c,T,d,f,g,F){var j=function(e,h){j.superclass.constructor.apply(this,arguments);this._dataPointRenderer=b;};o.extend(j,B);j.prototype.destroy=function(){j.superclass.destroy.call(this);this._dataPointRenderer=null;this._padding=null;this._outerRadius=null;this._innerRadius=null;this._dataSeries=null;this._pieLayout=null;};j.prototype._getDataHandler=function(){return{"size":new u()};};j.prototype._getDataLabels=function(e,h){var i=O.extend({},this._options);i.name=e;return new P(h,i);};j.prototype._applyChanges=function(){var w=this._size.width,h=this._size.height;this._padding=n(w,h);this._outerRadius=this.calculateOuterRadius(w,h,null);this._innerRadius=this._options.isDonut?r(this._outerRadius,this._properties.get('innerRadiusRatio')):0;var e=true,v=[];var x=[];this._dataSeries=[];for(var i=0;i<this._data.series.length;i++){if(this._data.series[i]&&this._data.series[i][0]){x[i]=this._data.series[i][0].size;if(x[i]>0){e=false;}}}for(i=0;i<x.length;i++){var y=x[i];if(N.isNoValue(y)||(y<0&&!e)){continue;}v.push(y);this._dataSeries.push(this._data.series[i]);}this._pieLayout=d3.layout.pie().sort(null)(v);};j.prototype._getSeries=function(){return this._dataSeries;};j.prototype._applyDataPointRenderer=function(e,h){var i=this._properties.get('sliceRenderer');if(i){return i(h);}else{return j.superclass._applyDataPointRenderer.apply(this,arguments);}};j.prototype._drawDataPoint=function(e,h){var i=j.superclass._drawDataPoint.apply(this,arguments);var v=h.getConfig();if(v.isMatchedHighlightContext!==undefined&&v.isMatchedHighlightContext!==true){i.setAttribute("fill-opacity",1);i.setAttribute("class",'');}return i;};j.prototype.isFlexibleLayout=function(){return true;};j.prototype._postRender=function(e){var x=(this._size.width/2);var i=this._options&&this._options.inTrellis;var h=this.runtime().statusManager().get('legendGroup.isHorizontal');var y=(i||h)?(this._size.height/2):(this._outerRadius*m+this._padding);if(this.isFlexibleLayout()){y=this._size.height/2;if(y>x){y=x;}}e.setAttribute("transform",'translate('+x+', '+y+')');if(this._options.isDonut&&this._highlightContext){var v=d.getDisplayValueOfContext(this._highlightContext,this._data.color.metaData);var w=(this._highlightContextPosition.endAngle-this._highlightContextPosition.startAngle)/(2*Math.PI);var z=this._properties.get('dataLabel.formatString');var A=this._properties.get('dataLabel.type');var E,G;var H=false;if(this._data&&this._data.size&&this._data.size.metaData){E=this._data.size.metaData[0].id;G=this._data.size.metaData[0].formatString;}if(!z){z=G;if(T.isArray(z)&&A==='percentage'){z=z[1];}}var I={key:E,value:w};var J=D.getFirstFormatPattern(z,I);J=J?J:C.FORMAT.PERCENTAGE_FORMAT;var K=F.format(w,J);var L={centerName:v,centerValue:K,properties:this._properties.get(),};e.appendChild(t.call(this,L,this._highlightContext));}};j.prototype._computeDataLabelTranslate=function(e,h,i,v){var w=d3.select(e.childNodes[0]).datum();var x=w.startAngle;var y=w.endAngle;var z=w.innerRadius;var A=w.outerRadius;var E=(x+y)/2;var G=Math.sin(E-Math.PI/2);var H=Math.cos(E-Math.PI/2);var I,J;if(this._options.isDonut){I=(z+A)/2*H;J=(z+A)/2*G;}else{I=0.5*A*H;J=0.5*A*G;}I+=h.e;J+=h.f;return[I-(v.x+v.width/2),J-(v.y+v.height/2)];};j.prototype._getPosition=function(e,i,h){var v=this._pieLayout[e];if(isNaN(v.startAngle)||isNaN(v.endAngle)){v=null;}return v;};j.prototype._buildData=function(e){var h=e.graphic;var i;if(this._data.size.totalSum===0){i=1;}else{i=e.rawData.size/this._data.size.totalSum;}return{color:h.color,midAngle:h.startAngle/2+h.endAngle/2,r:h.outerRadius,shape:'sector',percentage:i};};j.prototype._buildConfig=function(e,h,i){var v=this._data.color.scale.scale(e.color);var w;if(this._options.isDonut){var x=this._properties.get('highlight.highlightContext');if(x&&x.length>0){x=x[0];w=d.equalCtx(x,i);if(w===true){this._highlightContext=x;if(this._highlightContextPosition){this._highlightContextPosition.data+=h.data;this._highlightContextPosition.value+=h.value;this._highlightContextPosition.endAngle=h.endAngle;}else{this._highlightContextPosition=h;}}else{v=this._properties.get('highlight.unhighlightSliceColor');}}}return{graphic:{startAngle:h.startAngle,endAngle:h.endAngle,innerRadius:this._innerRadius,outerRadius:this._outerRadius,color:v,drawingEffect:this._properties.get('drawingEffect')},ctx:i,isMatchedHighlightContext:w,effectManager:this._effectManager};};j.prototype.supportExportToContentType=function(e){if(e==="svg"&&(!this._hasLegend()||this._positionOfLegend()==="right"||this._positionOfLegend()==="left")){return true;}return false;};j.prototype._positionOfLegend=function(){var e=d3.select("svg.v-m-root").node();var h=d3.select(e).select(".v-m-plot .v-plot-main").node();var i=d3.select(e).select(".v-m-legend").node();var v=h.getBoundingClientRect();var w=i.getBoundingClientRect();v.top=v.bottom-v.height;w.top=w.bottom-w.height;if(w.top>v.bottom){return"down";}else{if(w.left>v.right){return"right";}if(w.right>v.left){return"up";}else{return"left";}}};j.prototype._hasLegend=function(){if(!d3.select("svg.v-m-root").select(".v-m-legend .v-content").empty()){return true;}return false;};j.prototype.exportContent=function(h){var E="<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"100%\" height=\"100%\"/>";var i=E;var v=function(){if(!d3.select("svg.v-m-root").select(".v-m-title .v-title.viz-title-label").empty()){return true;}return false;};if(h&&h["type"]&&h["type"]==="svg"){var w=d3.select("svg.v-m-root").node().cloneNode(true);var x=d3.select(w).select(".v-m-plot .v-plot-main").node().cloneNode(true);var y=d3.select(w).select(".v-m-title").node().cloneNode(true);var z=d3.select(w).select(".v-m-legendGroup").node().cloneNode(true);var A=d3.select(w).select("defs").node().cloneNode(true);var G=d3.select(w).select(".v-background-body.viz-plot-background.v-morphable-background").node().cloneNode(true);d3.select(x).select(".v-datapoint-group").attr("transform","translate(0 0)");var H=(+d3.select(z).select(".v-m-legend .v-bound").attr("height"));var I=(+d3.select(z).select(".v-m-legend .v-bound").attr("width"));var J=0;var K=24;var L=30;if(v()){J=(+d3.select(y).select(".v-bound").attr("height"));J=J+K;}var M=this._outerRadius*2;var Q=M*1.1;L=M*0.1;var R=document.createElement("svg");R.appendChild(A);R.appendChild(G);d3.select(R).attr("xmlns","http://www.w3.org/2000/svg");if(h&&h.hideTitleLegend){d3.select(x).attr("transform","translate("+(+Q/2)+","+(+Q/2)+")");d3.select(R).attr("viewBox","0"+" "+"0"+" "+(Q)+" "+(Q));d3.select(G).attr("width",Q);d3.select(G).attr("height",Q);}else{if(!this._hasLegend()){d3.select(x).attr("transform","translate("+(+Q/2)+","+(+Q/2+J)+")");L=0;}else{var U="";var V="";var W=M/H;if(M<H){Q=Q/W;U="scale("+(1/W)+")";}if(this._positionOfLegend()==="right"){U="translate("+(+Q/2)+","+(+Q/2+J)+")"+U;V="translate("+(+Q+L)+","+(+J+K)+")";}else if(this._positionOfLegend()==="left"){U="translate("+(+Q/2+I+L)+","+(+Q/2+J)+")"+U;V="translate("+"0"+","+(+J+K)+")";}d3.select(x).attr("transform",U);d3.select(z).attr("transform",V);}if(v()){d3.select(y).attr("transform","translate("+((I+Q)/2)+","+K+")");d3.select(y).select(".v-m-title .v-title.viz-title-label").attr("x",0);d3.select(y).select(".v-m-title .v-title.viz-title-label").attr("y",0);R.appendChild(y);}R.appendChild(z);d3.select(R).attr("viewBox","0"+" "+"0"+" "+(I+L+Q)+" "+(Q+J));d3.select(G).attr("width",(I+L+Q));d3.select(G).attr("height",(Q+J));}R.appendChild(x);d3.select(R).attr("width",h["width"]);d3.select(R).attr("height",h["height"]);d3.select(R).attr("preserveAspectRatio","xMidYMid meet");d3.select(R).attr("text-rendering","geometricPrecision");try{i=new XMLSerializer().serializeToString(R);}catch(e){}var X=d3.select(R)[0][0].getElementsByTagName('clipPath');var Y;Y=/viewbox/g;i=i.replace(Y,"viewBox");Y=/preserveaspectratio/g;i=i.replace(Y,"preserveAspectRatio");for(var Z=0;Z<X.length;Z++){Y=new RegExp(X[Z].id,"g");i=i.replace(Y,'clipPath-'+O.guid());}var $=i.search('>')+1;var _=i.substr(0,$);Y=/\w+:\w+:\w+/g;_=_.replace(Y,function(a1){var b1=a1.split(':');return b1[1]+':'+b1[2];});Y=/\s\S*:NS\S*/g;_=_.replace(Y,'');i=_+i.substr($);Y=/<feMerge>.*<\/feMerge>/g;i=i.replace(Y,'');}return i;};var k=6,l=2.414;var m=1.08;var n=function(w,h){var e;var i=Math.min(w,h);if(i<k*2){if(i<(k/4)*2){if(i<(k/8)*2){e=0;}else{e=k/8;}}else{e=k/4;}}else{e=k;}return e;};var p=function(h,e){return(h/2-e)/m;};var q=function(w,e){var h=Math.max(w/2/(1+1/l),e*l);return Math.min(h,w/2-e);};j.prototype.calculateOuterRadius=function(w,h,e){var i=this._padding;if(this.isFlexibleLayout()){var v=this._properties.get('radius');if(!(T.isNumber(v)&&v>=0&&v<=0.5)){v=this._properties.getDefault('radius');}return Math.min(h*v,w*v);}else{if(e){return Math.min(h/2,w/2);}return Math.min(p(h,i),q(w,i));}};var r=function(e,i){if(!T.isNaN(i)){return e*i;}return e/l;};var s=function(e,h,i,v){var w=20;var x=document.createTextNode(h);var y=S.create("tspan");var z=i&&i.hasOwnProperty("fontSize")?parseFloat(i["fontSize"])/2:w/2;y.setAttribute("class",v);y.appendChild(x);e.appendChild(y);return{"node":y,"offset":z};};var t=function(e,h){var v="v-donut-centername",w="v-donut-centervalue",x="centerName",y="centerValue",z="highlight";var L=6;var A=e.properties;var E=S.create("text");var G,H,I=0,J=0;var K,M;var Q,R=A.highlight.contextInfos;if(R&&R.length>0){for(var i=0;i<R.length;i++){if(d.equalCtx(R[i].ctx,h)){Q=R[i].paras.color;break;}}}var U=0;var V=0;if(A.highlight.centerName.visible){M=A[z][x]['style'];K=s(E,e.centerName,M,v);if(K){G=K.node;I=K.offset;U=g.fastMeasure(e.centerName,M["fontSize"],M["fontWeight"],M["fontFamily"],M["fontStyle"]).width;G.style.fill=M["color"]||Q;G.style.fontFamily=M["fontFamily"];G.style.fontSize=M["fontSize"];G.style.fontWeight=M["fontWeight"];G.style.fontStyle=M["fontStyle"];}}if(A.highlight.centerValue.visible){M=A[z][y]['style'];K=s(E,e.centerValue,M,w);if(K){H=K.node;J=K.offset;V=g.fastMeasure(e.centerValue,M["fontSize"],M["fontWeight"],M["fontFamily"],M["fontStyle"]).width;H.style.fill=M["color"]||Q;H.style.fontFamily=M["fontFamily"];H.style.fontSize=M["fontSize"];H.style.fontWeight=M["fontWeight"];H.style.fontStyle=M["fontStyle"];}}if(G){G.setAttribute("x",-U/2);G.setAttribute("y",I-J-L/2);}if(H){H.setAttribute("x",-V/2);H.setAttribute("y",I+J+L/2);}var W=null;var X=this.runtime().envManager();if(X){W=X.textAnchor();}E.setAttribute("text-anchor",W);return E;};var u=function(){};u.prototype.reset=function(){this._sum=0;};u.prototype.getBase=function(i,v){return this._sum;};u.prototype.add=function(i,v){this._sum+=v;return this._sum;};u.prototype.destroy=function(){this._sum=null;};return j;});define('sap/viz/chart/views/PieChartView',['sap/viz/framework/common/util/oo','sap/viz/chart/views/ChartView','sap/viz/chart/components/plots/PiePlot','sap/viz/chart/components/plots/PlotHelper','sap/viz/framework/common/util/PropertyZoneUtil','sap/viz/framework/common/util/FeedingZoneUtil','sap/viz/chart/components/util/ContextUtil'],function Setup(o,C,P,a,b,F,c){var d=function(r,e){d.superclass.constructor.apply(this,arguments);this._supportLazyRender=true;};o.extend(d,C);d.prototype._getDataItems=function(){return["size","categoryAxis","color","dataFrame","series","trellisRow","trellisColumn"];};d.prototype._createPlotContainer=function(i){var r=this.runtime();this._plotArea=a.create(this._renderType,P,r,null);r.zoneManager().add(b.plot(this._plotArea));r.zoneManager().add(F.plot(this._plotArea));this.setChild("plot",this._plotArea,{priority:3});};d.prototype.render=function(r){var e=this._properties.get('plotArea.highlight.contextInfos');if(e&&e.length>0){for(var i=0;i<e.length;i++){for(var j=0;j<this._data.color.scale._domain.length;j++){if(c.equalCtxExtend(e[i].ctx,this._data.color.scale._domain[j],this._rawData.dataModel._color.metaData)){this._data.color.scale._range[j]=e[i].paras.color;}}}}if(this._options.chartType.indexOf('donut')>=0){var h=this._properties.get('plotArea.highlight.highlightContext');if(h&&h.length>0){h=h[0];var f=this._properties.get('plotArea.highlight.unhighlightSliceColor');for(var k=0;k<this._data.color.scale._domain.length;k++){if(!c.equalCtxExtend(h,this._data.color.scale._domain[k],this._rawData.dataModel._color.metaData)){this._data.color.scale._range[k]=f;}}}}d.superclass.render.apply(this,arguments);};d.prototype.exportContent=function(e){if(this._children['plot']&&this._children['plot'].module){return this._children['plot'].module.exportContent(e);}};return d;});define('sap/viz/chart/metadata/bindings/PieBindings',[],function Setup(){var P=[{"id":"dataFrame","name":"IDS_DATA_FRAME","type":"Dimension","min":0,"max":1,"acceptMND":false,"role":"frame.data"},{"id":"size","name":"IDS_SIZE","type":"Measure","min":1,"max":1,"role":"layout.value"},{"id":"color","name":"IDS_COLOR","type":"Dimension","min":1,"max":Number.POSITIVE_INFINITY,"role":"mark.color","acceptMND":false}];return P;});define('sap/viz/chart/components/axis/ReversedCategoryAxis',["sap/viz/framework/common/util/oo","sap/viz/framework/scale/CategoryScale","sap/viz/chart/components/axis/CategoryAxis","sap/viz/framework/common/util/ObjectUtils",'sap/viz/framework/common/util/DataGraphics'],function(o,C,a,O,D){var R=function(r,b){R.superclass.constructor.apply(this,arguments);};o.extend(R,a);R.prototype.setData=function(d,h){R.superclass.setData.apply(this,arguments);if(d.scale){var c=O.clone(d.scale.getDomain());this._scale=new C(c.reverse(),[0,1]);}};R.prototype.render=function(r){R.superclass.render.apply(this,arguments);if(this.getParent()&&this.getParent().node()){var b=this.getParent().node();D.setContext(b,{name:this.getName()});}};R.prototype.destroy=function(){R.superclass.destroy.call(this);this._scale=null;};return R;});define('sap/viz/chart/components/datalabels/HeatMapDataLabels',['sap/viz/framework/common/util/oo','sap/viz/chart/components/datalabels/DataLabels',"sap/viz/chart/components/util/DataPointUtils","sap/viz/framework/common/util/GeometryUtils"],function Setup(o,D,a,G){var H=function(r,b){H.superclass.constructor.apply(this,arguments);this._ignoreEmptyDataLabel=true;};o.extend(H,D);H.prototype._getDataLabelInfo=function(n){var c=a.getContext(n);var k=this._data.color.metaData[0].id;return{key:k,value:c[k]?c[k]:null};};H.prototype._computeDataLabelTranslate=function(n,c,l,b,d){var h=false;if(n.childNodes[1]&&n.childNodes[1].textContent){h=true;c.f+=G.getBBox(n.childNodes[1]).height/2;}return this._computeDataLabelPosition(c,this._fixBBoxWhenInvisible(n),l,b,d,h);};H.prototype._computeDataLabelPosition=function(c,s,l,b,d,h){var x,y;var n=s.x+c.e;var e=s.y+c.f;x=(n+s.width/2)-(b.x+b.width/2);if(h){y=(e+s.height/2)-b.y;}else{y=e+s.height/2-b.y/2;}return[x,y];};H.prototype.hideConditional=function(d){var i;for(i=(d.length-1);i>=0;i--){var b=d[i].dataPoint;var c=d[i].node;var e=c.getBoundingClientRect();var f=b.getBoundingClientRect();if(((e.width)>f.width)||((e.bottom)>f.bottom)){if(c&&c.parentNode){c.parentNode.removeChild(c);}d.splice(i,1);}}return H.superclass.hideConditional.apply(this,arguments);};return H;});define('sap/viz/chart/components/plots/HeatMapPlot',['sap/viz/framework/common/util/oo','sap/viz/chart/components/plots/BasePlot','sap/viz/chart/components/plots/ItemScaleHandler','sap/viz/chart/components/plots/ScaleHandler','sap/viz/chart/components/renderers/BarRenderer','sap/viz/chart/components/datalabels/HeatMapDataLabels','sap/viz/framework/common/util/Constants','sap/viz/framework/common/util/PropertyZoneUtil','sap/viz/framework/common/util/FeedingZoneUtil','sap/viz/framework/common/util/SVG','sap/viz/chart/components/util/DataPointUtils','sap/viz/framework/common/util/DataGraphics','sap/viz/chart/components/util/TextUtils',"sap/viz/framework/common/util/NameColorUtils","sap/viz/framework/common/util/UADetector",'sap/viz/framework/common/util/DataUtils',"sap/viz/chart/components/util/ColorUtil"],function Setup(o,B,I,S,a,H,C,P,F,b,D,c,T,N,U,d,e){var L={fontSize:"12px",fontWeight:"normal",fontFamily:"'Open Sans', Arial, Helvetica, sans-serif",fontStyle:"normal"};var f=function(r,g){f.superclass.constructor.apply(this,arguments);r.zoneManager().add(P.plot(this));r.zoneManager().add(F.plot(this));this._ellipsisText=[];};o.extend(f,B);f.prototype._getXHandlers=function(){return[S.getCategoryScaleHandler("categoryAxis",{isHorizontal:true,itemScaleHandler:I.get(true,{forBar:false})})];};f.prototype._getYHandlers=function(){return[S.getCategoryScaleHandler("categoryAxis2",{isHorizontal:false,itemScaleHandler:I.get(true,{forBar:false})})];};f.prototype.setData=function(g){this._isOnlyOneCategory=false;if(!g.categoryAxis2||!g.categoryAxis2.metaData){this._isOnlyOneCategory=true;}g._isOnlyOneCategory=this._isOnlyOneCategory;f.superclass.setData.apply(this,arguments);};f.prototype._applyChanges=function(){f.superclass._applyChanges.apply(this,arguments);this._borderWidth=this._properties.get("border.visible")?1:0;var l=this._properties.get("dimensionLabel");if(l&&l.style){L=l.style;this._dimensionLabelVisible=l.visible;var s=this._semanticMgr;this._dimensionLabelSemantic=s.hasRuleForProp("dimensionLabel")||s.othersStyleHas("dimensionLabel");}if(l&&l.renderer){this._dimensionLabels=l;}};f.prototype._calculatePreferredLayout=function(){var s=this._size;var m=s.height;var g=s.width;var h=this._getSeries()[0];var l=-Number.MAX_VALUE;var r;var n;var R;var p;var q;var t=[];var v;var u=this._borderWidth;if(this._isOnlyOneCategory){if(h.length==1){r=m;n=g;p=1;R=1;}else{for(R=1;R<=h.length;R++){r=m/R;p=Math.ceil(h.length/R);n=g/p;q=(p*R)-h.length;v=(r-n)*(r-n);if(v<1){v=1;}if(q===0&&v===0){l=1+1;}else if(q===0&&v!==0){l=1+1/v;}else if(q!==0&&v===0){l=1+1;}else{l=1+1/v;}t.push({"iRow":R,"iCol":p,"rHeight":r,"rWidth":n,"varianceRec":v,"emptyCellNum":q,"score":l});}var w=0;var x=-1;for(var i=0;i<t.length;i++){if(t[i].score>w){w=t[i].score;x=i;}}r=t[x].rHeight;n=t[x].rWidth;p=t[x].iCol;R=t[x].iRow;}for(var j=0;j<h.length;j++){h[j].width=n-2*u;h[j].height=r-2*u;h[j].x=n*(j%p)+u;h[j].y=r*(Math.floor(j/p))+u;}}else{p=this._data.categoryAxis.rowArray.length;R=this._data.categoryAxis2.rowArray.length;r=m/R;n=g/p;for(var k=0;k<h.length;k++){h[k].width=n-u;h[k].height=r-u;h[k].x=n*(Math.floor(k/R))+u/2;h[k].y=r*(k%R)+u/2;}}return h;};f.prototype._buildWrapperConfig=function(g){var h=this._getColor(g);var i={graphic:{width:g.width,height:g.height,fill:h,opacity:1},ctx:g.dp.context(),effectManager:this._effectManager,categoryAxis:g.categoryAxis};if(this._strokeProp&&this._strokeProp.visible&&i.graphic){i.graphic.stroke=this._strokeProp.color;i.graphic.strokeWidth='1px';}if(i.graphic.fill){i.graphic.fill=N.convertColor(i.graphic.fill);}if(i.graphic.color){i.graphic.color=N.convertColor(i.graphic.color);}return i;};f.prototype._drawDimensionLabel=function(g){var i;var l="";var h=g.categoryAxis;var t;for(i=0;i<h.length;i++){if(h[i]){l+=d.getLabelText(h[i])+" / ";}else{l+="null /";}}l=l.slice(0,l.length-2);var j={ctx:g.ctx,text:l,styles:L,defaultColor:"#ffffff",dpSize:{width:g.graphic.width,height:g.graphic.height},isMeasureText:true,background:g.graphic.fill};if(this._dimensionLabels&&this._dimensionLabels.renderer){t=this._dimensionLabels.renderer(j);}if(!t&&this._showDimensionLabelFor(j.ctx)){var s=this._semanticMgr;var k;if(s.hasRuleForProp("dataLabel")){k=s.analyzeDataPointForProperty(j.ctx,"dataLabel");}if(k){j.dataLabelVisible=k.dataLabel;}else{j.dataLabelVisible=this._properties.get("dataLabel.visible");}t=this._defaultDimensionLabelRenderer(j);}if(t){c.setContext(t,j.ctx);var m=T.getTextBBox(t);var n=d3.select(t).attr("class","v-dimensionlabel v-heatmapdimensionlabel").attr("fill-opacity","1").attr("x",j.dpSize.width/2-m.width/2).attr("y",j.dpSize.height/2-(m.height/2+m.y));var p=null;var q=this.runtime().envManager();if(q){p=q.textAnchor();}n.attr("text-anchor",p);}return t;};f.prototype._showDimensionLabelFor=function(g){if(this._dimensionLabelSemantic){var s=this._semanticMgr;var h=s.analyzeDataPointForProperty(g,"dimensionLabel");if(h){return h.dimensionLabel;}}return this._dimensionLabelVisible;};f.prototype._defaultDimensionLabelRenderer=function(g){var t;var h=L["fontSize"];var j=L["fontWeight"];var k=L["fontFamily"];var l=L["fontStyle"];var m=L["color"];if(!m&&g.dataLabelVisible){var n=this._properties.get("dataLabel.style.colorRange");if(n==='outside'){m=e.getDataLabelColor(g.background);}else{m=this._properties.get("dataLabel.style.color");}}if(!m){m=e.getDataLabelColor(g.background);}h=T.validateFontStyle(h);j=T.validateFontStyle(j);var p=0;var q=T.superFastMeasure(g.text,h,j,k);if(q.height>g.dpSize.height){p=-1;}else{t=b.create("text");p=g.dpSize.width;var s="font-size:"+h+";";s+="font-weight:"+j+";";s+="font-family:"+k+";";s+="font-style:"+l+";";s+="fill:"+m+";";var r=null;for(var i=0;i<this._ellipsisText.length;i++){var u=this._ellipsisText[i];if(g.text.indexOf(u)===0){r=g.text.length>u.length?u+'...':u;break;}}if(r){t.textContent=r;if(r!==g.text){t.appendChild(document.createElementNS(t.namespaceURI,"title")).textContent=g.text;}g.text=r;}else{var v={};var w=this.runtime().envManager();v.reverseDots=(w&&w.reverseDots());g.text=T.ellipsis(g.text,t,p,s,v);if(g.text.length>0){var x=g.text.indexOf('...');var y=3;if(v.reverseDots){this._ellipsisText.push(x<0?g.text:g.text.substring(y));}else{this._ellipsisText.push(x<0?g.text:g.text.substring(0,x));}}}d3.select(t).attr("font-size",h).attr("font-weight",j).attr("font-family",k).attr("font-style",l).attr("fill",m);}return t;};f.prototype._drawDatapoint=function(g){var h=b.create("g");var n=a(g);h.appendChild(n);return h;};f.prototype._drawOneCategoryDataPoint=function(g){var h=b.create("g");var n=a(g);var t=this._drawDimensionLabel(g);h.appendChild(n);if(t){h.appendChild(t);}return h;};f.prototype._filterHidden=function(g){var h=this._data.categoryAxis.metaData.map(function(m){return m.hidden;});if(h.length>0){g.forEach(function(i){i.categoryAxis=h.reduce(function(l,j,k){return j?l:l.concat(i.categoryAxis[k]);},[]);});}return g;};f.prototype._drawDatapoints=function(s){var g=this._filterHidden(this._calculatePreferredLayout());var h,i;this._dataPointRenderer=this._isOnlyOneCategory?this._drawOneCategoryDataPoint:this._drawDatapoint;var j,k,t,l,m;var n=b.create("g");n.setAttribute("class",C.CSS.CLASS.DATAPOINT_GROUP);this._ellipsisText=[];for(k=0;k<g.length;k++){l=g[k];m=this._buildWrapperConfig(l);m.twoDirection=true;j=this._dataPointRenderer(m);D.setDataId(j,k);D.setDataPointId(j,l.dp.id);c.setContext(j,m.ctx);c.setData(j,{color:m.graphic.fill,strokeWidth:j.querySelector("rect").getAttribute("stroke-width")});j.setAttribute("class",C.CSS.CLASS.DATAPOINT+' '+C.CSS.CLASS.MORPHABLEDATAPOINT+' '+C.CSS.CLASS.DATAPOINTDEFAULT);j.setAttribute("transform",'translate('+l.x+","+l.y+')');n.appendChild(j);}s.node().appendChild(n);this._drawHeatMapDataLabels(s);};f.prototype.destroy=function(){f.superclass.destroy.call(this);this._dataPointRenderer=null;this._borderWidth=null;this._properties=null;this._isOnlyOneCategory=null;if(this._dimensionLabels&&this._dimensionLabels.destroy){this._dimensionLabels.destroy();}this._dimensionLabels=null;this._ellipsisText=null;};f.prototype._drawHeatMapDataLabels=function(s){var g=s.select(".v-datapoint-group");if(!g.empty()){this._drawDataLabels(s,g.node());}};f.prototype._getDataLabels=function(n,r){return new H(r,{name:n});};return f;});define('sap/viz/chart/components/plotareas/XXPlotArea',['sap/viz/framework/common/util/oo','sap/viz/chart/components/container/XYContainer','sap/viz/chart/components/axis/CategoryAxis','sap/viz/chart/components/axis/ReversedCategoryAxis','sap/viz/chart/components/plots/HeatMapPlot'],function Setup(o,X,C,R,H){var a=function(r,b){a.superclass.constructor.apply(this,arguments);this._init();};o.extend(a,X);a.prototype._init=function(){this._plot=new H(this.runtime(),{name:"plotArea"});this._categoryAxis=new C(this.runtime(),{name:"categoryAxis"});this._categoryAxis2=new R(this.runtime(),{name:"categoryAxis2"});this.setLayoutSequence(['left','right','bottom','top']);this.setChild("categoryAxis",this._categoryAxis,{position:"bottom"});this.setChild("categoryAxis2",this._categoryAxis2,{position:"left"});this.setChild("plot",this._plot,{position:"center"});};a.prototype.setData=function(d){a.superclass.setData.apply(this,arguments);var i=false;if(!d.categoryAxis2||!d.categoryAxis2.scale){this._categoryAxis2=null;i=true;}else{this._categoryAxis2.setData(d.categoryAxis2);}this._categoryAxis.setData(d.categoryAxis);this._categoryAxis.isAxisBodyOptional(i);this._plot.setData(d);};a.prototype.destroy=function(){a.superclass.destroy.call(this);this._plot=null;this._categoryAxis=null;this._categoryAxis2=null;};return a;});define('sap/viz/chart/components/legend/MBCLegend',['sap/viz/framework/common/util/oo','sap/viz/chart/components/legend/BaseLegend','sap/viz/chart/components/util/TextUtils','sap/viz/framework/common/lang/LangManager','sap/viz/framework/common/util/TypeUtils','sap/viz/framework/common/format/UnitFormat','sap/viz/framework/common/util/UADetector','sap/viz/framework/common/util/ObjectUtils',"sap/viz/framework/common/util/Constants",'sap/viz/framework/common/util/NameColorUtils'],function Setup(o,B,T,a,b,U,c,O,C,N){var M=function(r,d){M.superclass.constructor.apply(this,arguments);var p=this._properties.get();this._mbcLA_width=400;this._mbcLA_height=200;this._mbcLA_valueLabelFont=p.label.style;this._mbcLA_wrap=undefined;this._mbcLA_chartData=undefined;this._mbcLA_colors=[];this._mbcLA_markerSize={width:12,height:12};this._mbcLA_paddingBottom=1;this._mbcLA_selectedItem=[];this._mbcLA_posInfo={markerSize:12,markerPaddingRight:0.5,paddingTop:1,maxValueSpace:1.6,minValueSpace:0.5,maxMarkerHeight:36,minMarkerHeight:12,space:0,noValuePadding:18};this._mbcLA_textInfos=null;this._mbcLA_perferredSize=null;this._mbcLA_nullLabelIndex=-1;this._mbcLA_textHeight=20;this._mbcLA_minimized=false;this._mbcLA_effectManager=this.runtime().effectManager();this._mbcLA_styleManager=p;this._mbcLA_style={};this._mbcLA_style.clickedshadow=p.mouseDownShadow.color;this._need_calTextSize=false;this._cells=[];this._type="MBCLegend";};o.extend(M,B);M.prototype._addDefaultProperties=function(){M.superclass._addDefaultProperties.call(this);this._properties.add({'formatString':null,'unitFormatType':null,'drawingEffect':'normal','hovershadow':{'color':'#cccccc'},'mouseDownShadow':{'color':'#808080'},'onlyShowStartEndLabel':false});};M.prototype.syncProperties=function(){this._mbcLA_valueLabelFont=this._properties.get('label.style');this._mbcLA_styleManager=this._properties.get();this._formatString=this._mbcLA_styleManager.formatString;this._onlyShowStartEndLabel=this._properties.get('onlyShowStartEndLabel');};M.prototype.setData=function(d){if(!d){return;}this.syncProperties();if(d.color){this._bindingFields=d.color.metaData;}this._mbcLA_colors=[];if(d.color&&d.color.scale&&d.color.scale._range){var j;for(j=0;j<d.color.scale._range.length;j++){this._mbcLA_colors.push(d.color.scale._range[j]);}}var _=d.color.range,e,i,l,f=d.color.metaData,g=O.extend(true,[],d.color.scale._legendValues);this._mbcLA_chartData=[];if(!f||!f.length||!_.length||!_[0]||!_[0].length){return;}var h=_[0][0],k=_[0][1],m=f[0].id;this._measureName=f[0].name;e=h<=k?true:false;if(g&&g.length){if(e){g=g.reverse();}for(i=0,l=g.length;i<l;i++){var n={measureName:m};n[m]={min:g[i][0],openmax:g[i][1]};if(i===0){n[m].max=g[i][1];}this._mbcLA_chartData.push({ctx:n,val:g[i][0]});if(i===0){this._mbcLA_chartData[0].val1=g[i][1];if(Math.abs(g[i][1])===Math.abs(Number.MAX_VALUE)){this._mbcLA_chartData[0].val1='>'+g[i][0];}}if(i===l-1&&Math.abs(g[i][0])===Math.abs(Number.MAX_VALUE)){if(l>1){this._mbcLA_chartData[l-2].val='<'+g[i][1];delete this._mbcLA_chartData[l-1].val;}}}}var p=function(s){var i,j;for(i=0;i<s.length;i++){if(b.isArray(s[i])){if(s[i].length!==s[0].length){return true;}for(j=0;j<s[i].length;j++){if(s[i][j]===null||isNaN(s[i][j])){return true;}}}else{if(s[i]===null||isNaN(s[i])){return true;}}}return false;};var q=d.color.values;var r=p(q);if(r){this._mbcLA_chartData.push({ctx:{measureName:m,'and':function(s){return s[m]===null||isNaN(s[m]);}},val:'N/A'});this._mbcLA_colors.push(d.color.scale.scale(null));}this._need_calTextSize=true;};M.prototype.isVisible=function(){return M.superclass.isVisible.apply(this,arguments)&&this.hasData();};M.prototype.render=function(s,n){M.superclass.render.apply(this,arguments);if(!this.isVisible()){s.selectAll('g.v-content').remove();return this;}this._cells=[];var t=this;this.syncProperties();var p=this._parent=s;var l=p.selectAll('g.v-content').data(['content']);l.enter().append('g').classed('v-content',true);l.exit().remove();l.attr('transform','translate(0, '+this._pos.y+')');var g=l.selectAll('g.v-groups').data(['groups']);g.enter().append('g').classed('v-groups',true).classed('v-label',true).classed('viz-legend-valueLabel',true).attr('role','listbox');g.exit().remove();this._tempGroups=g;var e=function(d){var f={marker:[],label:[]},x=0,y=0,h=t._mbcLA_colors.map(N.convertColor),v=t._mbcLA_posInfo.markerPaddingRight*t._mbcLA_textHeight,j,i,k,m,q;var r=t._mbcLAfn_calTextSize().textSize;h=h.reverse();if(t._mbcLA_nullLabelIndex!==-1){var u=h.shift();h.push(u);}k=d.length;var w=k>0&&d[k-1].val==='N/A';if(t._orientation==='top'||t._orientation==='bottom'){j=t._mbcLA_markerSize.width+t._mbcLA_paddingBottom;var z=t._mbcLA_markerSize.height+v+t._mbcLA_textHeight;for(i=0;i<k;i++){m=d[i].val;q=d[i].val1;if(m==='N/A'&&k>1){x=x+t._mbcLA_posInfo.noValuePadding;}f.marker.push({x:x,y:y,color:h[i],val:d[i].val,ctx:d[i].ctx});if(q!==undefined){f.label.push({val:q,x:0,y:z,visibility:r[i].visibility_tVal});}if(!(t._onlyShowStartEndLabel&&i<k-(w?2:1))){if(m!==undefined){if(m==='N/A'){f.label.push({val:a.get('IDS_ISNOVALUE'),x:x,y:z,visibility:r[i].visibility});}else{f.label.push({val:m,x:x+j,y:z,visibility:r[i].visibility});}}}x=x+j;}}else{j=t._mbcLA_markerSize.height+t._mbcLA_paddingBottom;var A=t._mbcLA_markerSize.width+v;for(i=0;i<k;i++){m=d[i].val;q=d[i].val1;if(m==='N/A'&&k>1){y=y+t._mbcLA_posInfo.noValuePadding;}f.marker.push({x:x,y:y,color:h[i],val:m,ctx:d[i].ctx});if(q!==undefined){f.label.push({val:q,x:A,y:t._mbcLA_textHeight,visibility:r[i].visibility_tVal});}if(m!==undefined){if(!(t._onlyShowStartEndLabel&&i<k-(w?2:1))){if(m==='N/A'){f.label.push({val:a.get('IDS_ISNOVALUE'),x:A,y:y+t._mbcLA_textHeight-t._mbcLA_paddingBottom,visibility:r[i].visibility});}else{f.label.push({val:m,x:A,y:y+j+t._mbcLA_textHeight-t._mbcLA_paddingBottom,visibility:r[i].visibility});}}}y=y+j;}}return f;};s.each(function(){t._mbcLAfn_getThemeStyleDef();t._mbcLAfn_calMarkerSize({width:t._mbcLA_width,height:t._mbcLA_height-t._pos.y});var f=t._mbcLA_chartData,h,y=0,j,k,v=t._mbcLA_posInfo.markerPaddingRight*t._mbcLA_textHeight;var w=t._tempGroups;t._mbcLA_wrap=w;var m=w.selectAll('rect.v-indicatedRect');if(m.empty()){m=w.append('rect').attr('class','v-indicatedRect v-hovershadow');}m.attr('visibility','hidden');if(t._orientation==='top'||t._orientation==='bottom'){m.attr('width',t._mbcLA_markerSize.width+2).attr('height',t._mbcLA_markerSize.height+4);}else{m.attr('width',t._mbcLA_markerSize.width+4).attr('height',t._mbcLA_markerSize.height+2);}var q=e(f);var r=w.selectAll('rect.v-marker').data(q.marker);r.exit().remove();r.enter().append('rect');r.attr('class',function(d,i){return'v-marker v-mbc-legend-item ID_'+i;});r.attr("legendlabel-id",function(d,i){t._cells.push([{id:i}]);return i;});if(t.isSelectable()){r.attr('aria-posinset',function(d,i){return i+1;}).attr('aria-setsize',q.marker.length);}r.attr('width',t._mbcLA_markerSize.width).attr('height',t._mbcLA_markerSize.height).attr('x',function(d){return d.x;}).attr('y',function(d){return d.y;}).attr('fill',function(d){var i={drawingEffect:'normal',fillColor:d.color};var E=t._mbcLA_effectManager.register(i);return E;});var u=(t._mbcLA_nullLabelIndex===-1)?q.label.length:(q.label.length-1);var x=w.selectAll('text').data(q.label);x.exit().remove();x.enter().append('text');x.text(function(d){return t._getLabelValue(d.val);});x.attr('x',function(d){return d.x;}).attr('y',function(d){return d.y;}).attr('visibility',function(d){return d.visibility;});var z=null;var A=t.runtime()&&t.runtime().envManager();if(A){z=A.textAnchor();}x.attr("text-anchor",z);var D=t._mbcLA_styleManager.label.style;w.attr('font-family',D['fontFamily']).attr('font-size',D['fontSize']).attr('font-weight',D['fontWeight']).attr('fill',D.color).attr('font-style',D['fontStyle']);});};M.prototype.highlight=function(t){if(t.__data__){var i=this._mbcLA_wrap.selectAll('.v-indicatedRect');var d=t.__data__;if(d.x!==undefined&&d.y!==undefined){i.attr('class','v-indicatedRect v-mbc-legend-item v-hovershadow').attr('visibility','visible').attr('fill',this._mbcLA_style.hovershadow.fill);if(this._orientation==='top'||this._orientation==='bottom'){i.attr('x',d.x-1).attr('y',d.y-2);}else{i.attr('x',d.x-2).attr('y',d.y-1);}}}};M.prototype.hasData=function(){if(this._mbcLA_chartData&&this._mbcLA_chartData.length){return true;}return false;};M.prototype.unhighlight=function(t){if(this._mbcLA_wrap){this._mbcLA_wrap.selectAll('.v-indicatedRect').attr('visibility','hidden');}};M.prototype.selected=function(t){if(t.__data__){var i=this._mbcLA_wrap.selectAll('.v-indicatedRect');var d=t.__data__;if(d.x!==undefined&&d.y!==undefined){i.attr('class','v-indicatedRect v-mbc-legend-item v-hovershadow-mousedown').attr('visibility','visible').attr('fill',this._mbcLA_style.clickedshadow);if(this._orientation==='top'||this._orientation==='bottom'){i.attr('x',d.x-1).attr('y',d.y-2);}else{i.attr('x',d.x-2).attr('y',d.y-1);}}}};M.prototype.setSize=function(s){M.superclass.setSize.apply(this,arguments);this.width(s.width);this.height(s.height);};M.prototype.width=function(w){M.superclass.width.apply(this,arguments);var d=[].slice.call(arguments);if(d.length<1||d[0]===undefined){this._properties.set('width',this._mbcLA_width);return this._mbcLA_width;}this._mbcLA_width=w;this._properties.set('width',this._mbcLA_width);return this;};M.prototype.height=function(h){M.superclass.height.apply(this,arguments);var d=[].slice.call(arguments);if(d.length<1||d[0]===undefined){this._properties.set('height',this._mbcLA_height);return this._mbcLA_height;}this._mbcLA_height=h;this._properties.set('height',this._mbcLA_height);return this;};M.prototype.setOrientation=function(d){if(!arguments.length){return this._orientation;}if(d&&d!==this._orientation){this._mbcLA_markerSize={width:12,height:12};}this._orientation=d;this._need_calTextSize=true;return this;};M.prototype.getPreferredSize=function(d,w){this.syncProperties();if(!this.hasData()){return{width:0,height:0,minWidth:0,minHeight:0,maxWidth:0,maxHeight:0};}return M.superclass.getPreferredSize.apply(this,arguments);};M.prototype._getBodyPreferredSize=function(d){var m=0,e=0,f=0,g=0;if(this._mbcLA_chartData&&this._mbcLA_chartData.length&&this._need_calTextSize){this._mbcLAfn_getThemeStyleDef();this._mbcLA_textHeight=parseInt(this._mbcLA_valueLabelFont.fontsize,10);var t=this._mbcLAfn_calTextSize();var i=t.maxValueWidth;var v=t.textSize;var j=this._mbcLA_chartData.length;var h=this._mbcLA_posInfo.maxMarkerHeight;var l=this._mbcLA_posInfo.minMarkerHeight;if(this._orientation==='top'||this._orientation==='bottom'){var k=this._mbcLAfn_calLegendWidthFromMarkerWidth(h);e=k.height;m=k.width;k=this._mbcLAfn_calLegendWidthFromMarkerWidth(l);f=k.height;g=k.width;}else{m=this._mbcLA_markerSize.width+this._mbcLA_posInfo.markerPaddingRight*this._mbcLA_textHeight+i;g=this._mbcLA_markerSize.width+this._mbcLA_posInfo.markerPaddingRight*this._mbcLA_textHeight+(v[0].width>v[j-1].width?v[0].width:v[j-1].width);if(this._mbcLA_nullLabelIndex!==-1){e=(h+this._mbcLA_paddingBottom)*j+this._mbcLA_posInfo.noValuePadding-this._mbcLA_paddingBottom;f=(l+this._mbcLA_paddingBottom)*j+this._mbcLA_posInfo.noValuePadding-this._mbcLA_paddingBottom;}else{e=(h+this._mbcLA_paddingBottom)*j+this._mbcLA_textHeight-this._mbcLA_paddingBottom;f=(l+this._mbcLA_paddingBottom)*j+this._mbcLA_textHeight-this._mbcLA_paddingBottom;}}this._mbcLA_perferredSize={minHeight:f,minWidth:g,width:m,height:e,maxWidth:m,maxHeight:e};}else{this._mbcLA_perferredSize={minHeight:0,minWidth:0,width:0,height:0,maxWidth:0,maxHeight:0};}return this._mbcLA_perferredSize;};M.prototype._mbcLAfn_calTextSize=function(){var m=-1,v=[],d=this._mbcLA_chartData;var l=d.length;if(this._need_calTextSize){this._mbcLA_nullLabelIndex=-1;var h=l>0&&d[l-1].val==='N/A';for(var i=0;i<l;i++){if(d[i].val==='N/A'){v[i]=T.fastMeasure(a.get('IDS_ISNOVALUE'),this._mbcLA_valueLabelFont.fontsize,this._mbcLA_valueLabelFont.fontweight,this._mbcLA_valueLabelFont.fontfamily);this._mbcLA_nullLabelIndex=i;}else{var e=d[i].val;if(e!==undefined){e=this._getLabelValue(d[i].val);v[i]=T.fastMeasure(e,this._mbcLA_valueLabelFont.fontsize,this._mbcLA_valueLabelFont.fontweight,this._mbcLA_valueLabelFont.fontfamily);}else{v[i]={width:0,height:0};}var t=d[i].val1;if(t!==undefined){t=this._getLabelValue(t);var f=T.fastMeasure(t,this._mbcLA_valueLabelFont.fontsize,this._mbcLA_valueLabelFont.fontweight,this._mbcLA_valueLabelFont.fontfamily);if(f.width>v[i].width){v[i]=f;}}}if(this._onlyShowStartEndLabel&&i<l-(h?2:1)){v[i]={width:0,height:0};}if(v[i].width>m){m=v[i].width;}}this._mbcLA_textInfos={maxValueWidth:m,textSize:v};this._need_calTextSize=false;}return this._mbcLA_textInfos;};M.prototype._mbcLAfn_calMarkerSize=function(s){if(!this.hasData()){return false;}var d=this._mbcLA_chartData.length,h=0,e=0,f,v,t,i;this._mbcLA_minimized=false;var g=this._mbcLA_posInfo.maxValueSpace*this._mbcLA_textHeight;var j=this._mbcLA_posInfo.minValueSpace*this._mbcLA_textHeight;var k=this._mbcLAfn_calTextSize().textSize;if(this._orientation==='top'||this._orientation==='bottom'){f=s.width;var r=this._mbcLA_posInfo.maxMarkerHeight;var l=this._mbcLA_posInfo.minMarkerHeight;var m=-1;var n=false;var p=this._mbcLAfn_calLegendWidthFromMarkerWidth(r);if(p.width<=f){h=r;}else{p=this._mbcLAfn_calLegendWidthFromMarkerWidth(l);if(p.width>=f){h=l;}else{while(r-l>1){m=l+(r-l)/2;p=this._mbcLAfn_calLegendWidthFromMarkerWidth(m);if(Math.abs(p.width-f)<1){l=m;n=false;break;}else if(p.width>f){r=m;n=true;}else{l=m;n=false;}}h=l;if(n){this._mbcLAfn_calLegendWidthFromMarkerWidth(h);}}}}else{f=s.height;var q=false;var u;if(this._mbcLA_textHeight>this._mbcLA_posInfo.maxMarkerHeight){q=true;}if(this._mbcLA_nullLabelIndex!==-1){h=(f-this._mbcLA_paddingBottom*(d-1)-this._mbcLA_posInfo.noValuePadding-(q?(this._mbcLA_textHeight-this._mbcLA_posInfo.maxMarkerHeight):0))/(d);}else{h=(f-this._mbcLA_paddingBottom*(d-1)-this._mbcLA_textHeight)/d;}if(h>this._mbcLA_posInfo.maxMarkerHeight){h=this._mbcLA_posInfo.maxMarkerHeight;}if(h<this._mbcLA_textHeight){q=true;}if(q){this._mbcLA_minimized=true;}for(i=0;i<k.length;i++){if(this._mbcLA_minimized){k[i].visibility='hidden';}else{k[i].visibility='visible';}}k[0].visibility_tVal='visible';if(this._mbcLA_nullLabelIndex!==-1){k[this._mbcLA_nullLabelIndex].visibility='visible';u=k.length-1;}else{u=k.length;}if(u>0){if(k[u-1].height===0){k[u-2].visibility='visible';}else{k[u-1].visibility='visible';}}}this._mbcLA_posInfo.space=e;if(this._orientation==='top'||this._orientation==='bottom'){this._mbcLA_markerSize.width=h;this._mbcLA_markerSize.height=this._mbcLA_posInfo.markerSize;}else{this._mbcLA_markerSize.width=this._mbcLA_posInfo.markerSize;this._mbcLA_markerSize.height=h;}};M.prototype._mbcLAfn_getThemeStyleDef=function(){var v=this._mbcLA_styleManager.label.style;var f=false;if(v){if(v['fill']&&v['fill']!==this._mbcLA_valueLabelFont.color){this._mbcLA_valueLabelFont.color=v['fill'];}if(v['fontFamily']&&v['fontFamily']!==this._mbcLA_valueLabelFont.fontfamily){this._mbcLA_valueLabelFont.fontfamily=v['fontFamily'];f=true;}if(v['fontSize']&&v['fontSize']!==this._mbcLA_valueLabelFont.fontsize){this._mbcLA_valueLabelFont.fontsize=v['fontSize'];f=true;}if(v['fontWeight']&&v['fontWeight']!==this._mbcLA_valueLabelFont.fontweight){this._mbcLA_valueLabelFont.fontweight=v['fontWeight'];f=true;}if(f){this._need_calTextSize=true;}}};M.prototype.getActiveLevels=function(){return this._cells;};M.prototype.destroy=function(){M.superclass.destroy.apply(this,arguments);if(this._mbcLA_wrap){this._mbcLA_wrap.remove();this._mbcLA_wrap=null;}this._need_calTextSize=null;this._mbcLA_perferredSize=null;this._mbcLA_styleManager=null;this._mbcLA_effectManager=null;this._mbcLA_selectedItem=null;this._mbcLA_chartData=null;this._mbcLA_nullLabelIndex=null;this._mbcLA_width=null;this._mbcLA_height=null;this._mbcLA_valueLabelFont=null;this._mbcLA_colors=null;this._mbcLA_markerSize=null;this._mbcLA_paddingBottom=null;this._mbcLA_posInfo=null;this._mbcLA_textInfos=null;this._mbcLA_textHeight=20;this._mbcLA_minimized=false;this._mbcLA_style=null;this._cells=null;};M.prototype._mbcLAfn_calLegendWidthFromMarkerWidth=function(w){var m=0,t=0,d=false,i,n,r,e;var v=this._mbcLAfn_calTextSize().textSize;var l=this._mbcLA_chartData.length,f=l;if(this._mbcLA_nullLabelIndex!==-1){n=v[this._mbcLA_nullLabelIndex].width;f=l-1;}for(i=0;i<v.length;i++){if(i===this._mbcLA_nullLabelIndex){continue;}if(v[i].width>w){d=true;this._mbcLA_minimized=true;break;}}for(i=0;i<v.length;i++){if(d){v[i].visibility='hidden';}else{v[i].visibility='visible';}}if(this._mbcLA_nullLabelIndex!==-1){v[this._mbcLA_nullLabelIndex].visibility='visible';}v[0].visibility_tVal='visible';if(f>0){if(v[f-1].width===0){v[f-2].visibility='visible';}else{v[f-1].visibility='visible';}}m=(w+this._mbcLA_paddingBottom)*l;if(this._mbcLA_nullLabelIndex!==-1){if(f>0){m+=this._mbcLA_posInfo.noValuePadding-this._mbcLA_paddingBottom;}else{m=w;}}if(f>0){if(d){if(v[f-1].width===0){if(v[0].width>(w+this._mbcLA_paddingBottom)*(f-1)){t=0;v[0].visibility_tVal='hidden';v[f-2].visibility='hidden';}else{t=(w+this._mbcLA_paddingBottom)*(f-1)+v[f-2].width;}}else{if(v[0].width>(w+this._mbcLA_paddingBottom)*f){v[0].visibility_tVal='hidden';v[f-1].visibility='hidden';t=0;}else{t=(w+this._mbcLA_paddingBottom)*f+v[f-1].width;}}}else{t=(w+this._mbcLA_paddingBottom)*f+v[f-1].width;}}else{t=0;}if(this._mbcLA_nullLabelIndex!==-1){if(f>0){if(t<((w+this._mbcLA_paddingBottom)*f+this._mbcLA_posInfo.noValuePadding)){t=(w+this._mbcLA_paddingBottom)*f+this._mbcLA_posInfo.noValuePadding+n;}else{v[this._mbcLA_nullLabelIndex].visibility='hidden';}}else{t=n;}}e=m>t?m:t;if(t<=0){r=this._mbcLA_posInfo.markerSize;}else{r=this._mbcLA_posInfo.markerSize+this._mbcLA_posInfo.markerPaddingRight*this._mbcLA_textHeight+this._mbcLA_textHeight;}return{width:e,height:r};};M.prototype._getLabelValue=function(v){v=(v===null)?a.get('IDS_ISNOVALUE'):v;var p=this._properties.get();var m=null;if(this._bindingFields&&this._bindingFields.length){m=this._bindingFields[0].formatString;if(b.isArray(m)){m=m[0];}}var u=p.unitFormatType;var d={decimalFormatString:U.getDecimalFormatString(U.SUPPORT_CUSTOM_COMPONENTS.MBCLegend)};v=U.format(v,this._formatString||m,u,d);return v;};M.prototype._getTitleText=function(){var t="";var u=this._properties.get("title.text");if(b.isString(u)){t=u;}else{t=this._measureName;}return t;};return M;});define('sap/viz/chart/views/XXChartView',['sap/viz/framework/common/util/oo','sap/viz/chart/views/ChartView','sap/viz/chart/components/plotareas/XXPlotArea','sap/viz/chart/components/legend/MBCLegend'],function Setup(o,C,P,M){var X=function(r,a){X.superclass.constructor.apply(this,arguments);};o.extend(X,C);X.prototype._getLegendDefinition=function(){return[M];};X.prototype._getDataItems=function(){return["categoryAxis","categoryAxis2","series","color"];};X.prototype._createPlotContainer=function(){this._plotArea=new P(this.runtime());this._plotArea.setRoughSize(this._size);this.setChild("main",this._plotArea,{priority:3});};return X;});define('sap/viz/chart/metadata/bindings/XXBindings',[],function Setup(){var f=[{"id":"categoryAxis","name":"IDS_CATEGORY_AXIS","type":"Dimension","min":1,"max":Number.POSITIVE_INFINITY,"acceptMND":false,"role":"layout.category"},{"id":"categoryAxis2","name":"IDS_CATEGORY_AXIS2","type":"Dimension","min":0,"max":Number.POSITIVE_INFINITY,"acceptMND":false,"role":"layout.secondCategory"},{"id":"color","name":"IDS_COLOR","type":"Measure","min":1,"max":1,"role":"mark.quantizeColor"}];return f;});define('sap/viz/chart/metadata/bindings/XYYCombinationBindings',[],function Setup(){var f=[{"id":"dataFrame","name":"IDS_DATA_FRAME","type":"Dimension","min":0,"max":1,"acceptMND":false,"role":"frame.data"},{"id":"trellisColumn","name":"IDS_TRELLIS_COLUMN","type":"Dimension","min":0,"max":Number.POSITIVE_INFINITY,"acceptMND":false,"role":"trellis.columnCategory"},{"id":"trellisRow","name":"IDS_TRELLIS_ROW","type":"Dimension","min":0,"max":Number.POSITIVE_INFINITY,"acceptMND":false,"role":"trellis.rowCategory"},{"id":"categoryAxis","name":"IDS_CATEGORY_AXIS","type":"Dimension","min":1,"max":Number.POSITIVE_INFINITY,"acceptMND":false,"role":"layout.category"},{"id":"color","name":"IDS_COLOR","type":"Dimension","min":0,"max":Number.POSITIVE_INFINITY,"acceptMND":true,"role":"mark.color"},{"id":"valueAxis","name":"IDS_VALUE_AXIS","type":"Measure","min":1,"max":Number.POSITIVE_INFINITY,"role":"layout.value"},{"id":"valueAxis2","name":"IDS_VALUE_AXIS2","type":"Measure","min":1,"max":Number.POSITIVE_INFINITY,"role":"layout.secondValue"}];return f;});define('sap/viz/chart/components/plots/TimeLinePlot',['sap/viz/framework/common/util/oo','sap/viz/framework/common/util/SVG',"sap/viz/framework/common/util/DOM",'sap/viz/chart/components/plots/LinePlot','sap/viz/chart/components/plots/model/DataPointInfo','sap/viz/chart/components/plots/model/Series','sap/viz/framework/chartmodel/ContextBuilder','sap/viz/chart/components/plots/ScaleHandler','sap/viz/chart/components/util/SeriesUtil','sap/viz/framework/common/util/Constants','sap/viz/framework/common/util/ObjectUtils','sap/viz/framework/common/util/NameColorUtils','sap/viz/framework/common/util/DataUtils','sap/viz/chart/components/decorator/HitTestDecorator'],function(o,S,D,L,a,b,C,d,f,g,O,N,j,H){var T=function(r,c){T.superclass.constructor.apply(this,arguments);this._dataPointContext=[];this._calloutInfo=[];};o.extend(T,L);T.prototype._buildData=function(c){var r=T.superclass._buildData.apply(this,arguments);r.timeField=this._data.timeAxis.metaData.map(function(e){return e.id;});c.timeField=r.timeField;return r;};T.prototype._getCategoryScaleHandlers=function(){return[d.getTimeScaleHandler("timeAxis",{isHorizontal:true})];};T.prototype._getCategoryCount=function(){var c=this._data.timeAxis;return(c&&c.rowArray)?c.rowArray.length:1;};T.prototype._buildWrapperConfig=function(e,p,i,k){k=k?k:{};var l;var s=k.markerSize||this._properties.get("marker.size")||this._properties.get("line.marker.size");var m=k.markerShape||this._properties.get("marker.shape")||this._properties.get("line.marker.shape");var n;if(!this._isDrawDp){var t=e.transparent||0;var w=p.width;var h=p.height;var c=N.convertColor(k.color);l={graphic:{width:w,height:h,drawingEffect:this._drawingEffect||k.drawingEffect||this._properties.get('drawingEffect'),fill:c,opacity:1-t,shape:m,size:s},data:{color:c,width:w,height:h,translate:[p.x,p.y]},effectManager:this._effectManager,rawData:e,horizontal:this.isHorizontal(),dataId:e.dp.id};if(this._isCombination){n=e.dp&&e.dp.context()?e.dp.context():g.NULL_VALUE;l.ctx=n;}if(this._calloutInfo&&this._calloutInfo.length){l.graphic.d=this._markerD;}}else{n=e.dp&&e.dp.context()?e.dp.context():g.NULL_VALUE;l=T.superclass._buildWrapperConfig.call(this,e,p,n,k);l.graphic.size=s;}return l;};T.prototype._preRender=function(){var p=this._series;T.superclass._preRender.apply(this,arguments);this._series=p||this._series||[];this._resetDataPoints();};T.prototype._postRender=function(){T.superclass._postRender.apply(this,arguments);var s=this.runtime().statusManager();var r=s.get("plot.transform.scale");var t=s.get("plot.transform.translate");this._repositionReferenceLine(r,t);};T.prototype._preShowDataPoints=function(p){var s=this._getSeries();var c=f.getMaxSeriesLength(s);var _=f.isBigDensityMode(this._realSize.width,c);this._isDrawDp=!_;var e=this._properties.get('marker.hoverOnlyMode');this._isMarkerVisible=this._properties.get('marker.visible');if(!e){this._isDrawDp=true;if(_){this._isMarkerVisible=false;}}return L.superclass._preShowDataPoints.apply(this,arguments);};T.prototype.setCalloutInfo=function(_){this._calloutInfo=_;};T.prototype._getVisibleRange=function(c){var s=0,e=c.length-1;var l=s;var h=this._getDataPointPosition(c[s]).x+this._offset.x;var m,i,p,k;if(h<0){while(s<e){m=Math.floor((s+e)/2);i=c[m];p=this._getDataPointPosition(i);k=p.x+this._offset.x;if(k>0){e=m;}else{s=m+1;if(k>h){l=m;h=k;}}}}s=0;e=c.length-1;var r=e;var n=this._getDataPointPosition(c[e]).x-this._visibleBound.x;if(n>0){while(s<e){m=Math.floor((s+e)/2);i=c[m];p=this._getDataPointPosition(i);k=p.x-this._visibleBound.x;if(k>0){e=m;if(k<n){r=m;n=k;}}else{s=m+1;}}}return{min:l,max:r};};T.prototype._hideDataPoints=function(c,r){if(this._isDrawDp){return T.superclass._hideDataPoints.apply(this,arguments);}else{c.forEach(function(e){if(e){var n=e.getNode();D.remove(n);e.setNode(null);}});}};T.prototype.isDrawDataPointForCallout=function(c){var e=false;var i;for(i=0;i<this._calloutInfo.length;i++){if(this._calloutInfo[i].dpId===c){e=true;break;}}return e;};T.prototype._showDataPoints=function(c){this._preShowDataPoints();var n=[];var t=this._data.timeAxis.metaData.map(function(e){return e.id;});this._dataPointContext=[];this._seriesRenderer.resetDataPoints();var s=this._getMarkerShape();var h={color:null,markerShape:s,markerSize:this._properties.get('marker.size'),drawingEffect:this._properties.get('drawingEffect')};var i=g.DATAPOINT_INVALIDITY_SUPPORTED.indexOf(this._properties.get('dataPoint.invalidity'))<=0;for(var k=0;k<this._series.length;k++){var l=this.getSeriesDPStyle(k,null,true);var m=this._series[k];if(!m){continue;}var p=this._getDataPointRenderer(k);if(!p){continue;}var q=null;var r=m.getDataPoints();var u=this._getVisibleRange(r);this._hideDataPoints(r,u);for(var v=u.min;v<=u.max;v++){var w=r[v];if(!w){continue;}var x=this._getDataPointPosition(w);if(!x||isNaN(x.x)){continue;}var y=w.getId();var z=null;var A=w.getConfig();var B=w.getRawData();if(!q){q=this._getColor(B);}if(i&&B.dp.ignore){x=null;if(!A){A={graphic:{fill:q,}};}}else{if(!A){h.color=q;h.seriesStyle=l;A=this._buildWrapperConfig(B,x,null,h);A.timeField=t;A.seriesIndex=k;A.itemIndex=v;A.seqId=y;}this._dataPointContext[B.dp.id]=A;if(this._isDrawDp||this.isDrawDataPointForCallout(B.dp.id)){var E=w.getData();if(!E){E=this._buildData(A);w.init(A,y,E,B.dp.id);}z=w.getNode();if(z){this._updateDatapoint(z,p,A,x);}else{z=this._drawDataPoint(p,w);w.setNode(z);}if(z){n.push(z);}}}this._seriesRenderer.addDataPoint(k,v,A,x,z);}}return n;};T.prototype._applyScroll=function(){if(!this._selection){return;}var c=this._selection.select("g."+g.CSS.CLASS.DATAPOINT_GROUP).node();var n=this._showDataPoints(c);this._seriesRenderer.update();if(n.length){var p=this._selection.select("g.v-plot-main");this._dataLabels.update(p,n);}if(this._eventDispatch){this._eventDispatch.reRenderComplete();}};T.prototype.destroy=function(){T.superclass.destroy.call(this);this._dataPointContext=null;this._calloutInfo=null;};T.prototype._getDefaultZeroLineColor=function(){return this._properties.origin.get("timeAxis.color");};T.prototype.isBigDataMode=function(){return this._isDrawDp===false;};T.prototype.getDataPointsRenderInfo=function(){return this._dataPointContext&&this._dataPointContext.filter(function(e){return!!e;}).map(function(c){return{dataId:c.dataId,seriesIndex:c.seriesIndex,itemIndex:c.itemIndex,graphic:c.graphic,data:c.data,context:c.rawData.dp.context(),width:c.graphic.size,height:c.graphic.size};});};T.prototype._shiftOffsetForIncompleteRange=function(){};T.prototype.mappingDataPointInfo=function(i){var c=this._dataPointContext[i];if(c==null){return null;}return c;};(new H()).decorate(T);return T;});define('sap/viz/chart/components/plots/TimeColumnPlot',['sap/viz/framework/common/util/oo','sap/viz/framework/common/util/SVG',"sap/viz/framework/common/util/DOM",'sap/viz/chart/components/plots/ColumnPlot','sap/viz/chart/components/plots/model/DataPointInfo','sap/viz/chart/components/plots/model/Series','sap/viz/framework/chartmodel/ContextBuilder','sap/viz/chart/components/plots/ScaleHandler','sap/viz/chart/components/util/SeriesUtil','sap/viz/framework/common/util/Constants','sap/viz/framework/common/util/ObjectUtils','sap/viz/framework/common/util/NameColorUtils','sap/viz/framework/common/util/DataUtils','sap/viz/framework/common/util/TimeUtil','sap/viz/chart/components/plots/BarWidthUtils','sap/viz/framework/common/util/TypeUtils'],function(o,S,D,C,a,b,c,d,f,g,O,N,h,T,B,i){var j=function(r,e){j.superclass.constructor.apply(this,arguments);this._dataPointContext=[];this._isDrawDp=true;};o.extend(j,C);j.prototype._buildData=function(k){var r=j.superclass._buildData.apply(this,arguments);r.timeField=this._data.timeAxis.metaData.map(function(e){return e.id;});k.timeField=r.timeField;return r;};j.prototype._getBarProperties=function(){if(!this._barInfoProperties){var e=this._barInfoProperties=B.getBarProperties(this._properties.origin);var p=this._properties.origin;var t=this.runtime().statusManager().get('timeLevels');e.isHorizontal=true;e.minTimeLevel=t.length?t[0]:["day"];e.showAsUTC=p.get('general.showAsUTC');}return this._barInfoProperties;};j.prototype._getCategoryScaleHandlers=function(){var e=this._getBarProperties();this._categoryScaleHandler=d.getTimeScaleHandler("timeAxis",e);return[this._categoryScaleHandler];};j.prototype._getCategoryCount=function(){return this._calcCount?(this._calcCount-1):1;};j.prototype._preRender=function(){var p=this._series;j.superclass._preRender.apply(this,arguments);this._series=p||this._series||[];this._resetDataPoints();};j.prototype._postRender=function(){j.superclass._postRender.apply(this,arguments);var s=this.runtime().statusManager();var r=s.get("plot.transform.scale");var t=s.get("plot.transform.translate");this._repositionReferenceLine(r,t);};j.prototype._getVisibleRange=function(e){var s=0,k=e.length-1;var l=s;var m=this._getDataPointPosition(e[s]).x+this._offset.x;var n,p,q,r;if(m<0){while(s<k){n=Math.floor((s+k)/2);p=e[n];q=this._getDataPointPosition(p);r=q.x+this._offset.x;if(r>0){k=n;}else{s=n+1;if(r>m){l=n;m=r;}}}}s=0;k=e.length-1;var t=k;var u=this._getDataPointPosition(e[k]).x-this._visibleBound.x;if(u>0){while(s<k){n=Math.floor((s+k)/2);p=e[n];q=this._getDataPointPosition(p);r=q.x-this._visibleBound.x;if(r>0){k=n;if(r<u){t=n;u=r;}}else{s=n+1;}}}return{min:l,max:t};};j.prototype.destroy=function(){j.superclass.destroy.call(this);this._dataPointContext=null;};j.prototype._getDefaultZeroLineColor=function(){return this._properties.origin.get("timeAxis.color");};j.prototype.getRealSizeByFixedDPSize=function(e){var p=j.superclass.getRealSizeByFixedDPSize.call(this,e,this._getColumnCount(),this._getCategoryCount());return p/this._calcRange;};j.prototype._getRangeTick=function(){var s=this.getData().timeAxis.scale;var e=s.getDomain();if(e[0]===Infinity&&e[1]===-Infinity){return 0;}var k=this._getBarProperties();var m=k.minTimeLevel;m=i.isArray(m)?m[0]:m;var u=k.showAsUTC;var l=T.truncate(e[0],m,u);var n=T.truncate(e[1],m,u);if(l===n){n=T.nextDateByLevel(n,m,u);}this._calcRange=s.scale(n)-s.scale(l);this._calcCount=T.getTickNumberByLevel(m,l,n,u);};j.prototype._getColumnWidthRatio=function(){this._getRangeTick();var e=this._calcRange/(this._calcCount-1)*B.getBarInfo(this._getColumnCount(),this._getBarProperties()).barWidth;return e;};j.prototype._getColumnWidth=function(){return this._getColumnWidthRatio()*this._size.width;};j.prototype.getPreferredSize=function(){var e=this._getColumnWidthRatio();this._categoryScaleHandler.updateBarWidth(this._getColumnWidthRatio(),this._getBarProperties().innerGroupSpacing*e,this._getColumnCount());return j.superclass.getPreferredSize.call(this);};j.prototype._updateBarWidth=function(m){var e=m/this._size.width;this._categoryScaleHandler.updateBarWidth(e,this._getBarProperties().innerGroupSpacing*e,this._getColumnCount());};j.prototype._shiftOffsetForIncompleteRange=function(){};j.prototype._adjustPosition=function(p,s){j.superclass._adjustPosition.apply(this,arguments);var m=this._properties.get("dataPointSize.max");if(i.isNumber(m)&&p.width>m){p.x=p.x+p.width/2-m/2;p.width=m;}};return j;});define('sap/viz/chart/components/decorator/HitTestCombDecorator',['sap/viz/framework/common/util/oo','sap/viz/framework/common/util/ArrayUtils',"sap/viz/chart/components/util/BoundingBoxUtils",'sap/viz/chart/components/decorator/BaseHitTestDecorator','sap/viz/chart/components/util/HitTestUtils'],function(o,A,B,c,H){var i=H.isInCircle;var d=H.isInRect;var f=H.isInRectWithRatio;var g=function(){g.superclass.constructor.apply(this,arguments);this._decos.hitTest=function(h,s){var j=this._dataPointContext,x=h.x,y=h.y;var r;var t=this;var k=this._selection.select(".v-plot-bound").node();var l=k.getBoundingClientRect().width/k.getBBox().width;if(h.hasOwnProperty("width")&&h.hasOwnProperty("height")){var w=h.width;var m=h.height;var n=this.getSize();var q=this._offset;var u=-q.x;var v=-q.y;h.x+=u;h.y+=v;var z=n.width;var C=n.height;if(l!=1){z*=l;C*=l;}var D={x:u,y:v,width:z,height:C};if(!B.intersects(D,h)){return[];}h=B.intersection(D,h);r=j.filter(function(e){var a=e.seriesIndex;var b=t.getDataPointShape(a);if(b==="bar"){var E=e.position;var p={x:E.x,y:E.y,width:E.width,height:E.height};if(l!=1){p.x*=l;p.y*=l;p.width*=l;p.height*=l;}return B.intersects(p,D)&&B.intersects(p,h);}else{var F=e.data.translate.slice();if(l!=1){F[0]*=l;F[1]*=l;}return F[0]>=u&&F[0]<=z+u&&d(F,[x+u,y+v],w,m);}});}else{r=j.filter(function(e){var a=e.seriesIndex;var b=t.getDataPointShape(a);if(b==="bar"){return f(h,e.position,l);}else{return i(e.data.translate,[x,y],4);}});}if(s){A.stableSort(r,function(a,b){var e=t.getDataPointShape(a.seriesIndex)==="bar"?1:0;var p=t.getDataPointShape(b.seriesIndex)==="bar"?1:0;return e-p;});}return r;};};o.extend(g,c);return g;});define('sap/viz/chart/components/plots/TimeStackedColumnPlot',["sap/viz/framework/common/util/oo","sap/viz/chart/components/plots/ColumnPlot","sap/viz/chart/components/plots/TimeColumnPlot","sap/viz/chart/components/plots/StackedColumnPlot","sap/viz/chart/components/plots/ScaleHandler"],function(o,C,T,S,a){var b=function(r,c){b.superclass.constructor.apply(this,arguments);};o.extend(b,T);b.prototype._getColor=C.prototype._getColor;b.prototype._adjustPosition=S.prototype._adjustPosition;b.prototype._drawDatapoints=S.prototype._drawDatapoints;b.prototype._updateDatapoints=S.prototype._updateDatapoints;b.prototype._needValidEmptyAxisData=S.prototype._needValidEmptyAxisData;b.prototype._handleDataPoints=S.prototype._handleDataPoints;b.prototype._drawCategory=S.prototype._drawCategory;b.prototype._getDataHandler=S.prototype._getDataHandler;b.prototype._getSeries=S.prototype._getSeries;b.prototype._generatePath=S.prototype._generatePath;b.prototype._getDataLabels=S.prototype._getDataLabels;b.prototype._pushDataPointContext=function(d){if(d){this._dataPointContext[d.dataId]=d;}};b.prototype._getCategoryScaleHandlers=function(){var c=this._getBarProperties();c.forSingleBar=true;this._categoryScaleHandler=a.getTimeScaleHandler("timeAxis",c);return[this._categoryScaleHandler];};b.prototype._getColumnWidthRatio=function(){var c=this._getBarProperties();var d=c.barSpacing;this._getRangeTick();var e=this._calcRange/(this._calcCount-1)/(1+d);return e;};b.prototype._getColumnCount=function(){return 1;};return b;});define('sap/viz/chart/components/plots/TimeCombinationPlot',['sap/viz/framework/common/util/oo','sap/viz/framework/common/util/SVG','sap/viz/framework/common/util/DOM','sap/viz/chart/components/plots/TimeColumnPlot','sap/viz/chart/components/plots/TimeLinePlot','sap/viz/chart/components/plots/CombinationPlot','sap/viz/chart/components/plots/BaseLinePlot','sap/viz/chart/components/plots/LinePlot','sap/viz/chart/components/plots/model/Series','sap/viz/chart/components/util/SeriesUtil',"sap/viz/framework/common/util/TypeUtils",'sap/viz/chart/components/renderers/SeriesRenderer','sap/viz/chart/components/decorator/HitTestCombDecorator','sap/viz/framework/common/util/DataGraphics',"sap/viz/framework/common/util/Constants",'sap/viz/chart/components/util/LineRendererUtil','sap/viz/chart/components/util/DrawUtil','sap/viz/chart/components/plots/TimeStackedColumnPlot'],function(o,S,D,T,a,C,B,L,b,c,d,e,H,f,g,h,j,k){var l="line";var m="bar";var n=function(r,i){n.superclass.constructor.apply(this,arguments);this._isCombination=true;this._isBigData=false;var s=this.runtime().semanticManager();s.setUseSemanticPattern(true);s.setUseSemanticDPLineStyle(true);this._attachMarkManager();this.lineMarkerShapePW=this._properties.watch("line.marker.shape",this._onDataShapeChange.bind(this));this._isDrawDp=true;this._isInTrellis=false;this._markerPropName="line.marker";};o.extend(n,T);n.prototype._applyScroll=function(){return a.prototype._applyScroll.apply(this,arguments);};n.prototype._getPatternConfig=B.prototype._getPatternConfig;n.prototype._isLineVisible=function(){return this._properties.get('line.visible');};n.prototype.getLineRenderer=function(){if(!this._lineRenderer){var p=this._properties;this._lineRenderer=h.getRenderer(p.get('line.lineRenderer'),p.get("line.isSmoothed"));}return this._lineRenderer;};n.prototype._renderNode=a.prototype._renderNode;n.prototype._preShowDataPoints=function(){var p=this._offset;var q=p.hasOwnProperty("x")?p.x:0;var r=p.hasOwnProperty("y")?p.y:0;if(this._positionInWindow){q+=this._positionInWindow.hasOwnProperty("x")?this._positionInWindow.x:0;r+=this._positionInWindow.hasOwnProperty("y")?this._positionInWindow.y:0;}var s=this._getMaxVisibleSize();this._visibleBound={x:s.width-q,y:s.height-r};var t=this._isBigData;T.prototype._preShowDataPoints.apply(this,arguments);if(t!==this._isBigData){for(var u=0;u<this._series.length;u++){var v=this._getDataShape(u);if(v===m){var w=this._series[u];var x=w.getDataPoints();for(var i=0;i<x.length;i++){this._hideNode(x,i);}}}}this._isDrawDp=true;this._isMarkerVisible=this._isBigData?false:this._properties.get('line.marker.visible');};n.prototype._preRender=function(){L.prototype._preRender.apply(this,arguments);return T.prototype._preRender.apply(this,arguments);};n.prototype._buildData=function(i){var s=this._getDataShape(i.seriesIndex);var r;if(s===m){r=T.prototype._buildData.apply(this,arguments);r.type=m;}else{r=a.prototype._buildData.apply(this,arguments);r.type=l;}return r;};n.prototype._buildConfig=function(i,p,q){var s=this.getDataPointShape(i.dp);if(s===m){return T.prototype._buildConfig.apply(this,arguments);}else{return a.prototype._buildConfig.apply(this,arguments);}};n.prototype._buildWrapperConfig=function(i,p,q,r){var s=i.dp._addr[1];var t=this._getDataShape(s);var u;if(t===m){r.seriesType="bar";u=T.prototype._buildWrapperConfig.apply(this,arguments);u["isLineMarker"]=false;}else if(t===l){if(!i.hasOwnProperty('transparent')){i.transparent=this._isMarkerVisible?0:1;}r.seriesType="line";u=a.prototype._buildWrapperConfig.apply(this,arguments);u.graphic.opacity=this._properties.get("line.marker.visible")?1:0;u.graphic.d=u.graphic.d||this._markerD;u["isLineMarker"]=true;u.data.width=0;}var v=i.dp&&i.dp.context()?i.dp.context():g.NULL_VALUE;u.ctx=v;return u;};n.prototype.getDataPointShape=function(i){if(d.isNumber(arguments[0])){return this._getDataShape(arguments[0]);}else{return this._getDataShape(i._addr[1]);}};n.prototype.isBigDataMode=function(){return this._isBigData||this._isDrawDp===false;};n.prototype._getDataShape=function(s){return s===0?m:l;};n.prototype.getSeriesStyle=function(){return a.prototype.getSeriesStyle.apply(this,arguments);};n.prototype._getColor=function(i){return C.prototype._getColor.apply(this,arguments);};n.prototype._attachMarkManager=function(){var i=this.runtime().markManager();var p=["bar","line","line"];var q=this._getMarkerShape();var r=this._properties.parentLevel;var s=[];i.lock();i.setMode("combination");var t=[];t.push(p);s.push(C.processMark.call(this,p,q,r));if(this._options&&this._options.isDualValueAxis){var u=["line","line","line"];s.push(C.processMark.call(this,u,q,r));t.push(u);}i.setShape(s,q);i.setSeriesShape(t);};n.prototype._onDataShapeChange=function(){this._attachMarkManager();};n.prototype._getSeriesRenderer=function(){return new e(this._drawLine.bind(this),this._updateLine.bind(this));};n.prototype._adjustPosition=function(p,s){var i=this._getDataShape(s);if(i===m){T.prototype._adjustPosition.apply(this,arguments);}else{}};n.prototype._getXPosition=function(s,i,p){var q=this._getDataShape(s)===l;if(q){return a.superclass._getXPosition.apply(this,arguments);}else{return T.prototype._getXPosition.apply(this,arguments);}};n.prototype._getYPosition=function(s,i,p){return C.prototype._getYPosition.apply(this,arguments);};n.prototype._drawLine=function(s,i,p,q){if(this._getDataShape(p)!==l){c.drawBarSeries(s,i,this._semanticMgr,this._effectManager,this.isHorizontal(),!this._isBigData);return 0;}B.prototype._drawLine.apply(this,[s,i,p,q]);return 1;};n.prototype._updateLine=function(s,i,p){var q=this._getDataShape(p);if(q===m){c.updateBarSeries(s,i,this._semanticMgr,this._effectManager,this.isHorizontal(),!this._isBigData);}else{this._drawLine(s,i,p,true);}};n.prototype._buildSeriesContext=function(s){return B.prototype._buildSeriesContext.apply(this,arguments);};n.prototype.isMarkerVisible=function(){return this._isMarkerVisible;};n.prototype._getDataLabels=function(){return C.prototype._getDataLabels.apply(this,arguments);};n.prototype._drawDataPoint=function(i,p){var s=p._seriesIndex;var q=this._getDataShape(s);if(q===m){return T.prototype._drawDataPoint.apply(this,arguments);}else{return a.prototype._drawDataPoint.apply(this,arguments);}};n.prototype._hideDataPoints=function(p,v){var i;if(!v){v=a.prototype._getVisibleRange.call(this,p);}if(p[0]&&this._getDataShape(p[0].getSeriesIndex())===l){for(i=0;i<p.length;i++){this._hideNode(p,i);}this._lightLineOutOfRange(p,v);}else{this._columnOutOfRange(p,v);}};n.prototype.update=function(){n.superclass.update.apply(this,arguments);this._updateLightLine();};n.prototype._updateLightLine=function(){B.prototype._updateLightLine.apply(this,arguments);};n.prototype._lightLineOutOfRange=function(i,v){C.prototype._lightLineOutOfRange.apply(this,arguments);};n.prototype._updateDatapoints=function(){return C.prototype._updateDatapoints.apply(this,arguments);};n.prototype._updateDatapoint=function(i,p,q,r){var s=q.seriesIndex;var t=this._getDataShape(s);if(t===m){return T.prototype._updateDatapoint.apply(this,arguments);}else{return a.prototype._updateDatapoint.apply(this,arguments);}};n.prototype._getDataPointRenderer=function(s){return C.prototype._getDataPointRenderer.apply(this,arguments);};n.prototype.destroy=function(){T.prototype.destroy.apply(this,arguments);C.prototype.destroy.apply(this,arguments);};n.prototype._getAxisPosition=function(i,s,p,q){return T.prototype._getAxisPosition.call(this,i,s,p,q,this._getDataShape(s));};n.prototype._getFillColorConfig=function(){return C.prototype._getFillColorConfig.apply(this,arguments);};n.prototype._useSemanticPattern=function(){return C.prototype._useSemanticPattern.apply(this,arguments);};n.prototype._getColumnWidthRatio=k.prototype._getColumnWidthRatio;n.prototype._getCategoryScaleHandlers=k.prototype._getCategoryScaleHandlers;n.prototype._getColumnCount=function(){return 1;};(new H()).decorate(n);return n;});define('sap/viz/chart/components/decorator/HitTestBulletDecorator',['sap/viz/framework/common/util/oo','sap/viz/chart/components/decorator/BaseHitTestDecorator','sap/viz/chart/components/util/HitTestUtils'],function(o,B,H){var i=H.inRange;var a=function(){a.superclass.constructor.apply(this,arguments);this._decos.hitTestForRangeSelection=function(c){if(!c.hasOwnProperty("start")&&!c.hasOwnProperty("end")){return null;}var r;var b=this._data.actualValues.scale._domain;var d=this._data.series[0];r=d.filter(function(e){var t=e.timeAxis[0].parsedValue||e.timeAxis[0].value;return i(t,c["start"],c["end"])&&i(e.actualValues,b[0],b[1]);});return r.map(function(e){return e.dp.id;});};};o.extend(a,B);return a;});define('sap/viz/chart/components/plots/TimeBulletPlot',['sap/viz/framework/common/util/oo','sap/viz/chart/components/plots/BulletPlot','sap/viz/chart/components/plots/TimeColumnPlot','sap/viz/framework/common/util/TimeUtil','sap/viz/framework/common/util/ObjectUtils','sap/viz/chart/components/decorator/HitTestBulletDecorator'],function(o,B,T,a,O,H){function b(){b.superclass.constructor.apply(this,arguments);}o.extend(b,B);b.prototype.update=function(s){if(!this._selection){return;}b.superclass.update.apply(this,arguments);};b.prototype.setData=function(){b.superclass.setData.apply(this,arguments);this._data.categoryAxis=this._data.timeAxis;};b.prototype._getCategoryWidth=function(){return this._getColumnWidthRatio()*this.getRealSize().width;};b.prototype._getCategoryCount=function(){var s=this.getData().timeAxis.scale,d=s.getDomain();if(d[0]===Infinity&&d[1]===-Infinity){return null;}var c=this._getBarProperties();var e=a.truncate(d[0],c.minTimeLevel,c.utc),f=a.truncate(d[1],c.minTimeLevel,c.utc);if(e===f){f=a.nextDateByLevel(f,c.minTimeLevel,c.utc);}return{range:s.scale(f)-s.scale(e),count:a.getTickNumberByLevel(c.minTimeLevel,e,f,c.utc)-1};};b.prototype._getColumnWidthRatio=function(){var c=this._getCategoryCount();return c?c.range/c.count:0;};b.prototype._getExtraData=function(){var r=b.superclass._getExtraData();r.timeField=[this._data.timeAxis.metaData[0].id];return r;};b.prototype.getDataPointPosition=function(i,s){return b.superclass.getDataPointPosition.call(this,s,i);};b.prototype._categoryPosFn=function(){var s=this._data.series,c=this._data.timeAxis.scale,d=this.isHorizontal()?this._realSize.height:this._realSize.width,e=this.__barSize()/2;return function(f,g){var i=s[f][g];if(i){return d*c.scale(i.timeAxis)-e;}else{return null;}};};b.prototype.sizeByFixedDPSize=function(c){var d=this._getCategoryCount();var p=b.superclass.sizeByFixedDPSize.apply(this,arguments);return p/d.range;};b.prototype._categoryCount=function(){return this._getCategoryCount().count;};b.prototype._getBarProperties=function(){return{minTimeLevel:(this.runtime().statusManager().get("timeLevels")||[])[0]||["day"],utc:this._properties.origin.get("general.showAsUTC")};};b.prototype.scroll=function(c){b.superclass.scroll.apply(this,arguments);if(this._eventDispatch){this._eventDispatch.reRenderComplete();}};b.prototype._adjustColorDomain=function(c,i,d){return d;};b.prototype._getCategoryRange=function(){return null;};b.prototype._shiftOffsetForIncompleteRange=function(){return null;};(new H()).decorate(b);return b;});define('sap/viz/chart/components/plots/TimeStackedPercentagePlot',['sap/viz/framework/common/util/oo','sap/viz/chart/components/plots/TimeStackedColumnPlot','sap/viz/chart/components/plots/PercentagePlot'],function Setup(o,T,P){var a=function(r,b){a.superclass.constructor.apply(this,arguments);this._isPercent=true;};o.extend(a,T);a.prototype._getDataHandler=P.prototype._getDataHandler;a.prototype._total=P.prototype._total;a.prototype._getPosition=function(s,i,d){var r=this._total(i,d);if(!r){return null;}return a.superclass._getPosition.apply(this,arguments);};a.prototype._buildWrapperContext=P.prototype._buildWrapperContext;a.prototype._buildWrapperConfig=function(d,p,c,b){c=this._buildWrapperContext(d,c);return a.superclass._buildWrapperConfig.apply(this,[d,p,c,b]);};a.prototype._buildData=function(d){var r=a.superclass._buildData.apply(this,arguments);r.percentageValue=d.ctx.percentage;return r;};a.prototype._drawGridlines=P.prototype._drawGridlines;a.prototype._getDataLabels=P.prototype._getDataLabels;return a;});define('sap/viz/chart/components/datalabels/WaterfallDataLabels',['sap/viz/framework/common/util/oo','sap/viz/framework/common/util/Constants','sap/viz/framework/common/util/DOM','sap/viz/framework/common/util/DataGraphics','sap/viz/chart/components/util/DataPointUtils','sap/viz/chart/components/datalabels/DataLabels'],function(o,C,D,c,d,e){var w=[0,2,1];var W=function(a,b){W.superclass.constructor.apply(this,arguments);this._labelPosition="waterfall";};o.extend(W,e);W.prototype.verticalLabelOffset=-3;W.prototype.horizontalLabelOffset=6;W.prototype._getStyle=function(a){var p=this._properties;var s=W.superclass._getStyle.apply(this,arguments);var b=d.getContext(a);if(b&&b.isCumulative){s["font-weight"]="bold";s["cssString"]="fill:"+s.fill+";font-family:"+p.get('style.fontFamily')+";font-size:"+p.get('style.fontSize')+";font-weight:"+"bold"+";font-style:"+p.get('style.fontStyle')+";";}return s;};W.prototype.hideConditional=function(a,b){var i;var f=new Array(b.length);for(i=0;i<b.length;i++){f[i]=b[i].getBoundingClientRect();}for(i=(a.length-1);i>=0;i--){var g=a[i];var h=g.node;var j=h.getBoundingClientRect();var k=g.dataPoint;var I=this.indexOfDataLabelIntersectDataPoints(j,f,b,k,g.info.value);if(I!==-1){D.remove(h);a.splice(i,1);}}return W.superclass.hideConditional.apply(this,arguments);};W.prototype.sortDataLabelInfos=function(f){var n,N,g,h;var _=this;if(this._data.waterfallTypeScale){f.sort(function(a,b){n=d.getContext(a.node);g=_._data.waterfallTypeScale.scale(n?n.Type:null);N=d.getContext(b.node);h=_._data.waterfallTypeScale.scale(N?N.Type:null);return w.indexOf(g)-w.indexOf(h);});}};var V=100;W.prototype._computeDataLabelPosition=function(a,s,l,b,f,n){var x,y;var g=s.x+a.e;var h=s.y+a.f;var i;if(this._horizontal){i=this.horizontalLabelOffset;}else{if(this._size.height<V){i=this.verticalLabelOffset*0.2;}else{i=this.verticalLabelOffset;}}if(this._horizontal){y=(h+s.height/2)-(b.y+b.height/2);if(f.val>=0){x=g+s.width+i;}else{x=g-(b.x+b.width)-i;}}else{x=(g+s.width/2)-(b.x+b.width/2);if(f.val>=0){y=h-(b.y+b.height);if(y+b.y<0){y=-b.y-i;}else{y=y+i;}}else{y=h+s.height-b.y;if(y+b.height+b.y>f.plotSize.height){y=f.plotSize.height-(b.y+b.height)+i;}else{y=y-i;}}}return[x,y];};W.prototype.indexOfDataLabelIntersectDataPoints=function(a,b,f,g,v){var h=-1;var i;for(i=0;i<b.length;i++){var j=b[i];if(!(a.left>j.right||a.right<j.left||a.top>j.bottom||a.bottom<j.top)){h=i;break;}}return h;};return W;});define('sap/viz/chart/components/plots/WaterFallPlot',['sap/viz/framework/common/util/oo','sap/viz/chart/components/util/DrawUtil','sap/viz/framework/common/util/SVG','sap/viz/chart/components/plots/BaseColumnPlot','sap/viz/framework/chartmodel/ContextBuilder','sap/viz/chart/components/plots/ScaleHandler','sap/viz/chart/components/plots/DataHandler','sap/viz/chart/components/plots/ItemScaleHandler','sap/viz/chart/components/renderers/SeriesRenderer','sap/viz/chart/components/renderers/PathRenderer',"sap/viz/framework/common/util/DataGraphics",'sap/viz/framework/common/util/ObjectUtils','sap/viz/chart/components/util/SeriesUtil','sap/viz/chart/components/datalabels/WaterfallDataLabels','sap/viz/framework/common/util/UADetector','sap/viz/chart/components/util/DataPointUtils','sap/viz/framework/common/util/Constants','sap/viz/framework/common/util/WaterfallUtils','sap/viz/framework/common/util/NameColorUtils',],function Setup(o,D,S,B,C,a,b,I,c,P,d,O,e,W,U,f,g,h,N){var i=function(r,m){i.superclass.constructor.apply(this,arguments);this._dpGap=0;};o.extend(i,B);i.prototype._isSupportNoFill=function(){return false;};var j=0.5;var l=g.CSS.CLASS.WATERFALL_LINKLINE;var k="v-wtf-linklinegroup";i.prototype.setData=function(m){if(m&&m.waterfallType&&m.waterfallType.scale){m.waterfallTypeScale=m.waterfallType.scale;}i.superclass.setData.apply(this,arguments);return this;};i.prototype.render=function(s){var w=this._size.width,m=this._size.height;this._size.width=w<0?0:w;this._size.height=m<0?0:m;i.superclass.render.apply(this,arguments);};i.prototype._getDataHandler=function(){return{"valueAxis":b.getWTFHandler()};};i.prototype._getXPosition=function(s,m,n){var p=this._dataHandler;var q=this._xHandlers[0];return q.scale({value:n.valueAxis,total:n.total,base:n.base},{index:m,seriesIndex:s,dataHandler:p[q.id]});};i.prototype._getYPosition=function(s,m,n){var p=this._dataHandler;var q=this._yHandlers[0];return q.scale({value:n.valueAxis,total:n.total,base:n.base},{index:m,seriesIndex:s,dataHandler:p[q.id]});};i.prototype._getValueScaleHandlers=function(m){return[a.getWTFScaleHandler("valueAxis",{isHorizontal:this.isHorizontal()})];};i.prototype._showDataPoints=function(m){this._preShowDataPoints();var n=[];this._dataPointContext=[];if(this._seriesRenderer){this._seriesRenderer.resetDataPoints();}this._selection.selectAll("."+k).remove();var p=S.create("g");p.setAttribute("class",k);for(var s=0;s<this._series.length;s++){var q=this._series[s];if(!q){continue;}var r=this._getDataPointRenderer(s);if(!r){continue;}var t=q.getDataPoints();var u=this._getVisibleRange(t);this._hideDataPoints(t,u);for(var v=u.min;v<=u.max;v++){var w=t[v];if(!w){continue;}var x=w.getRawData();var y=this._getDataPointPosition(w);if(!y){continue;}var z=false;var A=w.getConfig();if(!A){z=true;var E=x.dp&&x.dp.context()?x.dp.context():g.NULL_VALUE;A=this._buildWrapperConfig(x,y,E,{itemIndex:v});}this._dataPointContext.push(A);var F=w.getData();if(!F){z=true;var G=w.getId();F=this._buildData(A);w.init(A,G,F,x.dp&&x.dp.id?x.dp.id:g.NULL_VALUE);}var H=w.getNode();if(H){if(z){this._updateDatapoint(H,r,A,y);n.push(H);}}else{H=this._drawDataPoint(r,w);w.setNode(H);if(H){n.push(H);}}if(this._seriesRenderer){this._seriesRenderer.addDataPoint(s,v,A,y,H);}else if(!H.parentNode){m.appendChild(H);}}if(!this._seriesRenderer){this._drawLine(p,t,u);}}m.appendChild(p);return n;};i.prototype._getSeriesDataPoint=function(s,m){return{valueAxis:0,total:0,base:0};};i.prototype._getGap=function(s,m){var p;var n;var r=this.getRealSize();var q;if(this.isHorizontal()){n=this._yHandlers[0];p=this._getYPosition.bind(this);q=r.height;}else{n=this._xHandlers[0];p=this._getXPosition.bind(this);q=r.width;}if(n._scale.getDomain().length>1){var v=this._getSeriesDataPoint(s,m);var t=this._getSeriesDataPoint(s,m+1);if(!t){return undefined;}var u=p(0,0,v);var w=p(0,1,t);q=w[0]-u[0];}return q;};i.prototype._getHorizontalLine=function(p,n,w,m){var q,r,s;var x;var t=j;var u=this._dpGap;var v=u-p.height;q={'y1':Math.round(p.y-v/2),'y2':Math.round(p.y+p.height)};r={'y1':Math.round(p.y),'y2':Math.round(p.y+p.height+v/2)};if(1===w){x=!n?Math.round(p.x+p.width):Math.round(p.x+t);q.x1=q.x2=r.x1=r.x2=x;}else if(2===w){s={'y1':Math.round(p.y-u*m),'y2':Math.round(p.y+p.height)};x=!n?Math.round(p.x+p.width):Math.round(p.x+t);q.x1=q.x2=r.x1=r.x2=x;x=!n?Math.round(p.x):Math.round(p.x+p.width+t);s.x1=s.x2=x;}else{x=!n?Math.round(p.x):Math.round(p.x+p.width+t);q.x1=q.x2=x;x=!n?Math.round(p.x+p.width):Math.round(p.x+t);r.x1=r.x2=x;}return{'lLine':q,'rLine':r,'subLine':s};};i.prototype._getVerticalLine=function(p,n,w,m){var q,r,s;var y;var t=j;var u=this._dpGap;var v=u-p.width;q={'x1':Math.round(p.x-v/2),'x2':Math.round(p.x+p.width)};r={'x1':Math.round(p.x),'x2':Math.round(p.x+p.width+v/2)};if(1===w){y=!n?Math.round(p.y):Math.round(p.y+p.height+t);q.y1=q.y2=r.y1=r.y2=y;}else if(2===w){s={'x1':Math.round(p.x-u*m),'x2':Math.round(p.x+p.width)};y=!n?Math.round(p.y):Math.round(p.y+p.height+t);q.y1=q.y2=r.y1=r.y2=y;y=!n?Math.round(p.y+p.height):Math.round(p.y+t);s.y1=s.y2=y;}else{y=!n?Math.round(p.y+p.height):Math.round(p.y+t);q.y1=q.y2=y;y=!n?Math.round(p.y):Math.round(p.y+p.height+t);r.y1=r.y2=y;}return{'lLine':q,'rLine':r,'subLine':s};};i.prototype._getWaterFallTypeScale=function(w){return this._data.waterfallType.scale.scale(w);};i.prototype._getChildNumScale=function(w){return this._data.waterfallType.scale.childrenNum(w);};i.prototype._drawLine=function(m,n,r){var v=this._properties.get("linkline.visible");if(!v){return;}this._dpGap=this._getGap(0,0);var p=[];var q;for(var s=r.min;s<=r.max;s++){var t=n[s];if(!t||t.getRawData().valueAxis===null){continue;}var u=t.getConfig();var w=t.getPosition();var x=u.ctx[u.ctx.measureNames]<0;var y=t.getRawData().waterfallType;var z=this._getWaterFallTypeScale(y);var A=this._getChildNumScale(y);if(this.isHorizontal()){q=this._getHorizontalLine(w,x,z,A);}else{q=this._getVerticalLine(w,x,z,A);}if(!q){continue;}if(t.getItemIndex()!==0){p.push(q.lLine);}if(t.getItemIndex()!==this._data.series[0].length-1){p.push(q.rLine);}if(2===z){p.push(q.subLine);}}h.drawLines(p,this._properties,this.isHorizontal(),m,true);};i.prototype._buildWrapperConfig=function(m,p,n){var q=i.superclass._buildWrapperConfig.apply(this,arguments);if(this._semanticMgr.hasDataPointColorStyle()){if(this._semanticMgr.isOverrideMode()){return q;}else if(q.graphic.fill){return q;}}var r=this._properties.get("dataPoint.color.isSemanticColoring");var s,t,u;if(r===false){var v=this._properties.get("colorPalette");if(v){s=t=v[0];}}else{s=this._properties.get("dataPoint.color.positive");t=this._properties.get("dataPoint.color.negative");}s=N.convertColor(s);t=N.convertColor(t);u=this._properties.get("dataPoint.color.total");u=N.convertColor(u);var w=this._getWaterFallTypeScale(m.waterfallType);q.graphic.fill=(1===w)?u:(m.valueAxis>0?s:t);return q;};i.prototype._getDataLabels=function(n,r){this._datalabels=new W(r,{name:n,horizontal:this.isHorizontal()});return this._datalabels;};i.prototype._adjustPosition=function(p,s){var m=this.isHorizontal();if(m&&p.width<0){p.width=p.width>-1?1:Math.abs(p.width);p.x-=p.width+0.5;}if(!m&&p.height<0){p.height=p.height>-1?1:Math.abs(p.height);p.y-=p.height+0.5;}};i.prototype.destroy=function(){i.superclass.destroy.call(this);this._dpGap=null;};return i;});define('sap/viz/chart/components/plots/TimeWaterFallPlot',["sap/viz/framework/common/util/oo","sap/viz/chart/components/plots/TimeColumnPlot","sap/viz/chart/components/plots/WaterFallPlot","sap/viz/framework/common/util/WaterfallUtils","sap/viz/chart/components/plots/TimeStackedColumnPlot"],function Setup(o,T,W,a,b){var c=function(r,d){c.superclass.constructor.apply(this,arguments);this._isSyncValueAxis=this.runtime().propertyManager().get("interaction.syncValueAxis")||false;this._visibleRange=null;};o.extend(c,W);c.prototype._getXPosition=T.prototype._getXPosition;c.prototype._getBarProperties=T.prototype._getBarProperties;c.prototype._getColumnWidth=T.prototype._getColumnWidth;c.prototype.getPreferredSize=T.prototype.getPreferredSize;c.prototype._updateBarWidth=T.prototype._updateBarWidth;c.prototype._getWaterFallTypeScale=function(d){return 0;};c.prototype._getChildNumScale=function(d){return 0;};c.prototype._buildData=T.prototype._buildData;c.prototype.getRealSizeByFixedDPSize=T.prototype.getRealSizeByFixedDPSize;c.prototype._getSeriesDataPoint=function(s,i){return this._data.series[s][i];};c.prototype._getConnectionLine=function(p,n,d){var g=this._getGap(d.seriesIndex,d.itemIndex);var e={};if(!g){return undefined;}e.skip=false;e.x1=p.x;e.x2=p.x+g+p.width;if(n){e.y1=p.y+p.height;e.y2=p.y+p.height;}else{e.y1=p.y;e.y2=p.y;}return e;};c.prototype._drawLine=function(l,d,r){var v=this._properties.get("linkline.visible");if(!v){return;}var e=[];var f;for(var i=r.min;i<=r.max;i++){var g=d[i];if(!g||g.getRawData().valueAxis===null){continue;}var h=g.getConfig();var p=g.getPosition();var n=h.ctx[h.ctx.measureNames]<0;var j={seriesIndex:0,itemIndex:i};f=this._getConnectionLine(p,n,j);if(!f){continue;}e.push(f);}a.drawLines(e,this._properties,this.isHorizontal(),l,false);};c.prototype._shiftOffsetForIncompleteRange=T.prototype._shiftOffsetForIncompleteRange;c.prototype._getYPosition=function(s,i,d){var e=this._dataHandler;var h=this._yHandlers[0];var f=d.base;var t=d.total;if(this._visibleRange&&this._isSyncValueAxis){var g=this._series[s];if(g){var j=g.getDataPoints();var k=j[this._visibleRange.min];f-=k.getRawData().base;t-=k.getRawData().base;}}return h.scale({value:d.valueAxis,total:t,base:f},{index:i,seriesIndex:s,dataHandler:e[h.id]});};c.prototype.destroy=function(){c.superclass.destroy.call(this);this._isSyncValueAxis=null;this._visibleRange=null;};c.prototype._getRangeTick=T.prototype._getRangeTick;c.prototype._getColumnWidthRatio=b.prototype._getColumnWidthRatio;c.prototype._getCategoryScaleHandlers=b.prototype._getCategoryScaleHandlers;c.prototype._getCategoryCount=T.prototype._getCategoryCount;return c;});define('sap/viz/chart/components/plots/TYPlotFactory',['jquery','sap/viz/chart/components/plots/TimeLinePlot','sap/viz/chart/components/plots/TimeColumnPlot','sap/viz/chart/components/plots/TimeCombinationPlot','sap/viz/chart/components/plots/TimeBulletPlot',"sap/viz/chart/components/plots/TimeStackedColumnPlot","sap/viz/chart/components/plots/TimeStackedPercentagePlot","sap/viz/chart/components/plots/TimeWaterFallPlot"],function($,T,a,b,c,d,e,f){var p={'timeseries_line':{plotClazz:T},'timeseries_column':{plotClazz:a},"timeseries_stacked_column":{plotClazz:d},"timeseries_100_stacked_column":{plotClazz:e},'timeseries_combination':{plotClazz:b},'dual_timeseries_combination':{plotClazz:b},'timeseries_bullet':{plotClazz:c},'timeseries_waterfall':{plotClazz:f},};return{getPlotClazz:function(r){var g=p[r];return g&&g.plotClazz;}};});define('sap/viz/chart/components/plotareas/TimeYPlotArea',['sap/viz/framework/common/util/Constants','sap/viz/framework/common/util/oo',"sap/viz/framework/scale/ValueScale","sap/viz/framework/scale/ValueScaleUtil",'sap/viz/chart/components/callout/CalloutContainer','sap/viz/chart/components/plotareas/XYPlotArea','sap/viz/chart/components/axis/ValueAxis','sap/viz/chart/components/axis/TimeAxis','sap/viz/chart/components/plots/TYPlotFactory','sap/viz/chart/components/plots/PlotHelper','sap/viz/chart/components/util/ValueAxisUtils','sap/viz/chart/components/util/ZoomUtil','sap/viz/chart/components/scrollbar/Scrollbar',"sap/viz/framework/common/util/ArrayUtils",'sap/viz/framework/common/util/DataUtils','sap/viz/framework/common/util/UADetector','sap/viz/framework/common/util/TypeUtils','sap/viz/framework/common/util/TimeUtil',"sap/viz/framework/common/util/NumberUtils",'sap/viz/chart/components/axis/sub/TimeAxisBodyHelper','sap/viz/framework/scale/TimeScale','sap/viz/chart/components/zoom/TimeYZoomer',"sap/viz/chart/components/zoom/ZoomLimit","sap/viz/chart/components/util/SeriesUtil"],function(C,o,V,a,b,X,c,T,P,d,f,Z,S,A,D,U,g,h,N,l,n,p,q,r){var t=function(e,i){t.superclass.constructor.apply(this,arguments);};var u=N.preciseSimple;var v=g.isNumber;o.extend(t,X);t.prototype._getValueAxis=function(e){return e.valueAxis;};t.prototype.destroy=function(){t.superclass.destroy.apply(this,arguments);};t.prototype._init=function(){this._plot=d.create(this._renderType,P.getPlotClazz(this._renderType),this.runtime(),this._getPlotOptions());this.setChild("plot",this._plot,{position:"center"});this._plot.getDispatch().on("reRenderComplete.plotarea",this._reRenderComplete.bind(this));var e=!this._properties.get("interaction.noninteractiveMode")||!this.isColumnLike()&&!!this._properties.get('timeAxis.interval.unit');this.setLayoutSequence(['left','right','bottom','top']);this._categoryAxis=new T(this.runtime(),{name:"timeAxis",hasScrollbar:e,isColumnLike:this.isColumnLike(),isLineChart:this._isLineChart()});this.setChild("timeAxis",this._categoryAxis,{position:"bottom"});if(e){this._hScrollbar=this._categoryAxis.getChild(C.AXIS.SCROLLBAR_NAME).module;}this._valueAxis=new c(this.runtime(),{name:"valueAxis"});this.setChild("valueAxis",this._valueAxis,{position:"left"});if(this._properties.get("plotArea.callout.left")){this._leftCallouts=new b(this.runtime(),{name:"plotArea.callout",position:"left"});this.setChild("leftCallouts",this._leftCallouts,{position:"left",priority:1,unique:true});}if(this._properties.get("plotArea.callout.top")){this._topCallouts=new b(this.runtime(),{name:"plotArea.callout",position:"top"});this.setChild("topCallouts",this._topCallouts,{position:"top"});}if(this._isPercentageChart()){this._valueAxis.setPercentageMode(true);}this.getZoomer().init({main:this,plot:this._plot,isHorizontal:false});};t.prototype.extractCalloutInfo=function(){var e=[];for(var k in this._children){if(this._children.hasOwnProperty(k)){var m=this._children[k].module;if(m._callouts){e=e.concat(m._callouts);}}}return e;};t.prototype._postLayout=function(e){t.superclass._postLayout.apply(this,arguments);var i=this.extractCalloutInfo();for(var k in this._children){if(this._children.hasOwnProperty(k)){var m=this._children[k].module;if(m.setCalloutInfo){m.setCalloutInfo(i);}}}};t.prototype._hasScrollbar=function(){var e=t.superclass._hasScrollbar.apply(this,arguments);return e||(!this.isColumnLike()&&!!this._properties.get('timeAxis.interval.unit'));};t.prototype._preRender=function(){var e=this._data.timeAxis.scale;var i=e.getDomain();var j=this._getZoomRange(i);if(!this._plot.isHorizontal()){if(this.isColumnLike()){var k=this._plot.getPreferredSize();if(this._hasScrollbar()){this._categoryAxis.setRealSize(k);}}else{if(this._categoryAxis.isVisible()){var m=this._categoryAxis.getChild("axisBody").module.getRealSize().width;if(m>0){this._realSize.width=m;this._plot.setRealSize({"width":m});}}}}X.superclass._preRender.apply(this,arguments);this._runtime.statusManager().add('globalDomain',{value:this._valueAxis._scale.getDomain(),readonly:true});this._applyTransform(i,j);};t.prototype._getZoomRange=function(e){function i(y){var z=y;if(g.isExist(z)){z=new Date(z).getTime();z=parseInt(z);}return z;}var j=this._properties;var k=Z.getZoomRange(j,e);var s=i(k[0]);var m=i(k[1]);if(v(s)&&s<e[0]){s=e[0];}if(v(m)&&m>e[1]){m=e[1];}return[s,m];};t.prototype._applyTransform=function(e,i){function j(){if(isNaN(s)||s<e[0]){s=e[0];}if(isNaN(k)||k>e[1]){k=e[1];}}var s=i[0];var k=i[1];var m=Z.isRangeIncomplete(i);var y=Z.isZoomRangeValid(s,k,e);var z,B;if(y&&m){z=this.runtime().statusManager().get("plot.transform.scale");var E=this._plot._getBarProperties().minTimeLevel;var F=h.getPeriod(E)/2;var G={};if(!v(s)){s=k-Math.abs(e[0]-e[1])/z.x;if(this.isColumnLike()){s+=F;}j();G["alignStart"]=e[0];G["alignEnd"]=k+F;}else{if(this.isColumnLike()){s-=F;}j();G["alignStart"]=s;G["alignEnd"]=e[1];}B=-Math.abs((e[0]-s)/(e[0]-e[1]));if(this._applyOffserAndZoom(B,z,G)){return;}else{w(i,e);}}s=i[0];k=i[1];m=Z.isRangeIncomplete(i);y=Z.isZoomRangeValid(s,k,e);if(y&&!m){j();if(this.isColumnLike()){var H=this._truncateAndExtendWindowInput(s,k);s=H[0];k=H[1];j();}if(s>=k){s=e[0];k=e[1];}z=Math.abs((e[0]-e[1])/(s-k));z={x:z,y:z};B=-Math.abs((e[0]-s)/(e[0]-e[1]));}else{z=this.runtime().statusManager().get("plot.transform.scale");B=0;}if(z){this._applyOffserAndZoom(B,z);}};function w(e,i){if(!g.isExist(e[0])){e[0]=i[0];}if(!g.isExist(e[1])){e[1]=i[1];}return e;}t.prototype._applyOffserAndZoom=function(e,z,i){var s={x:1,y:1};var j={x:0,y:0};var k=this.getChildrenByPosition("center")[0];var m=k.getSize();var y=k.getRealSize();var B=k.isHorizontal()?"y":"x";var E=k.isHorizontal()?"height":"width";s[B]=z[B];j[B]=u(e*m[E]*z[B]);if(i){var F=u(-j[B]+m[E]);var G=this._convertPositionIntoTimeStemp(F);var H=this._convertPositionIntoTimeStemp(-j[B]);if(v(i["alignStart"])&&H<i["alignStart"]){return false;}else if(v(i["alignEnd"])&&G>i["alignEnd"]){return false;}}this.zoom(s);if(j.x||j.y){this.scroll(j);}return true;};t.prototype._convertPositionIntoTimeStemp=function(e){var i=this.getChildrenByPosition("center")[0];var j=i.getRealSize();var k=i.isHorizontal()?j.height:j.width;return Math.round(i._data.timeAxis.scale._scale.invert(e/k));};t.prototype._setAxisData=function(e){this._categoryAxis.setData(e.timeAxis,D.hasNegativeValue(e));};function x(s,e,i){if(s===Infinity&&e===-Infinity){return[s,e];}var j=s;var k=e;var m;var y=i.minTimeLevel;y=g.isArray(y)?y[0]:y;var z=i.showAsUTC;if(i.labelTruncate){j=h.truncate(s,y,z);k=h.truncate(e,y,z);}if(i.hasOwnProperty("linePadding")){m=i.linePadding;}else{m=h.getPeriod(y)/2;}j-=m;k+=m;return[j,k];}t.prototype._updateTimeScale=function(e,i,j){var s=e.scale;var k=s.getDomain();if(j.recoverDomain){k=this._timeOriginalDomain;}var m=x(k[0],k[1],j);e.scale=new n(m,s.getRange(),s.getDomainFixed(),s.getDataBound());i.setData(e);};t.prototype._truncateAndExtendWindowInput=function(s,e){var i=this._plot._getBarProperties();return x(s,e,i);};t.prototype.zoom=function(s){t.superclass.zoom.apply(this,arguments);if(this._isLineChart()){var e=this._properties.origin;if(!e.get("plotArea.marker.visible")){return;}var i=this._data;var j=i.timeAxis.scale.getDomainFixed();if(j[0]||j[1]){return;}var k=this.getChildrenByPosition("center")[0];if(!k){return;}var m={};if(this._timeSeriesMaxLength!==0&&r.isBigDensityMode(k.getRealSize().width,this._timeSeriesMaxLength)){m.linePadding=0;m.recoverDomain=true;this._updateTimeScale(i.timeAxis,this._categoryAxis,m);return;}var y=i.timeAxis.scale.getDomain();var z=this._timeOriginalDomain;var B=e.get("plotArea.marker.size")+2;m.showAsUTC=e.get('general.showAsUTC');if(z[1]===z[0]){var E=this.runtime().statusManager().get('timeLevels');var F=E.length?E[0]:["day"];m.linePadding=h.getPeriod(F)/2;}else{var G=(z[1]-z[0])/k.getRealSize().width;m.linePadding=Math.round(G*B);}m.recoverDomain=(s.x!==1);m.labelTruncate=false;if(s.x!==1||(y[0]===z[0]||y[1]===z[1])){this._updateTimeScale(i.timeAxis,this._categoryAxis,m);}}};t.prototype._adjustTimeDomain=function(){var e=this._data;var i=this._roughSize.width;var j=this._roughSize.height;if(e&&i>0&&j>0){var k={};if(this.isColumnLike()){k=this._plot._getBarProperties();k.labelTruncate=true;k.recoverDomain=false;this._updateTimeScale(e.timeAxis,this._categoryAxis,k);}else if(this._isLineChart()){this._timeOriginalDomain=e.timeAxis.scale.getDomain();this._timeSeriesMaxLength=r.getMaxSeriesLength(e.series);}}};t.prototype.updateValueScale=function(){this._adjustTimeDomain();return t.superclass.updateValueScale.apply(this,arguments);};t.prototype._updateValueScaleDomain=function(e){this._lastValueDomain=e;var i=this._data;var j=this._roughSize.width;var k=this._roughSize.height;if(!i||j<=0||k<=0){return false;}var m=[0,1];if(this._plot.isHorizontal()){m[1]=j;}else{m[1]=k;}m[1]*=0.8;var s=this._getValueAxis(this._data).scale;var y=s.getDomain().slice();var z;var B;s.setDomain(e);if(this._isAdjustValueScaleForTopLabel()){z=this._calcValueScaleWithTopLabel(m);B=z.scale.getDomain();this._valueAxis.setData(z,true);this._plot.getData().valueAxis=z;}else{z=f.calcScale(s,m,{keepAutoScale:true,isLineChart:this._isLineChart()});B=z.scale.getDomain();s.setDomain(B);s.setRange([0,1]);var E=this._getValueAxis(i);E.tickHint=z.tickHint;this._valueAxis.setData(E,true);}return(y[0]!==B[0]||y[1]!==B[1]);};t.prototype._getValueRange=function(s,e,y,z){function B(e1){return e1.timeAxis[0].parsedValue;}var E=Infinity;var F=-Infinity;var G=2;if(v(z.min)){E=z.min;G--;}if(v(z.max)){F=z.max;G--;}var H=/timeseries.*stacked_column/.test(this._renderType);var I=/timeseries_waterfall/.test(this._renderType);if(G){var J=false;var K=[];var i,j,k,m,L=s.length;var M,O,Q,R;for(i=0;i<L;++i){M=s[i];if(!M.length){K[i]=null;continue;}var W=M,Y=[];if(H){W=[];for(k=0,m=0;k<M.length;k++){if(M[k]){W[m]=M[k];Y[m]=k;m++;}}}O=A.bisearch(W,e,B);if(H){O=Y[O]||O;}O=Math.min(O,M.length-1);Q=A.bisearch(W,y,B);if(H){Q=Y[Q]||Q;}Q=Math.min(Q,M.length-1);if(M[O]&&e>B(M[O])){O++;}if(M[Q]&&B(M[Q])>y){Q--;}if(O>Q){K[i]=null;}else{K[i]=[O,Q];J=true;}}var $=this.getData().valueAxis;var _,a1;if(H){_=$&&$.range;if(_&&_.length>0){for(i=O;i<_.length&&i<=Q;i++){a1=_[i];E=Math.min(E,a1[0]);F=Math.max(F,a1[1]);}}}else if(I){_=$&&$.categorySum;var b1=0;var c1=this.getChild("plot");if(c1){c1.module._visibleRange={min:O,max:Q};}if(_&&_.length>0){for(i=O;i<_.length&&i<=Q;i++){a1=_[i];b1+=a1;E=Math.min(E,b1);F=Math.max(F,b1);}F+=_[O];E=Math.min(0,E);}}else{for(i=0;i<L;++i){M=s[i];if(J){var d1=K[i];if(!d1){continue;}O=d1[0];Q=d1[1];}else{O=0;Q=M.length-1;}for(j=O;j<=Q;++j){R=this._getItemValue(M[j],z.feed);if(!g.isNaN(R)){E=Math.min(E,R);F=Math.max(F,R);}}}}}if(E===Infinity&&F===-Infinity){return null;}if(E===0&&F===0){F=1;}return[E,F];};t.prototype._getItemValue=function(i,e){return i[e];};t.prototype._isAdjustValueScaleForTopLabel=function(){var e=this._properties.get("plotArea.dataLabel.position")||this._properties.getDefault("plotArea.dataLabel.position");return e==="outside";};t.prototype.getDisplayedTimeDomain=function(){var e=this.getChildrenByPosition("center")[0];var i=e.getRealSize();var s=e.getSize();var j=e.isHorizontal();var k=this._plot.getOffset();return f.getTimeAxisDomain(s,k,i,this._data.rawData.scales.timeAxis.getDomain(),j);};t.prototype._scroll=function(e){var i=this.getChildrenByPosition("center")[0];var j=i.getRealSize();var s=i.getSize();var k=i.isHorizontal();if(this._properties.get("interaction.syncValueAxis")&&((k&&j.height>=s.height)||(!k&&j.width>=s.width))){var m=this._data.rawData;var y=m.dataModel;var z=m.scales;var B=f.getTimeAxisDomain(s,e,j,this._data.timeAxis.scale.getDomain(),k);var E=this._getValueAxis(z);var F=this._getValueRange(y.series(),B[0],B[1],E.getOption());if(F==null){F=E.getDomain();}var G=this._updateValueScaleDomain(F);if(G){var H=this.getChild("timeAxis").module;H.setHasNegativeValue(D.domainWithNegativeValue(F));this.getChild("valueAxis").module.update();}}this._plot.update();t.superclass._scroll.apply(this,arguments);};t.prototype._getZoomer=function(){return new p(this);};t.prototype.isColumnLike=function(){return/column|combination|waterfall/.test(this._renderType);};return t;});define('sap/viz/chart/views/TimeYChartView',['sap/viz/framework/common/util/oo','sap/viz/chart/views/ChartView','sap/viz/chart/components/plotareas/TimeYPlotArea','sap/viz/chart/components/legend/CombinationLegend','sap/viz/chart/components/legend/LineLegend','sap/viz/framework/common/util/DataUtils','sap/viz/framework/common/util/TypeUtils',"sap/viz/chart/components/util/TextUtils"],function Setup(o,C,P,a,L,D,T,b){var c=function(r,d){c.superclass.constructor.apply(this,arguments);this._supportLazyRender=true;};o.extend(c,C);c.prototype.setSize=function(){if(this._plotArea&&this._plotArea.setRoughSize){this._plotArea.setRoughSize.apply(this._plotArea,arguments);}c.superclass.setSize.apply(this,arguments);};c.prototype._getDataItems=function(){return["valueAxis","timeAxis","color","series"];};c.prototype._getLegendInitOptions=function(){return[{noFillSupport:true}];};c.prototype._createPlotContainer=function(){this._plotArea=new P(this.runtime(),{renderType:this._renderType});this._plotArea.setRoughSize(this._size);this.setChild("main",this._plotArea,{priority:3});};c.prototype.isBar=function(){return this._renderType.search(/bar|column/)!==-1&&!/timeseries.*column/.test(this._renderType);};c.prototype.isCombination=function(){return this._renderType.search(/combination/)!==-1;};c.prototype.isLine=function(){return this._renderType.indexOf("line")!==-1;};c.prototype._getLegendDefinition=function(){if(this.isCombination()){return[a];}else if(this.isLine()){return[L];}else{return c.superclass._getLegendDefinition.apply(this,arguments);}};c.prototype._getLegendInitOptions=function(){if(this.isBar()){return[{noFeeding:true,noFillSupport:true}];}else{return[{noFillSupport:true}];}};c.prototype.calculatePaddingInPX=function(p){var d=c.superclass.calculatePaddingInPX.apply(this,arguments);if((p.get("title.visible")===false)&&(p.get("valueAxis.visible")===true)){this.changePaddingTop(p,d);}return d;};return c;});define('sap/viz/chart/metadata/bindings/TimeYBindings',[],function Setup(){var f=[{"id":"timeAxis","name":"IDS_TIME_AXIS","type":"Dimension","min":1,"max":1,"acceptMND":false,"continuous":true,"sort":true,"role":"layout.time"},{"id":"color","name":"IDS_COLOR","type":"Dimension","min":0,"max":Number.POSITIVE_INFINITY,"acceptMND":true,"role":"mark.color"},{"id":"valueAxis","name":"IDS_VALUE_AXIS","type":"Measure","min":1,"max":Number.POSITIVE_INFINITY,"role":"layout.value"}];return f;});define('sap/viz/chart/components/plotareas/TimeBulletPlotArea',["sap/viz/framework/common/util/oo","sap/viz/chart/components/plotareas/TimeYPlotArea","sap/viz/chart/components/plotareas/BulletPlotArea"],function(o,T,B){function a(){a.superclass.constructor.apply(this,arguments);}o.extend(a,T);a.prototype.isColumnLike=function(){return true;};a.prototype._getValueAxis=function(d){return d.actualValues;};a.prototype._getItemValue=function(i){return i["actualValues"]+i["additionalValues"];};a.prototype.updateValueScale=function(){var d=this._data;var w=this._roughSize.width;var h=this._roughSize.height;if(this.isColumnLike()&&d&&w>0&&h>0){this._updateTimeScale(d.timeAxis,this._categoryAxis,{minTimeLevel:(this.runtime().statusManager().get('timeLevels')||[])[0]||["day"],showAsUTC:this.properties("general.showAsUTC")});}return B.prototype.updateValueScale.apply(this,arguments);};return a;});define('sap/viz/chart/views/TimeBulletChartView',["sap/viz/framework/common/util/oo","sap/viz/chart/views/BulletChartView","sap/viz/chart/components/plotareas/TimeBulletPlotArea","sap/viz/framework/scale/BulletColorScale"],function(o,B,T,a){var b=function(){b.superclass.constructor.apply(this,arguments);};o.extend(b,B);b.prototype._getDataItems=function(){return["actualValues","additionalValues","color","series","timeAxis","targetValues","forecastValues"];};b.prototype._createPlotContainer=function(){this._plotArea=new T(this.runtime(),{renderType:this._renderType});this._plotArea.setRoughSize(this._size);this.setChild("main",this._plotArea,{priority:3});};b.prototype._dataChanged=function(){if(this._data&&!this._data.color){this._data.color=this._createSeries(this._data);}b.superclass._dataChanged.apply(this,arguments);};b.prototype._createSeries=function(d){var m='actualValues,additionalValues,forecastValues,targetValues'.split(',').reduce(function(c,f){if(d[f]&&d[f].metaData){c[f]=d[f].metaData.map(function(e){return e.name||e.id;});}return c;},{});return{scale:new a([],this.runtime()._propertyMgr,{mnds:m})};};return b;});define('sap/viz/chart/metadata/bindings/TimeBulletBindings',[],function(){return[{"id":"timeAxis","name":"IDS_TIME_AXIS","type":"Dimension","min":1,"max":1,"acceptMND":false,"continuous":true,"sort":true,"role":"layout.time"},{"id":"actualValues","name":"IDS_PRIMARY_VALE","type":"Measure","min":1,"max":1,"role":"layout.value"},{"id":"additionalValues","name":"IDS_ADDITIONAL_VALE","type":"Measure","min":0,"max":1,"role":"layout.value"},{"id":"targetValues","name":"IDS_TARGETVALUES","type":"Measure","min":0,"max":1,"role":"mark.target"}];});define('sap/viz/chart/metadata/bindings/TimeYCombinationBindings',[],function Setup(){var f=[{"id":"timeAxis","name":"IDS_TIME_AXIS","type":"Dimension","min":1,"max":1,"acceptMND":false,"continuous":true,"sort":true,"configurable":false,"role":"layout.time"},{"id":"color","name":"IDS_COLOR","type":"Dimension","min":1,"max":1,"MNDOnly":true,"acceptMND":true,"role":"mark.color"},{"id":"valueAxis","name":"IDS_VALUE_AXIS","type":"Measure","min":2,"max":Number.POSITIVE_INFINITY,"role":"layout.value"}];return f;});define('sap/viz/chart/components/plotareas/TimeYYPlotArea',['sap/viz/framework/common/util/Constants','sap/viz/framework/common/util/oo',"sap/viz/framework/scale/ValueScaleUtil",'sap/viz/chart/components/plotareas/TimeYPlotArea','sap/viz/chart/components/plotareas/XYYPlotArea','sap/viz/chart/components/plots/TYPlotFactory','sap/viz/chart/components/plots/PlotHelper','sap/viz/chart/components/axis/ValueAxis','sap/viz/chart/components/util/ValueAxisUtils','sap/viz/chart/components/util/TextUtils','sap/viz/framework/common/format/UnitFormat','sap/viz/framework/common/util/TypeUtils',"sap/viz/framework/common/util/ArrayUtils",'sap/viz/framework/common/util/DataUtils','sap/viz/chart/components/datalabels/BarDataLabels','sap/viz/framework/common/util/NumberUtils','sap/viz/chart/components/axis/TimeAxis',],function(C,o,V,T,X,P,a,b,c,d,U,e,A,D,B,N,f){var g=function(r,h){g.superclass.constructor.apply(this,arguments);};o.extend(g,T);var p=g.prototype;p._getPlotOptions=function(){return{isDualValueAxis:true};};p.setData=function(h){g.superclass.setData.apply(this,arguments);this._applyDefaultProperties(h);};p._applyDefaultProperties=function(h){X.prototype._applyDefaultProperties.apply(this,arguments);};p.allOrNone=function(r,h){X.prototype.allOrNone.apply(this,arguments);};p._init=function(){this._plot=a.create(this._renderType,P.getPlotClazz(this._renderType),this.runtime(),this._getPlotOptions());this.setChild("plot",this._plot,{position:"center"});this._plot.getDispatch().on("reRenderComplete.plotarea",this._reRenderComplete.bind(this));var i=!this._properties.get("interaction.noninteractiveMode");this.setLayoutSequence(['left','right','bottom','top']);this._categoryAxis=new f(this.runtime(),{name:"timeAxis",hasScrollbar:i,isColumnLike:this.isColumnLike()});this.setChild("timeAxis",this._categoryAxis,{position:"bottom"});this._valueAxis=new b(this.runtime(),{name:"valueAxis"});this.setChild("valueAxis",this._valueAxis,{position:"left"});this._valueAxis2=new b(this.runtime(),{name:"valueAxis2"});this.setChild("valueAxis2",this._valueAxis2,{position:"right"});if(i){this._hScrollbar=this._categoryAxis.getChild(C.AXIS.SCROLLBAR_NAME).module;}if(this._isPercentageChart()){this._valueAxis.setPercentageMode(true);this._valueAxis2.setPercentageMode(true);}this.getZoomer().init({main:this,plot:this._plot,isHorizontal:false});};p._preRender=function(){g.superclass._preRender.apply(this,arguments);this._runtime.statusManager().add('globalDomain2',{value:this._valueAxis2._scale.getDomain(),readonly:true});};p.updateValueScale=function(){this._adjustTimeDomain();return X.prototype.updateValueScale.call(this);};p._updateValueScaleDomain=function(h,v){var i=this._data;var w=this._roughSize.width;var j=this._roughSize.height;if(!i||w<=0||j<=0){return false;}var r=[0,1];if(this._plot.isHorizontal()){r[1]=w;}else{r[1]=j;}r[1]*=0.8;var s=i[v].scale;var k=s.getDomain().slice();s.setDomain(h);var l=c.calcScale(s,r,{keepAutoScale:true,isLineChart:this._isLineChart()});h=l.scale.getDomain();s.setDomain(h);i[v].tickHint=l.tickHint;i[v].scale.setRange([0,1]);this['_'+v].setData(i[v],true);return(k[0]!==h[0]||k[1]!==h[1]);};p._scroll=function(h){var j=this.getChildrenByPosition("center")[0];var r=j.getRealSize();var s=j.getSize();var k=j.isHorizontal();if(this._properties.get("interaction.syncValueAxis")&&((k&&r.height>s.height)||(!k&&r.width>s.width))){var l=this._data.rawData;var m=l.dataModel;var n=l.scales;var t,q=c.getTimeAxisDomain(s,h,r,this._data.timeAxis.scale.getDomain(),k);var v=this._getValueRange(m.series().filter(function(y){for(var i=0;i<y.length;i++){if(y[i]){return y[i].hasOwnProperty('valueAxis');}}return false;}),q[0],q[1],n.valueAxis.getOption());if(v==null){v=n.valueAxis.getDomain();}var u=this._updateValueScaleDomain(v,'valueAxis');if(u){t=this.getChild("timeAxis").module;t.setHasNegativeValue(D.domainWithNegativeValue(v));this.getChild("valueAxis").module.update();}var w=this._getValueRange(m.series().filter(function(y){for(var i=0;i<y.length;i++){if(y[i]){return y[i].hasOwnProperty('valueAxis2');}}return false;}),q[0],q[1],n.valueAxis2.getOption());if(w==null){w=n.valueAxis2.getDomain();}var x=this._updateValueScaleDomain(w,'valueAxis2');if(x){t=this.getChild("timeAxis").module;t.setHasNegativeValue(D.domainWithNegativeValue(w));this.getChild("valueAxis2").module.update();}}this._plot.update();T.superclass._scroll.apply(this,arguments);};return g;});define('sap/viz/chart/views/TimeYYChartView',['sap/viz/framework/common/util/oo','sap/viz/chart/views/TimeYChartView','sap/viz/chart/components/plotareas/TimeYYPlotArea'],function Setup(o,T,a){var b=function(r,c){b.superclass.constructor.apply(this,arguments);};o.extend(b,T);b.prototype._getDataItems=function(){return["valueAxis","valueAxis2","timeAxis","color","color2","series"];};b.prototype._createPlotContainer=function(){this._plotArea=new a(this.runtime(),{renderType:this._renderType});this._plotArea.setRoughSize(this._size);this.setChild("main",this._plotArea,{priority:3});};return b;});define('sap/viz/chart/metadata/bindings/TimeYYBindings',[],function Setup(){var f=[{"id":"timeAxis","name":"IDS_TIME_AXIS","type":"Dimension","min":1,"max":1,"acceptMND":false,"continuous":true,"sort":true,"configurable":false,"role":"layout.time"},{"id":"color","name":"IDS_COLOR","type":"Dimension","min":1,"max":1,"MNDOnly":true,"acceptMND":true,"role":"mark.color"},{"id":"valueAxis","name":"IDS_VALUE_AXIS","type":"Measure","min":1,"max":Number.POSITIVE_INFINITY,"role":"layout.value"},{"id":"valueAxis2","name":"IDS_VALUE_AXIS2","type":"Measure","min":1,"max":Number.POSITIVE_INFINITY,"role":"layout.secondValue"}];return f;});define('sap/viz/chart/metadata/bindings/YYTimeBindings',[],function Setup(){var f=[{"id":"color","name":"IDS_COLOR","type":"Dimension","min":0,"max":Number.POSITIVE_INFINITY,"acceptMND":false,"role":"mark.color"},{"id":"shape","name":"IDS_SHAPE","type":"Dimension","min":0,"max":Number.POSITIVE_INFINITY,"acceptMND":false,"role":"mark.shape"},{"id":"valueAxis","name":"IDS_VALUE_AXIS","type":"Measure","min":1,"max":1,"role":"layout.value"},{"id":"timeAxis","name":"IDS_TIME_AXIS","type":"Dimension","min":1,"max":1,"acceptMND":false,"continuous":true,"sort":false,"role":"layout.time"},{"id":"bubbleWidth","name":"IDS_BUBBLESIZE","type":"Measure","min":1,"max":1,"role":"mark.size"}];return f;});define('sap/viz/chart/components/datalabels/StackedWaterfallDataLabels',['sap/viz/framework/common/util/oo','sap/viz/framework/common/util/Constants',"sap/viz/framework/common/util/DOM",'sap/viz/framework/common/util/DataGraphics','sap/viz/chart/components/util/DataPointUtils','sap/viz/chart/components/datalabels/DataLabels'],function(o,C,D,c,d,e){var s=[0,1];var S=function(a,b){S.superclass.constructor.apply(this,arguments);this._labelPosition="stackedWaterfall";};o.extend(S,e);S.prototype.verticalLabelOffset=-3;S.prototype.horizontalLabelOffset=6;S.prototype._getStyle=function(a){var p=this._properties;var b=S.superclass._getStyle.apply(this,arguments);var f=d.getContext(a);if(f&&f.hasOwnProperty('Type')&&this._data.waterfallTypeScale.scale(f.Type)!==0){b["font-weight"]="bold";b["cssString"]="fill:"+b.fill+";font-family:"+p.get('style.fontFamily')+";font-size:"+p.get('style.fontSize')+";font-weight:"+"bold"+";font-style:"+p.get('style.fontStyle')+";";}return b;};S.prototype.hideConditional=function(a){for(var i=a.length-1;i>=0;i--){var b=a[i];var f=b.node;var g=d.getContext(f);var h=this._data.waterfallTypeScale.scale(g?g.Type:null);if(this.isDataLabelOutOfDataPoint(f,b)&&h!==1){D.remove(f);a.splice(i,1);}}return S.superclass.hideConditional.apply(this,arguments);};S.prototype.sortDataLabelInfos=function(f){var n,N,g,h;var _=this;f.sort(function(a,b){n=d.getContext(a.node);g=_._data.waterfallTypeScale.scale(n?n.Type:null);N=d.getContext(b.node);h=_._data.waterfallTypeScale.scale(N?N.Type:null);return s.indexOf(g)-s.indexOf(h);});};S.prototype._computeDataLabelPosition=function(a,b,l,f,g,n){var x,y;var h=b.x+a.e;var i=b.y+a.f;var j=this._horizontal?this.horizontalLabelOffset:this.verticalLabelOffset;if(this._horizontal){y=(i+b.height/2)-(f.y+f.height/2);if(this._data.waterfallTypeScale.scale(g.ctx.Type)!==0){x=h+b.width+j;}else{x=(h+b.width/2)-(f.x+f.width/2);}}else{x=(h+b.width/2)-(f.x+f.width/2);if(this._data.waterfallTypeScale.scale(g.ctx.Type)!==0){y=i-(f.y+f.height);if(y+f.y<0){y=-f.y-j;}else{y=y+j;}}else{y=(i+b.height/2)-(f.y+f.height/2);}}return[x,y];};S.prototype.drawZero=function(a){return false;};return S;});define('sap/viz/chart/components/plots/StackedWaterFallPlot',['sap/viz/framework/common/util/oo','sap/viz/chart/components/util/DrawUtil','sap/viz/framework/common/util/SVG','sap/viz/chart/components/plots/StackedColumnPlot','sap/viz/chart/components/plots/WaterFallPlot','sap/viz/framework/chartmodel/ContextBuilder','sap/viz/chart/components/plots/ScaleHandler','sap/viz/chart/components/plots/DataHandler','sap/viz/chart/components/plots/ItemScaleHandler','sap/viz/chart/components/renderers/SeriesRenderer','sap/viz/chart/components/renderers/PathRenderer',"sap/viz/framework/common/util/DataGraphics",'sap/viz/framework/common/util/ObjectUtils','sap/viz/chart/components/util/SeriesUtil','sap/viz/chart/components/datalabels/StackedWaterfallDataLabels','sap/viz/framework/common/util/UADetector','sap/viz/chart/components/util/DataPointUtils','sap/viz/framework/common/util/Constants',"sap/viz/framework/common/util/DOM",'sap/viz/framework/common/util/TypeUtils','sap/viz/framework/common/util/WaterfallUtils'],function Setup(o,D,S,a,W,C,b,c,I,d,P,e,O,f,g,U,h,k,l,T,m){var n=function(r,i){n.superclass.constructor.apply(this,arguments);};o.extend(n,a);n.prototype._isSupportNoFill=function(){return false;};var N=0.5;var p=k.CSS.CLASS.WATERFALL_LINKLINE;n.prototype.setData=function(i){if(i&&i.waterfallType&&i.waterfallType.scale){i.waterfallTypeScale=i.waterfallType.scale;}n.superclass.setData.apply(this,arguments);return this;};n.prototype.render=function(s){var w=this._size.width,i=this._size.height;this._size.width=w<0?0:w;this._size.height=i<0?0:i;n.superclass.render.apply(this,arguments);};n.prototype._getDataHandler=function(){return{"valueAxis":c.getSTKWTFHandler()};};n.prototype._getXPosition=function(s,i,j){return W.prototype._getXPosition.apply(this,arguments);};n.prototype._getYPosition=function(s,i,j){return W.prototype._getYPosition.apply(this,arguments);};n.prototype._getValueScaleHandlers=function(i){return[b.getWTFScaleHandler("valueAxis",{isHorizontal:this.isHorizontal()})];};n.prototype._drawDatapoints=function(i){var j={'validAxisData':this._needValidEmptyAxisData()};q.call(this,i,j);};n.prototype._updateDatapoints=function(i){var j={'updateOnly':true,'validAxisData':this._needValidEmptyAxisData()};q.call(this,i,j);};function q(j,r){var u=false;var s=false;if(r&&r.hasOwnProperty('updateOnly')){u=r.updateOnly;}if(r&&r.hasOwnProperty('validAxisData')){s=r.validAxisData;}var t=this._getSeries();var v=t.length;var w;if(u){w=j.select("."+k.CSS.CLASS.DATAPOINT_GROUP).node();}else{w=S.create("g");w.setAttribute("class",k.CSS.CLASS.DATAPOINT_GROUP);}if(!u&&this._seriesRenderer){this._seriesRenderer.init(v);}for(var x in this._dataHandler){if(this._dataHandler[x].reset){this._dataHandler[x].reset();}}var y;var z=0;var A=[],B;this._selection.selectAll("."+p).remove();var E=S.create("g");for(var F=0;F<v;F++){var G=t[F];if(!G){continue;}var H=null;for(var J=0;J<G.length;J++){var K=G[J];if(!K){continue;}if(s===true){var L=K.valueAxis===undefined||K.valueAxis===null;var M=K.valueAxis2===undefined||K.valueAxis2===null;if(L&&M){continue;}}var Q=this._getPosition(F,J,K);if(!Q){continue;}y=z++;var R=K.dp.context();if(R[R.measureNames]===null){R[R.measureNames]=K.valueAxis;}var V=this._buildWrapperConfig(K,Q,R);if(!H){H="valueAxis";}A[J]=A[J]||{};B=A[J][H]=A[J][H]||{configs:[],positions:[],currentIds:[],dataPoints:[]};if(u){if(!B.node){var X=h.find(w,y);var Y=X;while((Y=Y.parentNode)&&!l.hasClass(Y,k.CSS.CLASS.STACK)){}B.node=Y;}}else{var Z=this._buildData(V);B.data=B.data||[];B.data.push(Z);}B.configs.push(V);B.dataPoints.push(K.dp);B.positions.push(Q);B.currentIds.push(y);}}var $=this._getDataPointRenderer(F);for(var i=0;i<A.length;i++){var _=A[i];for(var a1 in _){if(_.hasOwnProperty(a1)){B=_[a1];if(!B){continue;}var cp=this._drawCategory(B.node,$,B.configs,B.data,B.positions,B.currentIds,B.dataPoints,i);if(cp){w.appendChild(cp);}}}}if(A.length>1){this._drawLine(E,A);}w.appendChild(E);if(!u){this._postRender(w);j.node().appendChild(w);this._drawDataLabels(j,w);}else{var c1=j.selectAll('.'+k.CSS.CLASS.DATAPOINT)[0];this._dataLabels.updatePosition(j,c1);}}n.prototype._getGap=function(){var i,j;if(this.isHorizontal()){i=this._getYPosition(0,0,{valueAxis:0,total:0,base:0});j=this._getYPosition(0,1,{valueAxis:0,total:0,base:0});return j[0]-i[0];}else{i=this._getXPosition(0,0,{valueAxis:0,total:0,base:0});j=this._getXPosition(0,1,{valueAxis:0,total:0,base:0});return j[0]-i[0];}};n.prototype._getHorizontalLine=function(i,j,w,r){var s,t;var x;var u=N;var v=i.length-1;var y=i[0];var z=j[0];var A=this._getGap();var B=A-z.height;var E=y.ctx[y.ctx.measureNames]<0;if(1===w){x=!E?Math.round(z.x+z.width):Math.round(z.x+u);if(r!==0){s={'y1':Math.round(z.y-B/2),'y2':Math.round(z.y+z.height)};s.x1=s.x2=x;}if(r!==this._data.series[0].length-1){t={'y1':Math.round(z.y),'y2':Math.round(z.y+z.height+B/2)};t.x1=t.x2=x;}}else{if(r!==0){s={'y1':Math.round(z.y-B/2),'y2':Math.round(z.y+z.height)};x=!E?Math.round(z.x):Math.round(z.x+z.width+u);s.x1=s.x2=x;}y=i[v];z=j[v];E=y.ctx[y.ctx.measureNames]<0;if(r!==this._data.series[0].length-1){t={'y1':Math.round(z.y),'y2':Math.round(z.y+z.height+B/2)};x=!E?Math.round(z.x+z.width):Math.round(z.x+u);t.x1=t.x2=x;}}return{'lLine':s,'rLine':t};};n.prototype._getVerticalLine=function(i,j,w,r){var s,t;var y;var u=N;var v=i.length-1;var x=i[0];var z=j[0];var A=this._getGap();var B=A-z.width;var E=x.ctx[x.ctx.measureNames]<0;if(1===w){y=!E?Math.round(z.y):Math.round(z.y+z.height+u);if(r!==0){s={'x1':Math.round(z.x-B/2),'x2':Math.round(z.x+z.width)};s.y1=s.y2=y;}if(r!==this._data.series[0].length-1){t={'x1':Math.round(z.x),'x2':Math.round(z.x+z.width+B/2)};t.y1=t.y2=y;}}else{if(r!==0){s={'x1':Math.round(z.x-B/2),'x2':Math.round(z.x+z.width)};y=!E?Math.round(z.y+z.height):Math.round(z.y+u);s.y1=s.y2=y;}x=i[v];z=j[v];E=x.ctx[x.ctx.measureNames]<0;if(r!==this._data.series[0].length-1){t={'x1':Math.round(z.x),'x2':Math.round(z.x+z.width+B/2)};y=!E?Math.round(z.y):Math.round(z.y+z.height+u);t.y1=t.y2=y;}}return{'lLine':s,'rLine':t};};n.prototype._drawLine=function(r,s){var v=this._properties.get("linkline.visible");if(!v){return;}var t=[];var u;var i,w;for(i=0;i<s.length;i++){var x=s[i];for(var y in x){if(x.hasOwnProperty(y)){w=x[y];if(!w){continue;}var z=w.configs;var A=true;for(var j=0;j<z.length;j++){if(null!==z[j].ctx[z[j].ctx.measureNames]){A=false;break;}}if(A){continue;}var B=null;var E=this._data.waterfallType.values;if(E&&E.hasOwnProperty(i)){if(T.isArray(E[i])){B=E[i][E[i].length-1];}else{B=E[i];}}var F=this._data.waterfallType.scale.scale(B);if(this.isHorizontal()){u=this._getHorizontalLine(z,w.positions,F,i);}else{u=this._getVerticalLine(z,w.positions,F,i);}if(u.lLine){t.push(u.lLine);}if(u.rLine){t.push(u.rLine);}}}}m.drawLines(t,this._properties,this.isHorizontal(),r,true);};n.prototype._getDataLabels=function(i,r){this._datalabels=new g(r,{name:i,horizontal:this.isHorizontal()});return this._datalabels;};n.prototype._buildWrapperConfig=function(i,j,r){var s=n.superclass._buildWrapperConfig.apply(this,arguments);if(this._properties.get("dataPointStyle")){return s;}var w=this._data.waterfallType.scale.scale(i.waterfallType);if(1===w){s.graphic.fill=this._properties.get("dataPoint.color.total");}return s;};return n;});define('sap/viz/chart/components/plots/WaterFallPlotFactory',['jquery','sap/viz/chart/components/plots/WaterFallPlot','sap/viz/chart/components/plots/StackedWaterFallPlot'],function($,W,S){var p={'waterfall':{plotClazz:W},'stacked_waterfall':{plotClazz:S},'horizontal_waterfall':{plotClazz:W},'horizontal_stacked_waterfall':{plotClazz:S},};return{getPlotClazz:function(r){var c=p[r];return c&&c.plotClazz;}};});define('sap/viz/chart/components/axis/renderer/WaterfallCategoryBodyRenderer',["sap/viz/framework/common/util/ObjectUtils","sap/viz/chart/components/axis/renderer/OrdinalCommonBodyRenderer","sap/viz/framework/common/util/oo"],function(O,a,o){var r=function(){r.superclass.constructor.apply(this,arguments);};o.extend(r,a);r.prototype._createLabelStyle=function(e,s){r.superclass._createLabelStyle.apply(this,arguments);this._propStyleTotal=O.clone(this._propStyle);this._propStyleTotal.fontWeight="bold";};r.prototype._getLabelStyle=function(d,i){if(d&&d._waterfallType!==undefined&&d._waterfallType!==0){return this._propStyleTotal;}return r.superclass._getLabelStyle.apply(this,arguments);};return r;});define('sap/viz/chart/components/axis/sub/WaterfallCategoryAxisBody',["sap/viz/framework/common/util/oo","sap/viz/framework/common/util/TypeUtils","sap/viz/chart/components/axis/sub/CategoryAxisBody","sap/viz/chart/components/axis/renderer/WaterfallCategoryBodyRenderer"],function(o,T,C,W){var a=function(){a.superclass.constructor.apply(this,arguments);this.setBodyRenderer(new W());};o.extend(a,C);a.prototype._buildLayers=function(s){var l=a.superclass._buildLayers.apply(this,arguments);if(s._waterfallType&&l&&l.length>0&&l[l.length-1].cells){var v=s._waterfallType.values;if(v){var t=v.length;var c=l[l.length-1].cells;for(var i=0;i<c.length;i++){var b=null;if(T.isArray(v[i])){for(var j=0;j<v[i].length;j++){if(v[i][j]!==undefined){b=v[i][j];break;}}}else{b=v[i];}c[i]._waterfallType=s._waterfallType.scale.scale(i<t?b:null);}}}return l;};a.prototype.getLayoutCellsConfig=function(){var c=a.superclass.getLayoutCellsConfig.apply(this,arguments);if(c&&c.propStyle){c.propStyle.fontWeight="bold";if(c.propParentStyle){c.propParentStyle.fontWeight="bold";}}return c;};return a;});define('sap/viz/chart/components/axis/WaterfallCategoryAxis',["sap/viz/framework/common/util/oo","sap/viz/chart/components/axis/CategoryAxis","sap/viz/chart/components/axis/sub/WaterfallCategoryAxisBody"],function(o,C,W){var a=function(r,b){a.superclass.constructor.apply(this,arguments);};o.extend(a,C);a.prototype.setData=function(d,h){if(d&&d.hasOwnProperty("categoryAxis")){a.superclass.setData.call(this,d.categoryAxis,h);this._hasNegativeValue=h;if(d.categoryAxis.scale){this._scale=d.categoryAxis.scale;this._scale._waterfallType=d.waterfallType;}}};a.prototype._setAxisBody=function(r,b){this.setChild("axisBody",new W(r,b),{order:1,priority:2,offset:0});};return a;});define('sap/viz/chart/components/plotareas/WaterfallPlotArea',['sap/viz/framework/common/util/oo','sap/viz/chart/components/plots/WaterFallPlotFactory','sap/viz/chart/components/plotareas/XYPlotArea','sap/viz/chart/components/axis/WaterfallCategoryAxis','sap/viz/framework/common/util/DataUtils'],function Setup(o,P,X,W,D){var C=0.8;var a=function(r,b){a.superclass.constructor.apply(this,arguments);};o.extend(a,X);a.prototype._setAxisData=function(d){this._categoryAxis.setData(d,D.hasNegativeValue(d));};a.prototype._isAdjustValueScaleForTopLabel=function(){return true;};a.prototype._getCategoryAxisClass=function(){return W;};a.prototype._isHorizontal=function(){return this._renderType.indexOf("horizontal")>-1;};a.prototype._getPlotClazz=function(r){return P.getPlotClazz(r);};return a;});define('sap/viz/chart/components/legend/WaterFallLegend',['sap/viz/framework/common/util/oo','sap/viz/chart/components/legend/ColorLegend','sap/viz/framework/common/util/Constants','sap/viz/framework/scale/ColorScale','sap/viz/framework/scale/ColorShapeScaleMerger','sap/viz/framework/common/lang/LangManager'],function(o,C,c,d,e,L){var I=c.CSS.CLASS.LEGENDITEM,f="v-legend-element";var g=['positiveValue','negativeValue','total'];var W=function(r,a){W.superclass.constructor.apply(this,arguments);this._labelText={'total':null,'positiveValue':null,'negativeValue':null};this._legendColor={'total':null,'positiveValue':null,'negativeValue':null};this._isSemanticColoring=null;this._colorPalette=null;this._validItems=null;};o.extend(W,C);function h(_,a){var b=[];var i=[];var r=[];var t,l;var m=_._validItems;var n=false;var p=a.valueAxis.metaData[0].id;for(var j=0;j<m.length;j++){t=m[j];if(_._isSemanticColoring||t==='total'){r.push(_._legendColor[t]);i.push([_._labelText[t]]);}else{if(r.indexOf(_._colorPalette[0])<0){r.push(_._colorPalette[0]);}if(!n){_._validItems=_._validItems.filter(function(v){return v==='total';});_._validItems.unshift(p);i.push([p]);n=true;}}}var q={};var s=(a.waterfallType&&a.waterfallType.metaData)||[];q.metaData=s;var u=new d(i,r,q);b.push({'scale':u,'metaData':s});_.setColorScale(b);}function k(i,j){i.sort(function(a,b){return j.indexOf(a)-j.indexOf(b);});return i;}W.prototype._initColorShapeScale=function(){W.superclass._initColorShapeScale.apply(this,arguments);var s=this.runtime().semanticManager();var t,a;if(!(s.hasDataPointColorStyle()&&s.isOverrideMode())){var b=this._colorShapeScale.getLength();var j=this._validItems;var l=0;for(var i=0;i<b;i++){if(!this._colorShapeScale.getItem(i).isSemanticItem){t=j[l++];a=this._buildLegendContext(t);this._colorShapeScale.setContext(i,a);}}}};W.prototype.render=function(s,l){this._getLegendProperties();h(this,this._data);W.superclass.render.apply(this,arguments);};W.prototype._getLegendProperties=function(){this._labelText.total=this._properties.get("label.text.total");var p=this._properties.get("label.text.positiveValue");if(p===null||p===''){p=L.get("IDS_INCREASING");}this._labelText.positiveValue=p;var n=this._properties.get("label.text.negativeValue");if(n===null||n===''){n=L.get("IDS_DECREASING");}this._labelText.negativeValue=n;this._legendColor.total=this._properties.origin.get("plotArea.dataPoint.color.total");this._legendColor.positiveValue=this._properties.origin.get("plotArea.dataPoint.color.positive");this._legendColor.negativeValue=this._properties.origin.get("plotArea.dataPoint.color.negative");this._isSemanticColoring=this._properties.origin.get("plotArea.dataPoint.color.isSemanticColoring");this._colorPalette=this._properties.origin.get("plotArea.colorPalette");};W.prototype.setData=function(v){this._data=v;this._getLegendProperties();this._validItems=this._getShownLegendItem(v);h(this,v);return this;};W.prototype._buildLegendContext=function(t){var a={};var m=this._data.valueAxis.metaData[0].id;var w=this._data.waterfallType?this._data.waterfallType.metaData:undefined;var b=w&&w[0]?w[0].id:undefined;if(b){if(t==='total'){a[b]='total';}else{a[b]={'notEqual':'total'};}}if(this._isSemanticColoring){if(t==='positiveValue'){a[m]={'min':0};}else if(t==='negativeValue'){a[m]={'max':0};}}return a;};W.prototype._getShownLegendItem=function(a){var b=a._dataPoints;var m,i,j,t,l,v;var n=[];var w=this._data.waterfallType?this._data.waterfallType.metaData:undefined;var p=w&&w[0]?w[0].id:undefined;for(var q in b){if(b.hasOwnProperty(q)){if(n.length===3){break;}i=b[q];if(i){j=i.context();m=j.measureNames;t=p?j[p]:undefined;v=j[m];if(v>=0&&t!=='total'){l='positiveValue';}else if(v<0&&t!=='total'){l='negativeValue';}else if(t==='total'){l='total';}if(n.indexOf(l)===-1){n.push(l);}}}}if(!this._isSemanticColoring&&n.indexOf('total')<0){return[];}n=k(n,g);return n;};W.prototype.destroy=function(){W.superclass.destroy.apply(this,arguments);this._labelText=null;this._legendColor=null;this._validItems=null;};return W;});define('sap/viz/chart/views/WaterFallChartView',['sap/viz/framework/common/util/oo','sap/viz/chart/views/XYChartView','sap/viz/chart/components/plotareas/WaterfallPlotArea','sap/viz/chart/components/legend/WaterFallLegend'],function Setup(o,X,P,W){var a=function(r,b){a.superclass.constructor.apply(this,arguments);};o.extend(a,X);a.prototype._getDataItems=function(){return["valueAxis","categoryAxis","waterfallType","series"];};a.prototype._getLegendInitOptions=function(){return[null];};a.prototype._createPlotContainer=function(){this._plotArea=new P(this.runtime(),{renderType:this._renderType});this._plotArea.setRoughSize(this._size);this.setChild("main",this._plotArea,{priority:3});};a.prototype._getLegendDefinition=function(){return[W];};a.prototype._getLegendInitOptions=function(){return[{noFeeding:true}];};return a;});define('sap/viz/chart/views/TimeWaterFallChartView',["sap/viz/framework/common/util/oo","sap/viz/chart/views/TimeYChartView","sap/viz/chart/views/WaterFallChartView"],function Setup(o,T,W){var a=function(r,b){a.superclass.constructor.apply(this,arguments);};o.extend(a,T);a.prototype._getLegendDefinition=W.prototype._getLegendDefinition;a.prototype._getLegendInitOptions=W.prototype._getLegendInitOptions;return a;});define('sap/viz/chart/metadata/bindings/TimeYColumnBindings',[],function Setup(){var f=[{"id":"timeAxis","name":"IDS_TIME_AXIS","type":"Dimension","min":1,"max":1,"acceptMND":false,"continuous":true,"sort":true,"role":"layout.time"},{"id":"valueAxis","name":"IDS_VALUE_AXIS","type":"Measure","min":1,"max":1,"role":"layout.value"}];return f;});define('sap/viz/chart/metadata/bindings/WaterFallBindings',[],function Setup(){var f=[{"id":"categoryAxis","name":"IDS_CATEGORY_AXIS","type":"Dimension","min":1,"max":Number.POSITIVE_INFINITY,"acceptMND":false,"role":"layout.category"},{"id":"waterfallType","name":"IDS_WATERFALLTYPE","type":"Dimension","min":0,"max":1,"acceptMND":false,"role":"mark.waterfallType"},{"id":"valueAxis","name":"IDS_VALUE_AXIS","type":"Measure","min":1,"max":1,"role":"layout.value"}];return f;});define('sap/viz/chart/metadata/bindings/MekkoBindings',[],function Setup(){var f=[{"id":"categoryAxis","name":"IDS_CATEGORY_AXIS","type":"Dimension","min":1,"max":Number.POSITIVE_INFINITY,"acceptMND":false,"role":"layout.mekkoCategory"},{"id":"color","name":"IDS_COLOR","type":"Dimension","min":0,"max":Number.POSITIVE_INFINITY,"acceptMND":false,"role":"mark.color"},{"id":"valueAxis","name":"IDS_VALUE_AXIS","type":"Measure","min":1,"max":1,"role":"layout.value"},{"id":"valueAxis2","name":"IDS_VALUE_AXIS2","type":"Measure","min":1,"max":1,"role":"layout.mekko"}];return f;});define('sap/viz/chart/metadata/bindings/TrellisPieBindings',[],function Setup(){var P=[{"id":"trellisColumn","name":"IDS_TRELLIS_COLUMN","type":"Dimension","min":0,"max":Number.POSITIVE_INFINITY,"acceptMND":true,"role":"trellis.columnCategory"},{"id":"trellisRow","name":"IDS_TRELLIS_ROW","type":"Dimension","min":0,"max":Number.POSITIVE_INFINITY,"acceptMND":true,"role":"trellis.rowCategory"},{"id":"size","name":"IDS_SIZE","type":"Measure","min":1,"max":Number.POSITIVE_INFINITY,"role":"layout.value"},{"id":"color","name":"IDS_COLOR","type":"Dimension","min":1,"max":Number.POSITIVE_INFINITY,"role":"mark.color","acceptMND":false}];return P;});define('sap/viz/chart/metadata/bindings/TreeBindings',[],function Setup(){var f=[{"id":"title","name":"IDS_TITLE","type":"Dimension","min":1,"max":Number.POSITIVE_INFINITY,"role":"layout.tree","acceptMND":false},{"id":"color","name":"IDS_COLOR","type":"Measure","min":0,"max":1,"role":"mark.quantizeColor"},{"id":"weight","name":"IDS_WEIGHT","type":"Measure","min":1,"max":1,"role":"layout.value"}];return f;});define('sap/viz/chart/metadata/bindings/TagCloudBindings',[],function Setup(){var f=[{"id":"dataFrame","name":"IDS_DATA_FRAME","type":"Dimension","min":0,"max":1,"acceptMND":false,"role":"frame.data"},{'id':'text','name':'IDS_TEXT','type':"Dimension",'min':1,'max':1,'role':'layout','acceptMND':false,},{'id':'weight','name':'IDS_WEIGHT','type':"Measure",'min':1,'max':1,'role':'layout.value'},{'id':'color','name':'IDS_COLOR','type':"Measure",'min':0,'max':1,'role':'mark.quantizeColor'}];return f;});define('sap/viz/chart/metadata/bindings/NumericBindings',[],function Setup(){var f=[{'id':'value','name':'IDS_NUMBERCHART_VALUE','type':"Measure",'min':1,'max':1,'role':'mark.size'}];return f;});define('sap/viz/chart/metadata/bindings/StackedWaterFallBindings',[],function Setup(){var f=[{"id":"categoryAxis","name":"IDS_CATEGORY_AXIS","type":"Dimension","min":1,"max":Number.POSITIVE_INFINITY,"acceptMND":true,"role":"layout.category"},{"id":"color","name":"IDS_COLOR","type":"Dimension","min":0,"max":Number.POSITIVE_INFINITY,"acceptMND":true,"role":"mark.color"},{"id":"waterfallType","name":"IDS_WATERFALLTYPE","type":"Dimension","min":0,"max":1,"acceptMND":false,"role":"mark.waterfallType"},{"id":"valueAxis","name":"IDS_VALUE_AXIS","type":"Measure","min":1,"max":Number.POSITIVE_INFINITY,"role":"layout.value"}];return f;});define('sap/viz/chart/metadata/bindings/ComboExBindings',[],function(){return[{"id":"categoryAxis","name":"IDS_CATEGORY_AXIS","type":"Dimension","min":1,"max":Number.POSITIVE_INFINITY,"MNDDependency":"valueGroup","acceptMND":"exclusive","role":"layout.category"},{"id":"color","name":"IDS_COLOR","type":"Dimension","min":0,"max":Number.POSITIVE_INFINITY,"acceptMND":true,"role":"mark.color"},{"id":"valueAxis","name":"IDS_VALUE_AXIS","type":"Measure","role":"layout.value",'groupId':'valueGroup'},{"id":"valueAxis2","name":"IDS_VALUE_AXIS2","type":"Measure","role":"layout.secondValue",'groupId':'valueGroup'},{"id":"valueGroup","type":"group","min":1,"max":Infinity}];});define('sap/viz/chart/metadata/bindingDef',["sap/viz/chart/metadata/bindings/XYBindings","sap/viz/chart/metadata/bindings/CombinationBindings","sap/viz/chart/metadata/bindings/XYYCombinationBindings","sap/viz/chart/metadata/bindings/YYBindings","sap/viz/chart/metadata/bindings/XYYBindings","sap/viz/chart/metadata/bindings/MekkoBindings","sap/viz/chart/metadata/bindings/XXBindings","sap/viz/chart/metadata/bindings/PieBindings","sap/viz/chart/metadata/bindings/TrellisPieBindings","sap/viz/chart/metadata/bindings/TreeBindings","sap/viz/chart/metadata/bindings/TagCloudBindings","sap/viz/chart/metadata/bindings/BulletBindings","sap/viz/chart/metadata/bindings/NumericBindings","sap/viz/chart/metadata/bindings/TimeYBindings","sap/viz/chart/metadata/bindings/TimeYColumnBindings","sap/viz/chart/metadata/bindings/TimeYCombinationBindings","sap/viz/chart/metadata/bindings/TimeYYBindings","sap/viz/chart/metadata/bindings/YYTimeBindings","sap/viz/chart/metadata/bindings/WaterFallBindings","sap/viz/chart/metadata/bindings/StackedWaterFallBindings","sap/viz/chart/metadata/bindings/TimeBulletBindings","sap/viz/chart/metadata/bindings/ComboExBindings","sap/viz/framework/common/util/ObjectUtils"],function(X,C,a,Y,b,M,c,P,T,d,e,B,N,f,g,h,j,k,W,S,l,m,O){var x=O.clone(X);var n=O.clone(C);var o=O.clone(a);var y=O.clone(Y);var p=O.clone(b);var q=O.clone(c);var r=O.clone(M);var s=O.clone(P);var t=O.clone(d);var u=O.clone(e);var v=O.clone(B);var w=O.clone(T);var z=O.clone(N);var A=O.clone(f);var D=O.clone(h);var E=O.clone(g);var F=O.clone(j);var G=O.clone(k);var H=O.clone(g);var I=O.clone(W);var J=O.clone(S);var K=O.clone(l);var L=O.clone(m);var Q=O.clone(f);var R=function(U){var i=U.length;while(i--){delete U[i].name;}return U;};x=R(x);n=R(n);o=R(o);y=R(y);p=R(p);r=R(r);q=R(q);s=R(s);t=R(t);v=R(v);w=R(w);z=R(z);A=R(A);E=R(E);G=R(G);H=R(H);I=R(W);J=R(S);L=R(L);Q=R(Q);K=R(K);return{"info/bar":{"renderType":"bar","family":"xy","name":"IDS_BARCHART","vender":"sap.viz","bindings":x},"info/trellis_bar":{"renderType":"bar","family":"xy","name":"IDS_TRELLISBARCHART","vender":"sap.viz","bindings":x},"info/stacked_bar":{"renderType":"stacked_bar","family":"xy","name":"IDS_STACKEDBARCHART","vender":"sap.viz","bindings":x},"info/trellis_stacked_bar":{"renderType":"stacked_bar","family":"xy","name":"IDS_TRELLISSTACKEDBARCHART","vender":"sap.viz","bindings":x},"info/100_stacked_bar":{"renderType":"100_stacked_bar","family":"xy","name":"IDS_PERCENTAGESTACKEDBARCHART","vender":"sap.viz","bindings":x},"info/trellis_100_stacked_bar":{"renderType":"100_stacked_bar","family":"xy","name":"IDS_TRELLISPERCENTAGESTACKEDBARCHART","vender":"sap.viz","bindings":x},"info/column":{"renderType":"column","family":"xy","name":"IDS_VERTICALBARCHART","vender":"sap.viz","bindings":x},"info/trellis_column":{"renderType":"column","family":"xy","name":"IDS_TRELLISCOLUMNCHART","vender":"sap.viz","bindings":x},"info/stacked_column":{"renderType":"stacked_column","family":"xy","name":"IDS_STACKEDVERTICALBARCHART","vender":"sap.viz","bindings":x},"info/trellis_stacked_column":{"renderType":"stacked_column","family":"xy","name":"IDS_TRELLISSTACKEDCOLUMNCHART","vender":"sap.viz","bindings":x},"info/100_stacked_column":{"renderType":"100_stacked_column","family":"xy","name":"IDS_PERCENTAGESTACKEDVERTICALBARCHART","vender":"sap.viz","bindings":x},"info/trellis_100_stacked_column":{"renderType":"100_stacked_column","family":"xy","name":"IDS_TRELLISPERCENTAGESTACKEDCOLUMNCHART","vender":"sap.viz","bindings":x},"info/line":{"renderType":"line","family":"xy","name":"IDS_LINECHART","vender":"sap.viz","bindings":x},"info/trellis_line":{"renderType":"line","family":"xy","name":"IDS_TRELLISLINECHART","vender":"sap.viz","bindings":x},"info/horizontal_line":{"renderType":"horizontal_line","family":"xy","name":"IDS_HORIZONTALLINECHART","vender":"sap.viz","bindings":x},"info/dual_horizontal_line":{"renderType":"horizontal_line","family":"xy","name":"IDS_DUALHORIZONTALLINECHART","vender":"sap.viz","bindings":p},"info/trellis_dual_horizontal_line":{"renderType":"horizontal_line","family":"xy","name":"IDS_TRELLISDUALHORIZONTALLINECHART","vender":"sap.viz","bindings":p},"info/trellis_horizontal_line":{"renderType":"horizontal_line","family":"xy","name":"IDS_TRELLISHORIZONTALLINECHART","vender":"sap.viz","bindings":x},"info/area":{"renderType":"area","family":"xy","name":"IDS_AREACHART","vender":"sap.viz","bindings":x},"info/horizontal_area":{"renderType":"horizontal_area","family":"xy","name":"IDS_HORIZONTALAREACHART","vender":"sap.viz","bindings":x},"info/trellis_area":{"renderType":"area","family":"xy","name":"IDS_TRELLISAREACHART","vender":"sap.viz","bindings":x},"info/trellis_horizontal_area":{"renderType":"horizontal_area","family":"xy","name":"IDS_TRELLISHORIZONTALAREACHART","vender":"sap.viz","bindings":x},"info/100_area":{"renderType":"100_area","family":"xy","name":"IDS_PERCENTAGEAREACHART","vender":"sap.viz","bindings":x},"info/trellis_100_area":{"renderType":"100_area","family":"xy","name":"IDS_TRELLISPERCENTAGEAREACHART","vender":"sap.viz","bindings":x},"info/100_horizontal_area":{"renderType":"100_horizontal_area","family":"xy","name":"IDS_PERCENTAGEHORIZONTALAREACHART","vender":"sap.viz","bindings":x},"info/trellis_100_horizontal_area":{"renderType":"100_horizontal_area","family":"xy","name":"IDS_TRELLISPERCENTAGEHORIZONTALAREACHART","vender":"sap.viz","bindings":x},"info/combination":{"renderType":"combination","family":"xy","name":"IDS_COMBINATIONCHART","vender":"sap.viz","bindings":n},"info/trellis_combination":{"renderType":"combination","family":"xy","name":"IDS_TRELLISCOMBINATIONCHART","vender":"sap.viz","bindings":n},"info/horizontal_combination":{"renderType":"horizontal_combination","family":"xy","name":"IDS_HORIZONTALCOMBINATIONCHART","vender":"sap.viz","bindings":n},"info/trellis_horizontal_combination":{"renderType":"horizontal_combination","family":"xy","name":"IDS_TRELLISHORIZONTALCOMBINATIONCHART","vender":"sap.viz","bindings":n},"info/bubble":{"renderType":"bubble","family":"yy","name":"IDS_BUBBLECHART","vender":"sap.viz","bindings":y},"info/trellis_bubble":{"renderType":"bubble","family":"yy","name":"IDS_TRELLISBUBBLECHART","vender":"sap.viz","bindings":y},"info/scatter":{"renderType":"scatter","family":"yy","name":"IDS_SCATTERCHART","vender":"sap.viz","bindings":y},"info/trellis_scatter":{"renderType":"scatter","family":"yy","name":"IDS_TRELLISSCATTERCHART","vender":"sap.viz","bindings":y},"info/dual_column":{"renderType":"column","family":"xyy","name":"IDS_DUALVERTICALBARCHART","vender":"sap.viz","bindings":p},"info/trellis_dual_column":{"renderType":"column","family":"xyy","name":"IDS_TRELLISDUALCOLUMNCHART","vender":"sap.viz","bindings":p},"info/dual_stacked_column":{"renderType":"stacked_column","family":"xyy","name":"IDS_DUALSTACKEDVERTICALBARCHART","vender":"sap.viz","bindings":p},"info/trellis_dual_stacked_column":{"renderType":"stacked_column","family":"xyy","name":"IDS_TRELLISDUALSTACKEDCOLUMNCHART","vender":"sap.viz","bindings":p},"info/100_dual_stacked_column":{"renderType":"100_stacked_column","family":"xyy","name":"IDS_DUALPERCENTAGESTACKEDVERTICALBARCHART","vender":"sap.viz","bindings":p},"info/trellis_100_dual_stacked_column":{"renderType":"100_stacked_column","family":"xyy","name":"IDS_TRELLISDUALPERCENTAGESTACKEDCOLUMNCHART","vender":"sap.viz","bindings":p},"info/dual_bar":{"renderType":"bar","family":"xyy","name":"IDS_DUALBARCHART","vender":"sap.viz","bindings":p},"info/trellis_dual_bar":{"renderType":"bar","family":"xyy","name":"IDS_TRELLISDUALBARCHART","vender":"sap.viz","bindings":p},"info/dual_stacked_bar":{"renderType":"stacked_bar","family":"xyy","name":"IDS_DUALSTACKEDBARCHART","vender":"sap.viz","bindings":p},"info/trellis_dual_stacked_bar":{"renderType":"stacked_bar","family":"xyy","name":"IDS_TRELLISDUALSTACKEDBARCHART","vender":"sap.viz","bindings":p},"info/100_dual_stacked_bar":{"renderType":"100_stacked_bar","family":"xyy","name":"IDS_DUALPERCENTAGESTACKEDBARCHART","vender":"sap.viz","bindings":p},"info/trellis_100_dual_stacked_bar":{"renderType":"100_stacked_bar","family":"xyy","name":"IDS_TRELLISDUALPERCENTAGESTACKEDBARCHART","vender":"sap.viz","bindings":p},"info/dual_line":{"renderType":"line","family":"xyy","name":"IDS_DUALLINECHART","vender":"sap.viz","bindings":p},"info/trellis_dual_line":{"renderType":"line","family":"xyy","name":"IDS_TRELLISDUALLINECHART","vender":"sap.viz","bindings":p},"info/pie":{"renderType":"pie","family":"pie","name":"IDS_PIECHART","vender":"sap.viz","bindings":s},"info/time_bubble":{"renderType":"time_bubble","family":"yy","name":'IDS_TIMEBUBBLECHART',"vender":"sap.viz","bindings":y},"info/bullet":{"renderType":"bullet","family":"bullet","name":'IDS_BULLETCHART',"vender":"sap.viz","bindings":v},"info/trellis_pie":{"renderType":"pie","family":"pie","name":"IDS_TRELLISPIECHART","vender":"sap.viz","bindings":w},"info/donut":{"renderType":"donut","family":"pie","name":"IDS_DONUTCHART","vender":"sap.viz","bindings":s},"info/trellis_donut":{"renderType":"donut","family":"pie","name":"IDS_TRELLISDONUTCHART","vender":"sap.viz","bindings":w},"info/treemap":{"renderType":"treemap","family":"treemap","name":"IDS_TREEMAPCHART","vender":"sap.viz","bindings":t},"info/tagcloud":{"renderType":"tagcloud","family":"tagcloud","name":"IDS_TAGCLOUDCHART","vender":"sap.viz","bindings":u},"info/heatmap":{"renderType":"heatmap","family":"heatmap","name":"IDS_HEATMAPCHART","vender":"sap.viz","bindings":q},"info/vertical_bullet":{"renderType":"bullet","family":"bullet","name":"IDS_VERTICALBULLETCHART","vender":"sap.viz","bindings":v},"info/stacked_combination":{"renderType":"stacked_combination","family":"xy","name":"IDS_STACKEDCOMBINATIONCHART","vender":"sap.viz","bindings":n},"info/horizontal_stacked_combination":{"renderType":"horizontal_stacked_combination","family":"xy","name":"IDS_HORIZONTALSTACKEDCOMBINATIONCHART","vender":"sap.viz","bindings":n},"info/dual_stacked_combination":{"renderType":"stacked_combination","family":"xyy","name":"IDS_DUALSTACKEDCOMBINATIONCHART","vender":"sap.viz","bindings":o},"info/dual_horizontal_stacked_combination":{"renderType":"horizontal_stacked_combination","family":"xyy","name":"IDS_DUALHORIZONTALSTACKEDCOMBINATIONCHART","vender":"sap.viz","bindings":o},"info/mekko":{"renderType":"mekko","family":"xxy","name":"IDS_MEKKOCHART","vender":"sap.viz","bindings":r},"info/100_mekko":{"renderType":"100_mekko","family":"xxy","name":"IDS_PERCENTAGEMEKKOCHART","vender":"sap.viz","bindings":r},"info/horizontal_mekko":{"renderType":"horizontal_mekko","family":"xxy","name":"IDS_HORIZONTALMEKKOCHART","vender":"sap.viz","bindings":r},"info/100_horizontal_mekko":{"renderType":"100_horizontal_mekko","family":"xxy","name":"IDS_PERCENTAGEHORIZONTALMEKKOCHART","vender":"sap.viz","bindings":r},"info/dual_combination":{"renderType":"combination","family":"xyy","name":"IDS_DUALCOMBINATIONCHART","vender":"sap.viz","bindings":o},"info/dual_horizontal_combination":{"renderType":"horizontal_combination","family":"xyy","name":"IDS_DUALHORIZONTALCOMBINATIONCHART","vender":"sap.viz","bindings":o},"info/number":{"renderType":"number","family":"number","name":"IDS_NUMBERCHART","vender":"sap.viz","bindings":z},"info/timeseries_line":{"renderType":"timeseries_line","family":"ty","name":'IDS_TIMELINECHART',"vender":"sap.viz","bindings":A},"info/timeseries_scatter":{"renderType":"timeseries_scatter","family":"ty","name":'IDS_TIMESERIESSCATTERCHART',"vender":"sap.viz","bindings":G},"info/timeseries_bubble":{"renderType":"timeseries_bubble","family":"ty","name":'IDS_TIMESERIESBUBBLECHART',"vender":"sap.viz","bindings":G},"info/timeseries_column":{"renderType":"timeseries_column","family":"ty","name":'IDS_TIMESERIESCOLUMNCHART',"vender":"sap.viz","bindings":A},"info/timeseries_combination":{"renderType":"timeseries_combination","family":"ty","name":'IDS_TIMESERIESCOMBINATIONCHART',"vender":"sap.viz","bindings":D},"info/dual_timeseries_combination":{"renderType":"timeseries_combination","family":"tyy","name":'IDS_DUALTIMESERIESCOMBINATIONCHART',"vender":"sap.viz","bindings":F},"info/timeseries_stacked_column":{"renderType":"timeseries_stacked_column","family":"ty","name":'IDS_TIMESERIESSTACKEDCOLUMNCHART',"vender":"sap.viz","bindings":Q},"info/timeseries_100_stacked_column":{"renderType":"timeseries_100_stacked_column","family":"ty","name":'IDS_TIMESERIESPERCENTSTACKEDCOLUMNCHART',"vender":"sap.viz","bindings":Q},"info/timeseries_waterfall":{"renderType":"timeseries_waterfall","family":"ty","name":"IDS_TIMESERIESWATERFALLCHART","vender":"sap.viz","bindings":H},"info/waterfall":{"renderType":"waterfall","family":"waterfall","name":"IDS_WATERFALLCHART","vender":"sap.viz","bindings":I},"info/stacked_waterfall":{"renderType":"stacked_waterfall","family":"waterfall","name":"IDS_STACKEDWATERFALLCHART","vender":"sap.viz","bindings":J},"info/horizontal_waterfall":{"renderType":"horizontal_waterfall","family":"waterfall","name":"IDS_HORIZONTALWATERFALLCHART","vender":"sap.viz","bindings":I},"info/horizontal_stacked_waterfall":{"renderType":"horizontal_stacked_waterfall","family":"waterfall","name":"IDS_HORIZONTALSTACKEDWATERFALL","vender":"sap.viz","bindings":J},"info/radar":{"renderType":"radar","family":"radar","name":"IDS_RADARCHART","vender":"sap.viz","bindings":x},"info/trellis_radar":{"renderType":"radar","family":"radar","name":"IDS_TRELLISRADARCHART","vender":"sap.viz","bindings":x},"info/timeseries_bullet":{"renderType":"timeseries_bullet","family":"ty","name":'IDS_TIMESERIESBULLETCHART',"vender":"sap.viz","bindings":K},"info/combinationEx":{"renderType":"combinationEx","family":"combex","name":"IDS_COMBINATIONEXCHART","vender":"sap.viz","bindings":L}};});define('sap/viz/chart/metadata/properties/chartTypes',[],function(){return["DEFAULT","100_dual_stacked_bar","100_dual_stacked_column","mekko","100_mekko","horizontal_mekko","100_horizontal_mekko","100_stacked_bar","100_stacked_column","100_area","100_horizontal_area","bar","bullet","vertical_bullet","timeseries_bullet","column","combination","dual_bar","dual_column","dual_horizontal_line","dual_line","dual_stacked_bar","dual_stacked_column","horizontal_combination","horizontal_line","line","area","horizontal_area","timeseries_line","timeseries_column","timeseries_combination","dual_timeseries_combination","timeseries_stacked_column","timeseries_100_stacked_column","stacked_bar","stacked_column","pie","donut","scatter","bubble","time_bubble","timeseries_scatter","timeseries_bubble","treemap","heatmap","tagcloud","number","radar","trellis_100_dual_stacked_bar","trellis_100_dual_stacked_column","trellis_100_stacked_bar","trellis_100_stacked_column","trellis_100_area","trellis_100_horizontal_area","trellis_bar","trellis_column","trellis_combination","trellis_dual_bar","trellis_dual_column","trellis_dual_horizontal_line","trellis_dual_line","trellis_dual_stacked_bar","trellis_dual_stacked_column","trellis_horizontal_combination","trellis_horizontal_line","trellis_horizontal_area","trellis_line","trellis_area","trellis_stacked_bar","trellis_stacked_column","trellis_pie","trellis_scatter","trellis_bubble","trellis_donut","stacked_combination","horizontal_stacked_combination","dual_stacked_combination","dual_horizontal_stacked_combination","dual_combination","dual_horizontal_combination","waterfall","stacked_waterfall","timeseries_waterfall","horizontal_waterfall","horizontal_stacked_waterfall","trellis_radar","combinationEx"];});define('sap/viz/chart/metadata/properties/metadata',['sap/viz/chart/metadata/properties/chartTypes','sap/viz/chart/metadata/properties/PropertyLoader'],function(c,P){function l(d,p){var e;var h=P.getProperties(d);if(h){e={};for(var n in h){if(h.hasOwnProperty(n)){var i=h[n];if(!a(i)){i={defaultValue:i};}s(n,i,e);}}}return e;}function g(d){return'info/'+d;}function s(n,v,r){var d=n.split('.');var p=r;for(var i=0;i<d.length;++i){var e=d[i];if(i<d.length-1){p[e]=p[e]||{children:{}};p=p[e].children;}else{p[e]=v;}}}function a(i){return Object.prototype.toString.call(i)==='[object Object]'&&(i.hasOwnProperty('defaultValue')||i.hasOwnProperty('readonly')||i.hasOwnProperty('serializable'));}var b={};var f=c.map(function(n){return g(n);});return{get:function(d){if(arguments.length){var r=b[d];if(!r){r=l(d);if(f.indexOf(d)>-1){b[d]=r;}}return r;}else{for(var i=0;i<f.length;++i){var e=f[i];b[e]=b[e]||l(e);}return b;}}};});define('scaleDefs',[],function Setup(){var c=["#748CB2","#9CC677","#EACF5E","#F9AD79","#D16A7C","#8873A2","#3A95B3","#B6D949","#FDD36C","#F47958","#A65084","#0063B1","#0DA841","#FCB71D","#F05620","#B22D6E","#3C368E","#8FB2CF","#95D4AB","#EAE98F","#F9BE92","#EC9A99","#BC98BD","#1EB7B2","#73C03C","#F48323","#EB271B","#D9B5CA","#AED1DA","#DFECB2","#FCDAB0","#F5BCB4"];var d=[["#8FBADD","#B8D4E9","#7AAED6","#A3C7E3","#3D88C4","#66A1D0","#297CBE","#5295CA","#005BA3","#146FB7","#005395","#0063B1"],["#F6A09B","#F9C3C0","#F58E88","#F8B1AD","#F05B52","#F37D76","#EE4A40","#F16C64","#D92419","#ED382D","#C52117","#EB271B"]];var a={"palette":{"defaultValue":c,}};var b={"palette":{"defaultValue":d,}};var e={"palette":{"defaultValue":[[c,d[0]],d[1]],}};var f={"palette":{"defaultValue":c,}};var g={"palette":{"defaultValue":c,}};var s={"palette":{"defaultValue":["circle","square","diamond","triangleUp","triangleDown","triangleLeft","triangleRight","cross","intersection"],}};var v={"min":{"defaultValue":"auto",},"max":{"defaultValue":"auto",},"type":{"defaultValue":"linear",}};var h={"min":{"defaultValue":"auto",},"max":{"defaultValue":"auto",},"type":{"defaultValue":"linear",},};var t={"start":{"defaultValue":"auto",},"end":{"defaultValue":"auto",}};var p={"type":{"defaultValue":"linear",},"min":{"defaultValue":"auto",},"max":{"defaultValue":"auto",}};var i={"type":{"defaultValue":"linear",},"min":{"defaultValue":"auto",},"max":{"defaultValue":"auto",},};var j={"domain":{"defaultValue":[],}};var M={"palette":{"defaultValue":[],},"startColor":{"defaultValue":"#C2E3A9",},"endColor":{"defaultValue":"#73C03C",},"legendValues":{"defaultValue":[],},"numOfSegments":{"defaultValue":5,},"nullColor":{"defaultValue":"#E0E0E0",}};var w={};var k={"feed":"color","properties":a};var A={"feed":"valueAxis","properties":h};var l={"feed":"dataFrame","properties":j};var m={"feed":"valueAxis2","properties":v};var n={"feed":"color","properties":b};var o={"feed":"color","properties":e};var q={"feed":"valueAxis","properties":p};var r={"feed":"valueAxis2","properties":i};var u={"feed":"shape","properties":s};var x={"feed":"timeAxis","properties":t};var y={"feed":"color","properties":M};var z=[{"feed":"actualValues","properties":p}];var B=[A,k,l];var C=[k,l];var D=[A,m,n,l];var E=[A,m,o];var F=[q,r,k,u];var G=F.concat(l);var H=[{"feed":"color","properties":g}];var I=H.concat(l);var J=[A,k];var K=[A,m,n];var L=[n,l];var N=[q,k,x];var O=N.concat(m);var P=[A,{"feed":"waterfallType","properties":w}];var Q=P.concat(k);var R=[q,k,x,u];var S=[A,k,x];var T=S.concat(m);var U={"column":B,"donut":I,"pie":I,"bar":B,"line":B,"area":B,"stacked_column":B,"stacked_bar":B,"100_stacked_bar":C,"100_stacked_column":C,"100_area":C,"100_horizontal_area":C,"mekko":B,"horizontal_mekko":B,"100_mekko":B,"100_horizontal_mekko":B,"combination":B,"stacked_combination":B,"horizontal_stacked_combination":B,"dual_bar":D,"dual_column":D,"dual_line":D,"scatter":G,"bubble":G,"trellis_column":J,"trellis_donut":H,"trellis_pie":H,"trellis_bar":J,"trellis_line":J,"trellis_area":J,"trellis_100_area":[k],"trellis_100_horizontal_area":[k],"trellis_stacked_column":J,"trellis_stacked_bar":J,"trellis_100_stacked_bar":[k],"trellis_100_stacked_column":[k],"trellis_combination":J,"trellis_dual_bar":K,"trellis_dual_column":K,"trellis_dual_line":K,"trellis_scatter":F,"trellis_bubble":F,"horizontal_line":B,"horizontal_area":B,"trellis_horizontal_line":J,"trellis_horizontal_area":J,"horizontal_combination":B,"trellis_horizontal_combination":[A,{"feed":"color","properties":f}],"dual_horizontal_line":D,"trellis_dual_horizontal_line":K,"100_dual_stacked_column":L,"trellis_100_dual_stacked_column":L,"100_dual_stacked_bar":L,"trellis_100_dual_stacked_bar":[n],"dual_stacked_column":D,"trellis_dual_stacked_column":K,"dual_stacked_bar":D,"trellis_dual_stacked_bar":K,"treemap":[y],"heatmap":[y],"number":[],"tagcloud":[y,l],"time_bubble":[q,r,k,u,l],"bullet":z,"vertical_bullet":z,"dual_combination":D,"dual_stacked_combination":D,"dual_horizontal_combination":D,"dual_horizontal_stacked_combination":D,"timeseries_line":N,"timeseries_column":[q,x],"timeseries_combination":S,"dual_timeseries_combination":T,"timeseries_scatter":R,"timeseries_bubble":R,"waterfall":P,"horizontal_waterfall":P,"stacked_waterfall":Q,"horizontal_stacked_waterfall":Q,"radar":[A,k,l],"trellis_radar":[A,k],"combinationEx":E};return U;});define('sap/viz/chart/metadata/properties/ScaleLoader',["scaleDefs",'sap/viz/framework/common/util/ObjectUtils',],function(a,O){var s=O.clone(a);var f=function(c){var r=[];var i=0;if(c){for(i=0;i<c.length;++i){var b=c[i];r[i]={};for(var d in b){if(b.hasOwnProperty(d)){r[i][d]=b[d];}}if(r[i].hasOwnProperty("properties")){delete r[i].properties;for(var p in b.properties){if(b.properties.hasOwnProperty(p)){r[i][p]=b.properties[p];}}}}}return r;};return{addScales:function(b){s=O.extend(true,{},s,b);},getScale:function(t){return f(s[t]);}};});define('sap/viz/chart/metadata/metadata',["sap/viz/chart/metadata/bindingDef","sap/viz/chart/metadata/properties/metadata",'sap/viz/framework/common/lang/LangManager',"sap/viz/framework/core/ChartViewRegistry","sap/viz/framework/common/util/ObjectUtils",'sap/viz/chart/metadata/properties/ScaleLoader'],function Setup(b,p,L,C,O,S){var c=function(t){if(t.search("info/")!=-1){var e=t.slice(5);return e;}else{return t;}};var d=function(e){if(!e){return;}var f=O.clone(e);for(var i=0;i<f.length;i++){delete f[i].name;}return f;};var a=function(m){var e=c(m.type);if(m.isBuiltIn){m.bindings=d(m.bindings);}m.properties=p.get(m.type);m.scales=S.getScale(e);if(b[m.type]&&b[m.type].name){m.name=L.get(b[m.type].name)||m.name;}return m;};var B={get:function(e){var m=C.getMetadata(e);if(m){return a(m);}return m;},getAll:function(){var m=C.getAllMetadata();for(var i in m){if(m.hasOwnProperty(i)){a(m[i]);}}return m;}};return B;});define('sap/viz/api/metadata/Viz',['sap/viz/chart/metadata/metadata','exports'],function Setup(m,s){var a={get:function(c){if(arguments.length){var g=m.get(c);return g;}else{var b=m.getAll();return b;}}};return a;});define('sap/viz/chart/components/legend/ExtensionColorLegend',['sap/viz/chart/components/legend/ColorLegend','sap/viz/framework/common/util/oo','sap/viz/framework/scale/ColorScale'],function(C,o,a){var E=function(){E.superclass.constructor.apply(this,arguments);var t=this;this._runtime.eventDispatcher().on('addEventListener.colorLegend',function(){t.addEventListener.apply(t,arguments[0]);});this._runtime.eventDispatcher().on('removeEventListener.colorLegend',function(){t.removeEventListener.apply(t,arguments[0]);});this._eventMap={};this.initEvent();};o.extend(E,C);var s=['selectionChanged'];E.prototype.initEvent=function(){var e={};for(var i in s){if(s.hasOwnProperty((i))){e[s[i]]={};}}this._eventMap=e;};E.prototype.registerEvent=function(){var c=function(e){for(var j in this._eventMap['selectionChanged']){if(this._eventMap['selectionChanged'].hasOwnProperty(j)){this._eventMap['selectionChanged'][j].call(this,e);}}}.bind(this);this._runtime.eventDispatcher().on('legendSelection',c);};E.prototype.render=function(){E.superclass.render.apply(this,arguments);this.registerEvent();};E.prototype._buildData=function(b){var c=b.color||this._properties.origin.get('plotArea.colorPalette');var e=b.data;var m=b.metadata;var f=[];var r=[];e.forEach(function(d){f.push([d]);var h=[d];h.mndIndex=-1;r.push(h);});var g=new a(f,c);return{color:{scale:g,metaData:m,rowArray:r}};};E.prototype.setData=function(d,b){if(b){var n=this._buildData(d);E.superclass.setData.call(this,n);}else{E.superclass.setData.call(this,d);}};E.prototype.addEventListener=function(t,l,b,p){var h=function(){l.apply(b,arguments);};if(this._eventMap[t]){this._eventMap[t][l]=h;}};E.prototype.removeEventListener=function(t,l,b){if(!!this._eventMap[t][l]){delete this._eventMap[t][l];}};return E;});define('sap/viz/chart/components/extension/componentWrapper/BaseWrapper',['sap/viz/framework/common/util/TypeUtils'],function(T){var b=function(m,e){this._evtDispatch=e;this._supportedEvent=[];this._properties=m._properties;};b.prototype.properties=function(p){if(arguments.length===0||(arguments.length===1&&T.isString(p))){return this._properties.get.apply(this._properties,arguments);}this._properties.set.apply(this._properties,arguments);};b.prototype.addEventListener=function(t,l,s,p){if(this._supportedEvent.indexOf(t)>-1){this._evtDispatch.addEventListener(t,l,s,p);}};b.prototype.removeEventListener=function(t,l,s){this._evtDispatch.removeEventListener(t,l,s);};b.prototype.supportedEvent=function(){return this._supportedEvent;};return b;});define('sap/viz/chart/components/extension/componentWrapper/TitleWrapper',['sap/viz/framework/common/util/oo','sap/viz/chart/components/extension/componentWrapper/BaseWrapper'],function(o,b){var t=function(){t.superclass.constructor.apply(this,arguments);};o.extend(t,b);return t;});define('sap/viz/chart/components/extension/componentWrapper/LegendWrapper',['sap/viz/framework/common/util/oo','sap/viz/chart/components/extension/componentWrapper/BaseWrapper'],function(o,b){var l=function(m,e){l.superclass.constructor.apply(this,arguments);this._properties=m._properties.origin.proxy('legend');this._supportedEvent=['selectionChanged'];};o.extend(l,b);return l;});define('sap/viz/chart/components/extension/BuiltInComponentWrapper',['sap/viz/chart/components/extension/componentWrapper/TitleWrapper','sap/viz/chart/components/extension/componentWrapper/LegendWrapper','sap/viz/framework/extension/Constants'],function(T,L,C){var m={'title':T,'legendGroup':L};var c=function(a,s){if(!m[a._name]){return null;}var w=new m[a._name](a,s);w.name=C.ModuleName[a._name];return w;};return{createWrapper:c};});define('sap/viz/chart/components/plots/ExtensionPlot',['sap/viz/chart/components/UIComponent','sap/viz/framework/common/util/oo','sap/viz/framework/extension/DataModelToCSVUtil','sap/viz/chart/components/extension/BuiltInComponentWrapper','sap/viz/framework/common/util/TypeUtils','sap/viz/framework/common/util/PropertyZoneUtil','sap/viz/framework/common/util/FeedingZoneUtil','sap/viz/framework/common/util/Constants','sap/viz/framework/common/util/ObjectUtils'],function(U,o,D,B,T,P,F,C,O){var b=function(r,i){if(!T.isFunction(this.getDefintion)){return;}var v=this.getDefintion();b.superclass.constructor.apply(this,arguments);r.zoneManager().add(P.plot(this));r.zoneManager().add(F.plot(this));var s=this.runtime().semanticManager();s.bindDataPointProperty(this._name+".dataPointStyle");this._semanticMgr=s;this.Viz=new v();this._rawdata={};this._supportTooltip=true;this._originalSize={};var j=this;this._properties.origin.add(v.metadata.properties,true);if(v.metadata.events&&T.isArray(v.metadata.events)){v.metadata.events.forEach(function(e){j._exposeMoreEvents(e);});}this._exposeMoreEvents('initialized');this._exposeMoreEvents('renderComplete');this.Viz.dispatchEvent=function(e,l){f.call(j,e,l);};var k=this.Viz;window.setTimeout(function(){if(this._runtime){this._runtime.statusManager().add("interaction.selectedDataPoints",{serializable:false,set:function(e){e.success=k.setSelection(e.items);},get:function(){return k.getSelection();}});}}.bind(this),0);this._buildTooltip();h.call(this,this._properties.origin);this._changes={};};o.extend(b,U);b.prototype.renderTo=function(){return'DIV';};b.prototype._buildModuleWrapper=function(e){var r={};for(var i in e){if(e.hasOwnProperty(i)){var m=e[i].module;var w=B.createWrapper(m,this);if(w&&w.name){r[w.name]=w;(function(m){w.setData=function(j){m.setData(j,true);};}(m));}}}return r;};b.prototype._buildTooltip=function(){var e=this.Viz;var v=this.getDefintion();var s=this;e.showTooltip=function(i){s._runtime.eventDispatcher().fire('showTooltip',i);};e.hideTooltip=function(i){s._runtime.eventDispatcher().fire('hideTooltip',i);};};b.prototype.addEventListener=function(){this._runtime.eventDispatcher().fire('addEventListener',arguments);};b.prototype.removeEventListener=function(){this._runtime.eventDispatcher().fire('removeEventListener',arguments);};b.prototype.setBuiltInComponent=function(e){this._builtInComponents=e;this._builtInComponents=this._buildModuleWrapper(e);};b.prototype.changes=function(e){if(arguments.length>0){this._changes=e;}else{return this._changes;}};b.prototype.updateBuiltInComponents=function(){if(this.Viz&&this.Viz.updateBuiltInComponents){this.Viz.updateBuiltInComponents(this._builtInComponents,this._changes);}};b.prototype.render=function(p){b.superclass.render.apply(this,arguments);this._selection=p;if(this.Viz){a.call(this,p);var e=this._properties.origin.get('plotArea.colorPalette')||C.COLOR.SAPColorSingleAxis;this.Viz.colorPalette=function(){return e;};this._originalProperties=this._properties.origin.get();var s=this._size;this._originalSize=O.clone(s);this.Viz.size=function(){return s;};if(this.Viz.init&&!this._initialized){this.Viz.init();this._initialized=true;}if(this.Viz.render){this.Viz.render(this._builtInComponents,this._changes);}}};b.prototype.destroy=function(){b.superclass.destroy.apply(this,arguments);if(this.Viz.destroy){this.Viz.destroy();}this.Viz=undefined;};b.prototype.setRawData=function(e){this._rawdata=e;d.call(this,e.bindings);g.call(this,e.scales);c.call(this,e.data);};var f=function(e,i){window.setTimeout((function(){if(this._eventDispatch&&this._eventDispatch[e]){this._eventDispatch[e](i);}}).bind(this),0);};b.prototype.propertyZone=function(){return this.Viz.propertyZone(this._properties._prefix);};b.prototype.feedingZone=function(){return this.Viz.feedingZone();};b.prototype.exportContent=function(e){return this.Viz.exportToSVGString&&this.Viz.exportToSVGString(e);};b.prototype.supportExportToContentType=function(){return!!this.Viz.exportToSVGString;};var a=function(e){this.Viz.container=function(){return e;};};var c=function(v){var e=v;if(this.getDefintion().metadata.dataType==='csv'){e=D(v,this._rawdata.bindings);}if(this.Viz.data){this.Viz.data(e);}else{this.Viz.data=function(){return e;};}};var d=function(e){if(this.Viz.bindings){this.Viz.bindings(e);}else{this.Viz.bindings=function(){return e;};}};var g=function(e){if(this.Viz.scales){this.Viz.scales(e);}else{this.Viz.scales=function(){return e;};}var _=this._semanticMgr;this.Viz.getSemanticColor=function(i){return _.analyzeDataPoint("color",i);};};var h=function(p){this.Viz.properties=function(e){if(arguments.length===0||(arguments.length===1&&T.isString(e))){return p.get.apply(p,arguments);}p.set.apply(p,arguments);};};return b;});define('sap/viz/chart/behavior/ExtensionBehavior',["sap/viz/framework/common/util/oo","sap/viz/framework/common/util/Constants","sap/viz/chart/components/util/DataPointUtils","sap/viz/framework/common/util/DataGraphics","sap/viz/chart/components/util/BoundingBoxUtils","sap/viz/chart/behavior/config/HighlightHelper","sap/viz/framework/interaction/BehaviorManager","sap/viz/chart/behavior/DefaultBehavior","sap/viz/chart/behavior/config/handler/RuntimeSelectionHelperHandler","sap/viz/chart/behavior/config/handler/LegendBehaviorHandler","sap/viz/chart/behavior/config/SelectionUtil"],function(o,C,D,a,B,H,b,c,R,L,S){var E=b.get("default").clone();var d=function(){};o.extend(d,R);var l=function(){};o.extend(l,L);l.prototype.click=function(f,s,g){if(!S.isLegendTriggerable(s,s.NodeType.LEGEND_ITEM)){return;}var h=D.getContext(f.data.currentTarget).ctx;s.fireExternalEvent("legendSelection",h);};var e=E.getActionById("legendBehaviorDefinition");e.setHandler(l);b.register("ExtensionBehavior",E);});define('sap/viz/chart/views/ExtensionChartView',['sap/viz/framework/common/util/oo','sap/viz/chart/views/ChartView','sap/viz/framework/extension/Constants','sap/viz/chart/components/legend/ExtensionColorLegend','sap/viz/chart/behavior/config/tooltip/Tooltip','sap/viz/chart/components/plots/ExtensionPlot',"sap/viz/chart/behavior/ExtensionBehavior",'sap/viz/framework/common/util/ObjectUtils','require'],function(o,C,a,E,T,b,c,O,r){function m(e){switch(e.name){case a.ModuleName.title:return{id:'title',place:(e.properties&&e.properties.position)||'top',properties:e.properties||{}};case a.ModuleName.legend:return{id:'legend',place:(e.properties&&e.properties.position)||'right',properties:e.properties||{}};}}var n=function(){this._supportTooltip=true;this._needDispatchTooltipEvent=false;this._changes=false;this._dataItem=[];this.viz=this.getDefintion().metadata;this.plot=d(this.getDefintion());this.childrens=[];this.childrens.push(this.plot);if(this.viz.builtInComponents){for(var i in this.viz.builtInComponents){if(this.viz.builtInComponents.hasOwnProperty(i)){this.childrens.push(m(this.viz.builtInComponents[i]));}}}if(this.viz.bindingDefinition){this._dataItem=p(this.viz.bindingDefinition);}n.superclass.constructor.apply(this,arguments);this.id=this.viz.id;};function d(e){var f=function(){f.superclass.constructor.apply(this,arguments);};o.extend(f,b);f.prototype.getDefintion=function(){return e;};return f;}o.extend(n,C);var p=function(f){return f.map(function(i){return i.id;});};n.prototype.renderTo=function(){return'DIV';};n.prototype._dataChanged=function(){this._resetPlotContainer();};n.prototype._createChildren=function(){var t=this;var i=2;this.childrens.forEach(function(f){if(f.id==='title'){t._createTitle(f.place);t._properties.proxy('title').setDefault(f.properties);}else if(f.id==='legend'){t._createLegendGroup(f.place);t._properties.proxy('legend').setDefault(f.properties);if(f.properties.position){t._properties.add('legend.position',f.properties.position);}}else{var g=new f(t.runtime(),{name:'plotArea',supportTooltip:t._supportTooltip});t.setChild('plot',g,{priority:++i});}});this._createBackground();this._createTooltip();if(this.getChild('plot')){var e=this.getChild('plot').module;if(e.setBuiltInComponent){e.setBuiltInComponent(this._children);}}if(this.getChild(this._getLegendGroupModuleKey())){this._properties.origin.add({'interaction.selectability.plotLassoSelection':{'defaultValue':false,'serializable':false,'readonly':true},'interaction.selectability.legendSelection':{'defaultValue':true,'serializable':false,'readonly':true}});}else{this._needDispatchTooltipEvent=true;this._exposeMoreEvents('showTooltip');this._exposeMoreEvents('hideTooltip');}};n.prototype.render=function(){if(!this._size.width||!this._size.height){return;}if(this.getChild('plot')&&this.getChild('plot').module&&this.getChild('plot').module.changes){var e=this.getChild('plot').module;e.changes(this._changes);if(e.updateBuiltInComponents){e.updateBuiltInComponents();}}if(this._properties.get("interaction.behaviorType")!=='DesignTimeBehavior'&&this.getChild(this._getLegendGroupModuleKey())){this._properties.origin.setDefault({'interaction.behaviorType':'ExtensionBehavior'});}var l=this._properties.get('legend.position');if(l){this.getChild('legendGroup').module.setDefaultPosition(l);}n.superclass.render.apply(this,arguments);if(this._selections&&this._selections.plot&&this._selections.plot.node){var f=this._selections.plot.node();f.parentNode.appendChild(f);}};n.prototype._getLegendDefinition=function(){return[E];};n.prototype._createTooltip=function(){if(!this._tooltipModule){this._tooltipModule=new T(this._properties.origin);this._runtime.eventDispatcher().on('showTooltip.extension',function(e){if(this._properties.get('interaction.behaviorType')!=='DesignTimeBehavior'){this._tooltipModule.showTooltip({container:e.container,mode:e.mode,position:e.position,data:O.extend(true,[],e.data)});if(this._needDispatchTooltipEvent){this._eventDispatch['showTooltip'](e);}}}.bind(this));this._runtime.eventDispatcher().on('hideTooltip.extension',function(e){if(this._properties.get('interaction.behaviorType')!=='DesignTimeBehavior'){this._tooltipModule.hideTooltip(e);if(this._needDispatchTooltipEvent){this._eventDispatch['hideTooltip'](e);}}}.bind(this));}};n.prototype.changes=function(e){if(arguments.length>0){this._changes=e;}else{return this._changes;}};n.prototype.setChild=function(k,e,f){e.alias=k;if(!this._children[k]){this._children[k]={};}this._children[k].module=e;this._children[k].option=f?f:{};return this;};n.prototype.enableInteraction=function(){if(!this.getChild(this._getLegendGroupModuleKey())){return false;}return true;};n.prototype._updateData=function(){n.superclass._updateData.apply(this,arguments);if(this._data){for(var k in this._children){if(this._children.hasOwnProperty(k)){if(this.getChild(k).module.setRawData&&this._rawData.dataModel._rawData){this.getChild(k).module.setRawData({data:this._rawData.dataModel._rawData,bindings:this._rawData.bindings,scales:this._rawData.scales});}}}}};n.prototype.exportContent=function(e){return this._children['plot'].module.exportContent(e);};n.prototype.supportExportToContentType=function(){return this._children['plot'].module.supportExportToContentType();};n.prototype._getDataItems=function(){return this._dataItem;};n.prototype._dispatchInitialized=function(){if(this._eventDispatch){this._eventDispatch.ready();var e=this.getChild('plot');if(e.module&&e.module._eventDispatch){var f=function(){if(!this._initialized){this._initialized=true;window.setTimeout(function(){if(window._sap_viz_notify_load_complete){window._sap_viz_notify_load_complete();}},0);}}.bind(this);e.module._eventDispatch.on('renderComplete.renderExtensionComplete',f);e.module._eventDispatch.on('initialized.renderExtensionComplete',f);}}};return n;});(function(){var l=define&&define.__autoLoad;if(l&&l.length){define.__autoLoad=[];require(l);}})();(function(c){var a=sap.bi.framework.declareBundle({id:"sap.viz.chart",components:c});(a.components||[]).forEach(function(b){b.instance=b.instance||{};window._cvom_kernel.register(b);});})((function(){var p="sap.viz.impls";var c={"resources":[{"key":"sap.viz.api.env.Template.loadPaths","path":"./resources/chart/templates"},{"key":"sap.viz.api.env.Language.loadPaths","path":"./resources/chart/langs"},{"key":"sap.viz.api.env.Language.loadPaths","path":"./resources/framework/langs"}]};var n="sap/viz/chart/views/";var a="sap/viz/chart/metadata/bindings/";return[{"id":"info/bar","provide":p,"instance":{view:n+"XYChartView",renderType:"bar",family:"xy",name:"IDS_BARCHART",vender:"sap.viz",bindings:a+"XYBindings"},"customProperties":c},{"id":"info/stacked_bar","provide":p,"instance":{view:n+"XYChartView",renderType:"stacked_bar",family:"xy",name:"IDS_STACKEDBARCHART",vender:"sap.viz",bindings:a+"XYBindings"},"customProperties":c},{"id":"info/100_stacked_bar","provide":p,"instance":{view:n+"XYChartView",renderType:"100_stacked_bar",family:"xy",name:"IDS_PERCENTAGESTACKEDBARCHART",vender:"sap.viz",bindings:a+"XYBindings"},"customProperties":c},{"id":"info/column","provide":p,"instance":{view:n+"XYChartView",renderType:"column",family:"xy",name:"IDS_VERTICALBARCHART",vender:"sap.viz",bindings:a+"XYBindings"},"customProperties":c},{"id":"info/stacked_column","provide":p,"instance":{view:n+"XYChartView",renderType:"stacked_column",family:"xy",name:"IDS_STACKEDVERTICALBARCHART",vender:"sap.viz",bindings:a+"XYBindings"},"customProperties":c},{"id":"info/100_stacked_column","provide":p,"instance":{view:n+"XYChartView",renderType:"100_stacked_column",family:"xy",name:"IDS_PERCENTAGESTACKEDVERTICALBARCHART",vender:"sap.viz",bindings:a+"XYBindings"},"customProperties":c},{"id":"info/line","provide":p,"instance":{view:n+"XYChartView",renderType:"line",family:"xy",name:"IDS_LINECHART",vender:"sap.viz",bindings:a+"XYBindings"},"customProperties":c},{"id":"info/combination","provide":p,"instance":{view:n+"XYChartView",renderType:"combination",family:"xy",name:"IDS_COMBINATIONCHART",vender:"sap.viz",bindings:a+"CombinationBindings"},"customProperties":c},{"id":"info/bubble","provide":p,"instance":{view:n+"YYChartView",renderType:"bubble",family:"yy",name:"IDS_BUBBLECHART",vender:"sap.viz",bindings:a+"YYBindings"},"customProperties":c},{"id":"info/time_bubble","provide":p,"instance":{view:n+"YYChartView",renderType:"time_bubble",family:"yy",name:"IDS_TIMEBUBBLECHART",vender:"sap.viz",bindings:a+"YYBindings"},"customProperties":c},{"id":"info/scatter","provide":p,"instance":{view:n+"YYChartView",renderType:"scatter",family:"yy",name:"IDS_SCATTERCHART",vender:"sap.viz",bindings:a+"YYBindings"},"customProperties":c},{"id":"info/dual_column","provide":p,"instance":{view:n+"XYYChartView",renderType:"column",family:"xyy",name:"IDS_DUALVERTICALBARCHART",vender:"sap.viz",bindings:a+"XYYBindings"},"customProperties":c},{"id":"info/dual_stacked_column","provide":p,"instance":{view:n+"XYYChartView",renderType:"stacked_column",family:"xyy",name:"IDS_DUALSTACKEDVERTICALBARCHART",vender:"sap.viz",bindings:a+"XYYBindings"},"customProperties":c},{"id":"info/100_dual_stacked_column","provide":p,"instance":{view:n+"XYYChartView",renderType:"100_stacked_column",family:"xyy",name:"IDS_DUALPERCENTAGESTACKEDVERTICALBARCHART",vender:"sap.viz",bindings:a+"XYYBindings"},"customProperties":c},{"id":"info/dual_bar","provide":p,"instance":{view:n+"XYYChartView",renderType:"bar",family:"xyy",name:"IDS_DUALBARCHART",vender:"sap.viz",bindings:a+"XYYBindings"},"customProperties":c},{"id":"info/dual_stacked_bar","provide":p,"instance":{view:n+"XYYChartView",renderType:"stacked_bar",family:"xyy",name:"IDS_DUALSTACKEDBARCHART",vender:"sap.viz",bindings:a+"XYYBindings"},"customProperties":c},{"id":"info/100_dual_stacked_bar","provide":p,"instance":{view:n+"XYYChartView",renderType:"100_stacked_bar",family:"xyy",name:"IDS_DUALPERCENTAGESTACKEDBARCHART",vender:"sap.viz",bindings:a+"XYYBindings"},"customProperties":c},{"id":"info/dual_line","provide":p,"instance":{view:n+"XYYChartView",renderType:"line",family:"xyy",name:"IDS_DUALLINECHART",vender:"sap.viz",bindings:a+"XYYBindings"},"customProperties":c},{"id":"info/bullet","provide":p,"instance":{view:n+"BulletChartView",renderType:"bullet",family:"bullet",name:"IDS_BULLETCHART",vender:"sap.viz",bindings:a+"BulletBindings"},"customProperties":c},{"id":"info/vertical_bullet","provide":p,"instance":{view:n+"BulletChartView",renderType:"vertical_bullet",family:"bullet",name:"IDS_VERTICALBULLETCHART",vender:"sap.viz",bindings:a+"BulletBindings"},"customProperties":c},{"id":"info/pie","provide":p,"instance":{view:n+"PieChartView",renderType:"pie",family:"pie",name:"IDS_PIECHART",vender:"sap.viz",bindings:a+"PieBindings"},"customProperties":c},{"id":"info/donut","provide":p,"instance":{view:n+"PieChartView",renderType:"donut",family:"pie",name:"IDS_DONUTCHART",vender:"sap.viz",bindings:a+"PieBindings"},"customProperties":c},{"id":"info/heatmap","provide":p,"instance":{view:n+"XXChartView",renderType:"heatmap",family:"xx",name:"IDS_HEATMAPCHART",vender:"sap.viz",bindings:a+"XXBindings"},"customProperties":c},{"id":"info/stacked_combination","provide":p,"instance":{view:n+"XYChartView",renderType:"stacked_combination",family:"xy",name:"IDS_STACKEDCOMBINATIONCHART",vender:"sap.viz",bindings:a+"CombinationBindings"},"customProperties":c},{"id":"info/horizontal_stacked_combination","provide":p,"instance":{view:n+"XYChartView",renderType:"horizontal_stacked_combination",family:"xy",name:"IDS_HORIZONTALSTACKEDCOMBINATIONCHART",vender:"sap.viz",bindings:a+"CombinationBindings"},"customProperties":c},{"id":"info/dual_stacked_combination","provide":p,"instance":{view:n+"XYYChartView",renderType:"stacked_combination",family:"xyy",name:"IDS_DUALSTACKEDCOMBINATIONCHART",vender:"sap.viz",bindings:a+"XYYCombinationBindings"},"customProperties":c},{"id":"info/dual_horizontal_stacked_combination","provide":p,"instance":{view:n+"XYYChartView",renderType:"horizontal_stacked_combination",family:"xyy",name:"IDS_DUALHORIZONTALSTACKEDCOMBINATIONCHART",vender:"sap.viz",bindings:a+"XYYCombinationBindings"},"customProperties":c},{"id":"info/dual_combination","provide":p,"instance":{view:n+"XYYChartView",renderType:"combination",family:"xyy",name:"IDS_DUALCOMBINATIONCHART",vender:"sap.viz",bindings:a+"XYYCombinationBindings"},"customProperties":c},{"id":"info/dual_horizontal_combination","provide":p,"instance":{view:n+"XYYChartView",renderType:"horizontal_combination",family:"xyy",name:"IDS_DUALHORIZONTALCOMBINATIONCHART",vender:"sap.viz",bindings:a+"XYYCombinationBindings"},"customProperties":c},{"id":"info/timeseries_line","provide":p,"instance":{view:n+"TimeYChartView",renderType:"timeseries_line",family:"ty",name:"IDS_TIMELINECHART",vender:"sap.viz",bindings:a+"TimeYBindings"},"customProperties":c},{"id":"info/timeseries_column","provide":p,"instance":{view:n+"TimeYChartView",renderType:"timeseries_column",family:"ty",name:"IDS_TIMESERIESCOLUMNCHART",vender:"sap.viz",bindings:a+"TimeYBindings"},"customProperties":c},{"id":"info/timeseries_bullet","provide":p,"instance":{view:n+"TimeBulletChartView",renderType:"timeseries_bullet",family:"tBullet",name:"IDS_TIMESERIESBULLETCHART",vender:"sap.viz",bindings:a+"TimeBulletBindings"},"customProperties":c},{"id":"info/timeseries_combination","provide":p,"instance":{view:n+"TimeYChartView",renderType:"timeseries_combination",family:"ty",name:"IDS_TIMESERIESCOMBINATIONCHART",vender:"sap.viz",bindings:a+"TimeYCombinationBindings"},"customProperties":c},{"id":"info/dual_timeseries_combination","provide":p,"instance":{view:n+"TimeYYChartView",renderType:"timeseries_combination",family:"tyy",name:"IDS_DUALTIMESERIESCOMBINATIONCHART",vender:"sap.viz",bindings:a+"TimeYYBindings"},"customProperties":c},{"id":"info/timeseries_stacked_column","provide":p,"instance":{view:n+"TimeYChartView",renderType:"timeseries_stacked_column",family:"ty",name:"IDS_TIMESERIESSTACKEDCOLUMNCHART",vender:"sap.viz",bindings:a+"TimeYBindings"},"customProperties":c},{"id":"info/timeseries_100_stacked_column","provide":p,"instance":{view:n+"TimeYChartView",renderType:"timeseries_100_stacked_column",family:"ty",name:"IDS_TIMESERIESPERCENTSTACKEDCOLUMNCHART",vender:"sap.viz",bindings:a+"TimeYBindings"},"customProperties":c},{"id":"info/timeseries_scatter","provide":p,"instance":{view:n+"YYChartView",renderType:"timeseries_scatter",family:"ty",name:"IDS_TIMESERIESSCATTERCHART",vender:"sap.viz",bindings:a+"YYTimeBindings"},"customProperties":c},{"id":"info/timeseries_bubble","provide":p,"instance":{view:n+"YYChartView",renderType:"timeseries_bubble",family:"ty",name:"IDS_TIMESERIESBUBBLECHART",vender:"sap.viz",bindings:a+"YYTimeBindings"},"customProperties":c},{"id":"info/timeseries_waterfall","provide":p,"instance":{view:n+"TimeWaterFallChartView",renderType:"timeseries_waterfall",family:"ty",name:"IDS_TIMESERIESWATERFALLCHART",vender:"sap.viz",bindings:a+"TimeYColumnBindings"},"customProperties":c},{"id":"info/waterfall","provide":p,"instance":{view:n+"WaterFallChartView",renderType:"waterfall",family:"waterfall",name:"IDS_WATERFALLCHART",vender:"sap.viz",bindings:a+"WaterFallBindings"},"customProperties":c},{"id":"info/horizontal_waterfall","provide":p,"instance":{view:n+"WaterFallChartView",renderType:"horizontal_waterfall",family:"waterfall",name:"IDS_HORIZONTALWATERFALLCHART",vender:"sap.viz",bindings:a+"WaterFallBindings"},"customProperties":c}];})());if(define&&define.__exportNS){define=define.__exportNS;}try{var ChartViewRegistry=require("sap/viz/framework/core/ChartViewRegistry");if(ChartViewRegistry&&ChartViewRegistry.registerAll){ChartViewRegistry.registerAll();}}catch(e){}(function(g){var s=g.sap;var r=s&&s.viz;if(r){g.__sap_v3={};for(var i in r){if(i==='api'||i==='extapi'){if(jQuery&&jQuery.extend){g.__sap_v3[i]=jQuery.extend(true,{},r[i]);}else{g.__sap_v3[i]=r[i];}}else{g.__sap_v3[i]=r[i];}}if(g.__sap_metadata){s.viz.api.metadata=g.__sap_metadata;}}})(this);(function(g){var r=sap.viz;var a=g.__sap_v2;var b=g.__sap_v3;function m(h,j){var k;var l;var n=1;var v={v2:2,v3:3};return function(o,p){return function(){n*=v[o];l=p?arguments:l;k=p?k:arguments;if(n%(v.v2*v.v3)===0){var q=l&&j?j:h;if(q){q.apply(this,q===j?l:k);}n=1;}};};}if(a&&b){r.api=jQuery.extend(true,{},a.api,b.api);r.extapi=jQuery.extend(true,{},a.extapi,b.extapi);r.v2=a;r.v3=b;r.extapi.Flow=b.extapi.Flow;r.api.data.CrosstableDataset=a.api.data.CrosstableDataset;r.api.data.FlatTableDataset=a.api.data.FlatTableDataset;if(a.extapi.env.Resource&&a.extapi.env.Resource.path){var c=a.extapi.env.Resource.path();for(var i in c){b.extapi.env.Resource.path(i,c[i]);}}var L={};var T={};var d={};if(a.api.env.Format&&a.api.env.Format.numericFormatter){var f=a.api.env.Format.numericFormatter();b.api.env.Format.numericFormatter(f);}if(a.api.env.Format&&a.api.env.Format.useDefaultFormatter){var u=a.api.env.Format.useDefaultFormatter();b.api.env.Format.useDefaultFormatter(u);}r.api.core.createViz=function(p){var v=sap.viz.api.metadata.Viz.get(p.type)?'v3':'v2';return r[v].api.core.createViz(p);};r.api.core.loadViz=function(v,h){var j=JSON.parse(JSON.stringify(v));var k=sap.viz.api.metadata.Viz.get(param.type)?'v3':'v2';return r[k].api.core.loadViz(v,h);};r.api.env.Language.set=function(l,h,j){var k=m(h,j);r.v2.api.env.Language.set(l,k('v2'),k('v2',true));r.v3.api.env.Language.set(l,k('v3'),k('v3',true));};r.api.env.Locale.set=function(v,h,o){var j=m(h);r.v2.api.env.Locale.set(v,j('v2'));r.v3.api.env.Locale.set(v,j('v3'),o);};r.api.env.Format.numericFormatter=function(v){r.v2.api.env.Format.numericFormatter(v);r.v3.api.env.Format.numericFormatter(v);};r.api.env.Format.useDefaultFormatter=function(v){r.v2.api.env.Format.useDefaultFormatter(v);r.v3.api.env.Format.useDefaultFormatter(v);};r.api.env.Resource.path=function(h,p){r.v2.api.env.Resource.path.apply(r.v2.api.env.Resource,arguments);return r.v3.api.env.Resource.path.apply(r.v3.api.env.Resource,arguments);};r.api.env.Template.set=function(v,h,j){var k=m(h,j);r.v2.api.env.Template.set(v,k('v2'),k('v2',true));r.v3.api.env.Template.set(v,k('v3'),k('v3',true));};r.api.env.Template.load=function(v,h,j){var k=2;function l(){if(--k===0&&h){h.apply(this,arguments);}}r.v2.api.env.Template.load(v,l);r.v3.api.env.Template.load(v,l,j);};r.extapi.env.Template.isRegistered=function(h){return r.v3.extapi.env.Template.isRegistered(h);};r.extapi.env.Language.register=function(v){r.v2.extapi.env.Language.register(v);r.v3.extapi.env.Language.register(v);};r.extapi.env.Language.get=function(){r.v2.extapi.env.Language.get();return r.v3.extapi.env.Language.get();};r.extapi.env.Language.addListener=function(v){var h=m(v);var j=h('v2');var k=h('v3');d[v]={v2:j,v3:k};r.v2.extapi.env.Language.addListener(j);return r.v3.extapi.env.Language.addListener(k);};r.extapi.env.Language.removeListener=function(v){if(d[v]){r.v2.extapi.env.Language.removeListener(d[v].v2);return r.v3.extapi.env.Language.removeListener(d[v].v3);}};r.extapi.env.Language.getErrorMessage=function(v){r.v2.extapi.env.Language.getErrorMessage(v);return r.v3.extapi.env.Language.getErrorMessage(v);};r.extapi.env.Language.getResourceString=function(v){r.v2.extapi.env.Language.getResourceString(v);return r.v3.extapi.env.Language.getResourceString(v);};r.extapi.env.Locale.get=function(){r.v2.extapi.env.Locale.get();return r.v3.extapi.env.Locale.get();};r.extapi.env.Locale.addListener=function(v){var h=m(v);var j=h('v2');var k=h('v3');L[v]={v2:j,v3:k};r.v2.extapi.env.Locale.addListener(j);return r.v3.extapi.env.Locale.addListener(k);};r.extapi.env.Locale.removeListener=function(v){if(L[v]){r.v2.extapi.env.Locale.removeListener(L[v].v2);return r.v3.extapi.env.Locale.removeListener(L[v].v3);}};r.extapi.env.Template.get=function(){r.v2.extapi.env.Template.get();return r.v3.extapi.env.Template.get();};r.extapi.env.Template.current=function(){r.v2.extapi.env.Template.current();return r.v3.extapi.env.Template.current();};r.extapi.env.Template.getPackage=function(h){r.v2.extapi.env.Template.getPackage(h);return r.v3.extapi.env.Template.getPackage(h);};r.extapi.env.Template.addListener=function(v){var h=m(v);var j=h('v2');var k=h('v3');T[v]=T[v]||[];T[v].push({v2:j,v3:k,v:v});r.v2.extapi.env.Template.addListener(j);return r.v3.extapi.env.Template.addListener(k);};r.extapi.env.Template.register=function(v){r.v2.extapi.env.Template.register(v);r.v3.extapi.env.Template.register(v);};r.api.env.Template.addListener=function(v){var h=m(v);var j=h('v2');var k=h('v3');T[v]=T[v]||[];T[v].push({v2:j,v3:k,v:v});r.v2.api.env.Template.addListener(j);return r.v3.api.env.Template.addListener(k);};r.api.env.Template.removeListener=function(v){var h=T[v],j;if(h){for(var i=0;i<h.length;i++){if(h[i].v===v){r.v2.api.env.Template.removeListener(h[i].v2);j=r.v3.api.env.Template.removeListener(h[i].v3);h.splice(i,1);break;}}}return j;};r.extapi.env.Template.removeListener=function(v){var h=T[v],j;if(h){for(var i=0;i<h.length;i++){if(h[i].v===v){r.v2.extapi.env.Template.removeListener(h[i].v2);j=r.v3.extapi.env.Template.removeListener(h[i].v3);h.splice(i,1);break;}}}return j;};r.extapi.core.registerBundle=function(v){r.v2.extapi.core.registerBundle(v);return r.v3.extapi.core.registerBundle(v);};}if(sap&&sap.viz&&sap.viz.framework&&sap.viz.framework.core&&sap.viz.framework.core.ChartViewRegistry){delete sap.viz.framework.core.ChartViewRegistry;function e(o){for(var n in o){if(o.hasOwnProperty(n)){return false;}}return true;};if(e(sap.viz.framework.core)){delete sap.viz.framework.core;}if(e(sap.viz.framework)){delete sap.viz.framework;}}})(this);(function(){if(window.__sap_viz_internal_requirejs_nextTick__!==undefined){if(requirejs&&requirejs.s&&requirejs.s.contexts&&requirejs.s.contexts._){requirejs.s.contexts._.nextTick=window.__sap_viz_internal_requirejs_nextTick__;}window.__sap_viz_internal_requirejs_nextTick__=undefined;}})();
