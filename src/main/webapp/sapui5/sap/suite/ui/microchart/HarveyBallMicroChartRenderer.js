/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)

		(c) Copyright 2009-2016 SAP SE. All rights reserved
	
 */
sap.ui.define([],function(){"use strict";var H={};H._iReferenceControlHeight=72;H._iReferenceControlWidth=168;H.render=function(r,c){if(!c._bThemeApplied){return;}var R=sap.ui.getCore().getConfiguration().getRTL();this._calculatePath(c);var t=c.getTooltip_AsString();if(typeof t!=="string"){t="";}var T="";var v="";var V="";var f=false;var a=0;var C="";var s=false;if(c.getItems().length){var p=c.getItems()[0];a=p.getFraction();C="sapSuiteHBMCSemanticColor"+p.getColor();v=p.getFractionLabel()?p.getFractionLabel():v+p.getFraction();V=p.getFractionScale()?p.getFractionScale().substring(0,3):V;f=p.getFormattedLabel();}if(f){var F=c._parseFormattedValue(v);V=F.scale.substring(0,3);v=F.value;}var b=c.getTotal();var d=c.getTotalLabel()?c.getTotalLabel():""+c.getTotal();if(c.getTotalScale()){T=c.getTotalScale().substring(0,3);}if(c.getFormattedLabel()){var o=c._parseFormattedValue(d);T=o.scale.substring(0,3);d=o.value;}var i=5;if(v){v=(v.length>=i&&(v[i-1]==="."||v[i-1]===","))?v.substring(0,i-1):v.substring(0,i);}if(d){d=(d.length>=i&&(d[i-1]==="."||d[i-1]===","))?d.substring(0,i-1):d.substring(0,i);}if(c.getColorPalette().length>0){s=c.getColorPalette()[0];}var S="sapSuiteHBMCSize"+c.getSize();r.write("<div");r.writeControlData(c);r.writeAttributeEscaped("title",t);r.addClass("sapSuiteHBMC");r.addClass(c.getIsResponsive()?"sapSuiteHBMCResponsive":S);if(c.hasListeners("press")){r.addClass("sapSuiteUiMicroChartPointer");r.writeAttribute("tabindex","0");}r.writeClasses();if(!c.getIsResponsive()&&c.getWidth()){r.addStyle("width",c.getWidth());}r.writeStyles();r.write(">");r.write("<div");r.addClass("sapSuiteHBMCChartCnt");r.addClass(c.getIsResponsive()?"sapSuiteHBMCResponsive":S);r.writeClasses();r.addStyle("display","inline-block");r.writeStyles();r.writeAttribute("role","presentation");r.writeAttributeEscaped("aria - label",c.getAltText().replace(/\s/g," ")+(sap.ui.Device.browser.firefox?"":" "+t));r.write(">");r.write("<svg");r.writeAttribute("id",c.getId()+"-harvey-ball");if(c.getIsResponsive()){r.addClass("sapSuiteHBMCChartCnt");r.addClass("sapSuiteHBMCResponsive");r.writeClasses();r.writeAttribute("viewBox",this._getSvgViewBoxProperties());}else{r.writeAttribute("width",this._oPath.size);r.writeAttribute("height",this._oPath.size);}r.writeAttribute("focusable",false);r.write(">");r.write("<g>");r.write("<circle");if(R&&c.getIsResponsive()){r.writeAttribute("cx",H._iReferenceControlWidth-this._oPath.center);}else{r.writeAttribute("cx",this._oPath.center);}r.writeAttribute("cy",this._oPath.center);r.writeAttribute("r",(sap.ui.getCore().getConfiguration().getTheme()==="sap_hcb")?this._oPath.center-1:this._oPath.center);r.addClass("sapSuiteHBMCSBall");r.writeClasses();r.write("/>");if(a&&a>=b){r.write("<circle");r.writeAttribute("cx",this._oPath.center);r.writeAttribute("cy",this._oPath.center);r.writeAttribute("r",this._oPath.center-this._oPath.border);r.addClass("sapSuiteHBMCSgmnt");r.addClass(C);r.writeClasses();if(c.getColorPalette().length>0){r.addStyle("fill",jQuery.sap.encodeHTML(c.getColorPalette()[0]));r.writeStyles();}r.write("/>");}else if(a>0){r.write("<path");r.writeAttribute("id",c.getId()+"-segment");r.addClass("sapSuiteHBMCSgmnt");r.addClass(C);r.writeClasses();r.writeAttribute("d",this._serializePieChart());if(c.getColorPalette().length>0){r.addStyle("fill",jQuery.sap.encodeHTML(c.getColorPalette()[0]));r.writeStyles();}r.write("/>");}r.write("</g>");if(c.getIsResponsive()){if(c.getShowFractions()){r.write("<text");r.writeAttribute("id","sapSuiteHBMCTopText");if(!R){r.writeAttribute("x","80");}else if(sap.ui.Device.browser.msie||sap.ui.Device.browser.edge){r.writeAttribute("x","40");}else{r.writeAttribute("x","88");}r.writeAttribute("y","30");r.writeAttribute("text-anchor","start");r.addClass("sapSuiteHBMCResponsive");r.addClass("sapSuiteHBMCValSclCnt");r.addClass(C);r.writeClasses();r.write(">");if(!R){this.renderFractionLabel(r,v,R);this.renderFractionScale(r,V,R);}else{this.renderFractionScale(r,V,R);this.renderFractionLabel(r,v,R);}r.write("</text>");}if(c.getShowTotal()){r.write("<text");r.writeAttribute("id","sapSuiteHBMCBottomText");if(!R){r.writeAttribute("x",H._iReferenceControlWidth);}else if(R&&(sap.ui.Device.browser.msie||sap.ui.Device.browser.edge)){r.writeAttribute("x","28");}else{r.writeAttribute("x","0");}r.writeAttribute("y","65");r.writeAttribute("text-anchor","end");r.addClass("sapSuiteHBMCResponsive");r.addClass("sapSuiteHBMCTtl");r.addClass("sapSuiteHBMCTtlSclCnt");r.writeClasses();r.write(">");if(!R){this.renderTotalLabel(r,d,R);this.renderTotalScale(r,T,R);}else{this.renderTotalScale(r,T,R);this.renderTotalLabel(r,d,R);}r.write("</text>");}}r.write("</svg>");r.write("</div>");if(!c.getIsResponsive()){r.write("<div");r.addClass("sapSuiteHBMCValSclCnt");r.addClass(S);r.addClass(C);if(s){r.addClass("sapSuiteHBMCColorPaletteColor");}r.writeClasses();r.addStyle("display",c.getShowFractions()?"inline - block":"none");r.writeStyles();r.write(">");r.write("<p");r.write(">");this.renderLabel(r,c,[C,S,"sapSuiteHBMCVal"],v,"-fraction");this.renderLabel(r,c,[C,S,"sapSuiteHBMCValScale"],V,"-fraction-scale");r.write("</p>");r.write("</div>");r.write("<div");r.addClass("sapSuiteHBMCTtlSclCnt");r.addClass(S);r.writeClasses();if(R){r.addStyle("left","0");}else{r.addStyle("right","0");}r.addStyle("display",c.getShowTotal()?"inline-block":"none");r.writeStyles();r.write(">");this.renderLabel(r,c,[C,S,"sapSuiteHBMCTtl"],d,"-total");this.renderLabel(r,c,[C,S,"sapSuiteHBMCTtlScale"],T,"-total-scale");r.write("</div>");}r.write("</div>");};H.renderFractionLabel=function(r,f,R){r.write("<tspan");if(R){r.writeAttribute("dx","4.8px");}r.write(">");r.write(f);r.write("</tspan>");};H.renderFractionScale=function(r,f,R){r.write("<tspan");r.writeAttribute("font-size","0.8rem");if(!R){r.writeAttribute("dx","4.8px");}r.write(">");r.write(f);r.write("</tspan>");};H.renderTotalLabel=function(r,t,R){r.write("<tspan");if(R){r.writeAttribute("dx","4.8px");}r.write(">");r.write(t);r.write("</tspan>");};H.renderTotalScale=function(r,t,R){r.write("<tspan");if(!R){r.writeAttribute("dx","4.8px");}r.write(">");r.write(t);r.write("</tspan>");};H.renderLabel=function(r,c,C,l,I){r.write("<span");r.writeAttribute("id",c.getId()+I);for(var i=0;i<C.length;i++){r.addClass(C[i]);}r.writeClasses();r.write(">");if(l){r.writeEscaped(l);}r.write("</span>");};H._getSvgViewBoxProperties=function(){return"0 0 "+H._iReferenceControlWidth+" "+H._iReferenceControlHeight;};H._calculatePath=function(c){var s=c.getSize();var t=c.getTotal();var f=0;if(c.getItems().length){f=c.getItems()[0].getFraction();}var i=false;if(s=="Auto"){i=jQuery("html").hasClass("sapUiMedia-Std-Phone");}if(s=="S"||s=="XS"){i=true;}var m=i?56:72;if(c.getIsResponsive()){m=H._iReferenceControlHeight;}var C=m/2;var b=4;var r=sap.ui.getCore().getConfiguration().getRTL();var R;if(c.getIsResponsive()&&r){R=true;}else{R=false;}this._oPath={initial:{x:!R?C:H._iReferenceControlWidth-C,y:C,x1:!R?C:H._iReferenceControlWidth-C,y1:C},lineTo:{x:!R?C:H._iReferenceControlWidth-C,y:b},arc:{x1:C-b,y1:C-b,xArc:0,largeArc:0,sweep:1,x2:"",y2:""},size:m,border:b,center:C};var a=f/t*360;if(a<10){this._oPath.initial.x-=1.5;this._oPath.initial.x1+=1.5;this._oPath.arc.x2=this._oPath.initial.x1;this._oPath.arc.y2=this._oPath.lineTo.y;}else if(a>350&&a<360){this._oPath.initial.x+=1.5;this._oPath.initial.x1-=1.5;this._oPath.arc.x2=this._oPath.initial.x1;this._oPath.arc.y2=this._oPath.lineTo.y;}else{var d=Math.PI/180.0;var e=this._oPath.center-this._oPath.border;var g;if(!R){g=e*Math.cos((a-90)*d)+this._oPath.center;}else{g=e*Math.cos((a-90)*d)+H._iReferenceControlWidth-this._oPath.center;}var h=this._oPath.size-(e*Math.sin((a+90)*d)+this._oPath.center);this._oPath.arc.x2=g.toFixed(2);this._oPath.arc.y2=h.toFixed(2);}var l=t/f<2?1:0;this._oPath.arc.largeArc=l;};H._serializePieChart=function(){var p=this._oPath;return["M",p.initial.x,",",p.initial.y," L",p.initial.x,",",p.lineTo.y," A",p.arc.x1,",",p.arc.y1," ",p.arc.xArc," ",p.arc.largeArc,",",p.arc.sweep," ",p.arc.x2,",",p.arc.y2," L",p.initial.x1,",",p.initial.y1," z"].join("");};return H;},true);
